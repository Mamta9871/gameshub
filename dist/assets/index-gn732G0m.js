var I1=Object.defineProperty;var b1=(r,t,i)=>t in r?I1(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var G=(r,t,i)=>b1(r,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();var Pc={exports:{}},vo={},Tc={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function N1(){if(Lp)return Ie;Lp=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),k=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=k&&O[k]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function S(O,W,Se){this.props=O,this.context=W,this.refs=T,this.updater=Se||E}S.prototype.isReactComponent={},S.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=S.prototype;function _(O,W,Se){this.props=O,this.context=W,this.refs=T,this.updater=Se||E}var I=_.prototype=new C;I.constructor=_,A(I,S.prototype),I.isPureReactComponent=!0;var L=Array.isArray,U=Object.prototype.hasOwnProperty,M={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function D(O,W,Se){var Ce,Pe={},Te=null,De=null;if(W!=null)for(Ce in W.ref!==void 0&&(De=W.ref),W.key!==void 0&&(Te=""+W.key),W)U.call(W,Ce)&&!P.hasOwnProperty(Ce)&&(Pe[Ce]=W[Ce]);var Ne=arguments.length-2;if(Ne===1)Pe.children=Se;else if(1<Ne){for(var qe=Array(Ne),ut=0;ut<Ne;ut++)qe[ut]=arguments[ut+2];Pe.children=qe}if(O&&O.defaultProps)for(Ce in Ne=O.defaultProps,Ne)Pe[Ce]===void 0&&(Pe[Ce]=Ne[Ce]);return{$$typeof:r,type:O,key:Te,ref:De,props:Pe,_owner:M.current}}function X(O,W){return{$$typeof:r,type:O.type,key:W,ref:O.ref,props:O.props,_owner:O._owner}}function z(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function $(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Se){return W[Se]})}var ee=/\/+/g;function ie(O,W){return typeof O=="object"&&O!==null&&O.key!=null?$(""+O.key):W.toString(36)}function de(O,W,Se,Ce,Pe){var Te=typeof O;(Te==="undefined"||Te==="boolean")&&(O=null);var De=!1;if(O===null)De=!0;else switch(Te){case"string":case"number":De=!0;break;case"object":switch(O.$$typeof){case r:case t:De=!0}}if(De)return De=O,Pe=Pe(De),O=Ce===""?"."+ie(De,0):Ce,L(Pe)?(Se="",O!=null&&(Se=O.replace(ee,"$&/")+"/"),de(Pe,W,Se,"",function(ut){return ut})):Pe!=null&&(z(Pe)&&(Pe=X(Pe,Se+(!Pe.key||De&&De.key===Pe.key?"":(""+Pe.key).replace(ee,"$&/")+"/")+O)),W.push(Pe)),1;if(De=0,Ce=Ce===""?".":Ce+":",L(O))for(var Ne=0;Ne<O.length;Ne++){Te=O[Ne];var qe=Ce+ie(Te,Ne);De+=de(Te,W,Se,qe,Pe)}else if(qe=y(O),typeof qe=="function")for(O=qe.call(O),Ne=0;!(Te=O.next()).done;)Te=Te.value,qe=Ce+ie(Te,Ne++),De+=de(Te,W,Se,qe,Pe);else if(Te==="object")throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return De}function we(O,W,Se){if(O==null)return O;var Ce=[],Pe=0;return de(O,Ce,"","",function(Te){return W.call(Se,Te,Pe++)}),Ce}function ue(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(Se){(O._status===0||O._status===-1)&&(O._status=1,O._result=Se)},function(Se){(O._status===0||O._status===-1)&&(O._status=2,O._result=Se)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var he={current:null},te={transition:null},le={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:te,ReactCurrentOwner:M};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:we,forEach:function(O,W,Se){we(O,function(){W.apply(this,arguments)},Se)},count:function(O){var W=0;return we(O,function(){W++}),W},toArray:function(O){return we(O,function(W){return W})||[]},only:function(O){if(!z(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ie.Component=S,Ie.Fragment=i,Ie.Profiler=a,Ie.PureComponent=_,Ie.StrictMode=o,Ie.Suspense=f,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ie.act=se,Ie.cloneElement=function(O,W,Se){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ce=A({},O.props),Pe=O.key,Te=O.ref,De=O._owner;if(W!=null){if(W.ref!==void 0&&(Te=W.ref,De=M.current),W.key!==void 0&&(Pe=""+W.key),O.type&&O.type.defaultProps)var Ne=O.type.defaultProps;for(qe in W)U.call(W,qe)&&!P.hasOwnProperty(qe)&&(Ce[qe]=W[qe]===void 0&&Ne!==void 0?Ne[qe]:W[qe])}var qe=arguments.length-2;if(qe===1)Ce.children=Se;else if(1<qe){Ne=Array(qe);for(var ut=0;ut<qe;ut++)Ne[ut]=arguments[ut+2];Ce.children=Ne}return{$$typeof:r,type:O.type,key:Pe,ref:Te,props:Ce,_owner:De}},Ie.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},Ie.createElement=D,Ie.createFactory=function(O){var W=D.bind(null,O);return W.type=O,W},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:g,render:O}},Ie.isValidElement=z,Ie.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ue}},Ie.memo=function(O,W){return{$$typeof:p,type:O,compare:W===void 0?null:W}},Ie.startTransition=function(O){var W=te.transition;te.transition={};try{O()}finally{te.transition=W}},Ie.unstable_act=se,Ie.useCallback=function(O,W){return he.current.useCallback(O,W)},Ie.useContext=function(O){return he.current.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O){return he.current.useDeferredValue(O)},Ie.useEffect=function(O,W){return he.current.useEffect(O,W)},Ie.useId=function(){return he.current.useId()},Ie.useImperativeHandle=function(O,W,Se){return he.current.useImperativeHandle(O,W,Se)},Ie.useInsertionEffect=function(O,W){return he.current.useInsertionEffect(O,W)},Ie.useLayoutEffect=function(O,W){return he.current.useLayoutEffect(O,W)},Ie.useMemo=function(O,W){return he.current.useMemo(O,W)},Ie.useReducer=function(O,W,Se){return he.current.useReducer(O,W,Se)},Ie.useRef=function(O){return he.current.useRef(O)},Ie.useState=function(O){return he.current.useState(O)},Ie.useSyncExternalStore=function(O,W,Se){return he.current.useSyncExternalStore(O,W,Se)},Ie.useTransition=function(){return he.current.useTransition()},Ie.version="18.3.1",Ie}var qp;function Jc(){return qp||(qp=1,Tc.exports=N1()),Tc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function B1(){if(_p)return vo;_p=1;var r=Jc(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(g,f,p){var v,k={},y=null,E=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(E=f.ref);for(v in f)o.call(f,v)&&!u.hasOwnProperty(v)&&(k[v]=f[v]);if(g&&g.defaultProps)for(v in f=g.defaultProps,f)k[v]===void 0&&(k[v]=f[v]);return{$$typeof:t,type:g,key:y,ref:E,props:k,_owner:a.current}}return vo.Fragment=i,vo.jsx=d,vo.jsxs=d,vo}var zp;function F1(){return zp||(zp=1,Pc.exports=B1()),Pc.exports}var N=F1(),q=Jc(),Za={},Ic={exports:{}},Vt={},bc={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function D1(){return Up||(Up=1,function(r){function t(te,le){var se=te.length;te.push(le);e:for(;0<se;){var O=se-1>>>1,W=te[O];if(0<a(W,le))te[O]=le,te[se]=W,se=O;else break e}}function i(te){return te.length===0?null:te[0]}function o(te){if(te.length===0)return null;var le=te[0],se=te.pop();if(se!==le){te[0]=se;e:for(var O=0,W=te.length,Se=W>>>1;O<Se;){var Ce=2*(O+1)-1,Pe=te[Ce],Te=Ce+1,De=te[Te];if(0>a(Pe,se))Te<W&&0>a(De,Pe)?(te[O]=De,te[Te]=se,O=Te):(te[O]=Pe,te[Ce]=se,O=Ce);else if(Te<W&&0>a(De,se))te[O]=De,te[Te]=se,O=Te;else break e}}return le}function a(te,le){var se=te.sortIndex-le.sortIndex;return se!==0?se:te.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var f=[],p=[],v=1,k=null,y=3,E=!1,A=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(te){for(var le=i(p);le!==null;){if(le.callback===null)o(p);else if(le.startTime<=te)o(p),le.sortIndex=le.expirationTime,t(f,le);else break;le=i(p)}}function L(te){if(T=!1,I(te),!A)if(i(f)!==null)A=!0,ue(U);else{var le=i(p);le!==null&&he(L,le.startTime-te)}}function U(te,le){A=!1,T&&(T=!1,C(D),D=-1),E=!0;var se=y;try{for(I(le),k=i(f);k!==null&&(!(k.expirationTime>le)||te&&!$());){var O=k.callback;if(typeof O=="function"){k.callback=null,y=k.priorityLevel;var W=O(k.expirationTime<=le);le=r.unstable_now(),typeof W=="function"?k.callback=W:k===i(f)&&o(f),I(le)}else o(f);k=i(f)}if(k!==null)var Se=!0;else{var Ce=i(p);Ce!==null&&he(L,Ce.startTime-le),Se=!1}return Se}finally{k=null,y=se,E=!1}}var M=!1,P=null,D=-1,X=5,z=-1;function $(){return!(r.unstable_now()-z<X)}function ee(){if(P!==null){var te=r.unstable_now();z=te;var le=!0;try{le=P(!0,te)}finally{le?ie():(M=!1,P=null)}}else M=!1}var ie;if(typeof _=="function")ie=function(){_(ee)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,we=de.port2;de.port1.onmessage=ee,ie=function(){we.postMessage(null)}}else ie=function(){S(ee,0)};function ue(te){P=te,M||(M=!0,ie())}function he(te,le){D=S(function(){te(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_continueExecution=function(){A||E||(A=!0,ue(U))},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return i(f)},r.unstable_next=function(te){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var se=y;y=le;try{return te()}finally{y=se}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(te,le){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=y;y=te;try{return le()}finally{y=se}},r.unstable_scheduleCallback=function(te,le,se){var O=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?O+se:O):se=O,te){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=se+W,te={id:v++,callback:le,priorityLevel:te,startTime:se,expirationTime:W,sortIndex:-1},se>O?(te.sortIndex=se,t(p,te),i(f)===null&&te===i(p)&&(T?(C(D),D=-1):T=!0,he(L,se-O))):(te.sortIndex=W,t(f,te),A||E||(A=!0,ue(U))),te},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(te){var le=y;return function(){var se=y;y=le;try{return te.apply(this,arguments)}finally{y=se}}}}(Nc)),Nc}var Hp;function j1(){return Hp||(Hp=1,bc.exports=D1()),bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function O1(){if(Gp)return Vt;Gp=1;var r=Jc(),t=j1();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},k={};function y(e){return f.call(k,e)?!0:f.call(v,e)?!1:p.test(e)?k[e]=!0:(v[e]=!0,!1)}function E(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,n,s,l){if(n===null||typeof n>"u"||E(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function T(e,n,s,l,c,h,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=h,this.removeEmptyString=w}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];S[n]=new T(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(C,_);S[n]=new T(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(C,_);S[n]=new T(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(C,_);S[n]=new T(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,n,s,l){var c=S.hasOwnProperty(n)?S[n]:null;(c!==null?c.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(A(n,s,c,l)&&(s=null),l||c===null?y(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,l=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var L=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),$=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),te=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,O;function W(e){if(O===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||""}return`
`+O+e}var Se=!1;function Ce(e,n){if(!e||Se)return"";Se=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(Q){var l=Q}Reflect.construct(e,[],n)}else{try{n.call()}catch(Q){l=Q}e.call(n.prototype)}else{try{throw Error()}catch(Q){l=Q}e()}}catch(Q){if(Q&&l&&typeof Q.stack=="string"){for(var c=Q.stack.split(`
`),h=l.stack.split(`
`),w=c.length-1,R=h.length-1;1<=w&&0<=R&&c[w]!==h[R];)R--;for(;1<=w&&0<=R;w--,R--)if(c[w]!==h[R]){if(w!==1||R!==1)do if(w--,R--,0>R||c[w]!==h[R]){var B=`
`+c[w].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=w&&0<=R);break}}}finally{Se=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?W(e):""}function Pe(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=Ce(e.type,!1),e;case 11:return e=Ce(e.type.render,!1),e;case 1:return e=Ce(e.type,!0),e;default:return""}}function Te(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case M:return"Portal";case X:return"Profiler";case D:return"StrictMode";case ie:return"Suspense";case de:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $:return(e.displayName||"Context")+".Consumer";case z:return(e._context.displayName||"Context")+".Provider";case ee:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case we:return n=e.displayName||null,n!==null?n:Te(e.type)||"Memo";case ue:n=e._payload,e=e._init;try{return Te(e(n))}catch{}}return null}function De(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(n);case 8:return n===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ne(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ut(e){var n=qe(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(w){l=""+w,h.call(this,w)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function bt(e){e._valueTracker||(e._valueTracker=ut(e))}function Yr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=qe(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function cn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ve(e,n){var s=n.checked;return se({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Me(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=Ne(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Re(e,n){n=n.checked,n!=null&&I(e,"checked",n,!1)}function _e(e,n){Re(e,n);var s=Ne(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Be(e,n.type,s):n.hasOwnProperty("defaultValue")&&Be(e,n.type,Ne(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function et(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Be(e,n,s){(n!=="number"||cn(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ot=Array.isArray;function Nt(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ne(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Xr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return se({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ki(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(i(92));if(ot(s)){if(1<s.length)throw Error(i(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Ne(s)}}function $r(e,n){var s=Ne(n.value),l=Ne(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function Jr(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function cr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?cr(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lt,Vn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Lt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function mt(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},An=["Webkit","ms","Moz","O"];Object.keys(xn).forEach(function(e){An.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),xn[n]=xn[e]})});function dr(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||xn.hasOwnProperty(e)&&xn[e]?(""+n).trim():n+"px"}function Fs(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,c=dr(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,c):e[s]=c}}var Ds=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ci(e,n){if(n){if(Ds[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function Mi(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=null;function Zr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,Wn=null,Qn=null;function Qo(e){if(e=no(e)){if(typeof fr!="function")throw Error(i(280));var n=e.stateNode;n&&(n=pa(n),fr(e.stateNode,e.type,n))}}function js(e){Wn?Qn?Qn.push(e):Qn=[e]:Wn=e}function Os(){if(Wn){var e=Wn,n=Qn;if(Qn=Wn=null,Qo(e),n)for(e=0;e<n.length;e++)Qo(n[e])}}function b(e,n){return e(n)}function Y(){}var Z=!1;function ce(e,n,s){if(Z)return e(n,s);Z=!0;try{return b(e,n,s)}finally{Z=!1,(Wn!==null||Qn!==null)&&(Y(),Os())}}function Ee(e,n){var s=e.stateNode;if(s===null)return null;var l=pa(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var Ue=!1;if(g)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Ue=!1}function nt(e,n,s,l,c,h,w,R,B){var Q=Array.prototype.slice.call(arguments,3);try{n.apply(s,Q)}catch(re){this.onError(re)}}var Ft=!1,Dt=null,qt=!1,Ql=null,O0={onError:function(e){Ft=!0,Dt=e}};function L0(e,n,s,l,c,h,w,R,B){Ft=!1,Dt=null,nt.apply(O0,arguments)}function q0(e,n,s,l,c,h,w,R,B){if(L0.apply(this,arguments),Ft){if(Ft){var Q=Dt;Ft=!1,Dt=null}else throw Error(i(198));qt||(qt=!0,Ql=Q)}}function ei(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function af(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function lf(e){if(ei(e)!==e)throw Error(i(188))}function _0(e){var n=e.alternate;if(!n){if(n=ei(e),n===null)throw Error(i(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return lf(c),e;if(h===l)return lf(c),n;h=h.sibling}throw Error(i(188))}if(s.return!==l.return)s=c,l=h;else{for(var w=!1,R=c.child;R;){if(R===s){w=!0,s=c,l=h;break}if(R===l){w=!0,l=c,s=h;break}R=R.sibling}if(!w){for(R=h.child;R;){if(R===s){w=!0,s=h,l=c;break}if(R===l){w=!0,l=h,s=c;break}R=R.sibling}if(!w)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:n}function uf(e){return e=_0(e),e!==null?cf(e):null}function cf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=cf(e);if(n!==null)return n;e=e.sibling}return null}var df=t.unstable_scheduleCallback,ff=t.unstable_cancelCallback,z0=t.unstable_shouldYield,U0=t.unstable_requestPaint,at=t.unstable_now,H0=t.unstable_getCurrentPriorityLevel,Kl=t.unstable_ImmediatePriority,hf=t.unstable_UserBlockingPriority,Ko=t.unstable_NormalPriority,G0=t.unstable_LowPriority,pf=t.unstable_IdlePriority,Yo=null,Bn=null;function V0(e){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Yo,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:K0,W0=Math.log,Q0=Math.LN2;function K0(e){return e>>>=0,e===0?32:31-(W0(e)/Q0|0)|0}var Xo=64,$o=4194304;function Ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,c=e.suspendedLanes,h=e.pingedLanes,w=s&268435455;if(w!==0){var R=w&~c;R!==0?l=Ls(R):(h&=w,h!==0&&(l=Ls(h)))}else w=s&~c,w!==0?l=Ls(w):h!==0&&(l=Ls(h));if(l===0)return 0;if(n!==0&&n!==l&&!(n&c)&&(c=l&-l,h=n&-n,c>=h||c===16&&(h&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-Sn(n),c=1<<s,l|=e[s],n&=~c;return l}function Y0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X0(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var w=31-Sn(h),R=1<<w,B=c[w];B===-1?(!(R&s)||R&l)&&(c[w]=Y0(R,n)):B<=n&&(e.expiredLanes|=R),h&=~R}}function Yl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mf(){var e=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),e}function Xl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function qs(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Sn(n),e[n]=s}function $0(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Sn(s),h=1<<c;n[c]=0,l[c]=-1,e[c]=-1,s&=~h}}function $l(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Sn(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}var ze=0;function gf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yf,Jl,vf,wf,xf,Zl=!1,Zo=[],hr=null,pr=null,mr=null,_s=new Map,zs=new Map,gr=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(e,n){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":_s.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(n.pointerId)}}function Us(e,n,s,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=no(n),n!==null&&Jl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Z0(e,n,s,l,c){switch(n){case"focusin":return hr=Us(hr,e,n,s,l,c),!0;case"dragenter":return pr=Us(pr,e,n,s,l,c),!0;case"mouseover":return mr=Us(mr,e,n,s,l,c),!0;case"pointerover":var h=c.pointerId;return _s.set(h,Us(_s.get(h)||null,e,n,s,l,c)),!0;case"gotpointercapture":return h=c.pointerId,zs.set(h,Us(zs.get(h)||null,e,n,s,l,c)),!0}return!1}function Sf(e){var n=ti(e.target);if(n!==null){var s=ei(n);if(s!==null){if(n=s.tag,n===13){if(n=af(s),n!==null){e.blockedOn=n,xf(e.priority,function(){vf(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ea(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=tu(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);At=l,s.target.dispatchEvent(l),At=null}else return n=no(s),n!==null&&Jl(n),e.blockedOn=s,!1;n.shift()}return!0}function Ef(e,n,s){ea(e)&&s.delete(n)}function ev(){Zl=!1,hr!==null&&ea(hr)&&(hr=null),pr!==null&&ea(pr)&&(pr=null),mr!==null&&ea(mr)&&(mr=null),_s.forEach(Ef),zs.forEach(Ef)}function Hs(e,n){e.blockedOn===n&&(e.blockedOn=null,Zl||(Zl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ev)))}function Gs(e){function n(c){return Hs(c,e)}if(0<Zo.length){Hs(Zo[0],e);for(var s=1;s<Zo.length;s++){var l=Zo[s];l.blockedOn===e&&(l.blockedOn=null)}}for(hr!==null&&Hs(hr,e),pr!==null&&Hs(pr,e),mr!==null&&Hs(mr,e),_s.forEach(n),zs.forEach(n),s=0;s<gr.length;s++)l=gr[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<gr.length&&(s=gr[0],s.blockedOn===null);)Sf(s),s.blockedOn===null&&gr.shift()}var Ri=L.ReactCurrentBatchConfig,ta=!0;function tv(e,n,s,l){var c=ze,h=Ri.transition;Ri.transition=null;try{ze=1,eu(e,n,s,l)}finally{ze=c,Ri.transition=h}}function nv(e,n,s,l){var c=ze,h=Ri.transition;Ri.transition=null;try{ze=4,eu(e,n,s,l)}finally{ze=c,Ri.transition=h}}function eu(e,n,s,l){if(ta){var c=tu(e,n,s,l);if(c===null)vu(e,n,l,na,s),Af(e,l);else if(Z0(c,e,n,s,l))l.stopPropagation();else if(Af(e,l),n&4&&-1<J0.indexOf(e)){for(;c!==null;){var h=no(c);if(h!==null&&yf(h),h=tu(e,n,s,l),h===null&&vu(e,n,l,na,s),h===c)break;c=h}c!==null&&l.stopPropagation()}else vu(e,n,l,null,s)}}var na=null;function tu(e,n,s,l){if(na=null,e=Zr(l),e=ti(e),e!==null)if(n=ei(e),n===null)e=null;else if(s=n.tag,s===13){if(e=af(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return na=e,null}function kf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H0()){case Kl:return 1;case hf:return 4;case Ko:case G0:return 16;case pf:return 536870912;default:return 16}default:return 16}}var yr=null,nu=null,ra=null;function Cf(){if(ra)return ra;var e,n=nu,s=n.length,l,c="value"in yr?yr.value:yr.textContent,h=c.length;for(e=0;e<s&&n[e]===c[e];e++);var w=s-e;for(l=1;l<=w&&n[s-l]===c[h-l];l++);return ra=c.slice(e,1<l?1-l:void 0)}function ia(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sa(){return!0}function Mf(){return!1}function Jt(e){function n(s,l,c,h,w){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=w,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(s=e[R],this[R]=s?s(h):h[R]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?sa:Mf,this.isPropagationStopped=Mf,this}return se(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=Jt(Pi),Vs=se({},Pi,{view:0,detail:0}),rv=Jt(Vs),iu,su,Ws,oa=se({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ws&&(Ws&&e.type==="mousemove"?(iu=e.screenX-Ws.screenX,su=e.screenY-Ws.screenY):su=iu=0,Ws=e),iu)},movementY:function(e){return"movementY"in e?e.movementY:su}}),Rf=Jt(oa),iv=se({},oa,{dataTransfer:0}),sv=Jt(iv),ov=se({},Vs,{relatedTarget:0}),ou=Jt(ov),av=se({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),lv=Jt(av),uv=se({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cv=Jt(uv),dv=se({},Pi,{data:0}),Pf=Jt(dv),fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mv(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pv[e])?!!n[e]:!1}function au(){return mv}var gv=se({},Vs,{key:function(e){if(e.key){var n=fv[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yv=Jt(gv),vv=se({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tf=Jt(vv),wv=se({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),xv=Jt(wv),Av=se({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sv=Jt(Av),Ev=se({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kv=Jt(Ev),Cv=[9,13,27,32],lu=g&&"CompositionEvent"in window,Qs=null;g&&"documentMode"in document&&(Qs=document.documentMode);var Mv=g&&"TextEvent"in window&&!Qs,If=g&&(!lu||Qs&&8<Qs&&11>=Qs),bf=" ",Nf=!1;function Bf(e,n){switch(e){case"keyup":return Cv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ff(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ti=!1;function Rv(e,n){switch(e){case"compositionend":return Ff(n);case"keypress":return n.which!==32?null:(Nf=!0,bf);case"textInput":return e=n.data,e===bf&&Nf?null:e;default:return null}}function Pv(e,n){if(Ti)return e==="compositionend"||!lu&&Bf(e,n)?(e=Cf(),ra=nu=yr=null,Ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return If&&n.locale!=="ko"?null:n.data;default:return null}}var Tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Df(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Tv[e.type]:n==="textarea"}function jf(e,n,s,l){js(l),n=da(n,"onChange"),0<n.length&&(s=new ru("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Ks=null,Ys=null;function Iv(e){eh(e,0)}function aa(e){var n=Fi(e);if(Yr(n))return e}function bv(e,n){if(e==="change")return n}var Of=!1;if(g){var uu;if(g){var cu="oninput"in document;if(!cu){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),cu=typeof Lf.oninput=="function"}uu=cu}else uu=!1;Of=uu&&(!document.documentMode||9<document.documentMode)}function qf(){Ks&&(Ks.detachEvent("onpropertychange",_f),Ys=Ks=null)}function _f(e){if(e.propertyName==="value"&&aa(Ys)){var n=[];jf(n,Ys,e,Zr(e)),ce(Iv,n)}}function Nv(e,n,s){e==="focusin"?(qf(),Ks=n,Ys=s,Ks.attachEvent("onpropertychange",_f)):e==="focusout"&&qf()}function Bv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return aa(Ys)}function Fv(e,n){if(e==="click")return aa(n)}function Dv(e,n){if(e==="input"||e==="change")return aa(n)}function jv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var En=typeof Object.is=="function"?Object.is:jv;function Xs(e,n){if(En(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!f.call(n,c)||!En(e[c],n[c]))return!1}return!0}function zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uf(e,n){var s=zf(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zf(s)}}function Hf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Hf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Gf(){for(var e=window,n=cn();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=cn(e.document)}return n}function du(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Ov(e){var n=Gf(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Hf(s.ownerDocument.documentElement,s)){if(l!==null&&du(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,h=Math.min(l.start,c);l=l.end===void 0?h:Math.min(l.end,c),!e.extend&&h>l&&(c=l,l=h,h=c),c=Uf(s,h);var w=Uf(s,l);c&&w&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),h>l?(e.addRange(n),e.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lv=g&&"documentMode"in document&&11>=document.documentMode,Ii=null,fu=null,$s=null,hu=!1;function Vf(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hu||Ii==null||Ii!==cn(l)||(l=Ii,"selectionStart"in l&&du(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$s&&Xs($s,l)||($s=l,l=da(fu,"onSelect"),0<l.length&&(n=new ru("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Ii)))}function la(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var bi={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionend:la("Transition","TransitionEnd")},pu={},Wf={};g&&(Wf=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function ua(e){if(pu[e])return pu[e];if(!bi[e])return e;var n=bi[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Wf)return pu[e]=n[s];return e}var Qf=ua("animationend"),Kf=ua("animationiteration"),Yf=ua("animationstart"),Xf=ua("transitionend"),$f=new Map,Jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(e,n){$f.set(e,n),u(n,[e])}for(var mu=0;mu<Jf.length;mu++){var gu=Jf[mu],qv=gu.toLowerCase(),_v=gu[0].toUpperCase()+gu.slice(1);vr(qv,"on"+_v)}vr(Qf,"onAnimationEnd"),vr(Kf,"onAnimationIteration"),vr(Yf,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(Xf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function Zf(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,q0(l,n,void 0,e),e.currentTarget=null}function eh(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var w=l.length-1;0<=w;w--){var R=l[w],B=R.instance,Q=R.currentTarget;if(R=R.listener,B!==h&&c.isPropagationStopped())break e;Zf(c,R,Q),h=B}else for(w=0;w<l.length;w++){if(R=l[w],B=R.instance,Q=R.currentTarget,R=R.listener,B!==h&&c.isPropagationStopped())break e;Zf(c,R,Q),h=B}}}if(qt)throw e=Ql,qt=!1,Ql=null,e}function Ve(e,n){var s=n[ku];s===void 0&&(s=n[ku]=new Set);var l=e+"__bubble";s.has(l)||(th(n,e,2,!1),s.add(l))}function yu(e,n,s){var l=0;n&&(l|=4),th(s,e,l,n)}var ca="_reactListening"+Math.random().toString(36).slice(2);function Zs(e){if(!e[ca]){e[ca]=!0,o.forEach(function(s){s!=="selectionchange"&&(zv.has(s)||yu(s,!1,e),yu(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ca]||(n[ca]=!0,yu("selectionchange",!1,n))}}function th(e,n,s,l){switch(kf(n)){case 1:var c=tv;break;case 4:c=nv;break;default:c=eu}s=c.bind(null,n,s,e),c=void 0,!Ue||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function vu(e,n,s,l,c){var h=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var R=l.stateNode.containerInfo;if(R===c||R.nodeType===8&&R.parentNode===c)break;if(w===4)for(w=l.return;w!==null;){var B=w.tag;if((B===3||B===4)&&(B=w.stateNode.containerInfo,B===c||B.nodeType===8&&B.parentNode===c))return;w=w.return}for(;R!==null;){if(w=ti(R),w===null)return;if(B=w.tag,B===5||B===6){l=h=w;continue e}R=R.parentNode}}l=l.return}ce(function(){var Q=h,re=Zr(s),oe=[];e:{var ne=$f.get(e);if(ne!==void 0){var fe=ru,me=e;switch(e){case"keypress":if(ia(s)===0)break e;case"keydown":case"keyup":fe=yv;break;case"focusin":me="focus",fe=ou;break;case"focusout":me="blur",fe=ou;break;case"beforeblur":case"afterblur":fe=ou;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=sv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=xv;break;case Qf:case Kf:case Yf:fe=lv;break;case Xf:fe=Sv;break;case"scroll":fe=rv;break;case"wheel":fe=kv;break;case"copy":case"cut":case"paste":fe=cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Tf}var ge=(n&4)!==0,lt=!ge&&e==="scroll",H=ge?ne!==null?ne+"Capture":null:ne;ge=[];for(var j=Q,V;j!==null;){V=j;var ae=V.stateNode;if(V.tag===5&&ae!==null&&(V=ae,H!==null&&(ae=Ee(j,H),ae!=null&&ge.push(eo(j,ae,V)))),lt)break;j=j.return}0<ge.length&&(ne=new fe(ne,me,null,s,re),oe.push({event:ne,listeners:ge}))}}if(!(n&7)){e:{if(ne=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",ne&&s!==At&&(me=s.relatedTarget||s.fromElement)&&(ti(me)||me[Kn]))break e;if((fe||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,fe?(me=s.relatedTarget||s.toElement,fe=Q,me=me?ti(me):null,me!==null&&(lt=ei(me),me!==lt||me.tag!==5&&me.tag!==6)&&(me=null)):(fe=null,me=Q),fe!==me)){if(ge=Rf,ae="onMouseLeave",H="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(ge=Tf,ae="onPointerLeave",H="onPointerEnter",j="pointer"),lt=fe==null?ne:Fi(fe),V=me==null?ne:Fi(me),ne=new ge(ae,j+"leave",fe,s,re),ne.target=lt,ne.relatedTarget=V,ae=null,ti(re)===Q&&(ge=new ge(H,j+"enter",me,s,re),ge.target=V,ge.relatedTarget=lt,ae=ge),lt=ae,fe&&me)t:{for(ge=fe,H=me,j=0,V=ge;V;V=Ni(V))j++;for(V=0,ae=H;ae;ae=Ni(ae))V++;for(;0<j-V;)ge=Ni(ge),j--;for(;0<V-j;)H=Ni(H),V--;for(;j--;){if(ge===H||H!==null&&ge===H.alternate)break t;ge=Ni(ge),H=Ni(H)}ge=null}else ge=null;fe!==null&&nh(oe,ne,fe,ge,!1),me!==null&&lt!==null&&nh(oe,lt,me,ge,!0)}}e:{if(ne=Q?Fi(Q):window,fe=ne.nodeName&&ne.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ne.type==="file")var ye=bv;else if(Df(ne))if(Of)ye=Dv;else{ye=Bv;var xe=Nv}else(fe=ne.nodeName)&&fe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ye=Fv);if(ye&&(ye=ye(e,Q))){jf(oe,ye,s,re);break e}xe&&xe(e,ne,Q),e==="focusout"&&(xe=ne._wrapperState)&&xe.controlled&&ne.type==="number"&&Be(ne,"number",ne.value)}switch(xe=Q?Fi(Q):window,e){case"focusin":(Df(xe)||xe.contentEditable==="true")&&(Ii=xe,fu=Q,$s=null);break;case"focusout":$s=fu=Ii=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,Vf(oe,s,re);break;case"selectionchange":if(Lv)break;case"keydown":case"keyup":Vf(oe,s,re)}var Ae;if(lu)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ti?Bf(e,s)&&(ke="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ke="onCompositionStart");ke&&(If&&s.locale!=="ko"&&(Ti||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ti&&(Ae=Cf()):(yr=re,nu="value"in yr?yr.value:yr.textContent,Ti=!0)),xe=da(Q,ke),0<xe.length&&(ke=new Pf(ke,e,null,s,re),oe.push({event:ke,listeners:xe}),Ae?ke.data=Ae:(Ae=Ff(s),Ae!==null&&(ke.data=Ae)))),(Ae=Mv?Rv(e,s):Pv(e,s))&&(Q=da(Q,"onBeforeInput"),0<Q.length&&(re=new Pf("onBeforeInput","beforeinput",null,s,re),oe.push({event:re,listeners:Q}),re.data=Ae))}eh(oe,n)})}function eo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function da(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Ee(e,s),h!=null&&l.unshift(eo(e,h,c)),h=Ee(e,n),h!=null&&l.push(eo(e,h,c))),e=e.return}return l}function Ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nh(e,n,s,l,c){for(var h=n._reactName,w=[];s!==null&&s!==l;){var R=s,B=R.alternate,Q=R.stateNode;if(B!==null&&B===l)break;R.tag===5&&Q!==null&&(R=Q,c?(B=Ee(s,h),B!=null&&w.unshift(eo(s,B,R))):c||(B=Ee(s,h),B!=null&&w.push(eo(s,B,R)))),s=s.return}w.length!==0&&e.push({event:n,listeners:w})}var Uv=/\r\n?/g,Hv=/\u0000|\uFFFD/g;function rh(e){return(typeof e=="string"?e:""+e).replace(Uv,`
`).replace(Hv,"")}function fa(e,n,s){if(n=rh(n),rh(e)!==n&&s)throw Error(i(425))}function ha(){}var wu=null,xu=null;function Au(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Su=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,ih=typeof Promise=="function"?Promise:void 0,Vv=typeof queueMicrotask=="function"?queueMicrotask:typeof ih<"u"?function(e){return ih.resolve(null).then(e).catch(Wv)}:Su;function Wv(e){setTimeout(function(){throw e})}function Eu(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(l===0){e.removeChild(c),Gs(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=c}while(s);Gs(n)}function wr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function sh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Bi,to="__reactProps$"+Bi,Kn="__reactContainer$"+Bi,ku="__reactEvents$"+Bi,Qv="__reactListeners$"+Bi,Kv="__reactHandles$"+Bi;function ti(e){var n=e[Fn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Kn]||s[Fn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=sh(e);e!==null;){if(s=e[Fn])return s;e=sh(e)}return n}e=s,s=e.parentNode}return null}function no(e){return e=e[Fn]||e[Kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function pa(e){return e[to]||null}var Cu=[],Di=-1;function xr(e){return{current:e}}function We(e){0>Di||(e.current=Cu[Di],Cu[Di]=null,Di--)}function Ge(e,n){Di++,Cu[Di]=e.current,e.current=n}var Ar={},Mt=xr(Ar),_t=xr(!1),ni=Ar;function ji(e,n){var s=e.type.contextTypes;if(!s)return Ar;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in s)c[h]=n[h];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function zt(e){return e=e.childContextTypes,e!=null}function ma(){We(_t),We(Mt)}function oh(e,n,s){if(Mt.current!==Ar)throw Error(i(168));Ge(Mt,n),Ge(_t,s)}function ah(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var c in l)if(!(c in n))throw Error(i(108,De(e)||"Unknown",c));return se({},s,l)}function ga(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,ni=Mt.current,Ge(Mt,e),Ge(_t,_t.current),!0}function lh(e,n,s){var l=e.stateNode;if(!l)throw Error(i(169));s?(e=ah(e,n,ni),l.__reactInternalMemoizedMergedChildContext=e,We(_t),We(Mt),Ge(Mt,e)):We(_t),Ge(_t,s)}var Yn=null,ya=!1,Mu=!1;function uh(e){Yn===null?Yn=[e]:Yn.push(e)}function Yv(e){ya=!0,uh(e)}function Sr(){if(!Mu&&Yn!==null){Mu=!0;var e=0,n=ze;try{var s=Yn;for(ze=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Yn=null,ya=!1}catch(c){throw Yn!==null&&(Yn=Yn.slice(e+1)),df(Kl,Sr),c}finally{ze=n,Mu=!1}}return null}var Oi=[],Li=0,va=null,wa=0,dn=[],fn=0,ri=null,Xn=1,$n="";function ii(e,n){Oi[Li++]=wa,Oi[Li++]=va,va=e,wa=n}function ch(e,n,s){dn[fn++]=Xn,dn[fn++]=$n,dn[fn++]=ri,ri=e;var l=Xn;e=$n;var c=32-Sn(l)-1;l&=~(1<<c),s+=1;var h=32-Sn(n)+c;if(30<h){var w=c-c%5;h=(l&(1<<w)-1).toString(32),l>>=w,c-=w,Xn=1<<32-Sn(n)+c|s<<c|l,$n=h+e}else Xn=1<<h|s<<c|l,$n=e}function Ru(e){e.return!==null&&(ii(e,1),ch(e,1,0))}function Pu(e){for(;e===va;)va=Oi[--Li],Oi[Li]=null,wa=Oi[--Li],Oi[Li]=null;for(;e===ri;)ri=dn[--fn],dn[fn]=null,$n=dn[--fn],dn[fn]=null,Xn=dn[--fn],dn[fn]=null}var Zt=null,en=null,Ke=!1,kn=null;function dh(e,n){var s=gn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function fh(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Zt=e,en=wr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Zt=e,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=ri!==null?{id:Xn,overflow:$n}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=gn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,Zt=e,en=null,!0):!1;default:return!1}}function Tu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Iu(e){if(Ke){var n=en;if(n){var s=n;if(!fh(e,n)){if(Tu(e))throw Error(i(418));n=wr(s.nextSibling);var l=Zt;n&&fh(e,n)?dh(l,s):(e.flags=e.flags&-4097|2,Ke=!1,Zt=e)}}else{if(Tu(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ke=!1,Zt=e}}}function hh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function xa(e){if(e!==Zt)return!1;if(!Ke)return hh(e),Ke=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Au(e.type,e.memoizedProps)),n&&(n=en)){if(Tu(e))throw ph(),Error(i(418));for(;n;)dh(e,n),n=wr(n.nextSibling)}if(hh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){en=wr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}en=null}}else en=Zt?wr(e.stateNode.nextSibling):null;return!0}function ph(){for(var e=en;e;)e=wr(e.nextSibling)}function qi(){en=Zt=null,Ke=!1}function bu(e){kn===null?kn=[e]:kn.push(e)}var Xv=L.ReactCurrentBatchConfig;function ro(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(i(309));var l=s.stateNode}if(!l)throw Error(i(147,e));var c=l,h=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(w){var R=c.refs;w===null?delete R[h]:R[h]=w},n._stringRef=h,n)}if(typeof e!="string")throw Error(i(284));if(!s._owner)throw Error(i(290,e))}return e}function Aa(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function mh(e){var n=e._init;return n(e._payload)}function gh(e){function n(H,j){if(e){var V=H.deletions;V===null?(H.deletions=[j],H.flags|=16):V.push(j)}}function s(H,j){if(!e)return null;for(;j!==null;)n(H,j),j=j.sibling;return null}function l(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function c(H,j){return H=Ir(H,j),H.index=0,H.sibling=null,H}function h(H,j,V){return H.index=V,e?(V=H.alternate,V!==null?(V=V.index,V<j?(H.flags|=2,j):V):(H.flags|=2,j)):(H.flags|=1048576,j)}function w(H){return e&&H.alternate===null&&(H.flags|=2),H}function R(H,j,V,ae){return j===null||j.tag!==6?(j=Sc(V,H.mode,ae),j.return=H,j):(j=c(j,V),j.return=H,j)}function B(H,j,V,ae){var ye=V.type;return ye===P?re(H,j,V.props.children,ae,V.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ue&&mh(ye)===j.type)?(ae=c(j,V.props),ae.ref=ro(H,j,V),ae.return=H,ae):(ae=Va(V.type,V.key,V.props,null,H.mode,ae),ae.ref=ro(H,j,V),ae.return=H,ae)}function Q(H,j,V,ae){return j===null||j.tag!==4||j.stateNode.containerInfo!==V.containerInfo||j.stateNode.implementation!==V.implementation?(j=Ec(V,H.mode,ae),j.return=H,j):(j=c(j,V.children||[]),j.return=H,j)}function re(H,j,V,ae,ye){return j===null||j.tag!==7?(j=fi(V,H.mode,ae,ye),j.return=H,j):(j=c(j,V),j.return=H,j)}function oe(H,j,V){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Sc(""+j,H.mode,V),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case U:return V=Va(j.type,j.key,j.props,null,H.mode,V),V.ref=ro(H,null,j),V.return=H,V;case M:return j=Ec(j,H.mode,V),j.return=H,j;case ue:var ae=j._init;return oe(H,ae(j._payload),V)}if(ot(j)||le(j))return j=fi(j,H.mode,V,null),j.return=H,j;Aa(H,j)}return null}function ne(H,j,V,ae){var ye=j!==null?j.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return ye!==null?null:R(H,j,""+V,ae);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case U:return V.key===ye?B(H,j,V,ae):null;case M:return V.key===ye?Q(H,j,V,ae):null;case ue:return ye=V._init,ne(H,j,ye(V._payload),ae)}if(ot(V)||le(V))return ye!==null?null:re(H,j,V,ae,null);Aa(H,V)}return null}function fe(H,j,V,ae,ye){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(V)||null,R(j,H,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case U:return H=H.get(ae.key===null?V:ae.key)||null,B(j,H,ae,ye);case M:return H=H.get(ae.key===null?V:ae.key)||null,Q(j,H,ae,ye);case ue:var xe=ae._init;return fe(H,j,V,xe(ae._payload),ye)}if(ot(ae)||le(ae))return H=H.get(V)||null,re(j,H,ae,ye,null);Aa(j,ae)}return null}function me(H,j,V,ae){for(var ye=null,xe=null,Ae=j,ke=j=0,vt=null;Ae!==null&&ke<V.length;ke++){Ae.index>ke?(vt=Ae,Ae=null):vt=Ae.sibling;var je=ne(H,Ae,V[ke],ae);if(je===null){Ae===null&&(Ae=vt);break}e&&Ae&&je.alternate===null&&n(H,Ae),j=h(je,j,ke),xe===null?ye=je:xe.sibling=je,xe=je,Ae=vt}if(ke===V.length)return s(H,Ae),Ke&&ii(H,ke),ye;if(Ae===null){for(;ke<V.length;ke++)Ae=oe(H,V[ke],ae),Ae!==null&&(j=h(Ae,j,ke),xe===null?ye=Ae:xe.sibling=Ae,xe=Ae);return Ke&&ii(H,ke),ye}for(Ae=l(H,Ae);ke<V.length;ke++)vt=fe(Ae,H,ke,V[ke],ae),vt!==null&&(e&&vt.alternate!==null&&Ae.delete(vt.key===null?ke:vt.key),j=h(vt,j,ke),xe===null?ye=vt:xe.sibling=vt,xe=vt);return e&&Ae.forEach(function(br){return n(H,br)}),Ke&&ii(H,ke),ye}function ge(H,j,V,ae){var ye=le(V);if(typeof ye!="function")throw Error(i(150));if(V=ye.call(V),V==null)throw Error(i(151));for(var xe=ye=null,Ae=j,ke=j=0,vt=null,je=V.next();Ae!==null&&!je.done;ke++,je=V.next()){Ae.index>ke?(vt=Ae,Ae=null):vt=Ae.sibling;var br=ne(H,Ae,je.value,ae);if(br===null){Ae===null&&(Ae=vt);break}e&&Ae&&br.alternate===null&&n(H,Ae),j=h(br,j,ke),xe===null?ye=br:xe.sibling=br,xe=br,Ae=vt}if(je.done)return s(H,Ae),Ke&&ii(H,ke),ye;if(Ae===null){for(;!je.done;ke++,je=V.next())je=oe(H,je.value,ae),je!==null&&(j=h(je,j,ke),xe===null?ye=je:xe.sibling=je,xe=je);return Ke&&ii(H,ke),ye}for(Ae=l(H,Ae);!je.done;ke++,je=V.next())je=fe(Ae,H,ke,je.value,ae),je!==null&&(e&&je.alternate!==null&&Ae.delete(je.key===null?ke:je.key),j=h(je,j,ke),xe===null?ye=je:xe.sibling=je,xe=je);return e&&Ae.forEach(function(T1){return n(H,T1)}),Ke&&ii(H,ke),ye}function lt(H,j,V,ae){if(typeof V=="object"&&V!==null&&V.type===P&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case U:e:{for(var ye=V.key,xe=j;xe!==null;){if(xe.key===ye){if(ye=V.type,ye===P){if(xe.tag===7){s(H,xe.sibling),j=c(xe,V.props.children),j.return=H,H=j;break e}}else if(xe.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ue&&mh(ye)===xe.type){s(H,xe.sibling),j=c(xe,V.props),j.ref=ro(H,xe,V),j.return=H,H=j;break e}s(H,xe);break}else n(H,xe);xe=xe.sibling}V.type===P?(j=fi(V.props.children,H.mode,ae,V.key),j.return=H,H=j):(ae=Va(V.type,V.key,V.props,null,H.mode,ae),ae.ref=ro(H,j,V),ae.return=H,H=ae)}return w(H);case M:e:{for(xe=V.key;j!==null;){if(j.key===xe)if(j.tag===4&&j.stateNode.containerInfo===V.containerInfo&&j.stateNode.implementation===V.implementation){s(H,j.sibling),j=c(j,V.children||[]),j.return=H,H=j;break e}else{s(H,j);break}else n(H,j);j=j.sibling}j=Ec(V,H.mode,ae),j.return=H,H=j}return w(H);case ue:return xe=V._init,lt(H,j,xe(V._payload),ae)}if(ot(V))return me(H,j,V,ae);if(le(V))return ge(H,j,V,ae);Aa(H,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,j!==null&&j.tag===6?(s(H,j.sibling),j=c(j,V),j.return=H,H=j):(s(H,j),j=Sc(V,H.mode,ae),j.return=H,H=j),w(H)):s(H,j)}return lt}var _i=gh(!0),yh=gh(!1),Sa=xr(null),Ea=null,zi=null,Nu=null;function Bu(){Nu=zi=Ea=null}function Fu(e){var n=Sa.current;We(Sa),e._currentValue=n}function Du(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Ui(e,n){Ea=e,Nu=zi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Ut=!0),e.firstContext=null)}function hn(e){var n=e._currentValue;if(Nu!==e)if(e={context:e,memoizedValue:n,next:null},zi===null){if(Ea===null)throw Error(i(308));zi=e,Ea.dependencies={lanes:0,firstContext:e}}else zi=zi.next=e;return n}var si=null;function ju(e){si===null?si=[e]:si.push(e)}function vh(e,n,s,l){var c=n.interleaved;return c===null?(s.next=s,ju(n)):(s.next=c.next,c.next=s),n.interleaved=s,Jn(e,l)}function Jn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Er=!1;function Ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function kr(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Fe&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,Jn(e,s)}return c=l.interleaved,c===null?(n.next=n,ju(l)):(n.next=c.next,c.next=n),l.interleaved=n,Jn(e,s)}function ka(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,$l(e,s)}}function xh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var w={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?c=h=w:h=h.next=w,s=s.next}while(s!==null);h===null?c=h=n:h=h.next=n}else c=h=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Ca(e,n,s,l){var c=e.updateQueue;Er=!1;var h=c.firstBaseUpdate,w=c.lastBaseUpdate,R=c.shared.pending;if(R!==null){c.shared.pending=null;var B=R,Q=B.next;B.next=null,w===null?h=Q:w.next=Q,w=B;var re=e.alternate;re!==null&&(re=re.updateQueue,R=re.lastBaseUpdate,R!==w&&(R===null?re.firstBaseUpdate=Q:R.next=Q,re.lastBaseUpdate=B))}if(h!==null){var oe=c.baseState;w=0,re=Q=B=null,R=h;do{var ne=R.lane,fe=R.eventTime;if((l&ne)===ne){re!==null&&(re=re.next={eventTime:fe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var me=e,ge=R;switch(ne=n,fe=s,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){oe=me.call(fe,oe,ne);break e}oe=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ne=typeof me=="function"?me.call(fe,oe,ne):me,ne==null)break e;oe=se({},oe,ne);break e;case 2:Er=!0}}R.callback!==null&&R.lane!==0&&(e.flags|=64,ne=c.effects,ne===null?c.effects=[R]:ne.push(R))}else fe={eventTime:fe,lane:ne,tag:R.tag,payload:R.payload,callback:R.callback,next:null},re===null?(Q=re=fe,B=oe):re=re.next=fe,w|=ne;if(R=R.next,R===null){if(R=c.shared.pending,R===null)break;ne=R,R=ne.next,ne.next=null,c.lastBaseUpdate=ne,c.shared.pending=null}}while(!0);if(re===null&&(B=oe),c.baseState=B,c.firstBaseUpdate=Q,c.lastBaseUpdate=re,n=c.shared.interleaved,n!==null){c=n;do w|=c.lane,c=c.next;while(c!==n)}else h===null&&(c.shared.lanes=0);li|=w,e.lanes=w,e.memoizedState=oe}}function Ah(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],c=l.callback;if(c!==null){if(l.callback=null,l=s,typeof c!="function")throw Error(i(191,c));c.call(l)}}}var io={},Dn=xr(io),so=xr(io),oo=xr(io);function oi(e){if(e===io)throw Error(i(174));return e}function Lu(e,n){switch(Ge(oo,n),Ge(so,e),Ge(Dn,io),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Bt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Bt(n,e)}We(Dn),Ge(Dn,n)}function Hi(){We(Dn),We(so),We(oo)}function Sh(e){oi(oo.current);var n=oi(Dn.current),s=Bt(n,e.type);n!==s&&(Ge(so,e),Ge(Dn,s))}function qu(e){so.current===e&&(We(Dn),We(so))}var Xe=xr(0);function Ma(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _u=[];function zu(){for(var e=0;e<_u.length;e++)_u[e]._workInProgressVersionPrimary=null;_u.length=0}var Ra=L.ReactCurrentDispatcher,Uu=L.ReactCurrentBatchConfig,ai=0,$e=null,ht=null,gt=null,Pa=!1,ao=!1,lo=0,$v=0;function Rt(){throw Error(i(321))}function Hu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!En(e[s],n[s]))return!1;return!0}function Gu(e,n,s,l,c,h){if(ai=h,$e=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ra.current=e===null||e.memoizedState===null?t1:n1,e=s(l,c),ao){h=0;do{if(ao=!1,lo=0,25<=h)throw Error(i(301));h+=1,gt=ht=null,n.updateQueue=null,Ra.current=r1,e=s(l,c)}while(ao)}if(Ra.current=ba,n=ht!==null&&ht.next!==null,ai=0,gt=ht=$e=null,Pa=!1,n)throw Error(i(300));return e}function Vu(){var e=lo!==0;return lo=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?$e.memoizedState=gt=e:gt=gt.next=e,gt}function pn(){if(ht===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var n=gt===null?$e.memoizedState:gt.next;if(n!==null)gt=n,ht=e;else{if(e===null)throw Error(i(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},gt===null?$e.memoizedState=gt=e:gt=gt.next=e}return gt}function uo(e,n){return typeof n=="function"?n(e):n}function Wu(e){var n=pn(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=ht,c=l.baseQueue,h=s.pending;if(h!==null){if(c!==null){var w=c.next;c.next=h.next,h.next=w}l.baseQueue=c=h,s.pending=null}if(c!==null){h=c.next,l=l.baseState;var R=w=null,B=null,Q=h;do{var re=Q.lane;if((ai&re)===re)B!==null&&(B=B.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),l=Q.hasEagerState?Q.eagerState:e(l,Q.action);else{var oe={lane:re,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};B===null?(R=B=oe,w=l):B=B.next=oe,$e.lanes|=re,li|=re}Q=Q.next}while(Q!==null&&Q!==h);B===null?w=l:B.next=R,En(l,n.memoizedState)||(Ut=!0),n.memoizedState=l,n.baseState=w,n.baseQueue=B,s.lastRenderedState=l}if(e=s.interleaved,e!==null){c=e;do h=c.lane,$e.lanes|=h,li|=h,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Qu(e){var n=pn(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,h=n.memoizedState;if(c!==null){s.pending=null;var w=c=c.next;do h=e(h,w.action),w=w.next;while(w!==c);En(h,n.memoizedState)||(Ut=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,l]}function Eh(){}function kh(e,n){var s=$e,l=pn(),c=n(),h=!En(l.memoizedState,c);if(h&&(l.memoizedState=c,Ut=!0),l=l.queue,Ku(Rh.bind(null,s,l,e),[e]),l.getSnapshot!==n||h||gt!==null&&gt.memoizedState.tag&1){if(s.flags|=2048,co(9,Mh.bind(null,s,l,c,n),void 0,null),yt===null)throw Error(i(349));ai&30||Ch(s,n,c)}return c}function Ch(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=$e.updateQueue,n===null?(n={lastEffect:null,stores:null},$e.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Mh(e,n,s,l){n.value=s,n.getSnapshot=l,Ph(n)&&Th(e)}function Rh(e,n,s){return s(function(){Ph(n)&&Th(e)})}function Ph(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!En(e,s)}catch{return!0}}function Th(e){var n=Jn(e,1);n!==null&&Pn(n,e,1,-1)}function Ih(e){var n=jn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e},n.queue=e,e=e.dispatch=e1.bind(null,$e,e),[n.memoizedState,e]}function co(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=$e.updateQueue,n===null?(n={lastEffect:null,stores:null},$e.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function bh(){return pn().memoizedState}function Ta(e,n,s,l){var c=jn();$e.flags|=e,c.memoizedState=co(1|n,s,void 0,l===void 0?null:l)}function Ia(e,n,s,l){var c=pn();l=l===void 0?null:l;var h=void 0;if(ht!==null){var w=ht.memoizedState;if(h=w.destroy,l!==null&&Hu(l,w.deps)){c.memoizedState=co(n,s,h,l);return}}$e.flags|=e,c.memoizedState=co(1|n,s,h,l)}function Nh(e,n){return Ta(8390656,8,e,n)}function Ku(e,n){return Ia(2048,8,e,n)}function Bh(e,n){return Ia(4,2,e,n)}function Fh(e,n){return Ia(4,4,e,n)}function Dh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jh(e,n,s){return s=s!=null?s.concat([e]):null,Ia(4,4,Dh.bind(null,n,e),s)}function Yu(){}function Oh(e,n){var s=pn();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Hu(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Lh(e,n){var s=pn();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Hu(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function qh(e,n,s){return ai&21?(En(s,n)||(s=mf(),$e.lanes|=s,li|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=s)}function Jv(e,n){var s=ze;ze=s!==0&&4>s?s:4,e(!0);var l=Uu.transition;Uu.transition={};try{e(!1),n()}finally{ze=s,Uu.transition=l}}function _h(){return pn().memoizedState}function Zv(e,n,s){var l=Pr(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},zh(e))Uh(n,s);else if(s=vh(e,n,s,l),s!==null){var c=Ot();Pn(s,e,l,c),Hh(s,n,l)}}function e1(e,n,s){var l=Pr(e),c={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(zh(e))Uh(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var w=n.lastRenderedState,R=h(w,s);if(c.hasEagerState=!0,c.eagerState=R,En(R,w)){var B=n.interleaved;B===null?(c.next=c,ju(n)):(c.next=B.next,B.next=c),n.interleaved=c;return}}catch{}finally{}s=vh(e,n,c,l),s!==null&&(c=Ot(),Pn(s,e,l,c),Hh(s,n,l))}}function zh(e){var n=e.alternate;return e===$e||n!==null&&n===$e}function Uh(e,n){ao=Pa=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Hh(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,$l(e,s)}}var ba={readContext:hn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},t1={readContext:hn,useCallback:function(e,n){return jn().memoizedState=[e,n===void 0?null:n],e},useContext:hn,useEffect:Nh,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Ta(4194308,4,Dh.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ta(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ta(4,2,e,n)},useMemo:function(e,n){var s=jn();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=jn();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Zv.bind(null,$e,e),[l.memoizedState,e]},useRef:function(e){var n=jn();return e={current:e},n.memoizedState=e},useState:Ih,useDebugValue:Yu,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=Ih(!1),n=e[0];return e=Jv.bind(null,e[1]),jn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=$e,c=jn();if(Ke){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),yt===null)throw Error(i(349));ai&30||Ch(l,n,s)}c.memoizedState=s;var h={value:s,getSnapshot:n};return c.queue=h,Nh(Rh.bind(null,l,h,e),[e]),l.flags|=2048,co(9,Mh.bind(null,l,h,s,n),void 0,null),s},useId:function(){var e=jn(),n=yt.identifierPrefix;if(Ke){var s=$n,l=Xn;s=(l&~(1<<32-Sn(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=lo++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=$v++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},n1={readContext:hn,useCallback:Oh,useContext:hn,useEffect:Ku,useImperativeHandle:jh,useInsertionEffect:Bh,useLayoutEffect:Fh,useMemo:Lh,useReducer:Wu,useRef:bh,useState:function(){return Wu(uo)},useDebugValue:Yu,useDeferredValue:function(e){var n=pn();return qh(n,ht.memoizedState,e)},useTransition:function(){var e=Wu(uo)[0],n=pn().memoizedState;return[e,n]},useMutableSource:Eh,useSyncExternalStore:kh,useId:_h,unstable_isNewReconciler:!1},r1={readContext:hn,useCallback:Oh,useContext:hn,useEffect:Ku,useImperativeHandle:jh,useInsertionEffect:Bh,useLayoutEffect:Fh,useMemo:Lh,useReducer:Qu,useRef:bh,useState:function(){return Qu(uo)},useDebugValue:Yu,useDeferredValue:function(e){var n=pn();return ht===null?n.memoizedState=e:qh(n,ht.memoizedState,e)},useTransition:function(){var e=Qu(uo)[0],n=pn().memoizedState;return[e,n]},useMutableSource:Eh,useSyncExternalStore:kh,useId:_h,unstable_isNewReconciler:!1};function Cn(e,n){if(e&&e.defaultProps){n=se({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Xu(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:se({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Na={isMounted:function(e){return(e=e._reactInternals)?ei(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Ot(),c=Pr(e),h=Zn(l,c);h.payload=n,s!=null&&(h.callback=s),n=kr(e,h,c),n!==null&&(Pn(n,e,c,l),ka(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Ot(),c=Pr(e),h=Zn(l,c);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=kr(e,h,c),n!==null&&(Pn(n,e,c,l),ka(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Ot(),l=Pr(e),c=Zn(s,l);c.tag=2,n!=null&&(c.callback=n),n=kr(e,c,l),n!==null&&(Pn(n,e,l,s),ka(n,e,l))}};function Gh(e,n,s,l,c,h,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,w):n.prototype&&n.prototype.isPureReactComponent?!Xs(s,l)||!Xs(c,h):!0}function Vh(e,n,s){var l=!1,c=Ar,h=n.contextType;return typeof h=="object"&&h!==null?h=hn(h):(c=zt(n)?ni:Mt.current,l=n.contextTypes,h=(l=l!=null)?ji(e,c):Ar),n=new n(s,h),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Na,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),n}function Wh(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Na.enqueueReplaceState(n,n.state,null)}function $u(e,n,s,l){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Ou(e);var h=n.contextType;typeof h=="object"&&h!==null?c.context=hn(h):(h=zt(n)?ni:Mt.current,c.context=ji(e,h)),c.state=e.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Xu(e,n,h,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Na.enqueueReplaceState(c,c.state,null),Ca(e,s,c,l),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Gi(e,n){try{var s="",l=n;do s+=Pe(l),l=l.return;while(l);var c=s}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:n,stack:c,digest:null}}function Ju(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Zu(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var i1=typeof WeakMap=="function"?WeakMap:Map;function Qh(e,n,s){s=Zn(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){qa||(qa=!0,pc=l),Zu(e,n)},s}function Kh(e,n,s){s=Zn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var c=n.value;s.payload=function(){return l(c)},s.callback=function(){Zu(e,n)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){Zu(e,n),typeof l!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),s}function Yh(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new i1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(c.add(s),e=v1.bind(null,e,n,s),n.then(e,e))}function Xh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function $h(e,n,s,l,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Zn(-1,1),n.tag=2,kr(s,n,1))),s.lanes|=1),e)}var s1=L.ReactCurrentOwner,Ut=!1;function jt(e,n,s,l){n.child=e===null?yh(n,null,s,l):_i(n,e.child,s,l)}function Jh(e,n,s,l,c){s=s.render;var h=n.ref;return Ui(n,c),l=Gu(e,n,s,l,h,c),s=Vu(),e!==null&&!Ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,er(e,n,c)):(Ke&&s&&Ru(n),n.flags|=1,jt(e,n,l,c),n.child)}function Zh(e,n,s,l,c){if(e===null){var h=s.type;return typeof h=="function"&&!Ac(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=h,ep(e,n,h,l,c)):(e=Va(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!(e.lanes&c)){var w=h.memoizedProps;if(s=s.compare,s=s!==null?s:Xs,s(w,l)&&e.ref===n.ref)return er(e,n,c)}return n.flags|=1,e=Ir(h,l),e.ref=n.ref,e.return=n,n.child=e}function ep(e,n,s,l,c){if(e!==null){var h=e.memoizedProps;if(Xs(h,l)&&e.ref===n.ref)if(Ut=!1,n.pendingProps=l=h,(e.lanes&c)!==0)e.flags&131072&&(Ut=!0);else return n.lanes=e.lanes,er(e,n,c)}return ec(e,n,s,l,c)}function tp(e,n,s){var l=n.pendingProps,c=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Wi,tn),tn|=s;else{if(!(s&1073741824))return e=h!==null?h.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ge(Wi,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:s,Ge(Wi,tn),tn|=l}else h!==null?(l=h.baseLanes|s,n.memoizedState=null):l=s,Ge(Wi,tn),tn|=l;return jt(e,n,c,s),n.child}function np(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function ec(e,n,s,l,c){var h=zt(s)?ni:Mt.current;return h=ji(n,h),Ui(n,c),s=Gu(e,n,s,l,h,c),l=Vu(),e!==null&&!Ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,er(e,n,c)):(Ke&&l&&Ru(n),n.flags|=1,jt(e,n,s,c),n.child)}function rp(e,n,s,l,c){if(zt(s)){var h=!0;ga(n)}else h=!1;if(Ui(n,c),n.stateNode===null)Fa(e,n),Vh(n,s,l),$u(n,s,l,c),l=!0;else if(e===null){var w=n.stateNode,R=n.memoizedProps;w.props=R;var B=w.context,Q=s.contextType;typeof Q=="object"&&Q!==null?Q=hn(Q):(Q=zt(s)?ni:Mt.current,Q=ji(n,Q));var re=s.getDerivedStateFromProps,oe=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function";oe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==l||B!==Q)&&Wh(n,w,l,Q),Er=!1;var ne=n.memoizedState;w.state=ne,Ca(n,l,w,c),B=n.memoizedState,R!==l||ne!==B||_t.current||Er?(typeof re=="function"&&(Xu(n,s,re,l),B=n.memoizedState),(R=Er||Gh(n,s,R,l,ne,B,Q))?(oe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),w.props=l,w.state=B,w.context=Q,l=R):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{w=n.stateNode,wh(e,n),R=n.memoizedProps,Q=n.type===n.elementType?R:Cn(n.type,R),w.props=Q,oe=n.pendingProps,ne=w.context,B=s.contextType,typeof B=="object"&&B!==null?B=hn(B):(B=zt(s)?ni:Mt.current,B=ji(n,B));var fe=s.getDerivedStateFromProps;(re=typeof fe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==oe||ne!==B)&&Wh(n,w,l,B),Er=!1,ne=n.memoizedState,w.state=ne,Ca(n,l,w,c);var me=n.memoizedState;R!==oe||ne!==me||_t.current||Er?(typeof fe=="function"&&(Xu(n,s,fe,l),me=n.memoizedState),(Q=Er||Gh(n,s,Q,l,ne,me,B)||!1)?(re||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(l,me,B),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(l,me,B)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=me),w.props=l,w.state=me,w.context=B,l=Q):(typeof w.componentDidUpdate!="function"||R===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),l=!1)}return tc(e,n,s,l,h,c)}function tc(e,n,s,l,c,h){np(e,n);var w=(n.flags&128)!==0;if(!l&&!w)return c&&lh(n,s,!1),er(e,n,h);l=n.stateNode,s1.current=n;var R=w&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&w?(n.child=_i(n,e.child,null,h),n.child=_i(n,null,R,h)):jt(e,n,R,h),n.memoizedState=l.state,c&&lh(n,s,!0),n.child}function ip(e){var n=e.stateNode;n.pendingContext?oh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&oh(e,n.context,!1),Lu(e,n.containerInfo)}function sp(e,n,s,l,c){return qi(),bu(c),n.flags|=256,jt(e,n,s,l),n.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function op(e,n,s){var l=n.pendingProps,c=Xe.current,h=!1,w=(n.flags&128)!==0,R;if((R=w)||(R=e!==null&&e.memoizedState===null?!1:(c&2)!==0),R?(h=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ge(Xe,c&1),e===null)return Iu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(w=l.children,e=l.fallback,h?(l=n.mode,h=n.child,w={mode:"hidden",children:w},!(l&1)&&h!==null?(h.childLanes=0,h.pendingProps=w):h=Wa(w,l,0,null),e=fi(e,l,s,null),h.return=n,e.return=n,h.sibling=e,n.child=h,n.child.memoizedState=rc(s),n.memoizedState=nc,e):ic(n,w));if(c=e.memoizedState,c!==null&&(R=c.dehydrated,R!==null))return o1(e,n,w,l,R,c,s);if(h){h=l.fallback,w=n.mode,c=e.child,R=c.sibling;var B={mode:"hidden",children:l.children};return!(w&1)&&n.child!==c?(l=n.child,l.childLanes=0,l.pendingProps=B,n.deletions=null):(l=Ir(c,B),l.subtreeFlags=c.subtreeFlags&14680064),R!==null?h=Ir(R,h):(h=fi(h,w,s,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,w=e.child.memoizedState,w=w===null?rc(s):{baseLanes:w.baseLanes|s,cachePool:null,transitions:w.transitions},h.memoizedState=w,h.childLanes=e.childLanes&~s,n.memoizedState=nc,l}return h=e.child,e=h.sibling,l=Ir(h,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function ic(e,n){return n=Wa({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ba(e,n,s,l){return l!==null&&bu(l),_i(n,e.child,null,s),e=ic(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function o1(e,n,s,l,c,h,w){if(s)return n.flags&256?(n.flags&=-257,l=Ju(Error(i(422))),Ba(e,n,w,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(h=l.fallback,c=n.mode,l=Wa({mode:"visible",children:l.children},c,0,null),h=fi(h,c,w,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,n.mode&1&&_i(n,e.child,null,w),n.child.memoizedState=rc(w),n.memoizedState=nc,h);if(!(n.mode&1))return Ba(e,n,w,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var R=l.dgst;return l=R,h=Error(i(419)),l=Ju(h,l,void 0),Ba(e,n,w,l)}if(R=(w&e.childLanes)!==0,Ut||R){if(l=yt,l!==null){switch(w&-w){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(l.suspendedLanes|w)?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Jn(e,c),Pn(l,e,c,-1))}return xc(),l=Ju(Error(i(421))),Ba(e,n,w,l)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=w1.bind(null,e),c._reactRetry=n,null):(e=h.treeContext,en=wr(c.nextSibling),Zt=n,Ke=!0,kn=null,e!==null&&(dn[fn++]=Xn,dn[fn++]=$n,dn[fn++]=ri,Xn=e.id,$n=e.overflow,ri=n),n=ic(n,l.children),n.flags|=4096,n)}function ap(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Du(e.return,n,s)}function sc(e,n,s,l,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=s,h.tailMode=c)}function lp(e,n,s){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(jt(e,n,l.children,s),l=Xe.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ap(e,s,n);else if(e.tag===19)ap(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ge(Xe,l),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Ma(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),sc(n,!1,c,s,h);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Ma(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}sc(n,!0,s,null,h);break;case"together":sc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Fa(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function er(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),li|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,s=Ir(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ir(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function a1(e,n,s){switch(n.tag){case 3:ip(n),qi();break;case 5:Sh(n);break;case 1:zt(n.type)&&ga(n);break;case 4:Lu(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,c=n.memoizedProps.value;Ge(Sa,l._currentValue),l._currentValue=c;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Ge(Xe,Xe.current&1),n.flags|=128,null):s&n.child.childLanes?op(e,n,s):(Ge(Xe,Xe.current&1),e=er(e,n,s),e!==null?e.sibling:null);Ge(Xe,Xe.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return lp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ge(Xe,Xe.current),l)break;return null;case 22:case 23:return n.lanes=0,tp(e,n,s)}return er(e,n,s)}var up,oc,cp,dp;up=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},oc=function(){},cp=function(e,n,s,l){var c=e.memoizedProps;if(c!==l){e=n.stateNode,oi(Dn.current);var h=null;switch(s){case"input":c=ve(e,c),l=ve(e,l),h=[];break;case"select":c=se({},c,{value:void 0}),l=se({},l,{value:void 0}),h=[];break;case"textarea":c=Xr(e,c),l=Xr(e,l),h=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=ha)}Ci(s,l);var w;s=null;for(Q in c)if(!l.hasOwnProperty(Q)&&c.hasOwnProperty(Q)&&c[Q]!=null)if(Q==="style"){var R=c[Q];for(w in R)R.hasOwnProperty(w)&&(s||(s={}),s[w]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(a.hasOwnProperty(Q)?h||(h=[]):(h=h||[]).push(Q,null));for(Q in l){var B=l[Q];if(R=c!=null?c[Q]:void 0,l.hasOwnProperty(Q)&&B!==R&&(B!=null||R!=null))if(Q==="style")if(R){for(w in R)!R.hasOwnProperty(w)||B&&B.hasOwnProperty(w)||(s||(s={}),s[w]="");for(w in B)B.hasOwnProperty(w)&&R[w]!==B[w]&&(s||(s={}),s[w]=B[w])}else s||(h||(h=[]),h.push(Q,s)),s=B;else Q==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,R=R?R.__html:void 0,B!=null&&R!==B&&(h=h||[]).push(Q,B)):Q==="children"?typeof B!="string"&&typeof B!="number"||(h=h||[]).push(Q,""+B):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(a.hasOwnProperty(Q)?(B!=null&&Q==="onScroll"&&Ve("scroll",e),h||R===B||(h=[])):(h=h||[]).push(Q,B))}s&&(h=h||[]).push("style",s);var Q=h;(n.updateQueue=Q)&&(n.flags|=4)}},dp=function(e,n,s,l){s!==l&&(n.flags|=4)};function fo(e,n){if(!Ke)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function l1(e,n,s){var l=n.pendingProps;switch(Pu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(n),null;case 1:return zt(n.type)&&ma(),Pt(n),null;case 3:return l=n.stateNode,Hi(),We(_t),We(Mt),zu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(xa(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,kn!==null&&(yc(kn),kn=null))),oc(e,n),Pt(n),null;case 5:qu(n);var c=oi(oo.current);if(s=n.type,e!==null&&n.stateNode!=null)cp(e,n,s,l,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(i(166));return Pt(n),null}if(e=oi(Dn.current),xa(n)){l=n.stateNode,s=n.type;var h=n.memoizedProps;switch(l[Fn]=n,l[to]=h,e=(n.mode&1)!==0,s){case"dialog":Ve("cancel",l),Ve("close",l);break;case"iframe":case"object":case"embed":Ve("load",l);break;case"video":case"audio":for(c=0;c<Js.length;c++)Ve(Js[c],l);break;case"source":Ve("error",l);break;case"img":case"image":case"link":Ve("error",l),Ve("load",l);break;case"details":Ve("toggle",l);break;case"input":Me(l,h),Ve("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},Ve("invalid",l);break;case"textarea":ki(l,h),Ve("invalid",l)}Ci(s,h),c=null;for(var w in h)if(h.hasOwnProperty(w)){var R=h[w];w==="children"?typeof R=="string"?l.textContent!==R&&(h.suppressHydrationWarning!==!0&&fa(l.textContent,R,e),c=["children",R]):typeof R=="number"&&l.textContent!==""+R&&(h.suppressHydrationWarning!==!0&&fa(l.textContent,R,e),c=["children",""+R]):a.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&Ve("scroll",l)}switch(s){case"input":bt(l),et(l,h,!0);break;case"textarea":bt(l),Jr(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=ha)}l=c,n.updateQueue=l,l!==null&&(n.flags|=4)}else{w=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cr(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=w.createElement(s,{is:l.is}):(e=w.createElement(s),s==="select"&&(w=e,l.multiple?w.multiple=!0:l.size&&(w.size=l.size))):e=w.createElementNS(e,s),e[Fn]=n,e[to]=l,up(e,n,!1,!1),n.stateNode=e;e:{switch(w=Mi(s,l),s){case"dialog":Ve("cancel",e),Ve("close",e),c=l;break;case"iframe":case"object":case"embed":Ve("load",e),c=l;break;case"video":case"audio":for(c=0;c<Js.length;c++)Ve(Js[c],e);c=l;break;case"source":Ve("error",e),c=l;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),c=l;break;case"details":Ve("toggle",e),c=l;break;case"input":Me(e,l),c=ve(e,l),Ve("invalid",e);break;case"option":c=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},c=se({},l,{value:void 0}),Ve("invalid",e);break;case"textarea":ki(e,l),c=Xr(e,l),Ve("invalid",e);break;default:c=l}Ci(s,c),R=c;for(h in R)if(R.hasOwnProperty(h)){var B=R[h];h==="style"?Fs(e,B):h==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Vn(e,B)):h==="children"?typeof B=="string"?(s!=="textarea"||B!=="")&&mt(e,B):typeof B=="number"&&mt(e,""+B):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(a.hasOwnProperty(h)?B!=null&&h==="onScroll"&&Ve("scroll",e):B!=null&&I(e,h,B,w))}switch(s){case"input":bt(e),et(e,l,!1);break;case"textarea":bt(e),Jr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Ne(l.value));break;case"select":e.multiple=!!l.multiple,h=l.value,h!=null?Nt(e,!!l.multiple,h,!1):l.defaultValue!=null&&Nt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=ha)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Pt(n),null;case 6:if(e&&n.stateNode!=null)dp(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(s=oi(oo.current),oi(Dn.current),xa(n)){if(l=n.stateNode,s=n.memoizedProps,l[Fn]=n,(h=l.nodeValue!==s)&&(e=Zt,e!==null))switch(e.tag){case 3:fa(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fa(l.nodeValue,s,(e.mode&1)!==0)}h&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Fn]=n,n.stateNode=l}return Pt(n),null;case 13:if(We(Xe),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&en!==null&&n.mode&1&&!(n.flags&128))ph(),qi(),n.flags|=98560,h=!1;else if(h=xa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Fn]=n}else qi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Pt(n),h=!1}else kn!==null&&(yc(kn),kn=null),h=!0;if(!h)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Xe.current&1?pt===0&&(pt=3):xc())),n.updateQueue!==null&&(n.flags|=4),Pt(n),null);case 4:return Hi(),oc(e,n),e===null&&Zs(n.stateNode.containerInfo),Pt(n),null;case 10:return Fu(n.type._context),Pt(n),null;case 17:return zt(n.type)&&ma(),Pt(n),null;case 19:if(We(Xe),h=n.memoizedState,h===null)return Pt(n),null;if(l=(n.flags&128)!==0,w=h.rendering,w===null)if(l)fo(h,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(w=Ma(e),w!==null){for(n.flags|=128,fo(h,!1),l=w.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)h=s,e=l,h.flags&=14680066,w=h.alternate,w===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=w.childLanes,h.lanes=w.lanes,h.child=w.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=w.memoizedProps,h.memoizedState=w.memoizedState,h.updateQueue=w.updateQueue,h.type=w.type,e=w.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ge(Xe,Xe.current&1|2),n.child}e=e.sibling}h.tail!==null&&at()>Qi&&(n.flags|=128,l=!0,fo(h,!1),n.lanes=4194304)}else{if(!l)if(e=Ma(w),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),fo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!Ke)return Pt(n),null}else 2*at()-h.renderingStartTime>Qi&&s!==1073741824&&(n.flags|=128,l=!0,fo(h,!1),n.lanes=4194304);h.isBackwards?(w.sibling=n.child,n.child=w):(s=h.last,s!==null?s.sibling=w:n.child=w,h.last=w)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=at(),n.sibling=null,s=Xe.current,Ge(Xe,l?s&1|2:s&1),n):(Pt(n),null);case 22:case 23:return wc(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?tn&1073741824&&(Pt(n),n.subtreeFlags&6&&(n.flags|=8192)):Pt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function u1(e,n){switch(Pu(n),n.tag){case 1:return zt(n.type)&&ma(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hi(),We(_t),We(Mt),zu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return qu(n),null;case 13:if(We(Xe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));qi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return We(Xe),null;case 4:return Hi(),null;case 10:return Fu(n.type._context),null;case 22:case 23:return wc(),null;case 24:return null;default:return null}}var Da=!1,Tt=!1,c1=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Vi(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){rt(e,n,l)}else s.current=null}function ac(e,n,s){try{s()}catch(l){rt(e,n,l)}}var fp=!1;function d1(e,n){if(wu=ta,e=Gf(),du(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var w=0,R=-1,B=-1,Q=0,re=0,oe=e,ne=null;t:for(;;){for(var fe;oe!==s||c!==0&&oe.nodeType!==3||(R=w+c),oe!==h||l!==0&&oe.nodeType!==3||(B=w+l),oe.nodeType===3&&(w+=oe.nodeValue.length),(fe=oe.firstChild)!==null;)ne=oe,oe=fe;for(;;){if(oe===e)break t;if(ne===s&&++Q===c&&(R=w),ne===h&&++re===l&&(B=w),(fe=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=fe}s=R===-1||B===-1?null:{start:R,end:B}}else s=null}s=s||{start:0,end:0}}else s=null;for(xu={focusedElem:e,selectionRange:s},ta=!1,pe=n;pe!==null;)if(n=pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,pe=e;else for(;pe!==null;){n=pe;try{var me=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,lt=me.memoizedState,H=n.stateNode,j=H.getSnapshotBeforeUpdate(n.elementType===n.type?ge:Cn(n.type,ge),lt);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var V=n.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ae){rt(n,n.return,ae)}if(e=n.sibling,e!==null){e.return=n.return,pe=e;break}pe=n.return}return me=fp,fp=!1,me}function ho(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&ac(n,s,h)}c=c.next}while(c!==l)}}function ja(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function lc(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function hp(e){var n=e.alternate;n!==null&&(e.alternate=null,hp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Fn],delete n[to],delete n[ku],delete n[Qv],delete n[Kv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pp(e){return e.tag===5||e.tag===3||e.tag===4}function mp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ha));else if(l!==4&&(e=e.child,e!==null))for(uc(e,n,s),e=e.sibling;e!==null;)uc(e,n,s),e=e.sibling}function cc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(cc(e,n,s),e=e.sibling;e!==null;)cc(e,n,s),e=e.sibling}var St=null,Mn=!1;function Cr(e,n,s){for(s=s.child;s!==null;)gp(e,n,s),s=s.sibling}function gp(e,n,s){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Yo,s)}catch{}switch(s.tag){case 5:Tt||Vi(s,n);case 6:var l=St,c=Mn;St=null,Cr(e,n,s),St=l,Mn=c,St!==null&&(Mn?(e=St,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):St.removeChild(s.stateNode));break;case 18:St!==null&&(Mn?(e=St,s=s.stateNode,e.nodeType===8?Eu(e.parentNode,s):e.nodeType===1&&Eu(e,s),Gs(e)):Eu(St,s.stateNode));break;case 4:l=St,c=Mn,St=s.stateNode.containerInfo,Mn=!0,Cr(e,n,s),St=l,Mn=c;break;case 0:case 11:case 14:case 15:if(!Tt&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var h=c,w=h.destroy;h=h.tag,w!==void 0&&(h&2||h&4)&&ac(s,n,w),c=c.next}while(c!==l)}Cr(e,n,s);break;case 1:if(!Tt&&(Vi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(R){rt(s,n,R)}Cr(e,n,s);break;case 21:Cr(e,n,s);break;case 22:s.mode&1?(Tt=(l=Tt)||s.memoizedState!==null,Cr(e,n,s),Tt=l):Cr(e,n,s);break;default:Cr(e,n,s)}}function yp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new c1),n.forEach(function(l){var c=x1.bind(null,e,l);s.has(l)||(s.add(l),l.then(c,c))})}}function Rn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];try{var h=e,w=n,R=w;e:for(;R!==null;){switch(R.tag){case 5:St=R.stateNode,Mn=!1;break e;case 3:St=R.stateNode.containerInfo,Mn=!0;break e;case 4:St=R.stateNode.containerInfo,Mn=!0;break e}R=R.return}if(St===null)throw Error(i(160));gp(h,w,c),St=null,Mn=!1;var B=c.alternate;B!==null&&(B.return=null),c.return=null}catch(Q){rt(c,n,Q)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)vp(n,e),n=n.sibling}function vp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rn(n,e),On(e),l&4){try{ho(3,e,e.return),ja(3,e)}catch(ge){rt(e,e.return,ge)}try{ho(5,e,e.return)}catch(ge){rt(e,e.return,ge)}}break;case 1:Rn(n,e),On(e),l&512&&s!==null&&Vi(s,s.return);break;case 5:if(Rn(n,e),On(e),l&512&&s!==null&&Vi(s,s.return),e.flags&32){var c=e.stateNode;try{mt(c,"")}catch(ge){rt(e,e.return,ge)}}if(l&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,w=s!==null?s.memoizedProps:h,R=e.type,B=e.updateQueue;if(e.updateQueue=null,B!==null)try{R==="input"&&h.type==="radio"&&h.name!=null&&Re(c,h),Mi(R,w);var Q=Mi(R,h);for(w=0;w<B.length;w+=2){var re=B[w],oe=B[w+1];re==="style"?Fs(c,oe):re==="dangerouslySetInnerHTML"?Vn(c,oe):re==="children"?mt(c,oe):I(c,re,oe,Q)}switch(R){case"input":_e(c,h);break;case"textarea":$r(c,h);break;case"select":var ne=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var fe=h.value;fe!=null?Nt(c,!!h.multiple,fe,!1):ne!==!!h.multiple&&(h.defaultValue!=null?Nt(c,!!h.multiple,h.defaultValue,!0):Nt(c,!!h.multiple,h.multiple?[]:"",!1))}c[to]=h}catch(ge){rt(e,e.return,ge)}}break;case 6:if(Rn(n,e),On(e),l&4){if(e.stateNode===null)throw Error(i(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(ge){rt(e,e.return,ge)}}break;case 3:if(Rn(n,e),On(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Gs(n.containerInfo)}catch(ge){rt(e,e.return,ge)}break;case 4:Rn(n,e),On(e);break;case 13:Rn(n,e),On(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(hc=at())),l&4&&yp(e);break;case 22:if(re=s!==null&&s.memoizedState!==null,e.mode&1?(Tt=(Q=Tt)||re,Rn(n,e),Tt=Q):Rn(n,e),On(e),l&8192){if(Q=e.memoizedState!==null,(e.stateNode.isHidden=Q)&&!re&&e.mode&1)for(pe=e,re=e.child;re!==null;){for(oe=pe=re;pe!==null;){switch(ne=pe,fe=ne.child,ne.tag){case 0:case 11:case 14:case 15:ho(4,ne,ne.return);break;case 1:Vi(ne,ne.return);var me=ne.stateNode;if(typeof me.componentWillUnmount=="function"){l=ne,s=ne.return;try{n=l,me.props=n.memoizedProps,me.state=n.memoizedState,me.componentWillUnmount()}catch(ge){rt(l,s,ge)}}break;case 5:Vi(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Ap(oe);continue}}fe!==null?(fe.return=ne,pe=fe):Ap(oe)}re=re.sibling}e:for(re=null,oe=e;;){if(oe.tag===5){if(re===null){re=oe;try{c=oe.stateNode,Q?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(R=oe.stateNode,B=oe.memoizedProps.style,w=B!=null&&B.hasOwnProperty("display")?B.display:null,R.style.display=dr("display",w))}catch(ge){rt(e,e.return,ge)}}}else if(oe.tag===6){if(re===null)try{oe.stateNode.nodeValue=Q?"":oe.memoizedProps}catch(ge){rt(e,e.return,ge)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===e)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===e)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===e)break e;re===oe&&(re=null),oe=oe.return}re===oe&&(re=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Rn(n,e),On(e),l&4&&yp(e);break;case 21:break;default:Rn(n,e),On(e)}}function On(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(pp(s)){var l=s;break e}s=s.return}throw Error(i(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(mt(c,""),l.flags&=-33);var h=mp(e);cc(e,h,c);break;case 3:case 4:var w=l.stateNode.containerInfo,R=mp(e);uc(e,R,w);break;default:throw Error(i(161))}}catch(B){rt(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function f1(e,n,s){pe=e,wp(e)}function wp(e,n,s){for(var l=(e.mode&1)!==0;pe!==null;){var c=pe,h=c.child;if(c.tag===22&&l){var w=c.memoizedState!==null||Da;if(!w){var R=c.alternate,B=R!==null&&R.memoizedState!==null||Tt;R=Da;var Q=Tt;if(Da=w,(Tt=B)&&!Q)for(pe=c;pe!==null;)w=pe,B=w.child,w.tag===22&&w.memoizedState!==null?Sp(c):B!==null?(B.return=w,pe=B):Sp(c);for(;h!==null;)pe=h,wp(h),h=h.sibling;pe=c,Da=R,Tt=Q}xp(e)}else c.subtreeFlags&8772&&h!==null?(h.return=c,pe=h):xp(e)}}function xp(e){for(;pe!==null;){var n=pe;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Tt||ja(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Tt)if(s===null)l.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:Cn(n.type,s.memoizedProps);l.componentDidUpdate(c,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&Ah(n,h,l);break;case 3:var w=n.updateQueue;if(w!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Ah(n,w,s)}break;case 5:var R=n.stateNode;if(s===null&&n.flags&4){s=R;var B=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&s.focus();break;case"img":B.src&&(s.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var Q=n.alternate;if(Q!==null){var re=Q.memoizedState;if(re!==null){var oe=re.dehydrated;oe!==null&&Gs(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Tt||n.flags&512&&lc(n)}catch(ne){rt(n,n.return,ne)}}if(n===e){pe=null;break}if(s=n.sibling,s!==null){s.return=n.return,pe=s;break}pe=n.return}}function Ap(e){for(;pe!==null;){var n=pe;if(n===e){pe=null;break}var s=n.sibling;if(s!==null){s.return=n.return,pe=s;break}pe=n.return}}function Sp(e){for(;pe!==null;){var n=pe;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{ja(4,n)}catch(B){rt(n,s,B)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var c=n.return;try{l.componentDidMount()}catch(B){rt(n,c,B)}}var h=n.return;try{lc(n)}catch(B){rt(n,h,B)}break;case 5:var w=n.return;try{lc(n)}catch(B){rt(n,w,B)}}}catch(B){rt(n,n.return,B)}if(n===e){pe=null;break}var R=n.sibling;if(R!==null){R.return=n.return,pe=R;break}pe=n.return}}var h1=Math.ceil,Oa=L.ReactCurrentDispatcher,dc=L.ReactCurrentOwner,mn=L.ReactCurrentBatchConfig,Fe=0,yt=null,ct=null,Et=0,tn=0,Wi=xr(0),pt=0,po=null,li=0,La=0,fc=0,mo=null,Ht=null,hc=0,Qi=1/0,tr=null,qa=!1,pc=null,Mr=null,_a=!1,Rr=null,za=0,go=0,mc=null,Ua=-1,Ha=0;function Ot(){return Fe&6?at():Ua!==-1?Ua:Ua=at()}function Pr(e){return e.mode&1?Fe&2&&Et!==0?Et&-Et:Xv.transition!==null?(Ha===0&&(Ha=mf()),Ha):(e=ze,e!==0||(e=window.event,e=e===void 0?16:kf(e.type)),e):1}function Pn(e,n,s,l){if(50<go)throw go=0,mc=null,Error(i(185));qs(e,s,l),(!(Fe&2)||e!==yt)&&(e===yt&&(!(Fe&2)&&(La|=s),pt===4&&Tr(e,Et)),Gt(e,l),s===1&&Fe===0&&!(n.mode&1)&&(Qi=at()+500,ya&&Sr()))}function Gt(e,n){var s=e.callbackNode;X0(e,n);var l=Jo(e,e===yt?Et:0);if(l===0)s!==null&&ff(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&ff(s),n===1)e.tag===0?Yv(kp.bind(null,e)):uh(kp.bind(null,e)),Vv(function(){!(Fe&6)&&Sr()}),s=null;else{switch(gf(l)){case 1:s=Kl;break;case 4:s=hf;break;case 16:s=Ko;break;case 536870912:s=pf;break;default:s=Ko}s=Np(s,Ep.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Ep(e,n){if(Ua=-1,Ha=0,Fe&6)throw Error(i(327));var s=e.callbackNode;if(Ki()&&e.callbackNode!==s)return null;var l=Jo(e,e===yt?Et:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=Ga(e,l);else{n=l;var c=Fe;Fe|=2;var h=Mp();(yt!==e||Et!==n)&&(tr=null,Qi=at()+500,ci(e,n));do try{g1();break}catch(R){Cp(e,R)}while(!0);Bu(),Oa.current=h,Fe=c,ct!==null?n=0:(yt=null,Et=0,n=pt)}if(n!==0){if(n===2&&(c=Yl(e),c!==0&&(l=c,n=gc(e,c))),n===1)throw s=po,ci(e,0),Tr(e,l),Gt(e,at()),s;if(n===6)Tr(e,l);else{if(c=e.current.alternate,!(l&30)&&!p1(c)&&(n=Ga(e,l),n===2&&(h=Yl(e),h!==0&&(l=h,n=gc(e,h))),n===1))throw s=po,ci(e,0),Tr(e,l),Gt(e,at()),s;switch(e.finishedWork=c,e.finishedLanes=l,n){case 0:case 1:throw Error(i(345));case 2:di(e,Ht,tr);break;case 3:if(Tr(e,l),(l&130023424)===l&&(n=hc+500-at(),10<n)){if(Jo(e,0)!==0)break;if(c=e.suspendedLanes,(c&l)!==l){Ot(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Su(di.bind(null,e,Ht,tr),n);break}di(e,Ht,tr);break;case 4:if(Tr(e,l),(l&4194240)===l)break;for(n=e.eventTimes,c=-1;0<l;){var w=31-Sn(l);h=1<<w,w=n[w],w>c&&(c=w),l&=~h}if(l=c,l=at()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*h1(l/1960))-l,10<l){e.timeoutHandle=Su(di.bind(null,e,Ht,tr),l);break}di(e,Ht,tr);break;case 5:di(e,Ht,tr);break;default:throw Error(i(329))}}}return Gt(e,at()),e.callbackNode===s?Ep.bind(null,e):null}function gc(e,n){var s=mo;return e.current.memoizedState.isDehydrated&&(ci(e,n).flags|=256),e=Ga(e,n),e!==2&&(n=Ht,Ht=s,n!==null&&yc(n)),e}function yc(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function p1(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var c=s[l],h=c.getSnapshot;c=c.value;try{if(!En(h(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Tr(e,n){for(n&=~fc,n&=~La,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Sn(n),l=1<<s;e[s]=-1,n&=~l}}function kp(e){if(Fe&6)throw Error(i(327));Ki();var n=Jo(e,0);if(!(n&1))return Gt(e,at()),null;var s=Ga(e,n);if(e.tag!==0&&s===2){var l=Yl(e);l!==0&&(n=l,s=gc(e,l))}if(s===1)throw s=po,ci(e,0),Tr(e,n),Gt(e,at()),s;if(s===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,di(e,Ht,tr),Gt(e,at()),null}function vc(e,n){var s=Fe;Fe|=1;try{return e(n)}finally{Fe=s,Fe===0&&(Qi=at()+500,ya&&Sr())}}function ui(e){Rr!==null&&Rr.tag===0&&!(Fe&6)&&Ki();var n=Fe;Fe|=1;var s=mn.transition,l=ze;try{if(mn.transition=null,ze=1,e)return e()}finally{ze=l,mn.transition=s,Fe=n,!(Fe&6)&&Sr()}}function wc(){tn=Wi.current,We(Wi)}function ci(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gv(s)),ct!==null)for(s=ct.return;s!==null;){var l=s;switch(Pu(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&ma();break;case 3:Hi(),We(_t),We(Mt),zu();break;case 5:qu(l);break;case 4:Hi();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:Fu(l.type._context);break;case 22:case 23:wc()}s=s.return}if(yt=e,ct=e=Ir(e.current,null),Et=tn=n,pt=0,po=null,fc=La=li=0,Ht=mo=null,si!==null){for(n=0;n<si.length;n++)if(s=si[n],l=s.interleaved,l!==null){s.interleaved=null;var c=l.next,h=s.pending;if(h!==null){var w=h.next;h.next=c,l.next=w}s.pending=l}si=null}return e}function Cp(e,n){do{var s=ct;try{if(Bu(),Ra.current=ba,Pa){for(var l=$e.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Pa=!1}if(ai=0,gt=ht=$e=null,ao=!1,lo=0,dc.current=null,s===null||s.return===null){pt=1,po=n,ct=null;break}e:{var h=e,w=s.return,R=s,B=n;if(n=Et,R.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Q=B,re=R,oe=re.tag;if(!(re.mode&1)&&(oe===0||oe===11||oe===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var fe=Xh(w);if(fe!==null){fe.flags&=-257,$h(fe,w,R,h,n),fe.mode&1&&Yh(h,Q,n),n=fe,B=Q;var me=n.updateQueue;if(me===null){var ge=new Set;ge.add(B),n.updateQueue=ge}else me.add(B);break e}else{if(!(n&1)){Yh(h,Q,n),xc();break e}B=Error(i(426))}}else if(Ke&&R.mode&1){var lt=Xh(w);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),$h(lt,w,R,h,n),bu(Gi(B,R));break e}}h=B=Gi(B,R),pt!==4&&(pt=2),mo===null?mo=[h]:mo.push(h),h=w;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var H=Qh(h,B,n);xh(h,H);break e;case 1:R=B;var j=h.type,V=h.stateNode;if(!(h.flags&128)&&(typeof j.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Mr===null||!Mr.has(V)))){h.flags|=65536,n&=-n,h.lanes|=n;var ae=Kh(h,R,n);xh(h,ae);break e}}h=h.return}while(h!==null)}Pp(s)}catch(ye){n=ye,ct===s&&s!==null&&(ct=s=s.return);continue}break}while(!0)}function Mp(){var e=Oa.current;return Oa.current=ba,e===null?ba:e}function xc(){(pt===0||pt===3||pt===2)&&(pt=4),yt===null||!(li&268435455)&&!(La&268435455)||Tr(yt,Et)}function Ga(e,n){var s=Fe;Fe|=2;var l=Mp();(yt!==e||Et!==n)&&(tr=null,ci(e,n));do try{m1();break}catch(c){Cp(e,c)}while(!0);if(Bu(),Fe=s,Oa.current=l,ct!==null)throw Error(i(261));return yt=null,Et=0,pt}function m1(){for(;ct!==null;)Rp(ct)}function g1(){for(;ct!==null&&!z0();)Rp(ct)}function Rp(e){var n=bp(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?Pp(e):ct=n,dc.current=null}function Pp(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=u1(s,n),s!==null){s.flags&=32767,ct=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ct=null;return}}else if(s=l1(s,n,tn),s!==null){ct=s;return}if(n=n.sibling,n!==null){ct=n;return}ct=n=e}while(n!==null);pt===0&&(pt=5)}function di(e,n,s){var l=ze,c=mn.transition;try{mn.transition=null,ze=1,y1(e,n,s,l)}finally{mn.transition=c,ze=l}return null}function y1(e,n,s,l){do Ki();while(Rr!==null);if(Fe&6)throw Error(i(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if($0(e,h),e===yt&&(ct=yt=null,Et=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||_a||(_a=!0,Np(Ko,function(){return Ki(),null})),h=(s.flags&15990)!==0,s.subtreeFlags&15990||h){h=mn.transition,mn.transition=null;var w=ze;ze=1;var R=Fe;Fe|=4,dc.current=null,d1(e,s),vp(s,e),Ov(xu),ta=!!wu,xu=wu=null,e.current=s,f1(s),U0(),Fe=R,ze=w,mn.transition=h}else e.current=s;if(_a&&(_a=!1,Rr=e,za=c),h=e.pendingLanes,h===0&&(Mr=null),V0(s.stateNode),Gt(e,at()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],l(c.value,{componentStack:c.stack,digest:c.digest});if(qa)throw qa=!1,e=pc,pc=null,e;return za&1&&e.tag!==0&&Ki(),h=e.pendingLanes,h&1?e===mc?go++:(go=0,mc=e):go=0,Sr(),null}function Ki(){if(Rr!==null){var e=gf(za),n=mn.transition,s=ze;try{if(mn.transition=null,ze=16>e?16:e,Rr===null)var l=!1;else{if(e=Rr,Rr=null,za=0,Fe&6)throw Error(i(331));var c=Fe;for(Fe|=4,pe=e.current;pe!==null;){var h=pe,w=h.child;if(pe.flags&16){var R=h.deletions;if(R!==null){for(var B=0;B<R.length;B++){var Q=R[B];for(pe=Q;pe!==null;){var re=pe;switch(re.tag){case 0:case 11:case 15:ho(8,re,h)}var oe=re.child;if(oe!==null)oe.return=re,pe=oe;else for(;pe!==null;){re=pe;var ne=re.sibling,fe=re.return;if(hp(re),re===Q){pe=null;break}if(ne!==null){ne.return=fe,pe=ne;break}pe=fe}}}var me=h.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var lt=ge.sibling;ge.sibling=null,ge=lt}while(ge!==null)}}pe=h}}if(h.subtreeFlags&2064&&w!==null)w.return=h,pe=w;else e:for(;pe!==null;){if(h=pe,h.flags&2048)switch(h.tag){case 0:case 11:case 15:ho(9,h,h.return)}var H=h.sibling;if(H!==null){H.return=h.return,pe=H;break e}pe=h.return}}var j=e.current;for(pe=j;pe!==null;){w=pe;var V=w.child;if(w.subtreeFlags&2064&&V!==null)V.return=w,pe=V;else e:for(w=j;pe!==null;){if(R=pe,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:ja(9,R)}}catch(ye){rt(R,R.return,ye)}if(R===w){pe=null;break e}var ae=R.sibling;if(ae!==null){ae.return=R.return,pe=ae;break e}pe=R.return}}if(Fe=c,Sr(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Yo,e)}catch{}l=!0}return l}finally{ze=s,mn.transition=n}}return!1}function Tp(e,n,s){n=Gi(s,n),n=Qh(e,n,1),e=kr(e,n,1),n=Ot(),e!==null&&(qs(e,1,n),Gt(e,n))}function rt(e,n,s){if(e.tag===3)Tp(e,e,s);else for(;n!==null;){if(n.tag===3){Tp(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){e=Gi(s,e),e=Kh(n,e,1),n=kr(n,e,1),e=Ot(),n!==null&&(qs(n,1,e),Gt(n,e));break}}n=n.return}}function v1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=Ot(),e.pingedLanes|=e.suspendedLanes&s,yt===e&&(Et&s)===s&&(pt===4||pt===3&&(Et&130023424)===Et&&500>at()-hc?ci(e,0):fc|=s),Gt(e,n)}function Ip(e,n){n===0&&(e.mode&1?(n=$o,$o<<=1,!($o&130023424)&&($o=4194304)):n=1);var s=Ot();e=Jn(e,n),e!==null&&(qs(e,n,s),Gt(e,s))}function w1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ip(e,s)}function x1(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(n),Ip(e,s)}var bp;bp=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||_t.current)Ut=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return Ut=!1,a1(e,n,s);Ut=!!(e.flags&131072)}else Ut=!1,Ke&&n.flags&1048576&&ch(n,wa,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Fa(e,n),e=n.pendingProps;var c=ji(n,Mt.current);Ui(n,s),c=Gu(null,n,l,e,c,s);var h=Vu();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,zt(l)?(h=!0,ga(n)):h=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ou(n),c.updater=Na,n.stateNode=c,c._reactInternals=n,$u(n,l,e,s),n=tc(null,n,l,!0,h,s)):(n.tag=0,Ke&&h&&Ru(n),jt(null,n,c,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Fa(e,n),e=n.pendingProps,c=l._init,l=c(l._payload),n.type=l,c=n.tag=S1(l),e=Cn(l,e),c){case 0:n=ec(null,n,l,e,s);break e;case 1:n=rp(null,n,l,e,s);break e;case 11:n=Jh(null,n,l,e,s);break e;case 14:n=Zh(null,n,l,Cn(l.type,e),s);break e}throw Error(i(306,l,""))}return n;case 0:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Cn(l,c),ec(e,n,l,c,s);case 1:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Cn(l,c),rp(e,n,l,c,s);case 3:e:{if(ip(n),e===null)throw Error(i(387));l=n.pendingProps,h=n.memoizedState,c=h.element,wh(e,n),Ca(n,l,null,s);var w=n.memoizedState;if(l=w.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){c=Gi(Error(i(423)),n),n=sp(e,n,l,s,c);break e}else if(l!==c){c=Gi(Error(i(424)),n),n=sp(e,n,l,s,c);break e}else for(en=wr(n.stateNode.containerInfo.firstChild),Zt=n,Ke=!0,kn=null,s=yh(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(qi(),l===c){n=er(e,n,s);break e}jt(e,n,l,s)}n=n.child}return n;case 5:return Sh(n),e===null&&Iu(n),l=n.type,c=n.pendingProps,h=e!==null?e.memoizedProps:null,w=c.children,Au(l,c)?w=null:h!==null&&Au(l,h)&&(n.flags|=32),np(e,n),jt(e,n,w,s),n.child;case 6:return e===null&&Iu(n),null;case 13:return op(e,n,s);case 4:return Lu(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=_i(n,null,l,s):jt(e,n,l,s),n.child;case 11:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Cn(l,c),Jh(e,n,l,c,s);case 7:return jt(e,n,n.pendingProps,s),n.child;case 8:return jt(e,n,n.pendingProps.children,s),n.child;case 12:return jt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,c=n.pendingProps,h=n.memoizedProps,w=c.value,Ge(Sa,l._currentValue),l._currentValue=w,h!==null)if(En(h.value,w)){if(h.children===c.children&&!_t.current){n=er(e,n,s);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var R=h.dependencies;if(R!==null){w=h.child;for(var B=R.firstContext;B!==null;){if(B.context===l){if(h.tag===1){B=Zn(-1,s&-s),B.tag=2;var Q=h.updateQueue;if(Q!==null){Q=Q.shared;var re=Q.pending;re===null?B.next=B:(B.next=re.next,re.next=B),Q.pending=B}}h.lanes|=s,B=h.alternate,B!==null&&(B.lanes|=s),Du(h.return,s,n),R.lanes|=s;break}B=B.next}}else if(h.tag===10)w=h.type===n.type?null:h.child;else if(h.tag===18){if(w=h.return,w===null)throw Error(i(341));w.lanes|=s,R=w.alternate,R!==null&&(R.lanes|=s),Du(w,s,n),w=h.sibling}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}jt(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,l=n.pendingProps.children,Ui(n,s),c=hn(c),l=l(c),n.flags|=1,jt(e,n,l,s),n.child;case 14:return l=n.type,c=Cn(l,n.pendingProps),c=Cn(l.type,c),Zh(e,n,l,c,s);case 15:return ep(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Cn(l,c),Fa(e,n),n.tag=1,zt(l)?(e=!0,ga(n)):e=!1,Ui(n,s),Vh(n,l,c),$u(n,l,c,s),tc(null,n,l,!0,e,s);case 19:return lp(e,n,s);case 22:return tp(e,n,s)}throw Error(i(156,n.tag))};function Np(e,n){return df(e,n)}function A1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,l){return new A1(e,n,s,l)}function Ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function S1(e){if(typeof e=="function")return Ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ee)return 11;if(e===we)return 14}return 2}function Ir(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Va(e,n,s,l,c,h){var w=2;if(l=e,typeof e=="function")Ac(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case P:return fi(s.children,c,h,n);case D:w=8,c|=8;break;case X:return e=gn(12,s,n,c|2),e.elementType=X,e.lanes=h,e;case ie:return e=gn(13,s,n,c),e.elementType=ie,e.lanes=h,e;case de:return e=gn(19,s,n,c),e.elementType=de,e.lanes=h,e;case he:return Wa(s,c,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:w=10;break e;case $:w=9;break e;case ee:w=11;break e;case we:w=14;break e;case ue:w=16,l=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=gn(w,s,n,c),n.elementType=e,n.type=l,n.lanes=h,n}function fi(e,n,s,l){return e=gn(7,e,l,n),e.lanes=s,e}function Wa(e,n,s,l){return e=gn(22,e,l,n),e.elementType=he,e.lanes=s,e.stateNode={isHidden:!1},e}function Sc(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Ec(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function E1(e,n,s,l,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xl(0),this.expirationTimes=Xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function kc(e,n,s,l,c,h,w,R,B){return e=new E1(e,n,s,R,B),n===1?(n=1,h===!0&&(n|=8)):n=0,h=gn(3,null,null,n),e.current=h,h.stateNode=e,h.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ou(h),e}function k1(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function Bp(e){if(!e)return Ar;e=e._reactInternals;e:{if(ei(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(zt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var s=e.type;if(zt(s))return ah(e,s,n)}return n}function Fp(e,n,s,l,c,h,w,R,B){return e=kc(s,l,!0,e,c,h,w,R,B),e.context=Bp(null),s=e.current,l=Ot(),c=Pr(s),h=Zn(l,c),h.callback=n??null,kr(s,h,c),e.current.lanes=c,qs(e,c,l),Gt(e,l),e}function Qa(e,n,s,l){var c=n.current,h=Ot(),w=Pr(c);return s=Bp(s),n.context===null?n.context=s:n.pendingContext=s,n=Zn(h,w),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=kr(c,n,w),e!==null&&(Pn(e,c,w,h),ka(e,c,w)),w}function Ka(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Cc(e,n){Dp(e,n),(e=e.alternate)&&Dp(e,n)}function C1(){return null}var jp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mc(e){this._internalRoot=e}Ya.prototype.render=Mc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));Qa(e,n,null,null)},Ya.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ui(function(){Qa(null,e,null,null)}),n[Kn]=null}};function Ya(e){this._internalRoot=e}Ya.prototype.unstable_scheduleHydration=function(e){if(e){var n=wf();e={blockedOn:null,target:e,priority:n};for(var s=0;s<gr.length&&n!==0&&n<gr[s].priority;s++);gr.splice(s,0,e),s===0&&Sf(e)}};function Rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Op(){}function M1(e,n,s,l,c){if(c){if(typeof l=="function"){var h=l;l=function(){var Q=Ka(w);h.call(Q)}}var w=Fp(n,l,e,0,null,!1,!1,"",Op);return e._reactRootContainer=w,e[Kn]=w.current,Zs(e.nodeType===8?e.parentNode:e),ui(),w}for(;c=e.lastChild;)e.removeChild(c);if(typeof l=="function"){var R=l;l=function(){var Q=Ka(B);R.call(Q)}}var B=kc(e,0,!1,null,null,!1,!1,"",Op);return e._reactRootContainer=B,e[Kn]=B.current,Zs(e.nodeType===8?e.parentNode:e),ui(function(){Qa(n,B,s,l)}),B}function $a(e,n,s,l,c){var h=s._reactRootContainer;if(h){var w=h;if(typeof c=="function"){var R=c;c=function(){var B=Ka(w);R.call(B)}}Qa(n,w,e,c)}else w=M1(s,n,e,c,l);return Ka(w)}yf=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Ls(n.pendingLanes);s!==0&&($l(n,s|1),Gt(n,at()),!(Fe&6)&&(Qi=at()+500,Sr()))}break;case 13:ui(function(){var l=Jn(e,1);if(l!==null){var c=Ot();Pn(l,e,1,c)}}),Cc(e,1)}},Jl=function(e){if(e.tag===13){var n=Jn(e,134217728);if(n!==null){var s=Ot();Pn(n,e,134217728,s)}Cc(e,134217728)}},vf=function(e){if(e.tag===13){var n=Pr(e),s=Jn(e,n);if(s!==null){var l=Ot();Pn(s,e,n,l)}Cc(e,n)}},wf=function(){return ze},xf=function(e,n){var s=ze;try{return ze=e,n()}finally{ze=s}},fr=function(e,n,s){switch(n){case"input":if(_e(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=pa(l);if(!c)throw Error(i(90));Yr(l),_e(l,c)}}}break;case"textarea":$r(e,s);break;case"select":n=s.value,n!=null&&Nt(e,!!s.multiple,n,!1)}},b=vc,Y=ui;var R1={usingClientEntryPoint:!1,Events:[no,Fi,pa,js,Os,vc]},yo={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P1={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uf(e),e===null?null:e.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||C1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{Yo=Ja.inject(P1),Bn=Ja}catch{}}return Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R1,Vt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rc(n))throw Error(i(200));return k1(e,n,null,s)},Vt.createRoot=function(e,n){if(!Rc(e))throw Error(i(299));var s=!1,l="",c=jp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=kc(e,1,!1,null,null,s,!1,l,c),e[Kn]=n.current,Zs(e.nodeType===8?e.parentNode:e),new Mc(n)},Vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=uf(n),e=e===null?null:e.stateNode,e},Vt.flushSync=function(e){return ui(e)},Vt.hydrate=function(e,n,s){if(!Xa(n))throw Error(i(200));return $a(null,e,n,!0,s)},Vt.hydrateRoot=function(e,n,s){if(!Rc(e))throw Error(i(405));var l=s!=null&&s.hydratedSources||null,c=!1,h="",w=jp;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),n=Fp(n,null,e,1,s??null,c,!1,h,w),e[Kn]=n.current,Zs(e),l)for(e=0;e<l.length;e++)s=l[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new Ya(n)},Vt.render=function(e,n,s){if(!Xa(n))throw Error(i(200));return $a(null,e,n,!1,s)},Vt.unmountComponentAtNode=function(e){if(!Xa(e))throw Error(i(40));return e._reactRootContainer?(ui(function(){$a(null,null,e,!1,function(){e._reactRootContainer=null,e[Kn]=null})}),!0):!1},Vt.unstable_batchedUpdates=vc,Vt.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!Xa(s))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return $a(e,n,s,!1,l)},Vt.version="18.3.1-next-f1338f8080-20240426",Vt}var Vp;function L1(){if(Vp)return Ic.exports;Vp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ic.exports=O1(),Ic.exports}var Wp;function q1(){if(Wp)return Za;Wp=1;var r=L1();return Za.createRoot=r.createRoot,Za.hydrateRoot=r.hydrateRoot,Za}var _1=q1(),wo={},Qp;function z1(){if(Qp)return wo;Qp=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.parse=d,wo.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function d(y,E){const A=new u,T=y.length;if(T<2)return A;const S=(E==null?void 0:E.decode)||v;let C=0;do{const _=y.indexOf("=",C);if(_===-1)break;const I=y.indexOf(";",C),L=I===-1?T:I;if(_>L){C=y.lastIndexOf(";",_-1)+1;continue}const U=g(y,C,_),M=f(y,_,U),P=y.slice(U,M);if(A[P]===void 0){let D=g(y,_+1,L),X=f(y,L,D);const z=S(y.slice(D,X));A[P]=z}C=L+1}while(C<T);return A}function g(y,E,A){do{const T=y.charCodeAt(E);if(T!==32&&T!==9)return E}while(++E<A);return A}function f(y,E,A){for(;E>A;){const T=y.charCodeAt(--E);if(T!==32&&T!==9)return E+1}return A}function p(y,E,A){const T=(A==null?void 0:A.encode)||encodeURIComponent;if(!r.test(y))throw new TypeError(`argument name is invalid: ${y}`);const S=T(E);if(!t.test(S))throw new TypeError(`argument val is invalid: ${E}`);let C=y+"="+S;if(!A)return C;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);C+="; Max-Age="+A.maxAge}if(A.domain){if(!i.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);C+="; Domain="+A.domain}if(A.path){if(!o.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);C+="; Path="+A.path}if(A.expires){if(!k(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);C+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(C+="; HttpOnly"),A.secure&&(C+="; Secure"),A.partitioned&&(C+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return C}function v(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function k(y){return a.call(y)==="[object Date]"}return wo}z1();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kp="popstate";function U1(r={}){function t(o,a){let{pathname:u,search:d,hash:g}=o.location;return Oc("",{pathname:u,search:d,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(o,a){return typeof a=="string"?a:Po(a)}return G1(t,i,null,r)}function Je(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Hn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H1(){return Math.random().toString(36).substring(2,10)}function Yp(r,t){return{usr:r.state,key:r.key,idx:t}}function Oc(r,t,i=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Is(t):t,state:i,key:t&&t.key||o||H1()}}function Po({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Is(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let o=r.indexOf("?");o>=0&&(t.search=r.substring(o),r=r.substring(0,o)),r&&(t.pathname=r)}return t}function G1(r,t,i,o={}){let{window:a=document.defaultView,v5Compat:u=!1}=o,d=a.history,g="POP",f=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function k(){g="POP";let S=v(),C=S==null?null:S-p;p=S,f&&f({action:g,location:T.location,delta:C})}function y(S,C){g="PUSH";let _=Oc(T.location,S,C);p=v()+1;let I=Yp(_,p),L=T.createHref(_);try{d.pushState(I,"",L)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(L)}u&&f&&f({action:g,location:T.location,delta:1})}function E(S,C){g="REPLACE";let _=Oc(T.location,S,C);p=v();let I=Yp(_,p),L=T.createHref(_);d.replaceState(I,"",L),u&&f&&f({action:g,location:T.location,delta:0})}function A(S){let C=a.location.origin!=="null"?a.location.origin:a.location.href,_=typeof S=="string"?S:Po(S);return _=_.replace(/ $/,"%20"),Je(C,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,C)}let T={get action(){return g},get location(){return r(a,d)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Kp,k),f=S,()=>{a.removeEventListener(Kp,k),f=null}},createHref(S){return t(a,S)},createURL:A,encodeLocation(S){let C=A(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:E,go(S){return d.go(S)}};return T}function am(r,t,i="/"){return V1(r,t,i,!1)}function V1(r,t,i,o){let a=typeof t=="string"?Is(t):t,u=_r(a.pathname||"/",i);if(u==null)return null;let d=lm(r);W1(d);let g=null;for(let f=0;g==null&&f<d.length;++f){let p=rw(u);g=tw(d[f],p,o)}return g}function lm(r,t=[],i=[],o=""){let a=(u,d,g)=>{let f={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};f.relativePath.startsWith("/")&&(Je(f.relativePath.startsWith(o),`Absolute route path "${f.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(o.length));let p=ir([o,f.relativePath]),v=i.concat(f);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),lm(u.children,t,v,p)),!(u.path==null&&!u.index)&&t.push({path:p,score:Z1(p,u.index),routesMeta:v})};return r.forEach((u,d)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))a(u,d);else for(let f of um(u.path))a(u,d,f)}),t}function um(r){let t=r.split("/");if(t.length===0)return[];let[i,...o]=t,a=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return a?[u,""]:[u];let d=um(o.join("/")),g=[];return g.push(...d.map(f=>f===""?u:[u,f].join("/"))),a&&g.push(...d),g.map(f=>r.startsWith("/")&&f===""?"/":f)}function W1(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:ew(t.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var Q1=/^:[\w-]+$/,K1=3,Y1=2,X1=1,$1=10,J1=-2,Xp=r=>r==="*";function Z1(r,t){let i=r.split("/"),o=i.length;return i.some(Xp)&&(o+=J1),t&&(o+=Y1),i.filter(a=>!Xp(a)).reduce((a,u)=>a+(Q1.test(u)?K1:u===""?X1:$1),o)}function ew(r,t){return r.length===t.length&&r.slice(0,-1).every((o,a)=>o===t[a])?r[r.length-1]-t[t.length-1]:0}function tw(r,t,i=!1){let{routesMeta:o}=r,a={},u="/",d=[];for(let g=0;g<o.length;++g){let f=o[g],p=g===o.length-1,v=u==="/"?t:t.slice(u.length)||"/",k=pl({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),y=f.route;if(!k&&p&&i&&!o[o.length-1].route.index&&(k=pl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!k)return null;Object.assign(a,k.params),d.push({params:a,pathname:ir([u,k.pathname]),pathnameBase:aw(ir([u,k.pathnameBase])),route:y}),k.pathnameBase!=="/"&&(u=ir([u,k.pathnameBase]))}return d}function pl(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,o]=nw(r.path,r.caseSensitive,r.end),a=t.match(i);if(!a)return null;let u=a[0],d=u.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:o.reduce((p,{paramName:v,isOptional:k},y)=>{if(v==="*"){let A=g[y]||"";d=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const E=g[y];return k&&!E?p[v]=void 0:p[v]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:r}}function nw(r,t=!1,i=!0){Hn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,f)=>(o.push({paramName:g,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),o]}function rw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function _r(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,o=r.charAt(i);return o&&o!=="/"?null:r.slice(i)||"/"}function iw(r,t="/"){let{pathname:i,search:o="",hash:a=""}=typeof r=="string"?Is(r):r;return{pathname:i?i.startsWith("/")?i:sw(i,t):t,search:lw(o),hash:uw(a)}}function sw(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function Bc(r,t,i,o){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ow(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function cm(r){let t=ow(r);return t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase)}function dm(r,t,i,o=!1){let a;typeof r=="string"?a=Is(r):(a={...r},Je(!a.pathname||!a.pathname.includes("?"),Bc("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),Bc("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),Bc("#","search","hash",a)));let u=r===""||a.pathname==="",d=u?"/":a.pathname,g;if(d==null)g=i;else{let k=t.length-1;if(!o&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),k-=1;a.pathname=y.join("/")}g=k>=0?t[k]:"/"}let f=iw(a,g),p=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&i.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var ir=r=>r.join("/").replace(/\/\/+/g,"/"),aw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,uw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function cw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var fm=["POST","PUT","PATCH","DELETE"];new Set(fm);var dw=["GET",...fm];new Set(dw);var bs=q.createContext(null);bs.displayName="DataRouter";var Tl=q.createContext(null);Tl.displayName="DataRouterState";var hm=q.createContext({isTransitioning:!1});hm.displayName="ViewTransition";var fw=q.createContext(new Map);fw.displayName="Fetchers";var hw=q.createContext(null);hw.displayName="Await";var Gn=q.createContext(null);Gn.displayName="Navigation";var Lo=q.createContext(null);Lo.displayName="Location";var ar=q.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var Zc=q.createContext(null);Zc.displayName="RouteError";function pw(r,{relative:t}={}){Je(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=q.useContext(Gn),{hash:a,pathname:u,search:d}=_o(r,{relative:t}),g=u;return i!=="/"&&(g=u==="/"?i:ir([i,u])),o.createHref({pathname:g,search:d,hash:a})}function qo(){return q.useContext(Lo)!=null}function Qr(){return Je(qo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Lo).location}var pm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mm(r){q.useContext(Gn).static||q.useLayoutEffect(r)}function gm(){let{isDataRoute:r}=q.useContext(ar);return r?Rw():mw()}function mw(){Je(qo(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(bs),{basename:t,navigator:i}=q.useContext(Gn),{matches:o}=q.useContext(ar),{pathname:a}=Qr(),u=JSON.stringify(cm(o)),d=q.useRef(!1);return mm(()=>{d.current=!0}),q.useCallback((f,p={})=>{if(Hn(d.current,pm),!d.current)return;if(typeof f=="number"){i.go(f);return}let v=dm(f,JSON.parse(u),a,p.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ir([t,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[t,i,u,a,r])}q.createContext(null);function _o(r,{relative:t}={}){let{matches:i}=q.useContext(ar),{pathname:o}=Qr(),a=JSON.stringify(cm(i));return q.useMemo(()=>dm(r,JSON.parse(a),o,t==="path"),[r,a,o,t])}function gw(r,t){return ym(r,t)}function ym(r,t,i,o){var _;Je(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:u}=q.useContext(Gn),{matches:d}=q.useContext(ar),g=d[d.length-1],f=g?g.params:{},p=g?g.pathname:"/",v=g?g.pathnameBase:"/",k=g&&g.route;{let I=k&&k.path||"";vm(p,!k||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=Qr(),E;if(t){let I=typeof t=="string"?Is(t):t;Je(v==="/"||((_=I.pathname)==null?void 0:_.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${I.pathname}" was given in the \`location\` prop.`),E=I}else E=y;let A=E.pathname||"/",T=A;if(v!=="/"){let I=v.replace(/^\//,"").split("/");T="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let S=!u&&i&&i.matches&&i.matches.length>0?i.matches:am(r,{pathname:T});Hn(k||S!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Hn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Aw(S&&S.map(I=>Object.assign({},I,{params:Object.assign({},f,I.params),pathname:ir([v,a.encodeLocation?a.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?v:ir([v,a.encodeLocation?a.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),d,i,o);return t&&C?q.createElement(Lo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},C):C}function yw(){let r=Mw(),t=cw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),i?q.createElement("pre",{style:a},i):null,d)}var vw=q.createElement(yw,null),ww=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?q.createElement(ar.Provider,{value:this.props.routeContext},q.createElement(Zc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xw({routeContext:r,match:t,children:i}){let o=q.useContext(bs);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(ar.Provider,{value:r},i)}function Aw(r,t=[],i=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let a=r,u=i==null?void 0:i.errors;if(u!=null){let f=a.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Je(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let d=!1,g=-1;if(i)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=f),p.route.id){let{loaderData:v,errors:k}=i,y=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!k||k[p.route.id]===void 0);if(p.route.lazy||y){d=!0,g>=0?a=a.slice(0,g+1):a=[a[0]];break}}}return a.reduceRight((f,p,v)=>{let k,y=!1,E=null,A=null;i&&(k=u&&p.route.id?u[p.route.id]:void 0,E=p.route.errorElement||vw,d&&(g<0&&v===0?(vm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,A=null):g===v&&(y=!0,A=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,v+1)),S=()=>{let C;return k?C=E:y?C=A:p.route.Component?C=q.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,q.createElement(xw,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:i!=null},children:C})};return i&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?q.createElement(ww,{location:i.location,revalidation:i.revalidation,component:E,error:k,children:S(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):S()},null)}function ed(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sw(r){let t=q.useContext(bs);return Je(t,ed(r)),t}function Ew(r){let t=q.useContext(Tl);return Je(t,ed(r)),t}function kw(r){let t=q.useContext(ar);return Je(t,ed(r)),t}function td(r){let t=kw(r),i=t.matches[t.matches.length-1];return Je(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Cw(){return td("useRouteId")}function Mw(){var o;let r=q.useContext(Zc),t=Ew("useRouteError"),i=td("useRouteError");return r!==void 0?r:(o=t.errors)==null?void 0:o[i]}function Rw(){let{router:r}=Sw("useNavigate"),t=td("useNavigate"),i=q.useRef(!1);return mm(()=>{i.current=!0}),q.useCallback(async(a,u={})=>{Hn(i.current,pm),i.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:t,...u}))},[r,t])}var $p={};function vm(r,t,i){!t&&!$p[r]&&($p[r]=!0,Hn(!1,i))}q.memo(Pw);function Pw({routes:r,future:t,state:i}){return ym(r,void 0,i,t)}function Qe(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tw({basename:r="/",children:t=null,location:i,navigationType:o="POP",navigator:a,static:u=!1}){Je(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:d,navigator:a,static:u,future:{}}),[d,a,u]);typeof i=="string"&&(i=Is(i));let{pathname:f="/",search:p="",hash:v="",state:k=null,key:y="default"}=i,E=q.useMemo(()=>{let A=_r(f,d);return A==null?null:{location:{pathname:A,search:p,hash:v,state:k,key:y},navigationType:o}},[d,f,p,v,k,y,o]);return Hn(E!=null,`<Router basename="${d}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:q.createElement(Gn.Provider,{value:g},q.createElement(Lo.Provider,{children:t,value:E}))}function wm({children:r,location:t}){return gw(Lc(r),t)}function Lc(r,t=[]){let i=[];return q.Children.forEach(r,(o,a)=>{if(!q.isValidElement(o))return;let u=[...t,a];if(o.type===q.Fragment){i.push.apply(i,Lc(o.props.children,u));return}Je(o.type===Qe,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Lc(o.props.children,u)),i.push(d)}),i}var ll="get",ul="application/x-www-form-urlencoded";function Il(r){return r!=null&&typeof r.tagName=="string"}function Iw(r){return Il(r)&&r.tagName.toLowerCase()==="button"}function bw(r){return Il(r)&&r.tagName.toLowerCase()==="form"}function Nw(r){return Il(r)&&r.tagName.toLowerCase()==="input"}function Bw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Fw(r,t){return r.button===0&&(!t||t==="_self")&&!Bw(r)}var el=null;function Dw(){if(el===null)try{new FormData(document.createElement("form"),0),el=!1}catch{el=!0}return el}var jw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fc(r){return r!=null&&!jw.has(r)?(Hn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ul}"`),null):r}function Ow(r,t){let i,o,a,u,d;if(bw(r)){let g=r.getAttribute("action");o=g?_r(g,t):null,i=r.getAttribute("method")||ll,a=Fc(r.getAttribute("enctype"))||ul,u=new FormData(r)}else if(Iw(r)||Nw(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||g.getAttribute("action");if(o=f?_r(f,t):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||ll,a=Fc(r.getAttribute("formenctype"))||Fc(g.getAttribute("enctype"))||ul,u=new FormData(g,r),!Dw()){let{name:p,type:v,value:k}=r;if(v==="image"){let y=p?`${p}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else p&&u.append(p,k)}}else{if(Il(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ll,o=null,a=ul,d=r}return u&&a==="text/plain"&&(d=u,u=void 0),{action:o,method:i.toLowerCase(),encType:a,formData:u,body:d}}function nd(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Lw(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _w(r,t,i){let o=await Promise.all(r.map(async a=>{let u=t.routes[a.route.id];if(u){let d=await Lw(u,i);return d.links?d.links():[]}return[]}));return Gw(o.flat(1).filter(qw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Jp(r,t,i,o,a,u){let d=(f,p)=>i[p]?f.route.id!==i[p].route.id:!0,g=(f,p)=>{var v;return i[p].pathname!==f.pathname||((v=i[p].route.path)==null?void 0:v.endsWith("*"))&&i[p].params["*"]!==f.params["*"]};return u==="assets"?t.filter((f,p)=>d(f,p)||g(f,p)):u==="data"?t.filter((f,p)=>{var k;let v=o.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(d(f,p)||g(f,p))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((k=i[0])==null?void 0:k.params)||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function zw(r,t){return Uw(r.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let a=[o.module];return o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function Uw(r){return[...new Set(r)]}function Hw(r){let t={},i=Object.keys(r).sort();for(let o of i)t[o]=r[o];return t}function Gw(r,t){let i=new Set;return new Set(t),r.reduce((o,a)=>{let u=JSON.stringify(Hw(a));return i.has(u)||(i.add(u),o.push({key:u,link:a})),o},[])}function Vw(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Ww(){let r=q.useContext(bs);return nd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Qw(){let r=q.useContext(Tl);return nd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rd=q.createContext(void 0);rd.displayName="FrameworkContext";function xm(){let r=q.useContext(rd);return nd(r,"You must render this element inside a <HydratedRouter> element"),r}function Kw(r,t){let i=q.useContext(rd),[o,a]=q.useState(!1),[u,d]=q.useState(!1),{onFocus:g,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:k}=t,y=q.useRef(null);q.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let T=C=>{C.forEach(_=>{d(_.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[r]),q.useEffect(()=>{if(o){let T=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(T)}}},[o]);let E=()=>{a(!0)},A=()=>{a(!1),d(!1)};return i?r!=="intent"?[u,y,{}]:[u,y,{onFocus:xo(g,E),onBlur:xo(f,A),onMouseEnter:xo(p,E),onMouseLeave:xo(v,A),onTouchStart:xo(k,E)}]:[!1,y,{}]}function xo(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function Yw({page:r,...t}){let{router:i}=Ww(),o=q.useMemo(()=>am(i.routes,r,i.basename),[i.routes,r,i.basename]);return o?q.createElement($w,{page:r,matches:o,...t}):null}function Xw(r){let{manifest:t,routeModules:i}=xm(),[o,a]=q.useState([]);return q.useEffect(()=>{let u=!1;return _w(r,t,i).then(d=>{u||a(d)}),()=>{u=!0}},[r,t,i]),o}function $w({page:r,matches:t,...i}){let o=Qr(),{manifest:a,routeModules:u}=xm(),{loaderData:d,matches:g}=Qw(),f=q.useMemo(()=>Jp(r,t,g,a,o,"data"),[r,t,g,a,o]),p=q.useMemo(()=>Jp(r,t,g,a,o,"assets"),[r,t,g,a,o]),v=q.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let E=new Set,A=!1;if(t.forEach(S=>{var _;let C=a.routes[S.route.id];!C||!C.hasLoader||(!f.some(I=>I.route.id===S.route.id)&&S.route.id in d&&((_=u[S.route.id])!=null&&_.shouldRevalidate)||C.hasClientLoader?A=!0:E.add(S.route.id))}),E.size===0)return[];let T=Vw(r);return A&&E.size>0&&T.searchParams.set("_routes",t.filter(S=>E.has(S.route.id)).map(S=>S.route.id).join(",")),[T.pathname+T.search]},[d,o,a,f,t,r,u]),k=q.useMemo(()=>zw(p,a),[p,a]),y=Xw(p);return q.createElement(q.Fragment,null,v.map(E=>q.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...i})),k.map(E=>q.createElement("link",{key:E,rel:"modulepreload",href:E,...i})),y.map(({key:E,link:A})=>q.createElement("link",{key:E,...A})))}function Jw(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Am=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Am&&(window.__reactRouterVersion="7.1.5")}catch{}function Zw({basename:r,children:t,window:i}){let o=q.useRef();o.current==null&&(o.current=U1({window:i,v5Compat:!0}));let a=o.current,[u,d]=q.useState({action:a.action,location:a.location}),g=q.useCallback(f=>{q.startTransition(()=>d(f))},[d]);return q.useLayoutEffect(()=>a.listen(g),[a,g]),q.createElement(Tw,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:a})}var Sm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ns=q.forwardRef(function({onClick:t,discover:i="render",prefetch:o="none",relative:a,reloadDocument:u,replace:d,state:g,target:f,to:p,preventScrollReset:v,viewTransition:k,...y},E){let{basename:A}=q.useContext(Gn),T=typeof p=="string"&&Sm.test(p),S,C=!1;if(typeof p=="string"&&T&&(S=p,Am))try{let X=new URL(window.location.href),z=p.startsWith("//")?new URL(X.protocol+p):new URL(p),$=_r(z.pathname,A);z.origin===X.origin&&$!=null?p=$+z.search+z.hash:C=!0}catch{Hn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=pw(p,{relative:a}),[I,L,U]=Kw(o,y),M=nx(p,{replace:d,state:g,target:f,preventScrollReset:v,relative:a,viewTransition:k});function P(X){t&&t(X),X.defaultPrevented||M(X)}let D=q.createElement("a",{...y,...U,href:S||_,onClick:C||u?t:P,ref:Jw(E,L),target:f,"data-discover":!T&&i==="render"?"true":void 0});return I&&!T?q.createElement(q.Fragment,null,D,q.createElement(Yw,{page:_})):D});ns.displayName="Link";var Em=q.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:o="",end:a=!1,style:u,to:d,viewTransition:g,children:f,...p},v){let k=_o(d,{relative:p.relative}),y=Qr(),E=q.useContext(Tl),{navigator:A,basename:T}=q.useContext(Gn),S=E!=null&&ax(k)&&g===!0,C=A.encodeLocation?A.encodeLocation(k).pathname:k.pathname,_=y.pathname,I=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(_=_.toLowerCase(),I=I?I.toLowerCase():null,C=C.toLowerCase()),I&&T&&(I=_r(I,T)||I);const L=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let U=_===C||!a&&_.startsWith(C)&&_.charAt(L)==="/",M=I!=null&&(I===C||!a&&I.startsWith(C)&&I.charAt(C.length)==="/"),P={isActive:U,isPending:M,isTransitioning:S},D=U?t:void 0,X;typeof o=="function"?X=o(P):X=[o,U?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let z=typeof u=="function"?u(P):u;return q.createElement(ns,{...p,"aria-current":D,className:X,ref:v,style:z,to:d,viewTransition:g},typeof f=="function"?f(P):f)});Em.displayName="NavLink";var ex=q.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:o,replace:a,state:u,method:d=ll,action:g,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:k,...y},E)=>{let A=sx(),T=ox(g,{relative:p}),S=d.toLowerCase()==="get"?"get":"post",C=typeof g=="string"&&Sm.test(g),_=I=>{if(f&&f(I),I.defaultPrevented)return;I.preventDefault();let L=I.nativeEvent.submitter,U=(L==null?void 0:L.getAttribute("formmethod"))||d;A(L||I.currentTarget,{fetcherKey:t,method:U,navigate:i,replace:a,state:u,relative:p,preventScrollReset:v,viewTransition:k})};return q.createElement("form",{ref:E,method:S,action:T,onSubmit:o?f:_,...y,"data-discover":!C&&r==="render"?"true":void 0})});ex.displayName="Form";function tx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function km(r){let t=q.useContext(bs);return Je(t,tx(r)),t}function nx(r,{target:t,replace:i,state:o,preventScrollReset:a,relative:u,viewTransition:d}={}){let g=gm(),f=Qr(),p=_o(r,{relative:u});return q.useCallback(v=>{if(Fw(v,t)){v.preventDefault();let k=i!==void 0?i:Po(f)===Po(p);g(r,{replace:k,state:o,preventScrollReset:a,relative:u,viewTransition:d})}},[f,g,p,i,o,t,r,a,u,d])}var rx=0,ix=()=>`__${String(++rx)}__`;function sx(){let{router:r}=km("useSubmit"),{basename:t}=q.useContext(Gn),i=Cw();return q.useCallback(async(o,a={})=>{let{action:u,method:d,encType:g,formData:f,body:p}=Ow(o,t);if(a.navigate===!1){let v=a.fetcherKey||ix();await r.fetch(v,i,a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||d,formEncType:a.encType||g,flushSync:a.flushSync})}else await r.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||d,formEncType:a.encType||g,replace:a.replace,state:a.state,fromRouteId:i,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,t,i])}function ox(r,{relative:t}={}){let{basename:i}=q.useContext(Gn),o=q.useContext(ar);Je(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),u={..._o(r||".",{relative:t})},d=Qr();if(r==null){u.search=d.search;let g=new URLSearchParams(u.search),f=g.getAll("index");if(f.some(v=>v==="")){g.delete("index"),f.filter(k=>k).forEach(k=>g.append("index",k));let v=g.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ir([i,u.pathname])),Po(u)}function ax(r,t={}){let i=q.useContext(hm);Je(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=km("useViewTransitionState"),a=_o(r,{relative:t.relative});if(!i.isTransitioning)return!1;let u=_r(i.currentLocation.pathname,o)||i.currentLocation.pathname,d=_r(i.nextLocation.pathname,o)||i.nextLocation.pathname;return pl(a.pathname,d)!=null||pl(a.pathname,u)!=null}new TextEncoder;const lx="_gameGrid_7dvw9_1",ux="_gameCard_7dvw9_21",cx="_thumbnail_7dvw9_55",dx="_gameTitle_7dvw9_89",tl={gameGrid:lx,gameCard:ux,thumbnail:cx,gameTitle:dx};var fx=Object.defineProperty,m=(r,t)=>fx(r,"name",{value:t,configurable:!0}),hx=(()=>{for(var r=new Uint8Array(128),t=0;t<64;t++)r[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return i=>{for(var o=i.length,a=new Uint8Array((o-(i[o-1]=="=")-(i[o-2]=="="))*3/4|0),u=0,d=0;u<o;){var g=r[i.charCodeAt(u++)],f=r[i.charCodeAt(u++)],p=r[i.charCodeAt(u++)],v=r[i.charCodeAt(u++)];a[d++]=g<<2|f>>4,a[d++]=f<<4|p>>2,a[d++]=p<<6|v}return a}})(),Oe,be=(Oe=class{constructor(t,i,o){G(this,"r",255);G(this,"g",255);G(this,"b",255);this.r=Nn(t,0,255),this.g=Nn(i,0,255),this.b=Nn(o,0,255)}static fromArray(t){return new Oe(t[0],t[1],t[2])}static fromHex(t){if(typeof t=="number")return new Oe(t>>16&255,t>>8&255,t>>0&255);if(typeof t=="string"){let i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!i)throw new Error("Invalid hex color format");return new Oe(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(t,i,o){if(i==0)return new Oe(255*o,255*o,255*o);let a=m((v,k,y)=>(y<0&&(y+=1),y>1&&(y-=1),y<1/6?v+(k-v)*6*y:y<1/2?k:y<2/3?v+(k-v)*(2/3-y)*6:v),"hue2rgb"),u=o<.5?o*(1+i):o+i-o*i,d=2*o-u,g=a(d,u,t+1/3),f=a(d,u,t),p=a(d,u,t-1/3);return new Oe(Math.round(g*255),Math.round(f*255),Math.round(p*255))}clone(){return new Oe(this.r,this.g,this.b)}lighten(t){return new Oe(this.r+t,this.g+t,this.b+t)}darken(t){return this.lighten(-t)}invert(){return new Oe(255-this.r,255-this.g,255-this.b)}mult(t){return new Oe(this.r*t.r/255,this.g*t.g/255,this.b*t.b/255)}lerp(t,i){return new Oe(Yt(this.r,t.r,i),Yt(this.g,t.g,i),Yt(this.b,t.b,i))}toHSL(){let t=this.r/255,i=this.g/255,o=this.b/255,a=Math.max(t,i,o),u=Math.min(t,i,o),d=(a+u)/2,g=d,f=d;if(a==u)d=g=0;else{let p=a-u;switch(g=f>.5?p/(2-a-u):p/(a+u),a){case t:d=(i-o)/p+(i<o?6:0);break;case i:d=(o-t)/p+2;break;case o:d=(t-i)/p+4;break}d/=6}return[d,g,f]}eq(t){return this.r===t.r&&this.g===t.g&&this.b===t.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}},m(Oe,"Color"),G(Oe,"RED",new Oe(255,0,0)),G(Oe,"GREEN",new Oe(0,255,0)),G(Oe,"BLUE",new Oe(0,0,255)),G(Oe,"YELLOW",new Oe(255,255,0)),G(Oe,"MAGENTA",new Oe(255,0,255)),G(Oe,"CYAN",new Oe(0,255,255)),G(Oe,"WHITE",new Oe(255,255,255)),G(Oe,"BLACK",new Oe(0,0,0)),Oe);function Le(...r){if(r.length===0)return new be(255,255,255);if(r.length===1){if(r[0]instanceof be)return r[0].clone();if(typeof r[0]=="string")return be.fromHex(r[0]);if(Array.isArray(r[0])&&r[0].length===3)return be.fromArray(r[0])}else if(r.length===2){if(r[0]instanceof be)return r[0].clone()}else if(r.length===3||r.length===4)return new be(r[0],r[1],r[2]);throw new Error("Invalid color arguments")}m(Le,"rgb");var px=m((r,t,i)=>be.fromHSL(r,t,i),"hsl2rgb");function ft(r){return r*Math.PI/180}m(ft,"deg2rad");function zr(r){return r*180/Math.PI}m(zr,"rad2deg");function Nn(r,t,i){return t>i?Nn(r,i,t):Math.min(Math.max(r,t),i)}m(Nn,"clamp");function Yt(r,t,i){if(typeof r=="number"&&typeof t=="number")return r+(t-r)*i;if(r instanceof J&&t instanceof J||r instanceof be&&t instanceof be)return r.lerp(t,i);throw new Error(`Bad value for lerp(): ${r}, ${t}. Only number, Vec2 and Color is supported.`)}m(Yt,"lerp");function bn(r,t,i,o,a){return o+(r-t)/(i-t)*(a-o)}m(bn,"map");function Cm(r,t,i,o,a){return Nn(bn(r,t,i,o,a),o,a)}m(Cm,"mapc");var He,J=(He=class{constructor(t=0,i=t){G(this,"x",0);G(this,"y",0);this.x=t,this.y=i}static fromAngle(t){let i=ft(t);return new He(Math.cos(i),Math.sin(i))}static fromArray(t){return new He(t[0],t[1])}clone(){return new He(this.x,this.y)}add(...t){let i=K(...t);return new He(this.x+i.x,this.y+i.y)}sub(...t){let i=K(...t);return new He(this.x-i.x,this.y-i.y)}scale(...t){let i=K(...t);return new He(this.x*i.x,this.y*i.y)}dist(...t){let i=K(...t);return this.sub(i).len()}sdist(...t){let i=K(...t);return this.sub(i).slen()}static sdist(t,i){let o=t.x-i.x,a=t.y-i.y;return o*o+a*a}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let t=this.len();return t===0?new He(0):this.scale(1/t)}normal(){return new He(this.y,-this.x)}reflect(t){return this.sub(t.scale(2*this.dot(t)))}project(t){return t.scale(t.dot(this)/t.len())}reject(t){return this.sub(this.project(t))}dot(t){return this.x*t.x+this.y*t.y}static dot(t,i){return t.x*t.x+t.y*t.y}cross(t){return this.x*t.y-this.y*t.x}static cross(t,i){return t.x*i.y-t.y*i.x}angle(...t){let i=K(...t);return zr(Math.atan2(this.y-i.y,this.x-i.x))}angleBetween(...t){let i=K(...t);return zr(Math.atan2(this.cross(i),this.dot(i)))}lerp(t,i){return new He(Yt(this.x,t.x,i),Yt(this.y,t.y,i))}slerp(t,i){let o=this.dot(t),a=this.cross(t),u=Math.atan2(a,o);return this.scale(Math.sin((1-i)*u)).add(t.scale(Math.sin(i*u))).scale(1/a)}isZero(){return this.x===0&&this.y===0}toFixed(t){return new He(Number(this.x.toFixed(t)),Number(this.y.toFixed(t)))}transform(t){return t.multVec2(this)}eq(t){return this.x===t.x&&this.y===t.y}bbox(){return new Ze(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}},m(He,"Vec2"),G(He,"ZERO",new He(0,0)),G(He,"ONE",new He(1,1)),G(He,"LEFT",new He(-1,0)),G(He,"RIGHT",new He(1,0)),G(He,"UP",new He(0,-1)),G(He,"DOWN",new He(0,1)),He);function K(...r){if(r.length===1){if(r[0]instanceof J)return new J(r[0].x,r[0].y);if(Array.isArray(r[0])&&r[0].length===2)return new J(...r[0])}return new J(...r)}m(K,"vec2");var jr,st=(jr=class{constructor(t,i,o,a){G(this,"x",0);G(this,"y",0);G(this,"w",1);G(this,"h",1);this.x=t,this.y=i,this.w=o,this.h=a}scale(t){return new jr(this.x+this.w*t.x,this.y+this.h*t.y,this.w*t.w,this.h*t.h)}pos(){return new J(this.x,this.y)}clone(){return new jr(this.x,this.y,this.w,this.h)}eq(t){return this.x===t.x&&this.y===t.y&&this.w===t.w&&this.h===t.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}},m(jr,"Quad"),jr);function dt(r,t,i,o){return new st(r,t,i,o)}m(dt,"quad");var Tn,ml=(Tn=class{constructor(t,i,o,a){G(this,"a");G(this,"b");G(this,"c");G(this,"d");this.a=t,this.b=i,this.c=o,this.d=a}mul(t){return new Tn(this.a*t.a+this.b*t.c,this.a*t.b+this.b*t.d,this.c*t.a+this.d*t.c,this.c*t.b+this.d*t.d)}transform(t){return K(this.a*t.x+this.b*t.y,this.c*t.x+this.d*t.y)}get inverse(){let t=this.det;return new Tn(this.d/t,-this.b/t,-this.c/t,this.a/t)}get transpose(){return new Tn(this.a,this.c,this.b,this.d)}get eigenvalues(){let t=this.trace/2,i=this.det,o=t+Math.sqrt(t*t-i),a=t-Math.sqrt(t*t-i);return[o,a]}eigenvectors(t,i){return this.c!=0?[[t-this.d,this.c],[i-this.d,this.c]]:this.b!=0?[[this.b,t-this.a],[this.b,i-this.a]]:Math.abs(this.transform(K(1,0)).x-t)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(t){let i=Math.cos(t),o=Math.sin(t);return new Tn(i,o,-o,i)}static scale(t,i){return new Tn(t,0,0,i)}},m(Tn,"Mat2"),Tn),qn,Eo=(qn=class{constructor(t,i,o,a,u,d,g,f,p){G(this,"m11");G(this,"m12");G(this,"m13");G(this,"m21");G(this,"m22");G(this,"m23");G(this,"m31");G(this,"m32");G(this,"m33");this.m11=t,this.m12=i,this.m13=o,this.m21=a,this.m22=u,this.m23=d,this.m31=g,this.m32=f,this.m33=p}static fromMat2(t){return new qn(t.a,t.b,0,t.c,t.d,0,0,0,1)}toMat2(){return new ml(this.m11,this.m12,this.m21,this.m22)}mul(t){return new qn(this.m11*t.m11+this.m12*t.m21+this.m13*t.m31,this.m11*t.m12+this.m12*t.m22+this.m13*t.m32,this.m11*t.m13+this.m12*t.m23+this.m13*t.m33,this.m21*t.m11+this.m22*t.m21+this.m23*t.m31,this.m21*t.m12+this.m22*t.m22+this.m23*t.m32,this.m21*t.m13+this.m22*t.m23+this.m23*t.m33,this.m31*t.m11+this.m32*t.m21+this.m33*t.m31,this.m31*t.m12+this.m32*t.m22+this.m33*t.m32,this.m31*t.m13+this.m32*t.m23+this.m33*t.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(t){let i=Math.cos(t),o=Math.sin(t),a=this.m11,u=this.m12;return this.m11=i*this.m11+o*this.m21,this.m12=i*this.m12+o*this.m22,this.m21=i*this.m21-o*a,this.m22=i*this.m22-o*u,this}scale(t,i){return this.m11*=t,this.m12*=t,this.m21*=i,this.m22*=i,this}get inverse(){let t=this.det;return new qn((this.m22*this.m33-this.m23*this.m32)/t,(this.m13*this.m32-this.m12*this.m33)/t,(this.m12*this.m23-this.m13*this.m22)/t,(this.m23*this.m31-this.m21*this.m33)/t,(this.m11*this.m33-this.m13*this.m31)/t,(this.m13*this.m21-this.m11*this.m23)/t,(this.m21*this.m32-this.m22*this.m31)/t,(this.m12*this.m31-this.m11*this.m32)/t,(this.m11*this.m22-this.m12*this.m21)/t)}get transpose(){return new qn(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},m(qn,"Mat3"),qn),Wt,Un=(Wt=class{constructor(t){G(this,"m",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);t&&(this.m=t)}static translate(t){return new Wt([1,0,0,0,0,1,0,0,0,0,1,0,t.x,t.y,0,1])}static scale(t){return new Wt([t.x,0,0,0,0,t.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(t){t=ft(-t);let i=Math.cos(t),o=Math.sin(t);return new Wt([1,0,0,0,0,i,-o,0,0,o,i,0,0,0,0,1])}static rotateY(t){t=ft(-t);let i=Math.cos(t),o=Math.sin(t);return new Wt([i,0,o,0,0,1,0,0,-o,0,i,0,0,0,0,1])}static rotateZ(t){t=ft(-t);let i=Math.cos(t),o=Math.sin(t);return new Wt([i,-o,0,0,o,i,0,0,0,0,1,0,0,0,0,1])}translate(t){return this.m[12]+=this.m[0]*t.x+this.m[4]*t.y,this.m[13]+=this.m[1]*t.x+this.m[5]*t.y,this.m[14]+=this.m[2]*t.x+this.m[6]*t.y,this.m[15]+=this.m[3]*t.x+this.m[7]*t.y,this}scale(t){return this.m[0]*=t.x,this.m[4]*=t.y,this.m[1]*=t.x,this.m[5]*=t.y,this.m[2]*=t.x,this.m[6]*=t.y,this.m[3]*=t.x,this.m[7]*=t.y,this}rotate(t){t=ft(-t);let i=Math.cos(t),o=Math.sin(t),a=this.m[0],u=this.m[1],d=this.m[4],g=this.m[5];return this.m[0]=a*i+u*o,this.m[1]=-a*o+u*i,this.m[4]=d*i+g*o,this.m[5]=-d*o+g*i,this}mult(t){let i=[];for(let o=0;o<4;o++)for(let a=0;a<4;a++)i[o*4+a]=this.m[0*4+a]*t.m[o*4+0]+this.m[1*4+a]*t.m[o*4+1]+this.m[2*4+a]*t.m[o*4+2]+this.m[3*4+a]*t.m[o*4+3];return new Wt(i)}multVec2(t){return new J(t.x*this.m[0]+t.y*this.m[4]+this.m[12],t.x*this.m[1]+t.y*this.m[5]+this.m[13])}getTranslation(){return new J(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let t=this.m[0]*this.m[5]-this.m[1]*this.m[4],i=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new J(i,t/i)}else if(this.m[4]!=0||this.m[5]!=0){let t=this.m[0]*this.m[5]-this.m[1]*this.m[4],i=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new J(t/i,i)}else return new J(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let t=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return zr(this.m[1]>0?Math.acos(this.m[0]/t):-Math.acos(this.m[0]/t))}else if(this.m[4]!=0||this.m[5]!=0){let t=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return zr(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/t):-Math.acos(this.m[4]/t)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let t=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new J(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(t*t),0)}else if(this.m[4]!=0||this.m[5]!=0){let t=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new J(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(t*t))}else return new J(0,0)}invert(){let t=[],i=this.m[10]*this.m[15]-this.m[14]*this.m[11],o=this.m[9]*this.m[15]-this.m[13]*this.m[11],a=this.m[9]*this.m[14]-this.m[13]*this.m[10],u=this.m[8]*this.m[15]-this.m[12]*this.m[11],d=this.m[8]*this.m[14]-this.m[12]*this.m[10],g=this.m[8]*this.m[13]-this.m[12]*this.m[9],f=this.m[6]*this.m[15]-this.m[14]*this.m[7],p=this.m[5]*this.m[15]-this.m[13]*this.m[7],v=this.m[5]*this.m[14]-this.m[13]*this.m[6],k=this.m[4]*this.m[15]-this.m[12]*this.m[7],y=this.m[4]*this.m[14]-this.m[12]*this.m[6],E=this.m[5]*this.m[15]-this.m[13]*this.m[7],A=this.m[4]*this.m[13]-this.m[12]*this.m[5],T=this.m[6]*this.m[11]-this.m[10]*this.m[7],S=this.m[5]*this.m[11]-this.m[9]*this.m[7],C=this.m[5]*this.m[10]-this.m[9]*this.m[6],_=this.m[4]*this.m[11]-this.m[8]*this.m[7],I=this.m[4]*this.m[10]-this.m[8]*this.m[6],L=this.m[4]*this.m[9]-this.m[8]*this.m[5];t[0]=this.m[5]*i-this.m[6]*o+this.m[7]*a,t[4]=-(this.m[4]*i-this.m[6]*u+this.m[7]*d),t[8]=this.m[4]*o-this.m[5]*u+this.m[7]*g,t[12]=-(this.m[4]*a-this.m[5]*d+this.m[6]*g),t[1]=-(this.m[1]*i-this.m[2]*o+this.m[3]*a),t[5]=this.m[0]*i-this.m[2]*u+this.m[3]*d,t[9]=-(this.m[0]*o-this.m[1]*u+this.m[3]*g),t[13]=this.m[0]*a-this.m[1]*d+this.m[2]*g,t[2]=this.m[1]*f-this.m[2]*p+this.m[3]*v,t[6]=-(this.m[0]*f-this.m[2]*k+this.m[3]*y),t[10]=this.m[0]*E-this.m[1]*k+this.m[3]*A,t[14]=-(this.m[0]*v-this.m[1]*y+this.m[2]*A),t[3]=-(this.m[1]*T-this.m[2]*S+this.m[3]*C),t[7]=this.m[0]*T-this.m[2]*_+this.m[3]*I,t[11]=-(this.m[0]*S-this.m[1]*_+this.m[3]*L),t[15]=this.m[0]*C-this.m[1]*I+this.m[2]*L;let U=this.m[0]*t[0]+this.m[1]*t[4]+this.m[2]*t[8]+this.m[3]*t[12];for(let M=0;M<4;M++)for(let P=0;P<4;P++)t[M*4+P]*=1/U;return new Wt(t)}clone(){return new Wt([...this.m])}toString(){return this.m.toString()}},m(Wt,"Mat4"),Wt);function id(r,t,i,o=a=>-Math.cos(a)){return r+(o(i)+1)/2*(t-r)}m(id,"wave");var mx=1103515245,gx=12345,Zp=2147483648,os,Mm=(os=class{constructor(t){G(this,"seed");this.seed=t}gen(){return this.seed=(mx*this.seed+gx)%Zp,this.seed/Zp}genNumber(t,i){return t+this.gen()*(i-t)}genVec2(t,i){return new J(this.genNumber(t.x,i.x),this.genNumber(t.y,i.y))}genColor(t,i){return new be(this.genNumber(t.r,i.r),this.genNumber(t.g,i.g),this.genNumber(t.b,i.b))}genAny(...t){if(t.length===0)return this.gen();if(t.length===1){if(typeof t[0]=="number")return this.genNumber(0,t[0]);if(t[0]instanceof J)return this.genVec2(K(0,0),t[0]);if(t[0]instanceof be)return this.genColor(Le(0,0,0),t[0])}else if(t.length===2){if(typeof t[0]=="number"&&typeof t[1]=="number")return this.genNumber(t[0],t[1]);if(t[0]instanceof J&&t[1]instanceof J)return this.genVec2(t[0],t[1]);if(t[0]instanceof be&&t[1]instanceof be)return this.genColor(t[0],t[1])}throw new Error("More than 2 arguments not supported")}},m(os,"RNG"),os),qc=new Mm(Date.now());function Rm(r){return r!=null&&(qc.seed=r),qc.seed}m(Rm,"randSeed");function wt(...r){return qc.genAny(...r)}m(wt,"rand");function sd(...r){return Math.floor(wt(...r.length>0?r:[2]))}m(sd,"randi");function Pm(r){return wt()<=r}m(Pm,"chance");function od(r){for(let t=r.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1));[r[t],r[i]]=[r[i],r[t]]}return r}m(od,"shuffle");function Tm(r,t){return r.length<=t?r.slice():od(r.slice()).slice(0,t)}m(Tm,"chooseMultiple");function Im(r){return r[sd(r.length)]}m(Im,"choose");function ad(r,t){return r.pos.x+r.width>t.pos.x&&r.pos.x<t.pos.x+t.width&&r.pos.y+r.height>t.pos.y&&r.pos.y<t.pos.y+t.height}m(ad,"testRectRect");function bm(r,t){if(r.p1.x===r.p2.x&&r.p1.y===r.p2.y||t.p1.x===t.p2.x&&t.p1.y===t.p2.y)return null;let i=(t.p2.y-t.p1.y)*(r.p2.x-r.p1.x)-(t.p2.x-t.p1.x)*(r.p2.y-r.p1.y);if(i===0)return null;let o=((t.p2.x-t.p1.x)*(r.p1.y-t.p1.y)-(t.p2.y-t.p1.y)*(r.p1.x-t.p1.x))/i,a=((r.p2.x-r.p1.x)*(r.p1.y-t.p1.y)-(r.p2.y-r.p1.y)*(r.p1.x-t.p1.x))/i;return o<0||o>1||a<0||a>1?null:o}m(bm,"testLineLineT");function bl(r,t){let i=bm(r,t);return i?K(r.p1.x+i*(r.p2.x-r.p1.x),r.p1.y+i*(r.p2.y-r.p1.y)):null}m(bl,"testLineLine");function Nl(r,t){let i=t.p2.sub(t.p1),o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;if(i.x!=0){let u=(r.pos.x-t.p1.x)/i.x,d=(r.pos.x+r.width-t.p1.x)/i.x;o=Math.max(o,Math.min(u,d)),a=Math.min(a,Math.max(u,d))}if(i.y!=0){let u=(r.pos.y-t.p1.y)/i.y,d=(r.pos.y+r.height-t.p1.y)/i.y;o=Math.max(o,Math.min(u,d)),a=Math.min(a,Math.max(u,d))}return a>=o&&a>=0&&o<=1}m(Nl,"testRectLine");function zo(r,t){return t.x>r.pos.x&&t.x<r.pos.x+r.width&&t.y>r.pos.y&&t.y<r.pos.y+r.height}m(zo,"testRectPoint");function ld(r,t){let i=Math.max(r.pos.x,Math.min(t.center.x,r.pos.x+r.width)),o=Math.max(r.pos.y,Math.min(t.center.y,r.pos.y+r.height));return K(i,o).sdist(t.center)<=t.radius*t.radius}m(ld,"testRectCircle");function ud(r,t){return cd(t,new Xt(r.points()))}m(ud,"testRectPolygon");function Bl(r,t){let i=t.sub(r.p1),o=r.p2.sub(r.p1);if(Math.abs(i.cross(o))>Number.EPSILON)return!1;let a=i.dot(o)/o.dot(o);return a>=0&&a<=1}m(Bl,"testLinePoint");function Ns(r,t){let i=r.p2.sub(r.p1),o=i.dot(i),a=r.p1.sub(t.center),u=2*i.dot(a),d=a.dot(a)-t.radius*t.radius,g=u*u-4*o*d;if(o<=Number.EPSILON||g<0)return!1;if(g==0){let f=-u/(2*o);if(f>=0&&f<=1)return!0}else{let f=(-u+Math.sqrt(g))/(2*o),p=(-u-Math.sqrt(g))/(2*o);if(f>=0&&f<=1||p>=0&&p<=1)return!0}return Uo(t,r.p1)}m(Ns,"testLineCircle");function Fl(r,t){if(or(t,r.p1)||or(t,r.p2))return!0;for(let i=0;i<t.pts.length;i++){let o=t.pts[i],a=t.pts[(i+1)%t.pts.length];if(bl(r,new un(o,a)))return!0}return!1}m(Fl,"testLinePolygon");function Uo(r,t){return r.center.sdist(t)<r.radius*r.radius}m(Uo,"testCirclePoint");function Nm(r,t){return r.center.sdist(t.center)<(r.radius+t.radius)*(r.radius+t.radius)}m(Nm,"testCircleCircle");function Ho(r,t){let i=t.pts[t.pts.length-1];for(let o of t.pts){if(Ns(new un(i,o),r))return!0;i=o}return Uo(r,t.pts[0])?!0:or(t,r.center)}m(Ho,"testCirclePolygon");function cd(r,t){for(let i=0;i<r.pts.length;i++)if(Fl(new un(r.pts[i],r.pts[(i+1)%r.pts.length]),t))return!0;return!!(r.pts.some(i=>or(t,i))||t.pts.some(i=>or(r,i)))}m(cd,"testPolygonPolygon");function or(r,t){let i=!1,o=r.pts;for(let a=0,u=o.length-1;a<o.length;u=a++)o[a].y>t.y!=o[u].y>t.y&&t.x<(o[u].x-o[a].x)*(t.y-o[a].y)/(o[u].y-o[a].y)+o[a].x&&(i=!i);return i}m(or,"testPolygonPoint");function Dl(r,t){t=t.sub(r.center);let i=ft(r.angle),o=Math.cos(i),a=Math.sin(i),u=t.x*o+t.y*a,d=-t.x*a+t.y*o;return u*u/(r.radiusX*r.radiusX)+d*d/(r.radiusY*r.radiusY)<1}m(Dl,"testEllipsePoint");function To(r,t){let i=t.center.sub(r.center),o=ft(r.angle),a=Math.cos(o),u=Math.sin(o),d=i.x*a+i.y*u,g=-i.x*u+i.y*a;return Dl(new lr(K(),r.radiusX+t.radius,r.radiusY+t.radius,0),K(d,g))}m(To,"testEllipseCircle");function dd(r,t){let i=r.toMat2().inverse;return t=new un(i.transform(t.p1.sub(r.center)),i.transform(t.p2.sub(r.center))),Ns(t,new an(K(),1))}m(dd,"testEllipseLine");function Bm(r,t){if(r.radiusX===r.radiusY)return To(t,new an(r.center,r.radiusX));if(t.radiusX===t.radiusY)return To(r,new an(t.center,t.radiusX));let i=new Eo(1/r.radiusX**2,0,0,0,1/r.radiusY**2,0,0,0,-1),o=new Eo(1/t.radiusX**2,0,0,0,1/t.radiusY**2,0,0,0,-1),a=r.center.x,u=r.center.y,d=t.center.x,g=t.center.y,f=ft(r.angle),p=ft(t.angle),v=new Eo(Math.cos(f),-Math.sin(f),a,Math.sin(f),Math.cos(f),u,0,0,1),k=new Eo(Math.cos(p),-Math.sin(p),d,Math.sin(p),Math.cos(p),g,0,0,1),y=v.inverse,E=k.inverse,A=y.transpose.mul(i).mul(y),T=E.transpose.mul(o).mul(E),S=A.m11,C=A.m12,_=A.m13,I=A.m21,L=A.m22,U=A.m23,M=A.m31,P=A.m32,D=A.m33,X=T.m11,z=T.m12,$=T.m13,ee=T.m21,ie=T.m22,de=T.m23,we=T.m31,ue=T.m32,he=T.m33,te=S*L*D-S*U*P-C*I*D+C*U*M+_*I*P-_*L*M,le=(S*L*he-S*U*ue-S*P*de+S*D*ie-C*I*he+C*U*we+C*M*de-C*D*ee+_*I*ue-_*L*we-_*M*ie+_*P*ee+I*P*$-I*D*z-L*M*$+L*D*X+U*M*z-U*P*X)/te,se=(S*ie*he-S*de*ue-C*ee*he+C*de*we+_*ee*ue-_*ie*we-I*z*he+I*$*ue+L*X*he-L*$*we-U*X*ue+U*z*we+M*z*de-M*$*ie-P*X*de+P*$*ee+D*X*ie-D*z*ee)/te,O=(X*ie*he-X*de*ue-z*ee*he+z*de*we+$*ee*ue-$*ie*we)/te;if(le>=0){let W=-3*se+le**2,Se=3*le*O+se*le**2-4*se**2,Ce=-27*O**2+18*O*le*se+le**2*se**2-4*le**3*O-4*se**3;return!(W>0&&Se<0&&Ce>0)}else{let W=-3*se+le**2,Se=-27*O**2+18*O*le*se+le**2*se**2-4*le**3*O-4*se**3;return!(W>0&&Se>0)}}m(Bm,"testEllipseEllipse");function fd(r,t){return jl(r,new Xt(t.points()))}m(fd,"testEllipseRect");function jl(r,t){let i=r.toMat2().inverse;return t=new Xt(t.pts.map(o=>i.transform(o.sub(r.center)))),Ho(new an(K(),1),t)}m(jl,"testEllipsePolygon");function Fm(r,t){return r.x===t.x&&r.y===t.y}m(Fm,"testPointPoint");function Dm(r,t){return t instanceof J?Fm(t,r.pt):t instanceof an?Uo(t,r.pt):t instanceof un?Bl(t,r.pt):t instanceof Ze?zo(t,r.pt):t instanceof Xt?or(t,r.pt):t instanceof lr?Dl(t,r.pt):!1}m(Dm,"testPointShape");function jm(r,t){return t instanceof J?Bl(r,t):t instanceof an?Ns(r,t):t instanceof un?bl(r,t)!=null:t instanceof Ze?Nl(t,r):t instanceof Xt?Fl(r,t):t instanceof lr?dd(t,r):!1}m(jm,"testLineShape");function Om(r,t){return t instanceof J?Uo(r,t):t instanceof an?Nm(r,t):t instanceof un?Ns(t,r):t instanceof Ze?ld(t,r):t instanceof Xt?Ho(r,t):t instanceof lr?To(t,r):!1}m(Om,"testCircleShape");function Lm(r,t){return t instanceof J?zo(r,t):t instanceof an?ld(r,t):t instanceof un?Nl(r,t):t instanceof Ze?ad(r,t):t instanceof Xt?ud(r,t):t instanceof lr?fd(t,r):!1}m(Lm,"testRectShape");function qm(r,t){return t instanceof J?or(r,t):t instanceof an?Ho(t,r):t instanceof un?Fl(t,r):t instanceof Ze?ud(t,r):t instanceof Xt?cd(t,r):t instanceof lr?jl(t,r):!1}m(qm,"testPolygonShape");function _m(r,t){return t instanceof J?Dl(r,t):t instanceof an?To(r,t):t instanceof un?dd(r,t):t instanceof Ze?fd(r,t):t instanceof Xt?jl(r,t):t instanceof lr?Bm(t,r):!1}m(_m,"testEllipseShape");function hd(r,t,i){let o=r,a=i.p1,u=i.p2,d=t,g=u.sub(a),f=d.cross(g);if(Math.abs(f)<Number.EPSILON)return null;let p=a.sub(o),v=p.cross(g)/f;if(v<=0||v>=1)return null;let k=p.cross(d)/f;if(k<=0||k>=1)return null;let y=g.normal().unit();return t.dot(y)>0&&(y.x*=-1,y.y*=-1),{point:o.add(d.scale(v)),normal:y,fraction:v}}m(hd,"raycastLine");function zm(r,t,i){let o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,u;if(r.x!=0){let d=(i.pos.x-r.x)/t.x,g=(i.pos.x+i.width-r.x)/t.x;u=K(-Math.sign(t.x),0),o=Math.max(o,Math.min(d,g)),a=Math.min(a,Math.max(d,g))}if(r.y!=0){let d=(i.pos.y-r.y)/t.y,g=(i.pos.y+i.height-r.y)/t.y;Math.min(d,g)>o&&(u=K(0,-Math.sign(t.y))),o=Math.max(o,Math.min(d,g)),a=Math.min(a,Math.max(d,g))}return a>=o&&o>=0&&o<=1?{point:r.add(t.scale(o)),normal:u,fraction:o}:null}m(zm,"raycastRect");function pd(r,t,i){let o=r,a=i.center,u=t,d=u.dot(u),g=o.sub(a),f=2*u.dot(g),p=g.dot(g)-i.radius*i.radius,v=f*f-4*d*p;if(d<=Number.EPSILON||v<0)return null;if(v==0){let k=-f/(2*d);if(k>=0&&k<=1){let y=o.add(u.scale(k));return{point:y,normal:y.sub(a),fraction:k}}}else{let k=(-f+Math.sqrt(v))/(2*d),y=(-f-Math.sqrt(v))/(2*d),E=null;if(k>=0&&k<=1&&(E=k),y>=0&&y<=1&&(E=Math.min(y,E??y)),E!=null){let A=o.add(u.scale(E));return{point:A,normal:A.sub(a).unit(),fraction:E}}}return null}m(pd,"raycastCircle");function Um(r,t,i){let o=i.pts,a=null,u=o[o.length-1];for(let d=0;d<o.length;d++){let g=o[d],f=hd(r,t,new un(u,g));f&&(!a||a.fraction>f.fraction)&&(a=f),u=g}return a}m(Um,"raycastPolygon");function Hm(r,t,i){let o=i.toMat2(),a=o.inverse,u=a.transform(r.sub(i.center)),d=a.transform(t),g=pd(u,d,new an(K(),1));if(g){let f=ml.rotation(ft(-i.angle)),p=ml.scale(i.radiusX,i.radiusY).transform(g.point),v=o.transform(g.point).add(i.center),k=v.dist(r)/t.len();return{point:v,normal:f.transform(K(i.radiusY**2*p.x,i.radiusX**2*p.y)).unit(),fraction:k}}return g}m(Hm,"raycastEllipse");function Gm(r,t,i,o=64){let a=r,u=t.len(),d=t.scale(1/u),g=0,f=K(Math.floor(r.x),Math.floor(r.y)),p=K(d.x>0?1:-1,d.y>0?1:-1),v=K(Math.abs(1/d.x),Math.abs(1/d.y)),k=K(p.x>0?f.x+1-r.x:r.x-f.x,p.y>0?f.y+1-r.y:r.y-f.y),y=K(v.x<1/0?v.x*k.x:1/0,v.y<1/0?v.y*k.y:1/0),E=-1;for(;g<=o;){let A=i(f);if(A===!0)return{point:a.add(d.scale(g)),normal:K(E===0?-p.x:0,E===1?-p.y:0),fraction:g/u,gridPos:f};if(A)return A;y.x<y.y?(f.x+=p.x,g=y.x,y.x+=v.x,E=0):(f.y+=p.y,g=y.y,y.y+=v.y,E=1)}return null}m(Gm,"raycastGrid");var Or,yx=(Or=class{constructor(t){G(this,"pt");this.pt=t.clone()}transform(t){return new Or(t.multVec2(this.pt))}bbox(){return new Ze(this.pt,0,0)}area(){return 0}clone(){return new Or(this.pt)}collides(t){return Dm(this,t)}contains(t){return this.pt.eq(t)}raycast(t,i){return null}random(){return this.pt.clone()}},m(Or,"Point"),Or),Lr,un=(Lr=class{constructor(t,i){G(this,"p1");G(this,"p2");this.p1=t.clone(),this.p2=i.clone()}transform(t){return new Lr(t.multVec2(this.p1),t.multVec2(this.p2))}bbox(){return Ze.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new Lr(this.p1,this.p2)}collides(t){return jm(this,t)}contains(t){return this.collides(t)}raycast(t,i){return hd(t,i,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(wt(1)))}},m(Lr,"Line"),Lr),qr,Ze=(qr=class{constructor(t,i,o){G(this,"pos");G(this,"width");G(this,"height");this.pos=t.clone(),this.width=i,this.height=o}static fromPoints(t,i){return new qr(t.clone(),i.x-t.x,i.y-t.y)}center(){return new J(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(t){return new Xt(this.points().map(i=>t.multVec2(i)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new qr(this.pos.clone(),this.width,this.height)}distToPoint(t){return Math.sqrt(this.sdistToPoint(t))}sdistToPoint(t){let i=this.pos,o=this.pos.add(this.width,this.height),a=Math.max(i.x-t.x,0,t.x-o.x),u=Math.max(i.y-t.y,0,t.y-o.y);return a*a+u*u}collides(t){return Lm(this,t)}contains(t){return this.collides(t)}raycast(t,i){return zm(t,i,this)}random(){return this.pos.add(wt(this.width),wt(this.height))}},m(qr,"Rect"),qr),mi,an=(mi=class{constructor(t,i){G(this,"center");G(this,"radius");this.center=t.clone(),this.radius=i}transform(t){return new lr(this.center,this.radius,this.radius).transform(t)}bbox(){return Ze.fromPoints(this.center.sub(K(this.radius)),this.center.add(K(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new mi(this.center,this.radius)}collides(t){return Om(this,t)}contains(t){return this.collides(t)}raycast(t,i){return pd(t,i,this)}random(){return this.center.add(J.fromAngle(wt(360)).scale(wt(this.radius)))}},m(mi,"Circle"),mi),In,lr=(In=class{constructor(t,i,o,a=0){G(this,"center");G(this,"radiusX");G(this,"radiusY");G(this,"angle");this.center=t.clone(),this.radiusX=i,this.radiusY=o,this.angle=a}static fromMat2(t){let i=t.inverse,o=i.transpose.mul(i),[a,u]=o.eigenvalues,[d,g]=o.eigenvectors(a,u),[f,p]=[1/Math.sqrt(a),1/Math.sqrt(u)];return f>p?new In(K(),f,p,zr(Math.atan2(-d[1],d[0]))):new In(K(),p,f,zr(Math.atan2(-g[1],g[0])))}toMat2(){let t=ft(this.angle),i=Math.cos(t),o=Math.sin(t);return new ml(i*this.radiusX,-o*this.radiusY,o*this.radiusX,i*this.radiusY)}transform(t){if(this.angle==0&&t.getRotation()==0)return new In(t.multVec2(this.center),t.m[0]*this.radiusX,t.m[5]*this.radiusY);{let i=this.toMat2(),o=t.getRotation(),a=t.getScale();i=Eo.fromMat2(i).scale(a.x,a.y).rotate(o).toMat2();let u=In.fromMat2(i);return u.center=t.multVec2(this.center),u}}bbox(){if(this.angle==0)return Ze.fromPoints(this.center.sub(K(this.radiusX,this.radiusY)),this.center.add(K(this.radiusX,this.radiusY)));{let t=ft(this.angle),i=Math.cos(t),o=Math.sin(t),a=this.radiusX*i,u=this.radiusX*o,d=this.radiusY*o,g=this.radiusY*i,f=Math.sqrt(a*a+d*d),p=Math.sqrt(u*u+g*g);return Ze.fromPoints(this.center.sub(K(f,p)),this.center.add(K(f,p)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new In(this.center,this.radiusX,this.radiusY,this.angle)}collides(t){return _m(this,t)}contains(t){t=t.sub(this.center);let i=ft(this.angle),o=Math.cos(i),a=Math.sin(i),u=t.x*o+t.y*a,d=-t.x*a+t.y*o;return u*u/(this.radiusX*this.radiusX)+d*d/(this.radiusY*this.radiusY)<1}raycast(t,i){return Hm(t,i,this)}random(){return this.center}},m(In,"Ellipse"),In);function Vm(r,t,i,o){let a=t.sub(r),u=o.sub(i),d=a.cross(u);return d<1e-5&&d>-1e-5||(d=i.sub(r).cross(u)/d,d<0||d>1)?null:r.add(a.scale(d))}m(Vm,"segmentLineIntersection");var _n,Xt=(_n=class{constructor(t){G(this,"pts");if(t.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=t}transform(t){return new _n(this.pts.map(i=>t.multVec2(i)))}bbox(){let t=K(Number.MAX_VALUE),i=K(-Number.MAX_VALUE);for(let o of this.pts)t.x=Math.min(t.x,o.x),i.x=Math.max(i.x,o.x),t.y=Math.min(t.y,o.y),i.y=Math.max(i.y,o.y);return Ze.fromPoints(t,i)}area(){let t=0,i=this.pts.length;for(let o=0;o<i;o++){let a=this.pts[o],u=this.pts[(o+1)%i];t+=a.x*u.y*.5,t-=u.x*a.y*.5}return Math.abs(t)}clone(){return new _n(this.pts.map(t=>t.clone()))}collides(t){return qm(this,t)}contains(t){return this.collides(t)}raycast(t,i){return Um(t,i,this)}random(){return K()}cut(t,i){new un(t,i);let o=[],a=[],u=i.sub(t),d=this.pts[this.pts.length-1],g=d.sub(t),f=u.cross(g)>0;return this.pts.forEach(p=>{g=p.sub(t);let v=u.cross(g)>0;if(f!=v){let k=Vm(d,p,t,i);o.push(k),a.push(k),f=v}(v?o:a).push(p),d=p}),[o.length?new _n(o):null,a.length?new _n(a):null]}},m(_n,"Polygon"),_n);function Wm(r,t,i,o){let a=o*o,u=1-o,d=u*u;return r.scale(d).add(t.scale(2*u*o)).add(i.scale(a))}m(Wm,"evaluateQuadratic");function Qm(r,t,i,o){let a=1-o;return t.sub(r).scale(2*a).add(i.sub(t).scale(2*o))}m(Qm,"evaluateQuadraticFirstDerivative");function Km(r,t,i,o){return i.sub(t.scale(2)).add(r).scale(2)}m(Km,"evaluateQuadraticSecondDerivative");function Ol(r,t,i,o,a){let u=a*a,d=u*a,g=1-a,f=g*g,p=f*g;return r.scale(p).add(t.scale(3*f*a)).add(i.scale(3*g*u)).add(o.scale(d))}m(Ol,"evaluateBezier");function Ym(r,t,i,o,a){let u=a*a,d=1-a,g=d*d;return t.sub(r).scale(3*g).add(i.sub(t).scale(6*d*a)).add(o.sub(i).scale(3*u))}m(Ym,"evaluateBezierFirstDerivative");function Xm(r,t,i,o,a){let u=1-a;return i.sub(t.scale(2)).add(r).scale(6*u).add(o.sub(i.scale(2)).add(t).scale(6*a))}m(Xm,"evaluateBezierSecondDerivative");function $m(r,t,i,o,a){let u=.5*(((-a+2)*a-1)*a),d=.5*((3*a-5)*a*a+2),g=.5*(((-3*a+4)*a+1)*a),f=.5*((a-1)*a*a);return r.scale(u).add(t.scale(d)).add(i.scale(g)).add(o.scale(f))}m($m,"evaluateCatmullRom");function Jm(r,t,i,o,a){let u=.5*((-3*a+4)*a-1),d=.5*((9*a-10)*a),g=.5*((-9*a+8)*a+1),f=.5*((3*a-2)*a);return r.scale(u).add(t.scale(d)).add(i.scale(g)).add(o.scale(f))}m(Jm,"evaluateCatmullRomFirstDerivative");function Zm(r){let t=md(r),i=t(1);return o=>{let a=o*i,u=t(a,!0);return r(u)}}m(Zm,"normalizedCurve");function md(r,t=10,i=10){let o=[0],a=[0],u=1/(t-1)/i,d=0,g=r(0),f=0;for(let p=1;p<t;p++){for(let v=0;v<i;v++){f+=u;let k=r(f),y=k.dist(g);d+=y,g=k}o[p]=d,a[p]=f}return a[t-1]=1,(p,v=!1)=>{if(v){let k=p;if(k<=0)return 0;if(k>=d)return 1;let y=0;for(;o[y+1]<k;)y++;let E=a[y],A=a[y+1],T=o[y],S=o[y+1],C=(k-T)/(S-T);return E+(A-E)*C}else{if(p<=0)return 0;if(p>=1)return o[t-1];let k=0;for(;a[k+1]<p;)k++;let y=a[k],E=a[k+1],A=o[k],T=o[k+1],S=(p-y)/(E-y);return A+(T-A)*S}}}m(md,"curveLengthApproximation");function Bs(r,t,i,o){let a=2*r+t-2*o+i,u=-3*r+3*o-2*t-i,d=t,g=r;return f=>{let p=f*f,v=p*f;return a*v+u*p+d*f+g}}m(Bs,"hermite");function gd(r,t,i,o,a,u=Bs){let d=u(t.x,(1-a)*(i.x-r.x),(1-a)*(o.x-t.x),i.x),g=u(t.y,(1-a)*(i.y-r.y),(1-a)*(o.y-t.y),i.y);return f=>new J(d(f),g(f))}m(gd,"cardinal");function Io(r,t,i,o,a=Bs){return gd(r,t,i,o,.5,a)}m(Io,"catmullRom");function eg(r,t,i,o,a=Bs){return Io(o.add(r.sub(t).scale(6)),r,o,r.add(o.sub(i).scale(6)),a)}m(eg,"bezier");function tg(r,t,i,o,a,u,d,g=Bs){let f=g(t.x,.5*(1-a)*(1+d)*(1+u)*(t.x-r.x)+.5*(1-a)*(1-d)*(1-u)*(i.x-t.x),.5*(1-a)*(1+d)*(1-u)*(i.x-t.x)+.5*(1-a)*(1-d)*(1+u)*(o.x-i.x),i.x),p=g(t.y,.5*(1-a)*(1+d)*(1+u)*(t.y-r.y)+.5*(1-a)*(1-d)*(1-u)*(i.y-t.y),.5*(1-a)*(1+d)*(1-u)*(i.y-t.y)+.5*(1-a)*(1-d)*(1+u)*(o.y-i.y),i.y);return v=>new J(f(v),p(v))}m(tg,"kochanekBartels");function ng(r,t,i,o){let a=2*r+t-2*o+i,u=-3*r+3*o-2*t+i,d=t;return g=>{let f=g*g;return 3*a*f+2*u*g+d}}m(ng,"hermiteFirstDerivative");function Ji(r){return 0<=r&&r<=1}m(Ji,"inZeroOneDomain");function cl(r,t){return Math.abs(r-t)<=Number.EPSILON}m(cl,"approximately");function Zi(r){return r<0?-Math.pow(-r,1/3):Math.pow(r,1/3)}m(Zi,"cubeRoot");function rg(r,t,i,o){let a=3*r-6*t+3*i,u=-3*r+3*t,d=r,g=-r+3*t-3*i+o;if(cl(g,0)){if(cl(a,0))return cl(u,0)?[]:[-d/u].filter(Ji);let S=Math.sqrt(u*u-4*a*d),C=2*a;return[(S-u)/C,(-u-S)/C].filter(Ji)}a/=g,u/=g,d/=g;let f=(3*u-a*a)/3,p=f/3,v=(2*a*a*a-9*a*u+27*d)/27,k=v/2,y=k*k+p*p*p;if(y<0){let S=-f/3,C=S*S*S,_=Math.sqrt(C),I=-v/(2*_),L=I<-1?-1:I>1?1:I,U=Math.acos(L),M=2*Zi(_),P=M*Math.cos(U/3)-a/3,D=M*Math.cos((U+2*Math.PI)/3)-a/3,X=M*Math.cos((U+4*Math.PI)/3)-a/3;return[P,D,X].filter(Ji)}if(y===0){let S=k<0?Zi(-k):-Zi(k),C=2*S-a/3,_=-S-a/3;return[C,_].filter(Ji)}let E=Math.sqrt(y),A=Zi(E-k),T=Zi(E+k);return[A-T-a/3].filter(Ji)}m(rg,"getCubicRoots");function ig(r,t,i,o,a){let u=rg(r.x-a,t.x-a,i.x-a,o.x-a);return u.length>0?Ol(r,t,i,o,u[0]).y:NaN}m(ig,"cubicBezierYforX");function sg(r){if(!r||r.length==0)throw new Error("Need at least one point for easingLinear.");let t=r.length;return i=>{if(i<=0||r.length==1||i<=r[0].x)return r[0].y;for(let o=0;o<t;o++)if(r[o].x>=i)return bn(i,r[o-1].x,r[o].x,r[o-1].y,r[o].y);return r[r.length-1].y}}m(sg,"easingLinear");function og(r,t){return i=>ig(K(0,0),r,t,K(1,1),i)}m(og,"easingCubicBezier");function ag(r,t="jump-end"){let i=1/r,o=t=="jump-start"||t=="jump-both",a=t=="jump-end"||t=="jump-both",u=1/(r+(a?1:0)),d=o?u:0;return g=>{let f=Math.floor(g/i);return d+f*u}}m(ag,"easingSteps");function lg(r,t){let i=Number.MAX_VALUE,o={normal:K(0),distance:0};for(let a of[r,t])for(let u=0;u<a.pts.length;u++){let d=a.pts[u],g=a.pts[(u+1)%a.pts.length].sub(d).normal().unit(),f=Number.MAX_VALUE,p=-Number.MAX_VALUE;for(let E=0;E<r.pts.length;E++){let A=r.pts[E].dot(g);f=Math.min(f,A),p=Math.max(p,A)}let v=Number.MAX_VALUE,k=-Number.MAX_VALUE;for(let E=0;E<t.pts.length;E++){let A=t.pts[E].dot(g);v=Math.min(v,A),k=Math.max(k,A)}let y=Math.min(p,k)-Math.max(f,v);if(y<0)return null;if(y<Math.abs(i)){let E=k-f,A=v-p;i=Math.abs(E)<Math.abs(A)?E:A,o.normal=g,o.distance=i}}return o}m(lg,"sat");function yd(r,t,i){return(t.x-r.x)*(i.y-r.y)-(t.y-r.y)*(i.x-r.x)>=0}m(yd,"isOrientedCcw");function ug(r){let t=0,i=r[r.length-1];for(let o=0;o<r.length;o++)t+=(r[o].x-i.x)*(r[o].y+i.y),i=r[o];return t<0}m(ug,"isOrientedCcwPolygon");function dl(r,t,i,o){let a=o.x-i.x,u=o.y-i.y,d=a*(r.y-i.y)-u*(r.x-i.x),g=a*(t.y-i.y)-u*(t.x-i.x);return d*g>=0}m(dl,"onSameSide");function cg(r,t,i,o){return dl(r,t,i,o)&&dl(r,i,t,o)&&dl(r,o,t,i)}m(cg,"pointInTriangle");function dg(r,t,i,o){for(let a of r)if(a!==t&&a!==i&&a!==o&&cg(a,t,i,o))return!0;return!1}m(dg,"someInTriangle");function fg(r,t,i,o){return yd(r,t,i)&&!dg(o,r,t,i)}m(fg,"isEar");function vd(r){if(r.length<3)return[];if(r.length==3)return[r];let t=[],i=[],o=0;for(let k=0;k<r.length;k++){let y=r[o],E=r[k];(E.x<y.x||E.x==y.x&&E.y<y.y)&&(o=o),t[k]=k+1,i[k]=k-1}t[t.length-1]=0,i[0]=i.length-1,ug(r)||([t,i]=[i,t]);let a=[];for(let k=0;k<r.length;++k)yd(r[i[k]],r[k],r[t[k]])||a.push(r[k]);let u=[],d=r.length,g=1,f=0,p,v;for(;d>3;){p=t[g],v=i[g];let k=r[v],y=r[g],E=r[p];if(fg(k,y,E,a))u.push([k,y,E]),t[v]=p,i[p]=v,a.splice(a.indexOf(y),1),--d,f=0;else if(++f>d)return[];g=p}return p=t[g],v=i[g],u.push([r[v],r[g],r[p]]),u}m(vd,"triangulate");function hg(r){if(r.length<3)return!1;let t=r.length-2,i=r.length-1,o=0,a=r[i].sub(r[t]),u=r[o].sub(r[i]),d=a.cross(u);for(;o+1<r.length;)if(t=i,i=o,o++,a=r[i].sub(r[t]),u=r[o].sub(r[i]),a.cross(u)*d<0)return!1;return!0}m(hg,"isConvex");var pg=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",Ll="topleft",vx="monospace",gl="monospace",_c="linear",wd=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],wx=wd.reduce((r,t)=>r+t.size,0),mg=2048,xx=mg*4*wx,Ax=mg*6,Sx=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,Ex=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	vec4 texColor = texture2D(u_tex, v_uv);
	return vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,zc=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,Uc=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,kx=new Set(["id","require"]),Cx=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),Mx=200,Rx=640,Px=65536,gg=Symbol.for("kaplay.cancel"),as,yg=(as=class extends Map{constructor(){super(...arguments);G(this,"lastID",0)}push(i){let o=this.lastID;return this.set(o,i),this.lastID++,o}pushd(i){let o=this.push(i);return()=>this.delete(o)}},m(as,"Registry"),as),gi,xi=(gi=class{constructor(t){G(this,"paused",!1);G(this,"cancel");this.cancel=t}static join(t){let i=new gi(()=>t.forEach(o=>o.cancel()));return Object.defineProperty(i,"paused",{get:m(()=>t[0].paused,"get"),set:m(o=>t.forEach(a=>a.paused=o),"set")}),i.paused=!1,i}static replace(t,i){return t.cancel=()=>i.cancel(),i.paused=t.paused,Object.defineProperty(t,"paused",{get:m(()=>i.paused,"get"),set:m(o=>i.paused=o,"set")}),t}},m(gi,"KEventController"),gi),ls,Qt=(ls=class{constructor(){G(this,"cancellers",new WeakMap);G(this,"handlers",new yg)}add(t){function i(...u){if(!a.paused)return t(...u)}m(i,"handler");let o=this.handlers.pushd(i),a=new xi(o);return this.cancellers.set(i,o),a}addOnce(t){let i=this.add((...o)=>{i.cancel(),t(...o)});return i}next(){return new Promise(t=>this.addOnce(t))}trigger(...t){this.handlers.forEach(i=>{let o=i(...t),a;o===gg&&(a=this.cancellers.get(i))&&a()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},m(ls,"KEvent"),ls),us,bo=(us=class{constructor(){G(this,"handlers",{});G(this,"registers",{})}on(t,i){return this.handlers[t]||(this.handlers[t]=new Qt),this.handlers[t].add(i)}onOnce(t,i){let o=this.on(t,(...a)=>{o.cancel(),i(...a)});return o}next(t){return new Promise(i=>{this.onOnce(t,(...o)=>i(o[0]))})}trigger(t,...i){this.handlers[t]&&this.handlers[t].trigger(...i)}remove(t){delete this.handlers[t]}clear(){this.handlers={}}numListeners(t){var i;return((i=this.handlers[t])==null?void 0:i.numListeners())??0}},m(us,"KEventHandler"),us),Tx=m(r=>r[0]instanceof be,"arrayIsColor"),Ix=m(r=>r[0]instanceof J,"arrayIsVec2"),bx=m(r=>typeof r[0]=="number","arrayIsNumber"),cs,vg=(cs=class{constructor(t=(i,o)=>i<o){G(this,"_items");G(this,"_compareFn");this._compareFn=t,this._items=[]}insert(t){this._items.push(t),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let t=this._items[0],i=this._items.pop();return this._items.length!==0&&(this._items[0]=i,this.moveDown(0)),t}clear(){this._items.splice(0,this._items.length)}moveUp(t){for(;t>0;){let i=Math.floor((t-1)/2);if(!this._compareFn(this._items[t],this._items[i])&&this._items[t]>=this._items[i])break;this.swap(t,i),t=i}}moveDown(t){for(;t<Math.floor(this._items.length/2);){let i=2*t+1;if(i<this._items.length-1&&!this._compareFn(this._items[i],this._items[i+1])&&++i,this._compareFn(this._items[t],this._items[i]))break;this.swap(t,i),t=i}}swap(t,i){[this._items[t],this._items[i]]=[this._items[i],this._items[t]]}get length(){return this._items.length}},m(cs,"BinaryHeap"),cs);function wg(r){let t=window.atob(r),i=t.length,o=new Uint8Array(i);for(let a=0;a<i;a++)o[a]=t.charCodeAt(a);return o.buffer}m(wg,"base64ToArrayBuffer");function xg(r){return wg(r.split(",")[1])}m(xg,"dataURLToArrayBuffer");function ql(r,t){let i=document.createElement("a");i.href=t,i.download=r,i.click()}m(ql,"download");function xd(r,t){ql(r,"data:text/plain;charset=utf-8,"+t)}m(xd,"downloadText");function Ag(r,t){xd(r,JSON.stringify(t))}m(Ag,"downloadJSON");function Hc(r,t){let i=URL.createObjectURL(t);ql(r,i),URL.revokeObjectURL(i)}m(Hc,"downloadBlob");var Sg=m(r=>r.match(/^data:\w+\/\w+;base64,.+/),"isDataURL"),Nx=m(r=>r.split(".").slice(0,-1).join("."),"getFileName");function _l(r,t){if(r===t)return!0;let i=typeof r,o=typeof t;if(i!==o)return!1;if(i==="object"&&o==="object"&&r!==null&&t!==null){if(Array.isArray(r)!==Array.isArray(t))return!1;let a=Object.keys(r),u=Object.keys(t);if(a.length!==u.length)return!1;for(let d of a){let g=r[d],f=t[d];if(!_l(g,f))return!1}return!0}return!1}m(_l,"deepEq");var em=new Set,Bx=m(r=>r instanceof Error?r.message:String(r),"getErrorMessage");function Eg(r){em.has(r)||(em.add(r),console.warn(r))}m(Eg,"warn");function Ai(r,t){Eg(`${r} is deprecated. Use ${t} instead.`)}m(Ai,"deprecateMsg");function yl(r,t){return Number(r.toFixed(t))}m(yl,"toFixed");function Ye(r,t){return(...i)=>{let o=i.length;if(o===r.length)return r(...i);if(o===t.length)return t(...i)}}m(Ye,"overload2");var Fx=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function kg(r){if(typeof r!="string")throw new TypeError("string cannot be undefined or null");let t=[],i=0,o=0;for(;i<r.length;){if(o+=Cg(i+o,r),Ng(r[i+o])&&o++,Tg(r[i+o])&&o++,Ig(r[i+o])&&o++,Bg(r[i+o])){o++;continue}t.push(r.substring(i,i+o)),i+=o,o=0}return t}m(kg,"runes");function Cg(r,t){let i=t[r];if(!Mg(i)||r===t.length-1)return 1;let o=i+t[r+1],a=t.substring(r+2,r+5);return Gc(o)&&Gc(a)?4:Rg(o)&&bg(a)?t.slice(r).indexOf(String.fromCodePoint(917631))+2:Pg(a)?4:2}m(Cg,"nextUnits");function Mg(r){return r&&Kr(r[0].charCodeAt(0),55296,56319)}m(Mg,"isFirstOfSurrogatePair");function Gc(r){return Kr(zl(r),127462,127487)}m(Gc,"isRegionalIndicator");function Rg(r){return Kr(zl(r),127988,127988)}m(Rg,"isSubdivisionFlag");function Pg(r){return Kr(zl(r),127995,127999)}m(Pg,"isFitzpatrickModifier");function Tg(r){return typeof r=="string"&&Kr(r.charCodeAt(0),65024,65039)}m(Tg,"isVariationSelector");function Ig(r){return typeof r=="string"&&Kr(r.charCodeAt(0),8400,8447)}m(Ig,"isDiacriticalMark");function bg(r){let t=r.codePointAt(0);return typeof r=="string"&&typeof t=="number"&&Kr(t,917504,917631)}m(bg,"isSupplementarySpecialpurposePlane");function Ng(r){return typeof r=="string"&&Fx.includes(r.charCodeAt(0))}m(Ng,"isGrapheme");function Bg(r){return typeof r=="string"&&r.charCodeAt(0)===8205}m(Bg,"isZeroWidthJoiner");function zl(r){let t=r.charCodeAt(0)-55296,i=r.charCodeAt(1)-56320;return(t<<10)+i+65536}m(zl,"codePointFromSurrogatePair");function Kr(r,t,i){return r>=t&&r<=i}m(Kr,"betweenInclusive");var yn=m((r,t)=>Array.isArray(r)?r==null?void 0:r.includes(t):r===t,"isEqOrIncludes"),Ln=m((r,t)=>Array.isArray(t)?t.some(i=>r.has(i)):r.has(t),"setHasOrIncludes"),nl=m((r,t,i)=>{var o;r.has(t)?(o=r.get(t))==null||o.push(i):r.set(t,[i])},"mapAddOrPush"),Dx=(()=>{let r=0;return()=>r++})(),jx={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}},Ox=m(()=>pi.lastInputDevice,"getLastInputDeviceType"),Lx=m(()=>{let r=pi.buttons;for(let t in r){let i=r[t].keyboard&&[r[t].keyboard].flat(),o=r[t].keyboardCode&&[r[t].keyboardCode].flat(),a=r[t].gamepad&&[r[t].gamepad].flat(),u=r[t].mouse&&[r[t].mouse].flat();i&&i.forEach(d=>{nl(pi.buttonsByKey,d,t)}),o&&o.forEach(d=>{nl(pi.buttonsByKeyCode,d,t)}),a&&a.forEach(d=>{nl(pi.buttonsByGamepad,d,t)}),u&&u.forEach(d=>{nl(pi.buttonsByMouse,d,t)})}},"parseButtonBindings"),ds,Mo=(ds=class{constructor(){G(this,"pressed",new Set([]));G(this,"pressedRepeat",new Set([]));G(this,"released",new Set([]));G(this,"down",new Set([]))}update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(t){this.pressed.add(t),this.pressedRepeat.add(t),this.down.add(t)}pressRepeat(t){this.pressedRepeat.add(t)}release(t){this.down.delete(t),this.pressed.delete(t),this.released.add(t)}},m(ds,"ButtonState"),ds),fs,qx=(fs=class{constructor(){G(this,"buttonState",new Mo);G(this,"stickState",new Map)}},m(fs,"GamepadState"),fs),hs,_x=(hs=class{constructor(){G(this,"dts",[]);G(this,"timer",0);G(this,"fps",0)}tick(t){this.dts.push(t),this.timer+=t,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((i,o)=>i+o)/this.dts.length)),this.dts=[])}},m(hs,"FPSCounter"),hs),pi,tm=jx,zx=m(r=>{let t=r.buttons??{};return{canvas:r.canvas,buttons:t,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new _x,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new J(0),mouseDeltaPos:new J(0),keyState:new Mo,mouseState:new Mo,mergedGamepadState:new qx,gamepadStates:new Map,lastInputDevice:null,buttonState:new Mo,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:r.canvas.offsetWidth,lastHeight:r.canvas.offsetHeight,events:new bo}},"initAppState"),Ux=m(r=>{if(!r.canvas)throw new Error("Please provide a canvas");let t=zx(r);pi=t,Lx();function i(){return t.dt*t.timeScale}m(i,"dt");function o(){return t.fixedDt*t.timeScale}m(o,"fixedDt");function a(){return t.restDt*t.timeScale}m(a,"restDt");function u(){return t.isHidden}m(u,"isHidden");function d(){return t.time}m(d,"time");function g(){return t.fpsCounter.fps}m(g,"fps");function f(){return t.numFrames}m(f,"numFrames");function p(){return t.canvas.toDataURL()}m(p,"screenshot");function v(b){t.canvas.style.cursor=b}m(v,"setCursor");function k(){return t.canvas.style.cursor}m(k,"getCursor");function y(b){if(b)try{let Y=t.canvas.requestPointerLock();Y.catch&&Y.catch(Z=>console.error(Z))}catch(Y){console.error(Y)}else document.exitPointerLock()}m(y,"setCursorLocked");function E(){return!!document.pointerLockElement}m(E,"isCursorLocked");function A(b){b.requestFullscreen?b.requestFullscreen():b.webkitRequestFullscreen&&b.webkitRequestFullscreen()}m(A,"enterFullscreen");function T(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}m(T,"exitFullscreen");function S(b=!0){b?A(t.canvas):T()}m(S,"setFullscreen");function C(){return document.fullscreenElement===t.canvas||document.webkitFullscreenElement===t.canvas}m(C,"isFullscreen");function _(){t.stopped=!0;let b=Object.entries(At),Y=Object.entries(Zr),Z=Object.entries(fr);for(let[ce,Ee]of b)t.canvas.removeEventListener(ce,Ee);for(let[ce,Ee]of Y)document.removeEventListener(ce,Ee);for(let[ce,Ee]of Z)window.removeEventListener(ce,Ee);Os.disconnect()}m(_,"quit");function I(b,Y){t.loopID!==null&&cancelAnimationFrame(t.loopID);let Z=0,ce=0,Ee=m(Ue=>{if(t.stopped)return;if(document.visibilityState!=="visible"){t.loopID=requestAnimationFrame(Ee);return}let tt=Ue/1e3,nt=Math.min(tt-t.realTime,.25),Ft=r.maxFPS?1/r.maxFPS:0;if(t.realTime=tt,ce+=nt,ce>Ft){if(!t.skipTime){for(Z+=ce,t.dt=t.fixedDt,t.restDt=0;Z>t.fixedDt;)Z-=t.fixedDt,Z<t.fixedDt&&(t.restDt=Z),b();t.restDt=Z,t.dt=ce,t.time+=i(),t.fpsCounter.tick(t.dt)}ce=0,t.skipTime=!1,t.numFrames++,Y(dr,Fs)}t.loopID=requestAnimationFrame(Ee)},"frame");Ee(0)}m(I,"run");function L(){return"ontouchstart"in window||navigator.maxTouchPoints>0}m(L,"isTouchscreen");function U(){return t.mousePos.clone()}m(U,"mousePos");function M(){return t.mouseDeltaPos.clone()}m(M,"mouseDeltaPos");function P(b="left"){return t.mouseState.pressed.has(b)}m(P,"isMousePressed");function D(b="left"){return t.mouseState.down.has(b)}m(D,"isMouseDown");function X(b="left"){return t.mouseState.released.has(b)}m(X,"isMouseReleased");function z(){return t.isMouseMoved}m(z,"isMouseMoved");function $(b){return b===void 0?t.keyState.pressed.size>0:Ln(t.keyState.pressed,b)}m($,"isKeyPressed");function ee(b){return b===void 0?t.keyState.pressedRepeat.size>0:Ln(t.keyState.pressedRepeat,b)}m(ee,"isKeyPressedRepeat");function ie(b){return b===void 0?t.keyState.down.size>0:Ln(t.keyState.down,b)}m(ie,"isKeyDown");function de(b){return b===void 0?t.keyState.released.size>0:Ln(t.keyState.released,b)}m(de,"isKeyReleased");function we(b){return b===void 0?t.mergedGamepadState.buttonState.pressed.size>0:Ln(t.mergedGamepadState.buttonState.pressed,b)}m(we,"isGamepadButtonPressed");function ue(b){return b===void 0?t.mergedGamepadState.buttonState.down.size>0:Ln(t.mergedGamepadState.buttonState.down,b)}m(ue,"isGamepadButtonDown");function he(b){return b===void 0?t.mergedGamepadState.buttonState.released.size>0:Ln(t.mergedGamepadState.buttonState.released,b)}m(he,"isGamepadButtonReleased");function te(b){return b===void 0?t.buttonState.pressed.size>0:Ln(t.buttonState.pressed,b)}m(te,"isButtonPressed");function le(b){return b===void 0?t.buttonState.down.size>0:Ln(t.buttonState.down,b)}m(le,"isButtonDown");function se(b){return b===void 0?t.buttonState.released.size>0:Ln(t.buttonState.released,b)}m(se,"isButtonReleased");function O(b){var Y;return(Y=t.buttons)==null?void 0:Y[b]}m(O,"getButton");function W(b,Y){t.buttons[b]={...t.buttons[b],...Y}}m(W,"setButton");function Se(b){t.buttonState.press(b),t.events.trigger("buttonPress",b)}m(Se,"pressButton");function Ce(b){t.buttonState.release(b),t.events.trigger("buttonRelease",b)}m(Ce,"releaseButton");function Pe(b){return t.events.on("resize",b)}m(Pe,"onResize");let Te=Ye(b=>t.events.on("keyDown",b),(b,Y)=>t.events.on("keyDown",Z=>yn(b,Z)&&Y(Z))),De=Ye(b=>t.events.on("keyPress",Y=>b(Y)),(b,Y)=>t.events.on("keyPress",Z=>yn(b,Z)&&Y(Z))),Ne=Ye(b=>t.events.on("keyPressRepeat",b),(b,Y)=>t.events.on("keyPressRepeat",Z=>yn(b,Z)&&Y(Z))),qe=Ye(b=>t.events.on("keyRelease",b),(b,Y)=>t.events.on("keyRelease",Z=>yn(b,Z)&&Y(Z))),ut=Ye(b=>t.events.on("mouseDown",Y=>b(Y)),(b,Y)=>t.events.on("mouseDown",Z=>yn(b,Z)&&Y(Z))),bt=Ye(b=>t.events.on("mousePress",Y=>b(Y)),(b,Y)=>t.events.on("mousePress",Z=>yn(b,Z)&&Y(Z))),Yr=Ye(b=>t.events.on("mouseRelease",Y=>b(Y)),(b,Y)=>t.events.on("mouseRelease",Z=>Z===b&&Y(Z)));function cn(b){return t.events.on("mouseMove",()=>b(U(),M()))}m(cn,"onMouseMove");function ve(b){return t.events.on("charInput",b)}m(ve,"onCharInput");function Me(b){return t.events.on("touchStart",b)}m(Me,"onTouchStart");function Re(b){return t.events.on("touchMove",b)}m(Re,"onTouchMove");function _e(b){return t.events.on("touchEnd",b)}m(_e,"onTouchEnd");function et(b){return t.events.on("scroll",b)}m(et,"onScroll");function Be(b){return t.events.on("hide",b)}m(Be,"onHide");function ot(b){return t.events.on("show",b)}m(ot,"onShow");let Nt=Ye(b=>t.events.on("gamepadButtonPress",(Y,Z)=>b(Y,Z)),(b,Y)=>t.events.on("gamepadButtonPress",(Z,ce)=>yn(b,Z)&&Y(Z,ce))),Xr=Ye(b=>t.events.on("gamepadButtonDown",(Y,Z)=>b(Y,Z)),(b,Y)=>t.events.on("gamepadButtonDown",(Z,ce)=>yn(b,Z)&&Y(Z,ce))),ki=Ye(b=>t.events.on("gamepadButtonRelease",(Y,Z)=>b(Y,Z)),(b,Y)=>t.events.on("gamepadButtonRelease",(Z,ce)=>yn(b,Z)&&Y(Z,ce)));function $r(b,Y){return t.events.on("gamepadStick",(Z,ce,Ee)=>Z===b&&Y(ce,Ee))}m($r,"onGamepadStick");function Jr(b){t.events.on("gamepadConnect",b)}m(Jr,"onGamepadConnect");function cr(b){t.events.on("gamepadDisconnect",b)}m(cr,"onGamepadDisconnect");function Bt(b){return t.mergedGamepadState.stickState.get(b)||new J(0)}m(Bt,"getGamepadStick");function Lt(){return[...t.charInputted]}m(Lt,"charInputted");function Vn(){return[...t.gamepads]}m(Vn,"getGamepads");let mt=Ye(b=>t.events.on("buttonPress",Y=>b(Y)),(b,Y)=>t.events.on("buttonPress",Z=>yn(b,Z)&&Y(Z))),xn=Ye(b=>t.events.on("buttonDown",Y=>b(Y)),(b,Y)=>t.events.on("buttonDown",Z=>yn(b,Z)&&Y(Z))),An=Ye(b=>t.events.on("buttonRelease",Y=>b(Y)),(b,Y)=>t.events.on("buttonRelease",Z=>yn(b,Z)&&Y(Z)));function dr(){t.events.trigger("input"),t.keyState.down.forEach(b=>t.events.trigger("keyDown",b)),t.mouseState.down.forEach(b=>t.events.trigger("mouseDown",b)),t.buttonState.down.forEach(b=>{t.events.trigger("buttonDown",b)}),Mi()}m(dr,"processInput");function Fs(){t.keyState.update(),t.mouseState.update(),t.buttonState.update(),t.mergedGamepadState.buttonState.update(),t.mergedGamepadState.stickState.forEach((b,Y)=>{t.mergedGamepadState.stickState.set(Y,new J(0))}),t.charInputted=[],t.isMouseMoved=!1,t.mouseDeltaPos=new J(0),t.gamepadStates.forEach(b=>{b.buttonState.update(),b.stickState.forEach((Y,Z)=>{b.stickState.set(Z,new J(0))})})}m(Fs,"resetInput");function Ds(b){let Y={index:b.index,isPressed:m(Z=>{var ce;return((ce=t.gamepadStates.get(b.index))==null?void 0:ce.buttonState.pressed.has(Z))||!1},"isPressed"),isDown:m(Z=>{var ce;return((ce=t.gamepadStates.get(b.index))==null?void 0:ce.buttonState.down.has(Z))||!1},"isDown"),isReleased:m(Z=>{var ce;return((ce=t.gamepadStates.get(b.index))==null?void 0:ce.buttonState.released.has(Z))||!1},"isReleased"),getStick:m(Z=>{var ce;return((ce=t.gamepadStates.get(b.index))==null?void 0:ce.stickState.get(Z))||K()},"getStick")};return t.gamepads.push(Y),t.gamepadStates.set(b.index,{buttonState:new Mo,stickState:new Map([["left",new J(0)],["right",new J(0)]])}),Y}m(Ds,"registerGamepad");function Ci(b){t.gamepads=t.gamepads.filter(Y=>Y.index!==b.index),t.gamepadStates.delete(b.index)}m(Ci,"removeGamepad");function Mi(){var b,Y;for(let Z of navigator.getGamepads())Z&&!t.gamepadStates.has(Z.index)&&Ds(Z);for(let Z of t.gamepads){let ce=navigator.getGamepads()[Z.index];if(!ce)continue;let Ee=(r.gamepads??{})[ce.id]||tm[ce.id]||tm.default,Ue=t.gamepadStates.get(Z.index);if(Ue){for(let tt=0;tt<ce.buttons.length;tt++){let nt=Ee.buttons[tt],Ft=ce.buttons[tt],Dt=t.buttonsByGamepad.has(nt);if(Ft.pressed){if(Ue.buttonState.down.has(nt)){t.events.trigger("gamepadButtonDown",nt,Z);continue}t.lastInputDevice="gamepad",Dt&&((b=t.buttonsByGamepad.get(nt))==null||b.forEach(qt=>{t.buttonState.press(qt),t.events.trigger("buttonPress",qt)})),t.mergedGamepadState.buttonState.press(nt),Ue.buttonState.press(nt),t.events.trigger("gamepadButtonPress",nt,Z)}else Ue.buttonState.down.has(nt)&&(Dt&&((Y=t.buttonsByGamepad.get(nt))==null||Y.forEach(qt=>{t.buttonState.release(qt),t.events.trigger("buttonRelease",qt)})),t.mergedGamepadState.buttonState.release(nt),Ue.buttonState.release(nt),t.events.trigger("gamepadButtonRelease",nt,Z))}for(let tt in Ee.sticks){let nt=Ee.sticks[tt];if(!nt)continue;let Ft=new J(ce.axes[nt.x],ce.axes[nt.y]);Ue.stickState.set(tt,Ft),t.mergedGamepadState.stickState.set(tt,Ft),t.events.trigger("gamepadStick",tt,Ft,Z)}}}}m(Mi,"processGamepad");let At={},Zr={},fr={},Wn=r.pixelDensity||1;At.mousemove=b=>{let Y=new J(b.offsetX,b.offsetY),Z=new J(b.movementX,b.movementY);if(C()){let ce=t.canvas.width/Wn,Ee=t.canvas.height/Wn,Ue=window.innerWidth,tt=window.innerHeight,nt=Ue/tt,Ft=ce/Ee;if(nt>Ft){let Dt=tt/Ee,qt=(Ue-ce*Dt)/2;Y.x=bn(b.offsetX-qt,0,ce*Dt,0,ce),Y.y=bn(b.offsetY,0,Ee*Dt,0,Ee)}else{let Dt=Ue/ce,qt=(tt-Ee*Dt)/2;Y.x=bn(b.offsetX,0,ce*Dt,0,ce),Y.y=bn(b.offsetY-qt,0,Ee*Dt,0,Ee)}}t.events.onOnce("input",()=>{t.isMouseMoved=!0,t.mousePos=Y,t.mouseDeltaPos=Z,t.events.trigger("mouseMove")})};let Qn=["left","middle","right","back","forward"];At.mousedown=b=>{t.events.onOnce("input",()=>{var Z;let Y=Qn[b.button];Y&&(t.lastInputDevice="mouse",t.buttonsByMouse.has(Y)&&((Z=t.buttonsByMouse.get(Y))==null||Z.forEach(ce=>{t.buttonState.press(ce),t.events.trigger("buttonPress",ce)})),t.mouseState.press(Y),t.events.trigger("mousePress",Y))})},At.mouseup=b=>{t.events.onOnce("input",()=>{var Z;let Y=Qn[b.button];Y&&(t.buttonsByMouse.has(Y)&&((Z=t.buttonsByMouse.get(Y))==null||Z.forEach(ce=>{t.buttonState.release(ce),t.events.trigger("buttonRelease",ce)})),t.mouseState.release(Y),t.events.trigger("mouseRelease",Y))})};let Qo=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),js={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};At.keydown=b=>{Qo.has(b.key)&&b.preventDefault(),t.events.onOnce("input",()=>{var ce,Ee;let Y=js[b.key]||b.key.toLowerCase(),Z=b.code;if(Y===void 0)throw new Error(`Unknown key: ${b.key}`);Y.length===1?(t.events.trigger("charInput",Y),t.charInputted.push(Y)):Y==="space"&&(t.events.trigger("charInput"," "),t.charInputted.push(" ")),b.repeat?(t.keyState.pressRepeat(Y),t.events.trigger("keyPressRepeat",Y)):(t.lastInputDevice="keyboard",t.buttonsByKey.has(Y)&&((ce=t.buttonsByKey.get(Y))==null||ce.forEach(Ue=>{t.buttonState.press(Ue),t.events.trigger("buttonPress",Ue)})),t.buttonsByKeyCode.has(Z)&&((Ee=t.buttonsByKeyCode.get(Z))==null||Ee.forEach(Ue=>{t.buttonState.press(Ue),t.events.trigger("buttonPress",Ue)})),t.keyState.press(Y),t.events.trigger("keyPressRepeat",Y),t.events.trigger("keyPress",Y))})},At.keyup=b=>{t.events.onOnce("input",()=>{var ce,Ee;let Y=js[b.key]||b.key.toLowerCase(),Z=b.code;t.buttonsByKey.has(Y)&&((ce=t.buttonsByKey.get(Y))==null||ce.forEach(Ue=>{t.buttonState.release(Ue),t.events.trigger("buttonRelease",Ue)})),t.buttonsByKeyCode.has(Z)&&((Ee=t.buttonsByKeyCode.get(Z))==null||Ee.forEach(Ue=>{t.buttonState.release(Ue),t.events.trigger("buttonRelease",Ue)})),t.keyState.release(Y),t.events.trigger("keyRelease",Y)})},At.touchstart=b=>{b.preventDefault(),t.events.onOnce("input",()=>{var ce;let Y=[...b.changedTouches],Z=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new J(Y[0].clientX-Z.x,Y[0].clientY-Z.y),t.lastInputDevice="mouse",t.buttonsByMouse.has("left")&&((ce=t.buttonsByMouse.get("left"))==null||ce.forEach(Ee=>{t.buttonState.press(Ee),t.events.trigger("buttonPress",Ee)})),t.mouseState.press("left"),t.events.trigger("mousePress","left")),Y.forEach(Ee=>{t.events.trigger("touchStart",new J(Ee.clientX-Z.x,Ee.clientY-Z.y),Ee)})})},At.touchmove=b=>{b.preventDefault(),t.events.onOnce("input",()=>{let Y=[...b.changedTouches],Z=t.canvas.getBoundingClientRect();if(r.touchToMouse!==!1){let ce=t.mousePos;t.mousePos=new J(Y[0].clientX-Z.x,Y[0].clientY-Z.y),t.mouseDeltaPos=t.mousePos.sub(ce),t.events.trigger("mouseMove")}Y.forEach(ce=>{t.events.trigger("touchMove",new J(ce.clientX-Z.x,ce.clientY-Z.y),ce)})})},At.touchend=b=>{t.events.onOnce("input",()=>{var ce;let Y=[...b.changedTouches],Z=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new J(Y[0].clientX-Z.x,Y[0].clientY-Z.y),t.mouseDeltaPos=new J(0,0),t.buttonsByMouse.has("left")&&((ce=t.buttonsByMouse.get("left"))==null||ce.forEach(Ee=>{t.buttonState.release(Ee),t.events.trigger("buttonRelease",Ee)})),t.mouseState.release("left"),t.events.trigger("mouseRelease","left")),Y.forEach(Ee=>{t.events.trigger("touchEnd",new J(Ee.clientX-Z.x,Ee.clientY-Z.y),Ee)})})},At.touchcancel=b=>{t.events.onOnce("input",()=>{let Y=[...b.changedTouches],Z=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new J(Y[0].clientX-Z.x,Y[0].clientY-Z.y),t.mouseState.release("left"),t.events.trigger("mouseRelease","left")),Y.forEach(ce=>{t.events.trigger("touchEnd",new J(ce.clientX-Z.x,ce.clientY-Z.y),ce)})})},At.wheel=b=>{b.preventDefault(),t.events.onOnce("input",()=>{t.events.trigger("scroll",new J(b.deltaX,b.deltaY))})},At.contextmenu=b=>b.preventDefault(),Zr.visibilitychange=()=>{document.visibilityState==="visible"?(t.skipTime=!0,t.isHidden=!1,t.events.trigger("show")):(t.isHidden=!0,t.events.trigger("hide"))},fr.gamepadconnected=b=>{let Y=Ds(b.gamepad);t.events.onOnce("input",()=>{t.events.trigger("gamepadConnect",Y)})},fr.gamepaddisconnected=b=>{let Y=Vn().filter(Z=>Z.index===b.gamepad.index)[0];Ci(b.gamepad),t.events.onOnce("input",()=>{t.events.trigger("gamepadDisconnect",Y)})};for(let[b,Y]of Object.entries(At))t.canvas.addEventListener(b,Y);for(let[b,Y]of Object.entries(Zr))document.addEventListener(b,Y);for(let[b,Y]of Object.entries(fr))window.addEventListener(b,Y);let Os=new ResizeObserver(b=>{for(let Y of b)if(Y.target===t.canvas){if(t.lastWidth===t.canvas.offsetWidth&&t.lastHeight===t.canvas.offsetHeight)return;t.lastWidth=t.canvas.offsetWidth,t.lastHeight=t.canvas.offsetHeight,t.events.onOnce("input",()=>{t.events.trigger("resize")})}});return Os.observe(t.canvas),{state:t,dt:i,fixedDt:o,restDt:a,time:d,run:I,canvas:t.canvas,fps:g,numFrames:f,quit:_,isHidden:u,setFullscreen:S,isFullscreen:C,setCursor:v,screenshot:p,getGamepads:Vn,getCursor:k,setCursorLocked:y,isCursorLocked:E,isTouchscreen:L,mousePos:U,mouseDeltaPos:M,isKeyDown:ie,isKeyPressed:$,isKeyPressedRepeat:ee,isKeyReleased:de,isMouseDown:D,isMousePressed:P,isMouseReleased:X,isMouseMoved:z,isGamepadButtonPressed:we,isGamepadButtonDown:ue,isGamepadButtonReleased:he,getGamepadStick:Bt,isButtonPressed:te,isButtonDown:le,isButtonReleased:se,setButton:W,getButton:O,pressButton:Se,releaseButton:Ce,charInputted:Lt,onResize:Pe,onKeyDown:Te,onKeyPress:De,onKeyPressRepeat:Ne,onKeyRelease:qe,onMouseDown:ut,onMousePress:bt,onMouseRelease:Yr,onMouseMove:cn,onCharInput:ve,onTouchStart:Me,onTouchMove:Re,onTouchEnd:_e,onScroll:et,onHide:Be,onShow:ot,onGamepadButtonDown:Xr,onGamepadButtonPress:Nt,onGamepadButtonRelease:ki,onGamepadStick:$r,onGamepadConnect:Jr,onGamepadDisconnect:cr,onButtonPress:mt,onButtonDown:xn,onButtonRelease:An,getLastInputDeviceType:Ox,events:t.events}},"initApp");function xt(){return x.app.dt()}m(xt,"dt");function vl(){return x.app.fixedDt()}m(vl,"fixedDt");function wl(){return x.app.restDt()}m(wl,"restDt");var Hx=new J(-1,-1),Gx=new J(0,-1),Vx=new J(1,-1),Wx=new J(-1,0),Qx=new J(0,0),Kx=new J(1,0),Yx=new J(-1,1),Xx=new J(0,1),$x=new J(1,1);function Si(r){switch(r){case"topleft":return Hx;case"top":return Gx;case"topright":return Vx;case"left":return Wx;case"center":return Qx;case"right":return Kx;case"botleft":return Yx;case"bot":return Xx;case"botright":return $x;default:return r}}m(Si,"anchorPt");function Fg(r){switch(r){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}m(Fg,"alignPt");function Dg(r){return r.createBuffer(1,1,44100)}m(Dg,"createEmptyAudioBuffer");var rl=2.5949095,nm=1.70158+1,rm=2*Math.PI/3,im=2*Math.PI/4.5,fl={linear:m(r=>r,"linear"),easeInSine:m(r=>1-Math.cos(r*Math.PI/2),"easeInSine"),easeOutSine:m(r=>Math.sin(r*Math.PI/2),"easeOutSine"),easeInOutSine:m(r=>-(Math.cos(Math.PI*r)-1)/2,"easeInOutSine"),easeInQuad:m(r=>r*r,"easeInQuad"),easeOutQuad:m(r=>1-(1-r)*(1-r),"easeOutQuad"),easeInOutQuad:m(r=>r<.5?2*r*r:1-Math.pow(-2*r+2,2)/2,"easeInOutQuad"),easeInCubic:m(r=>r*r*r,"easeInCubic"),easeOutCubic:m(r=>1-Math.pow(1-r,3),"easeOutCubic"),easeInOutCubic:m(r=>r<.5?4*r*r*r:1-Math.pow(-2*r+2,3)/2,"easeInOutCubic"),easeInQuart:m(r=>r*r*r*r,"easeInQuart"),easeOutQuart:m(r=>1-Math.pow(1-r,4),"easeOutQuart"),easeInOutQuart:m(r=>r<.5?8*r*r*r*r:1-Math.pow(-2*r+2,4)/2,"easeInOutQuart"),easeInQuint:m(r=>r*r*r*r*r,"easeInQuint"),easeOutQuint:m(r=>1-Math.pow(1-r,5),"easeOutQuint"),easeInOutQuint:m(r=>r<.5?16*r*r*r*r*r:1-Math.pow(-2*r+2,5)/2,"easeInOutQuint"),easeInExpo:m(r=>r===0?0:Math.pow(2,10*r-10),"easeInExpo"),easeOutExpo:m(r=>r===1?1:1-Math.pow(2,-10*r),"easeOutExpo"),easeInOutExpo:m(r=>r===0?0:r===1?1:r<.5?Math.pow(2,20*r-10)/2:(2-Math.pow(2,-20*r+10))/2,"easeInOutExpo"),easeInCirc:m(r=>1-Math.sqrt(1-Math.pow(r,2)),"easeInCirc"),easeOutCirc:m(r=>Math.sqrt(1-Math.pow(r-1,2)),"easeOutCirc"),easeInOutCirc:m(r=>r<.5?(1-Math.sqrt(1-Math.pow(2*r,2)))/2:(Math.sqrt(1-Math.pow(-2*r+2,2))+1)/2,"easeInOutCirc"),easeInBack:m(r=>nm*r*r*r-1.70158*r*r,"easeInBack"),easeOutBack:m(r=>1+nm*Math.pow(r-1,3)+1.70158*Math.pow(r-1,2),"easeOutBack"),easeInOutBack:m(r=>r<.5?Math.pow(2*r,2)*((rl+1)*2*r-rl)/2:(Math.pow(2*r-2,2)*((rl+1)*(r*2-2)+rl)+2)/2,"easeInOutBack"),easeInElastic:m(r=>r===0?0:r===1?1:-Math.pow(2,10*r-10)*Math.sin((r*10-10.75)*rm),"easeInElastic"),easeOutElastic:m(r=>r===0?0:r===1?1:Math.pow(2,-10*r)*Math.sin((r*10-.75)*rm)+1,"easeOutElastic"),easeInOutElastic:m(r=>r===0?0:r===1?1:r<.5?-(Math.pow(2,20*r-10)*Math.sin((20*r-11.125)*im))/2:Math.pow(2,-20*r+10)*Math.sin((20*r-11.125)*im)/2+1,"easeInOutElastic"),easeInBounce:m(r=>1-fl.easeOutBounce(1-r),"easeInBounce"),easeOutBounce:m(r=>r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375,"easeOutBounce"),easeInOutBounce:m(r=>r<.5?(1-fl.easeOutBounce(1-2*r))/2:(1+fl.easeOutBounce(2*r-1))/2,"easeInOutBounce")},No=fl;function jg(r,t,i){let o=[],a=t;for(o.push(a);a!==r;){if(a=i.get(a),a==null)return null;o.push(a)}return o.reverse()}m(jg,"buildPath");function Og(r,t,i){var d;let o=new vg((g,f)=>g.cost<f.cost);o.insert({cost:0,node:t});let a=new Map;a.set(t,t);let u=new Map;for(u.set(t,0);o.length!==0;){let g=(d=o.remove())==null?void 0:d.node;if(g===i)break;let f=r.getNeighbours(g);for(let p of f){let v=(u.get(g)||0)+r.getCost(g,p)+r.getHeuristic(p,i);(!u.has(p)||v<u.get(p))&&(u.set(p,v),o.insert({cost:v,node:p}),a.set(p,g))}}return jg(t,i,a)}m(Og,"aStarSearch");var ps,Jx=(ps=class{constructor(t,i,o){G(this,"a");G(this,"b");G(this,"polygon");this.a=t,this.b=i,this.polygon=new WeakRef(o)}isLeft(t,i){return(this.b.x-this.a.x)*(i-this.a.y)-(t-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},m(ps,"NavEdge"),ps),ms,Zx=(ms=class{constructor(t){G(this,"_edges");G(this,"_centroid");G(this,"_id");this._id=t}get id(){return this._id}set edges(t){this._edges=t;let i=0,o=0,a=0;for(let u of this._edges){u.polygon=new WeakRef(this);let d=u.a.x*u.b.y-u.a.y*u.b.x;i+=(u.a.x+u.b.x)*d,o+=(u.a.y+u.b.y)*d,a+=d}a/=2,this._centroid=K(i/(6*a),o/(6*a))}get edges(){return this._edges}get centroid(){return this._centroid}contains(t){let i=!1;for(let o of this.edges)o.b.y>t.y!=o.a.y>t.y&&t.x<(o.a.x-o.b.x)*(t.y-o.b.y)/(o.a.y-o.b.y)+o.b.x&&(i=!i);return i}},m(ms,"NavPolygon"),ms),gs,eA=(gs=class{constructor(){G(this,"_polygons");G(this,"_pointCache");G(this,"_edgeCache");this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(t){let i=this._pointCache[`${t.x}_${t.y}`];return i||(i=t.clone(),this._pointCache[`${t.x}_${t.y}`]=i,i)}_addEdge(t){let i=`${t.a.x}_${t.a.y}-${t.b.x}_${t.b.y}`;return this._edgeCache[i]=t,t}_findEdge(t,i){let o=`${t.x}_${t.y}-${i.x}_${i.y}`;return this._edgeCache[o]}_findCommonEdge(t,i){for(let o of t.edges){let a=this._findEdge(o.b,o.a);if(a&&a.polygon.deref().id===i.id)return a}return null}addPolygon(t){let i=new Zx(this._polygons.length),o=t.map((a,u)=>new Jx(a,t[(u+1)%t.length],i));i.edges=o,this._polygons.push(i);for(let a of i.edges)this._addEdge(a);return i}addRect(t,i){let o=this._addPoint(t),a=this._addPoint(t.add(i.x,0)),u=this._addPoint(t.add(i)),d=this._addPoint(t.add(0,i.y));return this.addPolygon([o,a,u,d])}_getLocation(t){for(let i of this._polygons)if(i.contains(t))return i;return null}getNeighbours(t){let i=[];for(let o of this._polygons[t].edges){let a=this._findEdge(o.b,o.a);if(a){let u=a.polygon.deref();u&&i.push(u.id)}}return i}getCost(t,i){return 1}getHeuristic(t,i){let o=this._polygons[t],a=this._polygons[i],u=o.centroid.x-a.centroid.x,d=o.centroid.y-a.centroid.y;return Math.sqrt(u*u+d*d)}getPath(t,i){return t===void 0||i===void 0?[]:t===i?[t,i]:Og(this,t,i)}getWaypointPath(t,i,o){let a=(o==null?void 0:o.type)||"centroids",u=this._getLocation(t),d=this._getLocation(i);if(u===void 0||d===void 0)return[];let g=this.getPath(u.id,d.id);if(!g)return[];if(a==="edges"){let f=[];for(let p=1;p<g.length;p++){let v=this._polygons[g[p-1]],k=this._polygons[g[p]],y=this._findCommonEdge(v,k);f.push(y.middle.add(k.centroid.sub(y.middle).unit().scale(4)))}return[t,...f,i]}else return[t,...g.slice(1,-1).map(f=>this._polygons[f].centroid),i]}},m(gs,"NavMesh"),gs);function rs(r){let t=new Un;return r.pos&&t.translate(r.pos),r.scale&&t.scale(r.scale),r.angle&&t.rotate(r.angle),r.parent?t.mult(r.parent.transform):t}m(rs,"calcTransform");function Lg(r){return new J(r.x/Ct()*2-1,-r.y/It()*2+1)}m(Lg,"screen2ndc");function es(r,t,i,o,a,u=1){o=ft(o%360),a=ft(a%360),a<=o&&(a+=Math.PI*2);let d=[],g=Math.ceil((a-o)/ft(8)*u),f=(a-o)/g,p=K(Math.cos(o),Math.sin(o)),v=K(Math.cos(f),Math.sin(f));for(let k=0;k<=g;k++)d.push(r.add(t*p.x,i*p.y)),p=K(p.x*v.x-p.y*v.y,p.x*v.y+p.y*v.x);return d}m(es,"getArcPts");function qg(...r){let t=Le(...r),i=r[3]??1;x.gfx.bgColor=t,x.gfx.bgAlpha=i,x.gfx.ggl.gl.clearColor(t.r/255,t.g/255,t.b/255,i)}m(qg,"setBackground");function _g(){var r,t;return((t=(r=x.gfx.bgColor)==null?void 0:r.clone)==null?void 0:t.call(r))??null}m(_g,"getBackground");function it(...r){if(r[0]===void 0)return;let t=K(...r);t.x===0&&t.y===0||x.gfx.transform.translate(t)}m(it,"pushTranslate");function rn(){x.gfx.transformStack.push(x.gfx.transform.clone())}m(rn,"pushTransform");function zg(r){x.gfx.transform=r.clone()}m(zg,"pushMatrix");function Ps(...r){if(r[0]===void 0)return;let t=K(...r);t.x===1&&t.y===1||x.gfx.transform.scale(t)}m(Ps,"pushScale");function wi(r){r&&x.gfx.transform.rotate(r)}m(wi,"pushRotate");function Kt(){x.gfx.transformStack.length>0&&(x.gfx.transform=x.gfx.transformStack.pop())}m(Kt,"popTransform");function sn(){x.gfx.renderer.flush()}m(sn,"flush");function Ct(){return x.gfx.width}m(Ct,"width");function It(){return x.gfx.height}m(It,"height");function Ad(){return(x.gfx.viewport.width+x.gfx.viewport.height)/(x.gfx.width+x.gfx.height)}m(Ad,"getViewportScale");function Ug(r){return new J(r.x*x.gfx.viewport.width/x.gfx.width,r.y*x.gfx.viewport.height/x.gfx.height)}m(Ug,"contentToView");function Hg(r){return new J((r.x-x.gfx.viewport.x)*Ct()/x.gfx.viewport.width,(r.y-x.gfx.viewport.y)*It()/x.gfx.viewport.height)}m(Hg,"windowToContent");function Sd(){return Hg(x.app.mousePos())}m(Sd,"mousePos");function Bo(){return K(Ct()/2,It()/2)}m(Bo,"center");var ys,tA=(ys=class{constructor(t,i,o,a){G(this,"lastTextureId",0);G(this,"textures",[]);G(this,"bigTextures",[]);G(this,"texturesPosition",new Map);G(this,"canvas");G(this,"c2d");G(this,"x",0);G(this,"y",0);G(this,"curHeight",0);G(this,"gfx");G(this,"padding");this.gfx=t,this.canvas=document.createElement("canvas"),this.canvas.width=i,this.canvas.height=o,this.textures=[Fr.fromImage(t,this.canvas)],this.bigTextures=[],this.padding=a;let u=this.canvas.getContext("2d");if(!u)throw new Error("Failed to get 2d context");this.c2d=u}add(t){let i=t.width+this.padding*2,o=t.height+this.padding*2;if(i>this.canvas.width||o>this.canvas.height){let d=Fr.fromImage(this.gfx,t);return this.bigTextures.push(d),[d,new st(0,0,1,1),0]}this.x+i>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+o>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Fr.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let a=this.textures[this.textures.length-1],u=new J(this.x+this.padding,this.y+this.padding);return this.x+=i,o>this.curHeight&&(this.curHeight=o),t instanceof ImageData?this.c2d.putImageData(t,u.x,u.y):this.c2d.drawImage(t,u.x,u.y),a.update(this.canvas),this.texturesPosition.set(this.lastTextureId,{position:u,size:new J(t.width,t.height),texture:a}),this.lastTextureId++,[a,new st(u.x/this.canvas.width,u.y/this.canvas.height,t.width/this.canvas.width,t.height/this.canvas.height),this.lastTextureId-1]}free(){for(let t of this.textures)t.free();for(let t of this.bigTextures)t.free()}},m(ys,"TexPacker"),ys);function ln(r){return typeof r!="string"||Sg(r)?r:x.assets.urlPrefix+r}m(ln,"fixURL");var yi,wn=(yi=class{constructor(t){G(this,"loaded",!1);G(this,"data",null);G(this,"error",null);G(this,"onLoadEvents",new Qt);G(this,"onErrorEvents",new Qt);G(this,"onFinishEvents",new Qt);t.then(i=>{this.loaded=!0,this.data=i,this.onLoadEvents.trigger(i)}).catch(i=>{if(this.error=i,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(i);else throw i}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(t){let i=new yi(Promise.resolve(t));return i.data=t,i.loaded=!0,i}onLoad(t){return this.loaded&&this.data?t(this.data):this.onLoadEvents.add(t),this}onError(t){return this.loaded&&this.error?t(this.error):this.onErrorEvents.add(t),this}onFinish(t){return this.loaded?t():this.onFinishEvents.add(t),this}then(t){return this.onLoad(t)}catch(t){return this.onError(t)}finally(t){return this.onFinish(t)}},m(yi,"Asset"),yi),vs,Yi=(vs=class{constructor(){G(this,"assets",new Map);G(this,"lastUID",0)}add(t,i){let o=t??this.lastUID+++"",a=new wn(i);return this.assets.set(o,a),a}addLoaded(t,i){let o=t??this.lastUID+++"",a=wn.loaded(i);return this.assets.set(o,a),a}get(t){return this.assets.get(t)}progress(){if(this.assets.size===0)return 1;let t=0;return this.assets.forEach(i=>{i.loaded&&t++}),t/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(t=>this.assets.get(t).error!==null).map(t=>[t,this.assets.get(t)])}},m(vs,"AssetBucket"),vs);function Ul(r){return fetch(r).then(t=>{if(!t.ok)throw new Error(`Failed to fetch "${r}"`);return t})}m(Ul,"fetchURL");function Go(r){return Ul(r).then(t=>t.json())}m(Go,"fetchJSON");function Gg(r){return Ul(r).then(t=>t.text())}m(Gg,"fetchText");function Vg(r){return Ul(r).then(t=>t.arrayBuffer())}m(Vg,"fetchArrayBuffer");function Wg(r){return r!==void 0&&(x.assets.urlPrefix=r),x.assets.urlPrefix}m(Wg,"loadRoot");function Qg(r,t){return x.assets.custom.add(r,Go(ln(t)))}m(Qg,"loadJSON");function Vo(r){let t=new Image;return t.crossOrigin="anonymous",t.src=r,new Promise((i,o)=>{t.onload=()=>i(t),t.onerror=()=>o(new Error(`Failed to load image from "${r}"`))})}m(Vo,"loadImg");function Ur(){let r=[x.assets.sprites,x.assets.sounds,x.assets.shaders,x.assets.fonts,x.assets.bitmapFonts,x.assets.custom];return r.reduce((t,i)=>t+i.progress(),0)/r.length}m(Ur,"loadProgress");function Ed(){return[x.assets.sprites,x.assets.sounds,x.assets.shaders,x.assets.fonts,x.assets.bitmapFonts,x.assets.custom].reduce((r,t)=>r.concat(t.getFailedAssets()),[])}m(Ed,"getFailedAssets");function Kg(r){return x.assets.custom.get(r)??null}m(Kg,"getAsset");function xl(r){return x.assets.custom.add(null,r)}m(xl,"load");var nA=m((r,t)=>({urlPrefix:"",sprites:new Yi,fonts:new Yi,bitmapFonts:new Yi,sounds:new Yi,shaders:new Yi,custom:new Yi,music:{},packer:new tA(r,2048,2048,t),loaded:!1}),"initAssets"),rA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",zn,Hr=(zn=class{constructor(t,i,o={},a=null){G(this,"tex");G(this,"frames",[new st(0,0,1,1)]);G(this,"anims",{});G(this,"slice9",null);this.tex=t,i&&(this.frames=i),this.anims=o,this.slice9=a}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(t,i={}){return typeof t=="string"?zn.fromURL(t,i):Promise.resolve(zn.fromImage(t,i))}static fromImage(t,i={}){let[o,a]=x.assets.packer.add(t),u=i.frames?i.frames.map(d=>new st(a.x+d.x*a.w,a.y+d.y*a.h,d.w*a.w,d.h*a.h)):Cd(i.sliceX||1,i.sliceY||1,a.x,a.y,a.w,a.h);return new zn(o,u,i.anims,i.slice9)}static fromURL(t,i={}){return Vo(t).then(o=>zn.fromImage(o,i))}},m(zn,"SpriteData"),zn);function Ro(r){if(typeof r=="string"){let t=kd(r);if(t)return t;if(Ur()<1)return null;throw new Error(`Sprite not found: ${r}`)}else{if(r instanceof Hr)return wn.loaded(r);if(r instanceof wn)return r;throw new Error(`Invalid sprite: ${r}`)}}m(Ro,"resolveSprite");function kd(r){return x.assets.sprites.get(r)??null}m(kd,"getSprite");function is(r,t,i={sliceX:1,sliceY:1,anims:{}}){return t=ln(t),Array.isArray(t)?t.some(o=>typeof o=="string")?x.assets.sprites.add(r,Promise.all(t.map(o=>typeof o=="string"?Vo(o):Promise.resolve(o))).then(o=>Vc(o,i))):x.assets.sprites.addLoaded(r,Vc(t,i)):typeof t=="string"?x.assets.sprites.add(r,Hr.from(t,i)):x.assets.sprites.addLoaded(r,Hr.fromImage(t,i))}m(is,"loadSprite");function Cd(r=1,t=1,i=0,o=0,a=1,u=1){let d=[],g=a/r,f=u/t;for(let p=0;p<t;p++)for(let v=0;v<r;v++)d.push(new st(i+v*g,o+p*f,g,f));return d}m(Cd,"slice");function Vc(r,t={}){let i=document.createElement("canvas"),o=r[0].width,a=r[0].height;i.width=o*r.length,i.height=a;let u=i.getContext("2d");if(!u)throw new Error("Failed to create canvas context");r.forEach((g,f)=>{g instanceof ImageData?u.putImageData(g,f*o,0):u.drawImage(g,f*o,0)});let d=u.getImageData(0,0,r.length*o,a);return Hr.fromImage(d,{...t,sliceX:r.length,sliceY:1})}m(Vc,"createSpriteSheet");function Yg(r="bean"){return is(r,rA)}m(Yg,"loadBean");function Xg(r,t,i){t=ln(t),i=ln(i),typeof t=="string"&&!i&&(i=Nx(t)+".json");let o=typeof i=="string"?Go(i):Promise.resolve(i);return x.assets.sprites.add(r,o.then(a=>{let u=a.meta.size,d=a.frames.map(f=>new st(f.frame.x/u.w,f.frame.y/u.h,f.frame.w/u.w,f.frame.h/u.h)),g={};for(let f of a.meta.frameTags)f.from===f.to?g[f.name]=f.from:g[f.name]={from:f.from,to:f.to,speed:10,loop:!0,pingpong:f.direction==="pingpong"};return Hr.from(t,{frames:d,anims:g})}))}m(Xg,"loadAseprite");var ws,hl=(ws=class{constructor(t,i={}){G(this,"fontface");G(this,"filter",_c);G(this,"outline",null);G(this,"size",64);if(this.fontface=t,this.filter=i.filter??_c,this.size=i.size??64,this.size>256)throw new Error("Max font size: 256");i.outline&&(this.outline={width:1,color:Le(0,0,0)},typeof i.outline=="number"?this.outline.width=i.outline:typeof i.outline=="object"&&(i.outline.width&&(this.outline.width=i.outline.width),i.outline.color&&(this.outline.color=i.outline.color)))}},m(ws,"FontData"),ws);function Md(r){if(!r)return Md(x.globalOpt.font??vx);if(typeof r=="string"){let t=Pd(r),i=Rd(r);if(t)return t.data??t;if(i)return i.data??i;if(document.fonts.check(`64px ${r}`))return r;if(Ur()<1)return null;throw new Error(`Font not found: ${r}`)}else if(r instanceof wn)return r.data?r.data:r;return r}m(Md,"resolveFont");function Rd(r){return x.assets.fonts.get(r)??null}m(Rd,"getFont");function $g(r,t,i={}){let o=ln(t),a=new FontFace(r,typeof t=="string"?`url(${o})`:o);return document.fonts.add(a),x.assets.fonts.add(r,a.load().catch(u=>{throw new Error(`Failed to load font from "${o}": ${u}`)}).then(u=>new hl(u,i)))}m($g,"loadFont");function Jg(r,t,i,o){let a=r.width/t,u={},d=o.split("").entries();for(let[g,f]of d)u[f]=new st(g%a*t,Math.floor(g/a)*i,t,i);return{tex:r,map:u,size:i}}m(Jg,"makeFont");function Pd(r){return x.assets.bitmapFonts.get(r)??null}m(Pd,"getBitmapFont");function Zg(r,t,i,o,a={}){let u=ln(t);return x.assets.bitmapFonts.add(r,Vo(u).then(d=>Jg(Fr.fromImage(x.gfx.ggl,d,a),i,o,a.chars??pg)))}m(Zg,"loadBitmapFont");function ey(r,t){return t=ln(t),x.assets.sprites.add(r,new Promise(async i=>{let o=typeof t=="string"?await Go(t):t,a=await Promise.all(o.frames.map(Vo)),u=document.createElement("canvas");u.width=o.width,u.height=o.height*o.frames.length;let d=u.getContext("2d");if(!d)throw new Error("Failed to create canvas context");a.forEach((f,p)=>{d.drawImage(f,0,p*o.height)});let g=await is(null,u,{sliceY:o.frames.length,anims:o.anims});i(g)}))}m(ey,"loadPedit");var xs,iA=(xs=class{constructor(t,i,o,a){G(this,"ctx");G(this,"glProgram");this.ctx=t,t.onDestroy(()=>this.free());let u=t.gl,d=u.createShader(u.VERTEX_SHADER),g=u.createShader(u.FRAGMENT_SHADER);if(!d||!g)throw new Error("Failed to create shader");u.shaderSource(d,i),u.shaderSource(g,o),u.compileShader(d),u.compileShader(g);let f=u.createProgram();if(this.glProgram=f,u.attachShader(f,d),u.attachShader(f,g),a.forEach((p,v)=>u.bindAttribLocation(f,v,p)),u.linkProgram(f),!u.getProgramParameter(f,u.LINK_STATUS)){let p=u.getShaderInfoLog(d);if(p)throw new Error("VERTEX SHADER "+p);let v=u.getShaderInfoLog(g);if(v)throw new Error("FRAGMENT SHADER "+v)}u.deleteShader(d),u.deleteShader(g)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(t){let i=this.ctx.gl;for(let o in t){let a=t[o],u=i.getUniformLocation(this.glProgram,o);if(typeof a=="number")i.uniform1f(u,a);else if(a instanceof Un)i.uniformMatrix4fv(u,!1,new Float32Array(a.m));else if(a instanceof be)i.uniform3f(u,a.r,a.g,a.b);else if(a instanceof J)i.uniform2f(u,a.x,a.y);else if(Array.isArray(a))a[0],bx(a)?i.uniform1fv(u,a):Ix(a)?i.uniform2fv(u,a.map(d=>[d.x,d.y]).flat()):Tx(a)&&i.uniform3fv(u,a.map(d=>[d.r,d.g,d.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}},m(xs,"Shader"),xs);function Hl(r,t=zc,i=Uc){let o=Sx.replace("{{user}}",t??zc),a=Ex.replace("{{user}}",i??Uc);try{return new iA(r,o,a,wd.map(u=>u.name))}catch(u){let d=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,g=Bx(u).match(d);if(!(g!=null&&g.groups))throw u;let f=Number(g.groups.line)-14,p=g.groups.msg.trim(),v=g.groups.type.toLowerCase();throw new Error(`${v} shader line ${f}: ${p}`)}}m(Hl,"makeShader");function ty(r){if(!r)return x.gfx.defShader;if(typeof r=="string"){let t=Td(r);if(t)return t.data??t;if(Ur()<1)return null;throw new Error(`Shader not found: ${r}`)}else if(r instanceof wn)return r.data?r.data:r;return r}m(ty,"resolveShader");function Td(r){return x.assets.shaders.get(r)??null}m(Td,"getShader");function ny(r,t,i){return x.assets.shaders.addLoaded(r,Hl(x.gfx.ggl,t,i))}m(ny,"loadShader");function ry(r,t,i){t=ln(t),i=ln(i);let o=m(u=>u?Gg(u):Promise.resolve(null),"resolveUrl"),a=Promise.all([o(t),o(i)]).then(([u,d])=>Hl(x.gfx.ggl,u,d));return x.assets.shaders.add(r,a)}m(ry,"loadShaderURL");var rr,Fo=(rr=class{constructor(t){G(this,"buf");this.buf=t}static fromArrayBuffer(t){return new Promise((i,o)=>x.audio.ctx.decodeAudioData(t,i,o)).then(i=>new rr(i))}static fromURL(t){return Sg(t)?rr.fromArrayBuffer(xg(t)):Vg(t).then(i=>rr.fromArrayBuffer(i))}},m(rr,"SoundData"),rr);function iy(r){if(typeof r=="string"){let t=Id(r);if(t)return t;if(Ur()<1)return null;throw new Error(`Sound not found: ${r}`)}else{if(r instanceof Fo)return wn.loaded(r);if(r instanceof wn)return r;throw new Error(`Invalid sound: ${r}`)}}m(iy,"resolveSound");function Id(r){return x.assets.sounds.get(r)??null}m(Id,"getSound");function sy(r,t){return t=ln(t),x.assets.sounds.add(r,typeof t=="string"?Fo.fromURL(t):Fo.fromArrayBuffer(t))}m(sy,"loadSound");function oy(r,t){let i=ln(t),o=new Audio(i);return o.preload="auto",x.assets.music[r]=i}m(oy,"loadMusic");function bd(r,t){return r=ln(r),xl(typeof t=="string"?new Promise((i,o)=>{Go(t).then(a=>{bd(r,a).then(i).catch(o)})}):Hr.from(r).then(i=>{let o={};for(let a in t){let u=t[a],d=i.frames[0],g=2048*d.w,f=2048*d.h,p=u.frames?u.frames.map(k=>new st(d.x+(u.x+k.x)/g*d.w,d.y+(u.y+k.y)/f*d.h,k.w/g*d.w,k.h/f*d.h)):Cd(u.sliceX||1,u.sliceY||1,d.x+u.x/g*d.w,d.y+u.y/f*d.h,u.width/g*d.w,u.height/f*d.h),v=new Hr(i.tex,p,u.anims);x.assets.sprites.addLoaded(a,v),o[a]=v}return o}))}m(bd,"loadSpriteAtlas");function ur(r,t,i=!1,o,a,u={}){let d=o??x.gfx.defTex,g=a??x.gfx.defShader,f=ty(g);if(!f||f instanceof wn)return;let p=x.gfx.fixed||i?x.gfx.transform:x.game.cam.transform.mult(x.gfx.transform),v=[];for(let k of r){let y=Lg(p.multVec2(k.pos));v.push(y.x,y.y,k.uv.x,k.uv.y,k.color.r/255,k.color.g/255,k.color.b/255,k.opacity)}x.gfx.renderer.push(x.gfx.ggl.gl.TRIANGLES,v,t,f,d,u)}m(ur,"drawRaw");function sr(r){if(!r.pts)throw new Error('drawPolygon() requires property "pts".');let t=r.pts.length;if(!(t<3)){if(rn(),it(r.pos),Ps(r.scale),wi(r.angle),it(r.offset),r.fill!==!1){let i=r.color??be.WHITE,o=r.pts.map((u,d)=>({pos:new J(u.x,u.y),uv:r.uv?r.uv[d]:new J(0,0),color:r.colors&&r.colors[d]?r.colors[d].mult(i):i,opacity:r.opacity??1})),a;r.triangulate?a=vd(r.pts).map(u=>u.map(d=>r.pts.indexOf(d))).flat():a=[...Array(t-2).keys()].map(u=>[0,u+1,u+2]).flat(),ur(o,r.indices??a,r.fixed,r.uv?r.tex:x.gfx.defTex,r.shader,r.uniform??void 0)}r.outline&&Gl({pts:[...r.pts,r.pts[0]],radius:r.radius,width:r.outline.width,color:r.outline.color,join:r.outline.join,uniform:r.uniform,fixed:r.fixed,opacity:r.opacity??r.outline.opacity}),Kt()}}m(sr,"drawPolygon");function Nd(r){if(r.radiusX===void 0||r.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(r.radiusX===0||r.radiusY===0)return;let t=r.start??0,i=r.end??360,o=Si(r.anchor??"center").scale(new J(-r.radiusX,-r.radiusY)),a=es(o,r.radiusX,r.radiusY,t,i,r.resolution);a.unshift(o);let u=Object.assign({},r,{pts:a,radius:0,...r.gradient?{colors:[r.gradient[0],...Array(a.length-1).fill(r.gradient[1])]}:{}});if(i-t>=360&&r.outline){r.fill!==!1&&sr(Object.assign({},u,{outline:null})),sr(Object.assign({},u,{pts:a.slice(1),fill:!1}));return}sr(u)}m(Nd,"drawEllipse");function Ei(r){if(typeof r.radius!="number")throw new Error('drawCircle() requires property "radius".');r.radius!==0&&Nd(Object.assign({},r,{radiusX:r.radius,radiusY:r.radius,angle:0}))}m(Ei,"drawCircle");function ts(r){let{p1:t,p2:i}=r;if(!t||!i)throw new Error('drawLine() requires properties "p1" and "p2".');let o=r.width||1,a=i.sub(t).unit().normal().scale(o*.5),u=[t.sub(a),t.add(a),i.add(a),i.sub(a)].map(d=>({pos:new J(d.x,d.y),uv:new J(0),color:r.color??be.WHITE,opacity:r.opacity??1}));ur(u,[0,1,3,1,2,3],r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(ts,"drawLine");function ay(r){let t=r.pts,i=[],o=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||K(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let g=d.len(),f=d.normal().scale(-o/g),p,v=t[0];if(!a)switch(r.cap){case"square":{let A=d.scale(-o/g);i.push(v.add(A).add(f)),i.push(v.add(A).sub(f));break}case"round":{let A=Math.max(o,10),T=Math.PI/A,S=f.scale(-1),C=Math.cos(T),_=Math.sin(T);for(let I=0;I<A;I++)i.push(v),i.push(v.sub(S)),S=K(S.x*C-S.y*_,S.x*_+S.y*C)}}for(let A=1;A<t.length;A++){if(v===t[A]||v.eq(t[A]))continue;p=v,v=t[A];let T=v.sub(p),S=T.len(),C=T.normal().scale(-o/S),_=d.cross(T);if(Math.abs(_)/(g*S)<.05){i.push(p.add(f)),i.push(p.sub(f)),d.dot(T)<0&&(i.push(p.sub(f)),i.push(p.add(f))),d=T,g=S,f=C;continue}let I=C.sub(f).cross(T)/_,L=f.add(d.scale(I));_>0?(i.push(p.add(L)),i.push(p.sub(f)),i.push(p.add(L)),i.push(p.sub(C))):(i.push(p.add(f)),i.push(p.sub(L)),i.push(p.add(C)),i.push(p.sub(L))),d=T,g=S,f=C}if(!a)switch(i.push(v.add(f)),i.push(v.sub(f)),r.cap){case"square":{let A=d.scale(o/g);i.push(v.add(A).add(f)),i.push(v.add(A).sub(f));break}case"round":{let A=Math.max(o,10),T=Math.PI/A,S=f.scale(1),C=Math.cos(T),_=Math.sin(T);for(let I=0;I<A;I++)S=K(S.x*C-S.y*_,S.x*_+S.y*C),i.push(v),i.push(v.sub(S))}}if(i.length<4)return;let k=i.map(A=>({pos:u.add(A),uv:K(),color:r.color||be.WHITE,opacity:r.opacity??1})),y=[],E=0;for(let A=0;A<i.length-2;A+=2)y[E++]=A+1,y[E++]=A,y[E++]=A+2,y[E++]=A+2,y[E++]=A+3,y[E++]=A+1;a&&(y[E++]=i.length-1,y[E++]=i.length-2,y[E++]=0,y[E++]=0,y[E++]=1,y[E++]=i.length-1),ur(k,y,r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(ay,"_drawLinesBevel");function ly(r){let t=r.pts,i=[],o=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||K(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let g=d.len(),f=d.normal().scale(-o/g),p,v=t[0];if(!a)switch(r.cap){case"square":{let A=d.scale(-o/g);i.push(v.add(A).add(f)),i.push(v.add(A).sub(f));break}case"round":{let A=Math.max(o,10),T=Math.PI/A,S=f.scale(-1),C=Math.cos(T),_=Math.sin(T);for(let I=0;I<A;I++)i.push(v),i.push(v.sub(S)),S=K(S.x*C-S.y*_,S.x*_+S.y*C)}}for(let A=1;A<t.length;A++){if(v===t[A]||v.eq(t[A]))continue;p=v,v=t[A];let T=v.sub(p),S=T.len(),C=T.normal().scale(-o/S),_=d.cross(T);if(Math.abs(_)/(g*S)<.05){i.push(p.add(f)),i.push(p.sub(f)),d.dot(T)<0&&(i.push(p.sub(f)),i.push(p.add(f))),d=T,g=S,f=C;continue}let I=C.sub(f).cross(T)/_,L=f.add(d.scale(I));if(_>0){let U=p.add(L),M=Math.max(o,10),P=ft(f.angleBetween(C)/M),D=f,X=Math.cos(P),z=Math.sin(P);for(let $=0;$<M;$++)i.push(U),i.push(p.sub(D)),D=K(D.x*X-D.y*z,D.x*z+D.y*X)}else{let U=p.sub(L),M=Math.max(o,10),P=ft(f.angleBetween(C)/M),D=f,X=Math.cos(P),z=Math.sin(P);for(let $=0;$<M;$++)i.push(p.add(D)),i.push(U),D=K(D.x*X-D.y*z,D.x*z+D.y*X)}d=T,g=S,f=C}if(!a)switch(i.push(v.add(f)),i.push(v.sub(f)),r.cap){case"square":{let A=d.scale(o/g);i.push(v.add(A).add(f)),i.push(v.add(A).sub(f));break}case"round":{let A=Math.max(o,10),T=Math.PI/A,S=f.scale(1),C=Math.cos(T),_=Math.sin(T);for(let I=0;I<A;I++)S=K(S.x*C-S.y*_,S.x*_+S.y*C),i.push(v),i.push(v.sub(S))}}if(i.length<4)return;let k=i.map(A=>({pos:u.add(A),uv:K(),color:r.color||be.WHITE,opacity:r.opacity??1})),y=[],E=0;for(let A=0;A<i.length-2;A+=2)y[E++]=A+1,y[E++]=A,y[E++]=A+2,y[E++]=A+2,y[E++]=A+3,y[E++]=A+1;a&&(y[E++]=i.length-1,y[E++]=i.length-2,y[E++]=0,y[E++]=0,y[E++]=1,y[E++]=i.length-1),ur(k,y,r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(ly,"_drawLinesRound");function uy(r){let t=r.pts,i=[],o=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||K(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let g=d.len(),f=d.normal().scale(-o/g),p,v=t[0];if(!a)switch(r.cap){case"square":{let A=d.scale(-o/g);i.push(v.add(A).add(f)),i.push(v.add(A).sub(f));break}case"round":{let A=Math.max(o,10),T=Math.PI/A,S=f.scale(-1),C=Math.cos(T),_=Math.sin(T);for(let I=0;I<A;I++)i.push(v),i.push(v.sub(S)),S=K(S.x*C-S.y*_,S.x*_+S.y*C)}}for(let A=1;A<t.length;A++){if(v===t[A]||v.eq(t[A]))continue;p=v,v=t[A];let T=v.sub(p),S=T.len(),C=T.normal().scale(-o/S),_=d.cross(T);if(Math.abs(_)/(g*S)<.05){i.push(p.add(f)),i.push(p.sub(f)),d.dot(T)<0&&(i.push(p.sub(f)),i.push(p.add(f))),d=T,g=S,f=C;continue}let I=C.sub(f).cross(T)/_,L=f.add(d.scale(I));i.push(p.add(L)),i.push(p.sub(L)),d=T,g=S,f=C}if(!a)switch(i.push(v.add(f)),i.push(v.sub(f)),r.cap){case"square":{let A=d.scale(o/g);i.push(v.add(A).add(f)),i.push(v.add(A).sub(f));break}case"round":{let A=Math.max(o,10),T=Math.PI/A,S=f.scale(1),C=Math.cos(T),_=Math.sin(T);for(let I=0;I<A;I++)S=K(S.x*C-S.y*_,S.x*_+S.y*C),i.push(v),i.push(v.sub(S))}}if(i.length<4)return;let k=i.map(A=>({pos:u.add(A),uv:K(),color:r.color||be.WHITE,opacity:r.opacity??1})),y=[],E=0;for(let A=0;A<i.length-2;A+=2)y[E++]=A+1,y[E++]=A,y[E++]=A+2,y[E++]=A+2,y[E++]=A+3,y[E++]=A+1;a&&(y[E++]=i.length-1,y[E++]=i.length-2,y[E++]=0,y[E++]=0,y[E++]=1,y[E++]=i.length-1),ur(k,y,r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(uy,"_drawLinesMiter");function Gl(r){let t=r.pts,i=r.width??1;if(!t)throw new Error('drawLines() requires property "pts".');if(!(t.length<2)){if(t.length>2)switch(r.join){case"bevel":return ay(r);case"round":return ly(r);case"miter":return uy(r)}if(r.radius&&t.length>=3){ts(Object.assign({},r,{p1:t[0],p2:t[1]}));for(let o=1;o<t.length-2;o++){let a=t[o],u=t[o+1];ts(Object.assign({},r,{p1:a,p2:u}))}ts(Object.assign({},r,{p1:t[t.length-2],p2:t[t.length-1]}))}else for(let o=0;o<t.length-1;o++)ts(Object.assign({},r,{p1:t[o],p2:t[o+1]})),r.join!=="none"&&Ei(Object.assign({},r,{pos:t[o],radius:i/2}))}}m(Gl,"drawLines");function Bd(r,t){let i=t.segments??16,o=[];for(let a=0;a<=i;a++)o.push(r(a/i));Gl({pts:o,width:t.width||1,pos:t.pos,color:t.color,opacity:t.opacity})}m(Bd,"drawCurve");function cy(r){Bd(t=>Ol(r.pt1,r.pt2,r.pt3,r.pt4,t),r)}m(cy,"drawBezier");var vi,Fr=(vi=class{constructor(t,i,o,a={}){G(this,"ctx");G(this,"src",null);G(this,"glTex");G(this,"width");G(this,"height");this.ctx=t;let u=t.gl,d=t.gl.createTexture();if(!d)throw new Error("Failed to create texture");this.glTex=d,t.onDestroy(()=>this.free()),this.width=i,this.height=o;let g={linear:u.LINEAR,nearest:u.NEAREST}[a.filter??t.opts.texFilter??"nearest"],f={repeat:u.REPEAT,clampToEdge:u.CLAMP_TO_EDGE}[a.wrap??"clampToEdge"];this.bind(),i&&o&&u.texImage2D(u.TEXTURE_2D,0,u.RGBA,i,o,0,u.RGBA,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,g),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,g),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,f),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,f),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(t,i,o={}){let a=new vi(t,i.width,i.height,o);return a.update(i),a.src=i,a}update(t,i=0,o=0){let a=this.ctx.gl;this.bind(),a.texSubImage2D(a.TEXTURE_2D,0,i,o,a.RGBA,a.UNSIGNED_BYTE,t),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},m(vi,"Texture"),vi),As,Al=(As=class{constructor(t,i,o,a={}){G(this,"ctx");G(this,"tex");G(this,"glFramebuffer");G(this,"glRenderbuffer");this.ctx=t;let u=t.gl;t.onDestroy(()=>this.free()),this.tex=new Fr(t,i,o,a);let d=u.createFramebuffer(),g=u.createRenderbuffer();if(!d||!g)throw new Error("Failed to create framebuffer");this.glFramebuffer=d,this.glRenderbuffer=g,this.bind(),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,i,o),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,this.tex.glTex,0),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let t=this.ctx.gl,i=new Uint8ClampedArray(this.width*this.height*4);this.bind(),t.readPixels(0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,i),this.unbind();let o=this.width*4,a=new Uint8Array(o);for(let u=0;u<(this.height/2|0);u++){let d=u*o,g=(this.height-u-1)*o;a.set(i.subarray(d,d+o)),i.copyWithin(d,g,g+o),i.set(a,g)}return new ImageData(i,this.width,this.height)}toDataURL(){let t=document.createElement("canvas"),i=t.getContext("2d");if(t.width=this.width,t.height=this.height,!i)throw new Error("Failed to get 2d context");return i.putImageData(this.toImageData(),0,0),t.toDataURL()}clear(){let t=this.ctx.gl;t.clear(t.COLOR_BUFFER_BIT)}draw(t){this.bind(),t(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let t=this.ctx.gl;t.deleteFramebuffer(this.glFramebuffer),t.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},m(As,"FrameBuffer"),As),Ss,sA=(Ss=class{constructor(t,i,o,a){G(this,"ctx");G(this,"glVBuf");G(this,"glIBuf");G(this,"vqueue",[]);G(this,"iqueue",[]);G(this,"stride");G(this,"maxVertices");G(this,"maxIndices");G(this,"vertexFormat");G(this,"numDraws",0);G(this,"curPrimitive",null);G(this,"curTex",null);G(this,"curShader",null);G(this,"curUniform",{});let u=t.gl;this.vertexFormat=i,this.ctx=t,this.stride=i.reduce((g,f)=>g+f.size,0),this.maxVertices=o,this.maxIndices=a;let d=u.createBuffer();if(!d)throw new Error("Failed to create vertex buffer");this.glVBuf=d,t.pushArrayBuffer(this.glVBuf),u.bufferData(u.ARRAY_BUFFER,o*4,u.DYNAMIC_DRAW),t.popArrayBuffer(),this.glIBuf=u.createBuffer(),t.pushElementArrayBuffer(this.glIBuf),u.bufferData(u.ELEMENT_ARRAY_BUFFER,a*4,u.DYNAMIC_DRAW),t.popElementArrayBuffer()}push(t,i,o,a,u=null,d={}){(t!==this.curPrimitive||u!==this.curTex||a!==this.curShader||!_l(this.curUniform,d)||this.vqueue.length+i.length*this.stride>this.maxVertices||this.iqueue.length+o.length>this.maxIndices)&&this.flush();let g=this.vqueue.length/this.stride;for(let f of i)this.vqueue.push(f);for(let f of o)this.iqueue.push(f+g);this.curPrimitive=t,this.curShader=a,this.curTex=u,this.curUniform=d}flush(){var i,o;if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let t=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),t.bufferSubData(t.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),(i=this.curTex)==null||i.bind(),t.drawElements(this.curPrimitive,this.iqueue.length,t.UNSIGNED_SHORT,0),(o=this.curTex)==null||o.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let t=this.ctx.gl;t.deleteBuffer(this.glVBuf),t.deleteBuffer(this.glIBuf)}},m(Ss,"BatchRenderer"),Ss);function Br(r){let t=[],i=m(u=>{t.push(u),r(u)},"push"),o=m(()=>{t.pop(),r(a()??null)},"pop"),a=m(()=>t[t.length-1],"cur");return[i,o,a]}m(Br,"genStack");function dy(r,t={}){let i=[];function o(U){i.push(U)}m(o,"onDestroy");function a(){i.forEach(M=>M());let U=r.getExtension("WEBGL_lose_context");U&&U.loseContext()}m(a,"destroy");let u=null;function d(U){if(_l(U,u))return;u=U;let M=U.reduce((P,D)=>P+D.size,0);U.reduce((P,D,X)=>(r.vertexAttribPointer(X,D.size,r.FLOAT,!1,M*4,P),r.enableVertexAttribArray(X),P+D.size*4),0)}m(d,"setVertexFormat");let[g,f]=Br(U=>r.bindTexture(r.TEXTURE_2D,U)),[p,v]=Br(U=>r.bindBuffer(r.ARRAY_BUFFER,U)),[k,y]=Br(U=>r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,U)),[E,A]=Br(U=>r.bindFramebuffer(r.FRAMEBUFFER,U)),[T,S]=Br(U=>r.bindRenderbuffer(r.RENDERBUFFER,U)),[C,_]=Br(U=>{if(!U)return;let{x:M,y:P,w:D,h:X}=U;r.viewport(M,P,D,X)}),[I,L]=Br(U=>r.useProgram(U));return C({x:0,y:0,w:r.drawingBufferWidth,h:r.drawingBufferHeight}),{gl:r,opts:t,onDestroy:o,destroy:a,pushTexture2D:g,popTexture2D:f,pushArrayBuffer:p,popArrayBuffer:v,pushElementArrayBuffer:k,popElementArrayBuffer:y,pushFramebuffer:E,popFramebuffer:A,pushRenderbuffer:T,popRenderbuffer:S,pushViewport:C,popViewport:_,pushProgram:I,popProgram:L,setVertexFormat:d}}m(dy,"initGfx");var Dc={};function Wc(r,t){if(t.override){Object.assign(r,t);return}t.pos&&(r.pos=r.pos.add(t.pos)),t.scale&&(r.scale=r.scale.scale(K(t.scale))),t.angle&&(r.angle+=t.angle),t.color&&r.ch.length===1&&(r.color=r.color.mult(t.color)),t.opacity!=null&&(r.opacity*=t.opacity)}m(Wc,"applyCharTransform");function Sl(r){let t={},i="",o=[],a=String(r),u=m(d=>{o.length>0&&(t[i.length]=o.slice()),i+=d},"emit");for(;a!=="";){if(a[0]==="\\"){if(a.length===1)throw new Error("Styled text error: \\ at end of string");u(a[1]),a=a.slice(2);continue}if(a[0]==="["){let d=/^\[(\/)?(\w+?)\]/.exec(a);if(!d){u(a[0]),a=a.slice(1);continue}let[g,f,p]=d;if(f!==void 0){let v=o.pop();if(v!==p)throw v!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${v}], got [/${p}]`):new Error(`Styled text error: stray end tag [/${p}]`)}else o.push(p);a=a.slice(g.length);continue}u(a[0]),a=a.slice(1)}if(o.length>0)throw new Error(`Styled text error: unclosed tags ${o}`);return{charStyleMap:t,text:i}}m(Sl,"compileStyledText");function Gr(r){var I,L,U;if(r.text===void 0)throw new Error('formatText() requires property "text".');let t=Md(r.font);if(!r.text||r.text===""||t instanceof wn||!t)return{width:0,height:0,chars:[],opt:r,renderedText:""};let{charStyleMap:i,text:o}=Sl(r.text+""),a=kg(o);if(t instanceof hl||typeof t=="string"){let M=t instanceof hl?t.fontface.family:t,P=t instanceof hl?{outline:t.outline,filter:t.filter}:{outline:null,filter:_c},D=Dc[M]??{font:{tex:new Fr(x.gfx.ggl,2048,2048,{filter:P.filter}),map:{},size:64},cursor:new J(0),maxHeight:0,outline:P.outline};Dc[M]||(Dc[M]=D),t=D.font;for(let X of a)if(!D.font.map[X]){let z=x.fontCacheC2d;if(!z)throw new Error("fontCacheC2d is not defined.");if(!x.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");z.clearRect(0,0,x.fontCacheCanvas.width,x.fontCacheCanvas.height),z.font=`${t.size}px ${M}`,z.textBaseline="top",z.textAlign="left",z.fillStyle="#ffffff";let $=z.measureText(X),ee=Math.ceil($.width);if(!ee)continue;let ie=Math.ceil(Math.abs($.actualBoundingBoxAscent))+Math.ceil(Math.abs($.actualBoundingBoxDescent));D.outline&&D.outline.width&&D.outline.color&&(z.lineJoin="round",z.lineWidth=D.outline.width*2,z.strokeStyle=D.outline.color.toHex(),z.strokeText(X,D.outline.width,D.outline.width),ee+=D.outline.width*2,ie+=D.outline.width*3),z.fillText(X,((I=D.outline)==null?void 0:I.width)??0,((L=D.outline)==null?void 0:L.width)??0);let de=z.getImageData(0,0,ee,ie);if(D.cursor.x+ee>2048&&(D.cursor.x=0,D.cursor.y+=D.maxHeight,D.maxHeight=0,D.cursor.y>2048))throw new Error("Font atlas exceeds character limit");t.tex.update(de,D.cursor.x,D.cursor.y),t.map[X]=new st(D.cursor.x,D.cursor.y,ee,ie),D.cursor.x+=ee+1,D.maxHeight=Math.max(D.maxHeight,ie)}}let u=r.size||t.size,d=K(r.scale??1).scale(u/t.size),g=r.lineSpacing??0,f=r.letterSpacing??0,p=0,v=0,k=0,y=[],E=[],A=0,T=null,S=0,C;for(;A<a.length;){let M=a[A];if(M===`
`)k+=u+g,y.push({width:p-f,chars:E}),T=null,S=0,p=0,E=[],C=void 0;else{let P=t.map[M];if(P){let D=P.w*d.x;r.width&&p+D>r.width&&(k+=u+g,T!=null&&(A-=E.length-T,M=a[A],P=t.map[M],D=P.w*d.x,E=E.slice(0,T-1),p=S),T=null,S=0,y.push({width:p-f,chars:E}),p=C??0,E=[]),E.push({tex:t.tex,width:P.w,height:P.h,quad:new st(P.x/t.tex.width,P.y/t.tex.height,P.w/t.tex.width,P.h/t.tex.height),ch:M,pos:new J(p,k),opacity:r.opacity??1,color:r.color??be.WHITE,scale:K(d),angle:0}),M===" "&&(T=E.length,S=p),r.indentAll&&C===void 0&&/\S/.test(M)&&(C=p),p+=D,v=Math.max(v,p),p+=f}}A++}y.push({width:p-f,chars:E}),k+=u,r.width&&(v=r.width);let _=[];for(let M=0;M<y.length;M++){let P=(v-y[M].width)*Fg(r.align??"left");for(let D of y[M].chars){let X=t.map[D.ch],z=_.length+M;if(D.pos=D.pos.add(P,0).add(X.w*d.x*.5,X.h*d.y*.5),r.transform){let $=typeof r.transform=="function"?r.transform(z,D.ch):r.transform;$&&Wc(D,$)}if(i[z]){let $=i[z];for(let ee of $){let ie=(U=r.styles)==null?void 0:U[ee],de=typeof ie=="function"?ie(z,D.ch):ie;de&&Wc(D,de)}}_.push(D)}}return{width:v,height:k,chars:_,opt:r,renderedText:o}}m(Gr,"formatText");function Ts(r){if(r.width===void 0||r.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(r.width<=0||r.height<=0)return;let t=r.width,i=r.height,o=Si(r.anchor||Ll).scale(new J(t,i).scale(-.5)),a=r.quad||new st(0,0,1,1),u=r.color||Le(255,255,255),d=r.opacity??1,g=r.tex?.1/r.tex.width:0,f=r.tex?.1/r.tex.height:0,p=a.x+g,v=a.y+f,k=a.w-g*2,y=a.h-f*2;rn(),it(r.pos),wi(r.angle),Ps(r.scale),it(o),ur([{pos:new J(-t/2,i/2),uv:new J(r.flipX?p+k:p,r.flipY?v:v+y),color:u,opacity:d},{pos:new J(-t/2,-i/2),uv:new J(r.flipX?p+k:p,r.flipY?v+y:v),color:u,opacity:d},{pos:new J(t/2,-i/2),uv:new J(r.flipX?p:p+k,r.flipY?v+y:v),color:u,opacity:d},{pos:new J(t/2,i/2),uv:new J(r.flipX?p:p+k,r.flipY?v:v+y),color:u,opacity:d}],[0,1,3,1,2,3],r.fixed,r.tex,r.shader,r.uniform??void 0),Kt()}m(Ts,"drawUVQuad");function Vr(r){rn(),it(r.opt.pos),wi(r.opt.angle),it(Si(r.opt.anchor??"topleft").add(1,1).scale(r.width,r.height).scale(-.5)),r.chars.forEach(t=>{Ts({tex:t.tex,width:t.width,height:t.height,pos:t.pos,scale:t.scale,angle:t.angle,color:t.color,opacity:t.opacity,quad:t.quad,anchor:"center",uniform:r.opt.uniform,shader:r.opt.shader,fixed:r.opt.fixed})}),Kt()}m(Vr,"drawFormattedText");function on(r){if(r.width===void 0||r.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(r.width<=0||r.height<=0)return;let t=r.width,i=r.height,o=Si(r.anchor||Ll).add(1,1).scale(new J(t,i).scale(-.5)),a=[new J(0,0),new J(t,0),new J(t,i),new J(0,i)];if(r.radius){let u=Math.min(t,i)/2,d=Array.isArray(r.radius)?r.radius.map(g=>Math.min(u,g)):new Array(4).fill(Math.min(u,r.radius));a=[new J(d[0],0),...d[1]?es(new J(t-d[1],d[1]),d[1],d[1],270,360):[K(t,0)],...d[2]?es(new J(t-d[2],i-d[2]),d[2],d[2],0,90):[K(t,i)],...d[3]?es(new J(d[3],i-d[3]),d[3],d[3],90,180):[K(0,i)],...d[0]?es(new J(d[0],d[0]),d[0],d[0],180,270):[]]}sr(Object.assign({},r,{offset:o,pts:a,...r.gradient?{colors:r.horizontal?[r.gradient[0],r.gradient[1],r.gradient[1],r.gradient[0]]:[r.gradient[0],r.gradient[0],r.gradient[1],r.gradient[1]]}:{}}))}m(on,"drawRect");function nr(r){sn();let t=x.gfx.width,i=x.gfx.height;x.gfx.width=x.gfx.viewport.width,x.gfx.height=x.gfx.viewport.height,r(),sn(),x.gfx.width=t,x.gfx.height=i}m(nr,"drawUnscaled");function Qc(r,t){nr(()=>{let i=K(8);rn(),it(r);let o=Gr({text:t,font:gl,size:16,pos:i,color:Le(255,255,255),fixed:!0}),a=o.width+i.x*2,u=o.height+i.x*2;r.x+a>=Ct()&&it(K(-a,0)),r.y+u>=It()&&it(K(0,-u)),on({width:a,height:u,color:Le(0,0,0),radius:4,opacity:.8,fixed:!0}),Vr(o),Kt()})}m(Qc,"drawInspectText");function Fd(r){if(!r.p1||!r.p2||!r.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return sr(Object.assign({},r,{pts:[r.p1,r.p2,r.p3]}))}m(Fd,"drawTriangle");function fy(){if(x.debug.inspect){let r=null;for(let t of x.game.root.get("*",{recursive:!0}))if(t.c("area")&&t.isHovering()){r=t;break}if(x.game.root.drawInspect(),r){let t=[],i=r.inspect();for(let o in i)i[o]?t.push(`${i[o]}`):t.push(`${o}`);Qc(Ug(Sd()),t.join(`
`))}Qc(K(8),`FPS: ${x.debug.fps()}`)}x.debug.paused&&nr(()=>{rn(),it(Ct(),0),it(-8,8);let r=32;on({width:r,height:r,anchor:"topright",color:Le(0,0,0),opacity:.8,radius:4,fixed:!0});for(let t=1;t<=2;t++)on({width:4,height:r*.6,anchor:"center",pos:K(-32/3*t,r*.5),color:Le(255,255,255),radius:2,fixed:!0});Kt()}),x.debug.timeScale!==1&&nr(()=>{rn(),it(Ct(),It()),it(-8,-8);let r=8,t=Gr({text:x.debug.timeScale.toFixed(1),font:gl,size:16,color:Le(255,255,255),pos:K(-8),anchor:"botright",fixed:!0});on({width:t.width+r*2+r*4,height:t.height+r*2,anchor:"botright",color:Le(0,0,0),opacity:.8,radius:4,fixed:!0});for(let i=0;i<2;i++){let o=x.debug.timeScale<1;Fd({p1:K(-t.width-r*(o?2:3.5),-8),p2:K(-t.width-r*(o?2:3.5),-8-t.height),p3:K(-t.width-r*(o?3.5:2),-8-t.height/2),pos:K(-i*r*1+(o?-8*.5:0),0),color:Le(255,255,255),fixed:!0})}Vr(t),Kt()}),x.debug.curRecording&&nr(()=>{rn(),it(0,It()),it(24,-24),Ei({radius:12,color:Le(255,0,0),opacity:id(0,1,x.app.time()*4),fixed:!0}),Kt()}),x.debug.showLog&&x.game.logs.length>0&&nr(()=>{rn(),it(0,It()),it(8,-8);let r=8,t=[];for(let o of x.game.logs){let a="",u=o.msg instanceof Error?"error":"info";a+=`[time]${o.time.toFixed(2)}[/time]`,a+=" ",a+=`[${u}]${El(o.msg)}[/${u}]`,t.push(a)}x.game.logs=x.game.logs.filter(o=>x.app.time()-o.time<(x.globalOpt.logTime||4));let i=Gr({text:t.join(`
`),font:gl,pos:K(r,-8),anchor:"botleft",size:16,width:Ct()*.6,lineSpacing:r/2,fixed:!0,styles:{time:{color:Le(127,127,127)},info:{color:Le(255,255,255)},error:{color:Le(255,0,127)}}});on({width:i.width+r*2,height:i.height+r*2,anchor:"botleft",color:Le(0,0,0),radius:4,opacity:.8,fixed:!0}),Vr(i),Kt()})}m(fy,"drawDebug");function El(r,t=!1,i=new Set){if(i.has(r))return"<recursive>";var o="",a;return t&&typeof r=="string"&&(r=JSON.stringify(r)),Array.isArray(r)&&(o=["[",r.map(u=>El(u,!0,i.union(new Set([r])))).join(", "),"]"].join(""),r=o),r===null?"null":(typeof r=="object"&&r.toString===Object.prototype.toString&&(r.constructor!==Object&&(o+=r.constructor.name+" "),o+=["{",(a=Object.getOwnPropertyNames(r).map(u=>`${/^\w+$/.test(u)?u:JSON.stringify(u)}: ${El(r[u],!0,i.union(new Set([r])))}`).join(", "))?` ${a} `:"","}"].join(""),r=o),String(r).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}m(El,"prettyDebug");function hy(){let r=x.game.cam,t=J.fromAngle(wt(0,360)).scale(r.shake);r.shake=Yt(r.shake,0,5*xt()),r.transform=new Un().translate(Bo()).scale(r.scale).rotate(r.angle).translate((r.pos??Bo()).scale(-1).add(t)),x.game.root.draw(),sn()}m(hy,"drawFrame");function py(){let r=Ur();x.game.events.numListeners("loading")>0?x.game.events.trigger("loading",r):nr(()=>{let t=Ct()/2,i=24,o=K(Ct()/2,It()/2).sub(K(t/2,i/2));on({pos:K(0),width:Ct(),height:It(),color:Le(0,0,0)}),on({pos:o,width:t,height:i,fill:!1,outline:{width:4}}),on({pos:o,width:t*r,height:i})})}m(py,"drawLoadScreen");function Dd(r,t,i){let o=x.gfx.ggl.gl;sn(),o.clear(o.STENCIL_BUFFER_BIT),o.enable(o.STENCIL_TEST),o.stencilFunc(o.NEVER,1,255),o.stencilOp(o.REPLACE,o.REPLACE,o.REPLACE),t(),sn(),o.stencilFunc(i,1,255),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),r(),sn(),o.disable(o.STENCIL_TEST)}m(Dd,"drawStenciled");function my(r,t){let i=x.gfx.ggl.gl;Dd(r,t,i.EQUAL)}m(my,"drawMasked");function Do(r){var u,d;if(!r.tex)throw new Error('drawTexture() requires property "tex".');let t=r.quad??new st(0,0,1,1),i=r.tex.width*t.w,o=r.tex.height*t.h,a=new J(1);if(r.tiled){let g=Si(r.anchor||Ll);(((u=r.pos)==null?void 0:u.x)||0)-(g.x+1)*.5*(r.width||i),(((d=r.pos)==null?void 0:d.y)||0)-(g.y+1)*.5*(r.height||o);let f=(r.width||i)/i,p=(r.height||o)/o,v=Math.floor(f),k=Math.floor(p),y=f-v,E=p-k,A=(v+y?1:0)*(k+E?1:0),T=new Array(A*6),S=new Array(A*4),C=0,_=m((I,L,U,M,P)=>{T[C*6+0]=C*4+0,T[C*6+1]=C*4+1,T[C*6+2]=C*4+3,T[C*6+3]=C*4+1,T[C*6+4]=C*4+2,T[C*6+5]=C*4+3,S[C*4+0]={pos:new J(I-g.x,L-g.y),uv:new J(P.x,P.y),color:r.color||be.WHITE,opacity:r.opacity||1},S[C*4+1]={pos:new J(I+U-g.x,L-g.y),uv:new J(P.x+P.w,P.y),color:r.color||be.WHITE,opacity:r.opacity||1},S[C*4+2]={pos:new J(I+U-g.x,L+M-g.y),uv:new J(P.x+P.w,P.y+P.h),color:r.color||be.WHITE,opacity:r.opacity||1},S[C*4+3]={pos:new J(I-g.x,L+M-g.y),uv:new J(P.x,P.y+P.h),color:r.color||be.WHITE,opacity:r.opacity||1},C++},"addQuad");for(let I=0;I<k;I++){for(let L=0;L<v;L++)_(L*i,I*o,i,o,t);y&&_(v*i,I*o,i*y,o,new st(t.x,t.y,t.w*y,t.h))}if(E){for(let I=0;I<v;I++)_(I*i,k*o,i,o*E,new st(t.x,t.y,t.w,t.h*E));y&&_(v*i,k*o,i*y,o*E,new st(t.x,t.y,t.w*y,t.h*E))}ur(S,T,r.fixed,r.tex,r.shader,r.uniform??void 0)}else r.width&&r.height?(a.x=r.width/i,a.y=r.height/o):r.width?(a.x=r.width/i,a.y=a.x):r.height&&(a.y=r.height/o,a.x=a.y),Ts(Object.assign({},r,{scale:a.scale(r.scale||new J(1)),tex:r.tex,quad:t,width:i,height:o}))}m(Do,"drawTexture");function gy(r){if(!r.sprite)throw new Error('drawSprite() requires property "sprite"');let t=Ro(r.sprite);if(!t||!t.data)return;let i=t.data.frames[r.frame??0];if(!i)throw new Error(`Frame not found: ${r.frame??0}`);Do(Object.assign({},r,{tex:t.data.tex,quad:i.scale(r.quad??new st(0,0,1,1))}))}m(gy,"drawSprite");function yy(r,t){let i=x.gfx.ggl.gl;Dd(r,t,i.NOTEQUAL)}m(yy,"drawSubtracted");function Kc(r){Vr(Gr(r))}m(Kc,"drawText");var oA=m((r,t)=>{let i=Hl(t,zc,Uc),o=r.pixelDensity??1,a=r.scale??1,{gl:u}=t,d=Fr.fromImage(t,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),g=r.width&&r.height?new Al(t,r.width*o*a,r.height*o*a):new Al(t,u.drawingBufferWidth,u.drawingBufferHeight),f=null,p=1;r.background&&(typeof r.background=="string"?f=Le(r.background):(f=Le(...r.background),p=r.background[3]??1),u.clearColor(f.r/255,f.g/255,f.b/255,p??1)),u.enable(u.BLEND),u.blendFuncSeparate(u.ONE,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA);let v=new sA(t,wd,xx,Ax),k=Fr.fromImage(t,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:t,defShader:i,defTex:d,frameBuffer:g,postShader:null,postShaderUniform:null,renderer:v,transform:new Un,transformStack:[],bgTex:k,bgColor:f,bgAlpha:p,width:r.width??u.drawingBufferWidth/o/a,height:r.height??u.drawingBufferHeight/o/a,viewport:{x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},fixed:!1}},"initAppGfx");function jd(){let r=x.pixelDensity,t=x.gfx.ggl.gl.drawingBufferWidth/r,i=x.gfx.ggl.gl.drawingBufferHeight/r;if(x.globalOpt.letterbox){if(!x.globalOpt.width||!x.globalOpt.height)throw new Error("Letterboxing requires width and height defined.");let o=t/i,a=x.globalOpt.width/x.globalOpt.height;if(o>a){let u=i*a,d=(t-u)/2;x.gfx.viewport={x:d,y:0,width:u,height:i}}else{let u=t/a,d=(i-u)/2;x.gfx.viewport={x:0,y:d,width:t,height:u}}return}if(x.globalOpt.stretch&&(!x.globalOpt.width||!x.globalOpt.height))throw new Error("Stretching requires width and height defined.");x.gfx.viewport={x:0,y:0,width:t,height:i}}m(jd,"updateViewport");function Dr(r){return r.fixed?!0:r.parent?Dr(r.parent):!1}m(Dr,"isFixed");function Wr(r){return{color:r.color,opacity:r.opacity,anchor:r.anchor,outline:r.outline,shader:r.shader,uniform:r.uniform}}m(Wr,"getRenderProps");function vy(r,t={}){return{id:"circle",radius:r,draw(){Ei(Object.assign(Wr(this),{radius:this.radius,fill:t.fill}))},renderArea(){return new Ze(new J(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}m(vy,"circle");function Od(...r){return{id:"color",color:Le(...r),inspect(){return`color: ${this.color.toString()}`}}}m(Od,"color");function wy(r){return{add(){this.canvas=r}}}m(wy,"drawon");function xy(r=1){let t,i=0,o=!1;return{require:["opacity"],add(){t=this.opacity,this.opacity=0},update(){o||(i+=xt(),this.opacity=bn(i,0,r,0,t),i>=r&&(this.opacity=t,o=!0))}}}m(xy,"fadeIn");function Ay(r="intersect"){return{id:"mask",mask:r}}m(Ay,"mask");function Ld(r){return{id:"opacity",opacity:r??1,fadeIn(t=1,i=x.k.easings.linear){return x.game.root.tween(0,this.opacity,t,o=>this.opacity=o,i)},fadeOut(t=1,i=x.k.easings.linear){return x.game.root.tween(this.opacity,0,t,o=>this.opacity=o,i)},inspect(){return`opacity: ${yl(this.opacity,1)}`}}}m(Ld,"opacity");function Sy(r=1,t=Le(0,0,0),i=1,o="miter",a=10,u="butt"){return{id:"outline",outline:{width:r,color:t,opacity:i,join:o,miterLimit:a,cap:u},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}m(Sy,"outline");var Es,aA=(Es=class{constructor(){G(this,"pos",K(0));G(this,"vel",K(0));G(this,"acc",K(0));G(this,"angle",0);G(this,"angularVelocity",0);G(this,"damping",0);G(this,"t");G(this,"lt",null);G(this,"gc");this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}},m(Es,"Particle"),Es);function Ey(r,t){let i=t.lifetime,o=[],a=r.colors||[be.WHITE],u=r.opacities||[1],d=r.quads||[new st(0,0,1,1)],g=r.scales||[1],f=r.lifeTime,p=t.direction,v=t.spread,k=r.speed||[0,0],y=r.angle||[0,0],E=r.angularVelocity||[0,0],A=r.acceleration||[K(0),K(0)],T=r.damping||[0,0],S=[],C=new Array(r.max),_=0,I=0;for(let M=0;M<r.max;M++){S[M*6+0]=M*4+0,S[M*6+1]=M*4+1,S[M*6+2]=M*4+3,S[M*6+3]=M*4+1,S[M*6+4]=M*4+2,S[M*6+5]=M*4+3;for(let P=0;P<4;P++)C[M*4+P]={pos:new J(0,0),uv:new J(0,0),color:Le(255,255,255),opacity:1};o[M]=new aA}let L=new Qt;function U(M=0){for(;M<r.max;){if(o[M].gc)return M;M++}return null}return m(U,"nextFree"),{id:"particles",emit(M){let P=0;for(let D=0;D<M;D++){if(P=U(P),P==null)return;let X=wt(p-v,p+v),z=J.fromAngle(X).scale(wt(k[0],k[1])),$=wt(y[0],y[1]),ee=wt(E[0],E[1]),ie=K(wt(A[0].x,A[1].x),wt(A[0].y,A[1].y)),de=wt(T[0],T[1]),we=f?wt(f[0],f[1]):null,ue=t.shape?t.shape.random():K(),he=o[P];he.lt=we,he.pos=ue,he.vel=z,he.acc=ie,he.angle=$,he.angularVelocity=ee,he.damping=de,he.angularVelocity=ee,he.gc=!1}_+=M},update(){if(i!==void 0&&i<=0)return;let M=xt();for(let P of o)if(!P.gc){if(P.t+=M,P.lt&&P.t>=P.lt){P.gc=!0,_--;continue}P.vel=P.vel.add(P.acc.scale(M)).scale(1-P.damping*M),P.pos=P.pos.add(P.vel.scale(M)),P.angle+=P.angularVelocity*M}for(i!==void 0&&(i-=M,i<=0&&L.trigger()),I+=M;_<r.max&&t.rate&&I>t.rate;)this.emit(1),_++,I-=t.rate},draw(){if(!(i!==void 0&&i<=0)){for(let M=0;M<o.length;M++){let P=o[M];if(P.gc)continue;let D=P.progress,X=Math.floor(P.progress*a.length),z=X<a.length-1?Yt(a[X],a[X+1],bn(D,X/a.length,(X+1)/a.length,0,1)):a[X],$=Math.floor(P.progress*u.length),ee=$<u.length-1?Yt(u[$],u[$+1],bn(D,$/u.length,($+1)/u.length,0,1)):u[$],ie=Math.floor(P.progress*d.length),de=d[ie],we=Math.floor(P.progress*g.length),ue=g[we],he=Math.cos(P.angle*Math.PI/180),te=Math.sin(P.angle*Math.PI/180),le=(r.texture?r.texture.width:10)*de.w/2,se=(r.texture?r.texture.height:10)*de.h/2,O=M*4,W=C[O];W.pos.x=P.pos.x+-le*ue*he- -se*ue*te,W.pos.y=P.pos.y+-le*ue*te+-se*ue*he,W.uv.x=de.x,W.uv.y=de.y,W.color.r=z.r,W.color.g=z.g,W.color.b=z.b,W.opacity=ee,W=C[O+1],W.pos.x=P.pos.x+le*ue*he- -se*ue*te,W.pos.y=P.pos.y+le*ue*te+-se*ue*he,W.uv.x=de.x+de.w,W.uv.y=de.y,W.color.r=z.r,W.color.g=z.g,W.color.b=z.b,W.opacity=ee,W=C[O+2],W.pos.x=P.pos.x+le*ue*he-se*ue*te,W.pos.y=P.pos.y+le*ue*te+se*ue*he,W.uv.x=de.x+de.w,W.uv.y=de.y+de.h,W.color.r=z.r,W.color.g=z.g,W.color.b=z.b,W.opacity=ee,W=C[O+3],W.pos.x=P.pos.x+-le*ue*he-se*ue*te,W.pos.y=P.pos.y+-le*ue*te+se*ue*he,W.uv.x=de.x,W.uv.y=de.y+de.h,W.color.r=z.r,W.color.g=z.g,W.color.b=z.b,W.opacity=ee}ur(C,S,this.fixed,r.texture,this.shader,this.uniform)}},onEnd(M){return L.add(M)},inspect(){return`count: ${_}/${r.max}`}}}m(Ey,"particles");function ky(r,t={}){if(r.length<3)throw new Error(`Polygon's need more than two points, ${r.length} points provided`);return{id:"polygon",pts:r,colors:t.colors,uv:t.uv,tex:t.tex,radius:t.radius,draw(){sr(Object.assign(Wr(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:t.fill,triangulate:t.triangulate}))},renderArea(){return new Xt(this.pts)},inspect(){return`polygon: ${this.pts.map(i=>`[${i.x},${i.y}]`).join(",")}`}}}m(ky,"polygon");function qd(r,t,i){let o;return x.game.root.get("area").forEach(a=>{if(i&&i.some(d=>a.is(d)))return;let u=a.worldArea().raycast(r,t);u&&(o?u.fraction<o.fraction&&(o=u,o.object=a):(o=u,o.object=a))}),o}m(qd,"raycast");function _d(r,t,i={}){return{id:"rect",width:r,height:t,radius:i.radius||0,draw(){on(Object.assign(Wr(this),{width:this.width,height:this.height,radius:this.radius,fill:i.fill}))},renderArea(){return new Ze(K(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}m(_d,"rect");function Cy(r,t){return{id:"shader",shader:r,...typeof t=="function"?{uniform:t(),update(){this.uniform=t()}}:{uniform:t},inspect(){return`shader: ${r}`}}}m(Cy,"shader");function My(r,t){if(!t.tileWidth||!t.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let i=x.game.root.add([jo(t.pos??K(0))]),o=r.length,a=0,u=null,d=null,g=null,f=null,p=m(M=>M.x+M.y*a,"tile2Hash"),v=m(M=>K(Math.floor(M%a),Math.floor(M/a)),"hash2Tile"),k=m(()=>{u=[];for(let M of i.children)y(M)},"createSpatialMap"),y=m(M=>{let P=p(M.tilePos);u[P]?u[P].push(M):u[P]=[M]},"insertIntoSpatialMap"),E=m(M=>{let P=p(M.tilePos);if(u[P]){let D=u[P].indexOf(M);D>=0&&u[P].splice(D,1)}},"removeFromSpatialMap"),A=m(()=>{let M=!1;for(let P of i.children){let D=i.pos2Tile(P.pos);(P.tilePos.x!=D.x||P.tilePos.y!=D.y)&&(M=!0,E(P),P.tilePos.x=D.x,P.tilePos.y=D.y,y(P))}M&&i.trigger("spatialMapChanged")},"updateSpatialMap"),T=m(()=>{let M=i.getSpatialMap(),P=i.numRows()*i.numColumns();d?d.length=P:d=new Array(P),d.fill(1,0,P);for(let D=0;D<M.length;D++){let X=M[D];if(X){let z=0;for(let $ of X)if($.isObstacle){z=1/0;break}else z+=$.cost;d[D]=z||1}}},"createCostMap"),S=m(()=>{let M=i.getSpatialMap(),P=i.numRows()*i.numColumns();g?g.length=P:g=new Array(P),g.fill(15,0,P);for(let D=0;D<M.length;D++){let X=M[D];if(X){let z=X.length,$=15;for(let ee=0;ee<z;ee++)$|=X[ee].edgeMask;g[D]=$}}},"createEdgeMap"),C=m(()=>{let M=i.numRows()*i.numColumns(),P=m((X,z)=>{let $=[];for($.push(X);$.length>0;){let ee=$.pop();L(ee).forEach(ie=>{f[ie]<0&&(f[ie]=z,$.push(ie))})}},"traverse");f?f.length=M:f=new Array(M),f.fill(-1,0,M);let D=0;for(let X=0;X<d.length;X++){if(f[X]>=0){D++;continue}P(X,D),D++}},"createConnectivityMap"),_=m((M,P)=>d[P],"getCost"),I=m((M,P)=>{let D=v(M),X=v(P);return D.dist(X)},"getHeuristic"),L=m((M,P)=>{let D=[],X=Math.floor(M%a),z=X>0&&g[M]&1&&d[M-1]!==1/0,$=M>=a&&g[M]&2&&d[M-a]!==1/0,ee=X<a-1&&g[M]&4&&d[M+1]!==1/0,ie=M<a*o-a-1&&g[M]&8&&d[M+a]!==1/0;return P?(z&&($&&D.push(M-a-1),D.push(M-1),ie&&D.push(M+a-1)),$&&D.push(M-a),ee&&($&&D.push(M-a+1),D.push(M+1),ie&&D.push(M+a+1)),ie&&D.push(M+a)):(z&&D.push(M-1),$&&D.push(M-a),ee&&D.push(M+1),ie&&D.push(M+a)),D},"getNeighbours"),U={id:"level",tileWidth(){return t.tileWidth},tileHeight(){return t.tileHeight},spawn(M,...P){let D=K(...P),X=(()=>{if(typeof M=="string"){if(t.tiles[M]){if(typeof t.tiles[M]!="function")throw new Error("Level symbol def must be a function returning a component list");return t.tiles[M](D)}else if(t.wildcardTile)return t.wildcardTile(M,D)}else{if(Array.isArray(M))return M;throw new Error("Expected a symbol or a component list")}})();if(!X)return null;let z=!1,$=!1;for(let ie of X)ie.id==="tile"&&($=!0),ie.id==="pos"&&(z=!0);z||X.push(jo(this.tile2Pos(D))),$||X.push(tf());let ee=i.add(X);return z&&(ee.tilePosOffset=ee.pos.clone()),ee.tilePos=D,ee.transform=rs(ee),u&&(y(ee),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),ee},numColumns(){return a},numRows(){return o},levelWidth(){return a*this.tileWidth()},levelHeight(){return o*this.tileHeight()},tile2Pos(...M){return K(...M).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...M){let P=K(...M);return K(Math.floor(P.x/this.tileWidth()),Math.floor(P.y/this.tileHeight()))},getSpatialMap(){return u||k(),u},removeFromSpatialMap:E,insertIntoSpatialMap:y,onSpatialMapChanged(M){return this.on("spatialMapChanged",M)},onNavigationMapInvalid(M){return this.on("navigationMapInvalid",M)},getAt(M){u||k();let P=p(M);return u[P]||[]},raycast(M,P){let D=this.toWorld(M),X=this.toWorld(M.add(P)).sub(D),z=1/this.tileWidth(),$=M.scale(z),ee=Gm($,P,ie=>{let de=this.getAt(ie);if(de.some(ue=>ue.isObstacle))return!0;let we=null;for(let ue of de)if(ue.has("area")){let he=ue.worldArea().raycast(D,X);he&&(we?he.fraction<we.fraction&&(we=he,we.object=ue):(we=he,we.object=ue))}return we&&(we.point=this.fromWorld(we.point).scale(z)),we||!1},64);return ee&&(ee.point=ee.point.scale(this.tileWidth())),ee},update(){u&&A()},invalidateNavigationMap(){d=null,g=null,f=null},onNavigationMapChanged(M){return this.on("navigationMapChanged",M)},getTilePath(M,P,D={}){var he;if(d||T(),g||S(),f||C(),M.x<0||M.x>=a||M.y<0||M.y>=o||P.x<0||P.x>=a||P.y<0||P.y>=o)return null;let X=p(M),z=p(P);if(d[z]===1/0)return null;if(X===z)return[];if(f[X]!=-1&&f[X]!==f[z])return null;let $=new vg((te,le)=>te.cost<le.cost);$.insert({cost:0,node:X});let ee=new Map;ee.set(X,X);let ie=new Map;for(ie.set(X,0);$.length!==0;){let te=(he=$.remove())==null?void 0:he.node;if(te===z)break;let le=L(te,D.allowDiagonals);for(let se of le){let O=(ie.get(te)||0)+_(te,se)+I(se,z);(!ie.has(se)||O<ie.get(se))&&(ie.set(se,O),$.insert({cost:O,node:se}),ee.set(se,te))}}let de=[],we=z,ue=v(we);for(de.push(ue);we!==X;){let te=ee.get(we);if(te===void 0)throw new Error("Bug in pathfinding algorithm");we=te;let le=v(we);de.push(le)}return de.reverse()},getPath(M,P,D={}){let X=this.tileWidth(),z=this.tileHeight(),$=this.getTilePath(this.pos2Tile(M),this.pos2Tile(P),D);return $?[M,...$.slice(1,-1).map(ee=>ee.scale(X,z).add(X/2,z/2)),P]:null}};return i.use(U),i.onNavigationMapInvalid(()=>{i.invalidateNavigationMap(),i.trigger("navigationMapChanged")}),r.forEach((M,P)=>{let D=M.split("");a=Math.max(D.length,a),D.forEach((X,z)=>{i.spawn(X,K(z,P))})}),i}m(My,"addLevel");function $t(r,t,i){return x.game.objEvents.registers[r]||(x.game.objEvents.registers[r]=new yg),x.game.objEvents.on(r,(o,...a)=>{o.is(t)&&i(o,...a)})}m($t,"on");var lA=m((r,t,...i)=>{for(let o of x.game.root.children)o.is(t)&&o.trigger(r)},"trigger"),uA=Ye(r=>{let t=x.game.root.add([{fixedUpdate:r}]);return{get paused(){return t.paused},set paused(i){t.paused=i},cancel:m(()=>t.destroy(),"cancel")}},(r,t)=>$t("fixedUpdate",r,t)),cA=Ye(r=>{let t=x.game.root.add([{update:r}]);return{get paused(){return t.paused},set paused(i){t.paused=i},cancel:m(()=>t.destroy(),"cancel")}},(r,t)=>$t("update",r,t)),dA=Ye(r=>{let t=x.game.root.add([{draw:r}]);return{get paused(){return t.hidden},set paused(i){t.hidden=i},cancel:m(()=>t.destroy(),"cancel")}},(r,t)=>$t("draw",r,t)),Ry=Ye(r=>x.game.events.on("add",r),(r,t)=>$t("add",r,t)),fA=Ye(r=>x.game.events.on("destroy",r),(r,t)=>$t("destroy",r,t)),hA=Ye(r=>x.game.events.on("use",r),(r,t)=>$t("use",r,t)),pA=Ye(r=>x.game.events.on("unuse",r),(r,t)=>$t("unuse",r,t)),Py=Ye(r=>x.game.events.on("tag",r),(r,t)=>$t("tag",r,t)),mA=Ye(r=>x.game.events.on("untag",r),(r,t)=>$t("untag",r,t));function Ty(r,t,i){return $t("collide",r,(o,a,u)=>a.is(t)&&i(o,a,u))}m(Ty,"onCollide");function Iy(r,t,i){return $t("collideUpdate",r,(o,a,u)=>a.is(t)&&i(o,a,u))}m(Iy,"onCollideUpdate");function by(r,t,i){return $t("collideEnd",r,(o,a,u)=>a.is(t)&&i(o,a,u))}m(by,"onCollideEnd");function Wo(r,t){x.game.root.get(r,{recursive:!0}).forEach(t),Ry(r,t),Py((i,o)=>{o===r&&t(i)})}m(Wo,"forAllCurrentAndFuture");var gA=Ye(r=>x.app.onMousePress(r),(r,t)=>{let i=[];return Wo(r,o=>{if(!o.area)throw new Error("onClick() requires the object to have area() component");i.push(o.onClick(()=>t(o)))}),xi.join(i)});function Ny(r,t){let i=[];return Wo(r,o=>{if(!o.area)throw new Error("onHover() requires the object to have area() component");i.push(o.onHover(()=>t(o)))}),xi.join(i)}m(Ny,"onHover");function By(r,t){let i=[];return Wo(r,o=>{if(!o.area)throw new Error("onHoverUpdate() requires the object to have area() component");i.push(o.onHoverUpdate(()=>t(o)))}),xi.join(i)}m(By,"onHoverUpdate");function Fy(r,t){let i=[];return Wo(r,o=>{if(!o.area)throw new Error("onHoverEnd() requires the object to have area() component");i.push(o.onHoverEnd(()=>t(o)))}),xi.join(i)}m(Fy,"onHoverEnd");function Dy(r){x.game.events.on("loading",r)}m(Dy,"onLoading");function jy(r){x.app.onResize(r)}m(jy,"onResize");function Oy(r){x.game.events.on("error",r)}m(Oy,"onError");function Vl(r){x.assets.loaded?r():x.game.events.on("load",r)}m(Vl,"onLoad");function Ly(r){if(x.assets.loaded)Ed().forEach(t=>r(...t));else return x.game.events.on("loadError",r)}m(Ly,"onLoadError");function zd(...r){x.game.cam.pos=K(...r)}m(zd,"setCamPos");function Ud(){return x.game.cam.pos?x.game.cam.pos.clone():Bo()}m(Ud,"getCamPos");function Hd(...r){x.game.cam.scale=K(...r)}m(Hd,"setCamScale");function Gd(){return x.game.cam.scale.clone()}m(Gd,"getCamScale");function Vd(r){x.game.cam.angle=r}m(Vd,"setCamRot");function Wd(){return x.game.cam.angle}m(Wd,"getCamRot");function qy(){return x.game.cam.transform.clone()}m(qy,"getCamTransform");function Qd(r=Le(255,255,255),t=1){let i=x.game.root.add([_d(Ct(),It()),Od(r),Ld(1),of()]),o=i.fadeOut(t);return o.onEnd(()=>ef(i)),o}m(Qd,"flash");function _y(){return x.game.cam.transform.clone()}m(_y,"camTransform");function zy(r=12){x.game.cam.shake+=r}m(zy,"shake");function kl(r){return x.game.cam.transform.multVec2(r)}m(kl,"toScreen");function Kd(r){return x.game.cam.transform.invert().multVec2(r)}m(Kd,"toWorld");function Uy(...r){return Ai("camPos","setCamPos / getCamPos"),r.length>0&&zd(...r),Ud()}m(Uy,"camPos");function Hy(...r){return Ai("camScale","setCamScale / getCamScale"),r.length>0&&Hd(...r),Gd()}m(Hy,"camScale");function Gy(r){return Ai("camRot","setCamRot / getCamRot"),r!==void 0&&Vd(r),Wd()}m(Gy,"camRot");function Vy(r=Le(255,255,255),t=1){return Ai("camFlash","flash"),Qd(r,t)}m(Vy,"camFlash");function Wl(r=[]){let t=new Map,i=[],o={},a=new bo,u=[],d=new Set("*"),g=x.globalOpt.tagsAsComponents,f=null,p=!1,v={id:Dx(),hidden:!1,transform:new Un,children:[],parent:null,set paused(y){if(y!==p){p=y;for(let E of u)E.paused=y}},get paused(){return p},get tags(){return Array.from(d)},add(y){let E=Array.isArray(y)?Wl(y):y;if(E.parent)throw new Error("Cannot add a game obj that already has a parent.");return E.parent=this,E.transform=rs(E),this.children.push(E),E.trigger("add",E),x.game.events.trigger("add",E),E},readd(y){let E=this.children.indexOf(y);return E!==-1&&(this.children.splice(E,1),this.children.push(y)),y},remove(y){let E=this.children.indexOf(y);if(E!==-1){y.parent=null,this.children.splice(E,1);let A=m(T=>{T.trigger("destroy"),x.game.events.trigger("destroy",T),T.children.forEach(S=>A(S))},"trigger");A(y)}},removeAll(y){if(y)this.get(y).forEach(E=>this.remove(E));else for(let E of[...this.children])this.remove(E)},fixedUpdate(){this.paused||(this.children.forEach(y=>y.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(y=>y.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(sn(),this.canvas.bind());let y=x.gfx.fixed;this.fixed&&(x.gfx.fixed=!0),rn(),it(this.pos),Ps(this.scale),wi(this.angle);let E=this.children.sort((A,T)=>{let S=A.layerIndex??x.game.defaultLayerIndex,C=T.layerIndex??x.game.defaultLayerIndex;return S-C||(A.z??0)-(T.z??0)});if(this.mask){let A={intersect:x.k.drawMasked,subtract:x.k.drawSubtracted}[this.mask];if(!A)throw new Error(`Invalid mask func: "${this.mask}"`);A(()=>{E.forEach(T=>T.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),E.forEach(A=>A.draw());Kt(),x.gfx.fixed=y,this.canvas&&(sn(),this.canvas.unbind())},drawInspect(){this.hidden||(rn(),it(this.pos),Ps(this.scale),wi(this.angle),this.children.forEach(y=>y.drawInspect()),this.trigger("drawInspect"),Kt())},use(y){var T;if(typeof y=="string")return d.add(y);if(!y||typeof y!="object")throw new Error(`You can only pass a component or a string to .use(), you passed a "${typeof y}"`);let E=[];y.id?(this.unuse(y.id),o[y.id]=[],E=o[y.id],t.set(y.id,y),g&&d.add(y.id)):i.push(y);for(let S in y){if(kx.has(S))continue;let C=Object.getOwnPropertyDescriptor(y,S);if(C)if(typeof C.value=="function"&&(y[S]=y[S].bind(this)),C.set&&Object.defineProperty(y,S,{set:C.set.bind(this)}),C.get&&Object.defineProperty(y,S,{get:C.get.bind(this)}),Cx.has(S)){let _=S==="add"?()=>{var I;f=m(L=>E.push(L),"onCurCompCleanup"),(I=y[S])==null||I.call(y),f=null}:y[S];E.push(this.on(S,_).cancel)}else if(this[S]===void 0)Object.defineProperty(this,S,{get:m(()=>y[S],"get"),set:m(_=>y[S]=_,"set"),configurable:!0,enumerable:!0}),E.push(()=>delete this[S]);else{let _=(T=t.values().find(I=>I[S]!==void 0))==null?void 0:T.id;throw new Error(`Duplicate component property: "${S}" while adding component "${y.id}"`+(_?` (originally added by "${_}")`:""))}}let A=m(()=>{if(y.require){for(let S of y.require)if(!this.c(S))throw new Error(`Component "${y.id}" requires component "${S}"`)}},"checkDeps");y.destroy&&E.push(y.destroy.bind(this)),this.exists()?(A(),y.add&&(f=m(S=>E.push(S),"onCurCompCleanup"),y.add.call(this),f=null),y.id&&(this.trigger("use",y.id),x.game.events.trigger("use",this,y.id))):y.require&&E.push(this.on("add",A).cancel)},unuse(y){if(t.has(y)){for(let E of t.values())if(E.require&&E.require.includes(y))throw new Error(`Can't unuse. Component "${E.id}" requires component "${y}"`);t.delete(y),this.trigger("unuse",y),x.game.events.trigger("unuse",this,y)}else g&&d.has(y)&&d.delete(y);o[y]&&(o[y].forEach(E=>E()),delete o[y])},c(y){return t.get(y)??null},get(y,E={}){let A=m((S,C)=>E.only==="comps"?S.has(C):E.only==="tags"?S.is(C):S.is(C)||S.has(C),"checkTagsOrComps"),T=E.recursive?this.children.flatMap(m(function S(C){return[C,...C.children.flatMap(S)]},"recurse")):this.children;if(T=T.filter(S=>y?A(S,y):!0),E.liveUpdate){let S=m(_=>E.recursive?this.isAncestorOf(_):_.parent===this,"isChild"),C=[];C.push(x.k.onAdd(_=>{S(_)&&A(_,y)&&T.push(_)})),C.push(x.k.onDestroy(_=>{if(S(_)&&A(_,y)){let I=T.findIndex(L=>L.id===_.id);I!==-1&&T.splice(I,1)}})),this.onDestroy(()=>{for(let _ of C)_.cancel()})}return T},query(y){let E=y.hierarchy||"children",A=y.include,T=y.exclude,S=[];switch(E){case"children":S=this.children;break;case"siblings":S=this.parent?this.parent.children.filter(_=>_!==this):[];break;case"ancestors":let C=this.parent;for(;C;)S.push(C),C=C.parent;break;case"descendants":S=this.children.flatMap(m(function _(I){return[I,...I.children.flatMap(_)]},"recurse"));break}if(A&&((y.includeOp||"and")==="and"||!Array.isArray(y.include)?S=S.filter(C=>C.is(A)):S=S.filter(C=>y.include.some(_=>C.is(_)))),T&&((y.includeOp||"and")==="and"||!Array.isArray(y.include)?S=S.filter(C=>!C.is(T)):S=S.filter(C=>!y.exclude.some(_=>C.is(_)))),y.visible===!0&&(S=S.filter(C=>C.visible)),y.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let C=y.distanceOp||"near",_=y.distance*y.distance;C==="near"?S=S.filter(I=>I.pos&&this.pos.sdist(I.pos)<=_):S=S.filter(I=>I.pos&&this.pos.sdist(I.pos)>_)}return y.name&&(S=S.filter(C=>C.name===y.name)),S},isAncestorOf(y){return y.parent?y.parent===this||this.isAncestorOf(y.parent):!1},exists(){return x.game.root.isAncestorOf(this)},is(y,E="and"){return Array.isArray(y)?E==="and"?y.every(A=>d.has(A)):y.some(A=>d.has(A)):d.has(y)},tag(y){if(Array.isArray(y))for(let E of y)d.add(E),this.trigger("tag",E),x.game.events.trigger("tag",this,E);else d.add(y),this.trigger("tag",y),x.game.events.trigger("tag",this,y)},untag(y){if(Array.isArray(y))for(let E of y)d.delete(E),this.trigger("untag",E),x.game.events.trigger("untag",this,E);else d.delete(y),this.trigger("untag",y),x.game.events.trigger("untag",this,y)},has(y,E="and"){return Array.isArray(y)?E==="and"?y.every(A=>t.has(A)):y.some(A=>t.has(A)):t.has(y)},on(y,E){let A=a.on(y,E.bind(this));return f&&f(()=>A.cancel()),A},trigger(y,...E){a.trigger(y,...E),x.game.objEvents.trigger(y,this,...E)},destroy(){this.parent&&this.parent.remove(this)},inspect(){var E;let y={};for(let[A,T]of t)y[A]=((E=T.inspect)==null?void 0:E.call(T))??null;for(let[A,T]of i.entries()){if(T.inspect){y[A]=T.inspect();continue}for(let[S,C]of Object.entries(T))typeof C!="function"&&(y[S]=`${S}: ${C}`)}return y},onAdd(y){return this.on("add",y)},onFixedUpdate(y){return this.on("fixedUpdate",y)},onUpdate(y){return this.on("update",y)},onDraw(y){return this.on("draw",y)},onDestroy(y){return this.on("destroy",y)},onUse(y){return this.on("use",y)},onUnuse(y){return this.on("unuse",y)},clearEvents(){a.clear()}},k=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let y of k)v[y]=(...E)=>{var T,S;let A=(S=(T=x.app)[y])==null?void 0:S.call(T,...E);return u.push(A),v.onDestroy(()=>A.cancel()),v.on("sceneEnter",()=>{var _,I;u.splice(u.indexOf(A),1);let C=(I=(_=x.app)[y])==null?void 0:I.call(_,...E);xi.replace(A,C),u.push(A)}),A};for(let y of r)v.use(y);return v}m(Wl,"make");var yA=m(()=>({events:new bo,objEvents:new bo,root:Wl([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new J(1),angle:0,shake:0,transform:new Un}}),"initGame");function Wy(r){x.game.gravity=r?(x.game.gravity||K(0,1)).unit().scale(r):null}m(Wy,"setGravity");function Qy(){return x.game.gravity?x.game.gravity.len():0}m(Qy,"getGravity");function Ky(r){x.game.gravity=r.unit().scale(x.game.gravity?x.game.gravity.len():1)}m(Ky,"setGravityDirection");function ss(){return x.game.gravity?x.game.gravity.unit():K(0,1)}m(ss,"getGravityDirection");var vA=hx("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),wA=m(()=>(()=>{let r=new(window.AudioContext||window.webkitAudioContext),t=r.createGain();t.connect(r.destination);let i=new Fo(Dg(r));return r.decodeAudioData(vA.buffer.slice(0)).then(o=>{i.buf=o}).catch(o=>{console.error("Failed to load burp: ",o)}),{ctx:r,masterNode:t,burpSnd:i}})(),"initAudio");function Yy(r,t={}){let i=new Qt,o=new Audio(r);o.crossOrigin="anonymous",o.loop=!!t.loop,x.audio.ctx.createMediaElementSource(o).connect(x.audio.masterNode);function a(){x.debug.paused||x.app.isHidden()&&!x.globalOpt.backgroundAudio||x.audio.ctx.resume()}m(a,"resumeAudioCtx");function u(){a(),o.play()}return m(u,"play"),t.paused||u(),o.onended=()=>i.trigger(),{play(){u()},seek(d){o.currentTime=d},stop(){o.pause(),this.seek(0)},set loop(d){o.loop=d},get loop(){return o.loop},set paused(d){d?o.pause():u()},get paused(){return o.paused},time(){return o.currentTime},duration(){return o.duration},set volume(d){o.volume=Nn(d,0,1)},get volume(){return o.volume},set speed(d){o.playbackRate=Math.max(d,0)},get speed(){return o.playbackRate},set detune(d){},get detune(){return 0},onEnd(d){return i.add(d)},then(d){return this.onEnd(d)}}}m(Yy,"playMusic");function Xy(r,t={}){if(typeof r=="string"&&x.assets.music[r])return Yy(x.assets.music[r],t);let i=x.audio.ctx,o=t.paused??!1,a=i.createBufferSource(),u=new Qt,d=i.createGain(),g=i.createStereoPanner(),f=t.seek??0,p=0,v=0,k=!1;a.loop=!!t.loop,a.detune.value=t.detune??0,a.playbackRate.value=t.speed??1,a.connect(g),a.onended=()=>{var S;A()>=(((S=a.buffer)==null?void 0:S.duration)??Number.POSITIVE_INFINITY)&&u.trigger()},g.pan.value=t.pan??0,g.connect(d),d.connect(x.audio.masterNode),d.gain.value=t.volume??1;let y=m(S=>{a.buffer=S.buf,o||(p=i.currentTime,a.start(0,f),k=!0)},"start"),E=iy(r);E instanceof wn&&E.onLoad(y);let A=m(()=>{if(!a.buffer)return 0;let S=o?v-p:i.currentTime-p,C=a.buffer.duration;return a.loop?S%C:Math.min(S,C)},"getTime"),T=m(S=>{let C=i.createBufferSource();return C.buffer=S.buffer,C.loop=S.loop,C.playbackRate.value=S.playbackRate.value,C.detune.value=S.detune.value,C.onended=S.onended,C.connect(g),C},"cloneNode");return{stop(){this.paused=!0,this.seek(0)},set paused(S){if(o!==S)if(o=S,S)k&&(a.stop(),k=!1),v=i.currentTime;else{a=T(a);let C=v-p;a.start(0,C),k=!0,p=i.currentTime-C,v=0}},get paused(){return o},play(S=0){this.seek(S),this.paused=!1},seek(S){var C;(C=a.buffer)!=null&&C.duration&&(S>a.buffer.duration||(o?(a=T(a),p=v-S):(a.stop(),a=T(a),p=i.currentTime-S,a.start(0,S),k=!0,v=0)))},set speed(S){a.playbackRate.value=S},get speed(){return a.playbackRate.value},set detune(S){a.detune.value=S},get detune(){return a.detune.value},set volume(S){d.gain.value=Math.max(S,0)},get volume(){return d.gain.value},set pan(S){g.pan.value=S},get pan(){return g.pan.value},set loop(S){a.loop=S},get loop(){return a.loop},duration(){var S;return((S=a.buffer)==null?void 0:S.duration)??0},time(){return A()%this.duration()},onEnd(S){return u.add(S)},then(S){return this.onEnd(S)}}}m(Xy,"play");function Yd(r){return x.k.play(x.audio.burpSnd,r)}m(Yd,"burp");function Xd(r){x.audio.masterNode.gain.value=r}m(Xd,"setVolume");function $d(){return x.audio.masterNode.gain.value}m($d,"getVolume");function $y(r){return Ai("volume","setVolume / getVolume"),r!==void 0&&Xd(r),$d()}m($y,"volume");function Jd(){x.app.onHide(()=>{x.globalOpt.backgroundAudio||x.audio.ctx.suspend()}),x.app.onShow(()=>{!x.globalOpt.backgroundAudio&&!x.debug.paused&&x.audio.ctx.resume()}),x.app.onResize(()=>{if(x.app.isFullscreen())return;let r=x.globalOpt.width&&x.globalOpt.height;r&&!x.globalOpt.stretch&&!x.globalOpt.letterbox||(x.canvas.width=x.canvas.offsetWidth*x.pixelDensity,x.canvas.height=x.canvas.offsetHeight*x.pixelDensity,jd(),r||(x.gfx.frameBuffer.free(),x.gfx.frameBuffer=new Al(x.gfx.ggl,x.gfx.ggl.gl.drawingBufferWidth,x.gfx.ggl.gl.drawingBufferHeight),x.gfx.width=x.gfx.ggl.gl.drawingBufferWidth/x.pixelDensity/x.gscale,x.gfx.height=x.gfx.ggl.gl.drawingBufferHeight/x.pixelDensity/x.gscale))}),x.globalOpt.debug!==!1&&(x.app.onKeyPress(x.globalOpt.debugKey??"f1",()=>x.debug.inspect=!x.debug.inspect),x.app.onKeyPress("f2",()=>x.debug.clearLog()),x.app.onKeyPress("f8",()=>x.debug.paused=!x.debug.paused),x.app.onKeyPress("f7",()=>{x.debug.timeScale=yl(Nn(x.debug.timeScale-.2,0,2),1)}),x.app.onKeyPress("f9",()=>{x.debug.timeScale=yl(Nn(x.debug.timeScale+.2,0,2),1)}),x.app.onKeyPress("f10",()=>x.debug.stepFrame())),x.globalOpt.burp&&x.app.onKeyPress("b",()=>Yd())}m(Jd,"initEvents");function Jy(r,t={}){let i=x.game.root.add([jo(r),sf()]),o=(t.speed||1)*5,a=t.scale||1;i.add([Cl(x.boomSprite),Oo(0),Rl("center"),Xc(o,a),...t.comps??[]]);let u=i.add([Cl(x.kaSprite),Oo(0),Rl("center"),Ml(),...t.comps??[]]);return u.wait(.4/o,()=>u.use(Xc(o,a))),u.onDestroy(()=>i.destroy()),i}m(Jy,"addKaboom");function Zd(r,t){if(x.game.layers)throw Error("Layers can only be assigned once.");let i=r.indexOf(t);if(i==-1)throw Error("The default layer name should be present in the layers list.");x.game.layers=r,x.game.defaultLayerIndex=i}m(Zd,"setLayers");function Zy(){return x.game.layers}m(Zy,"getLayers");function e0(){var r;return((r=x.game.layers)==null?void 0:r[x.game.defaultLayerIndex])??null}m(e0,"getDefaultLayer");function t0(r,t){Ai("layers","setLayers"),Zd(r,t)}m(t0,"layers");function ef(r){r.destroy()}m(ef,"destroy");function n0(){return x.game.root}m(n0,"getTreeRoot");function r0(r,t){x.game.scenes[r]=t}m(r0,"scene");function i0(r,...t){if(!x.game.scenes[r])throw new Error(`Scene not found: ${r}`);x.game.events.onOnce("frameEnd",()=>{x.game.events.trigger("sceneLeave",r),x.app.events.clear(),x.game.events.clear(),x.game.objEvents.clear(),[...x.game.root.children].forEach(i=>{!i.stay||i.scenesToStay&&!i.scenesToStay.includes(r)?x.game.root.remove(i):i.trigger("sceneEnter",r)}),x.game.root.clearEvents(),Jd(),x.game.cam={pos:null,scale:K(1),angle:0,shake:0,transform:new Un},x.game.scenes[r](...t)}),x.game.currentScene=r}m(i0,"go");function s0(r){return x.game.events.on("sceneLeave",r)}m(s0,"onSceneLeave");function o0(){return x.game.currentScene}m(o0,"getSceneName");function Cl(r,t={}){let i=null,o=null,a=null,u=new Qt;if(!r)throw new Error("Please pass the resource name or data to sprite()");let d=m((f,p,v,k)=>{let y=K(1,1);return v&&k?(y.x=v/(f.width*p.w),y.y=k/(f.height*p.h)):v?(y.x=v/(f.width*p.w),y.y=y.x):k&&(y.y=k/(f.height*p.h),y.x=y.y),y},"calcTexScale"),g=m((f,p)=>{if(!p)return;let v=p.frames[0].clone();t.quad&&(v=v.scale(t.quad));let k=d(p.tex,v,t.width,t.height);f.width=p.tex.width*v.w*k.x,f.height=p.tex.height*v.h*k.y,t.anim&&f.play(t.anim),i=p,u.trigger(i)},"setSpriteData");return{id:"sprite",width:0,height:0,frame:t.frame||0,quad:t.quad||new st(0,0,1,1),animSpeed:t.animSpeed??1,flipX:t.flipX??!1,flipY:t.flipY??!1,get sprite(){return r.toString()},set sprite(f){let p=Ro(f);p&&p.onLoad(v=>g(this,v))},get animFrame(){if(!i||!o||a===null)return this.frame;let f=i.anims[o.name];return typeof f=="number"?f:this.frame-Math.min(f.from,f.to)},draw(){if(!i)return;let f=i.frames[this.frame??0];if(!f)throw new Error(`Frame not found: ${this.frame??0}`);if(i.slice9){let{left:p,right:v,top:k,bottom:y}=i.slice9,E=i.tex.width*f.w,A=i.tex.height*f.h,T=this.width-p-v,S=this.height-k-y,C=p/E,_=v/E,I=1-C-_,L=k/A,U=y/A,M=1-L-U,P=[dt(0,0,C,L),dt(C,0,I,L),dt(C+I,0,_,L),dt(0,L,C,M),dt(C,L,I,M),dt(C+I,L,_,M),dt(0,L+M,C,U),dt(C,L+M,I,U),dt(C+I,L+M,_,U),dt(0,0,p,k),dt(p,0,T,k),dt(p+T,0,v,k),dt(0,k,p,S),dt(p,k,T,S),dt(p+T,k,v,S),dt(0,k+S,p,y),dt(p,k+S,T,y),dt(p+T,k+S,v,y)];for(let D=0;D<9;D++){let X=P[D],z=P[D+9];Do(Object.assign(Wr(this),{pos:z.pos(),tex:i.tex,quad:f.scale(X),flipX:this.flipX,flipY:this.flipY,tiled:t.tiled,width:z.w,height:z.h}))}}else Do(Object.assign(Wr(this),{tex:i.tex,quad:f.scale(this.quad??new st(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:t.tiled,width:this.width,height:this.height}))},add(){let f=Ro(r);f?f.onLoad(p=>g(this,p)):Vl(()=>g(this,Ro(r).data))},update(){if(!i||!o||a===null)return;let f=i.anims[o.name];if(typeof f=="number"){this.frame=f;return}if(f.speed===0)throw new Error("Sprite anim speed cannot be 0");o.timer+=xt()*this.animSpeed,o.timer>=1/o.speed&&(o.timer=0,this.frame+=a,(this.frame<Math.min(f.from,f.to)||this.frame>Math.max(f.from,f.to))&&(o.loop?o.pingpong?(this.frame-=a,a*=-1,this.frame+=a):this.frame=f.from:o.pingpong?a===Math.sign(f.to-f.from)?(this.frame=f.to,a*=-1,this.frame+=a):(this.frame=f.from,o.onEnd(),this.stop()):(this.frame=f.to,o.onEnd(),this.stop())))},play(f,p={}){if(!i){u.add(()=>this.play(f,p));return}let v=i.anims[f];if(v===void 0)throw new Error(`Anim not found: ${f}`);o&&this.stop(),o=typeof v=="number"?{name:f,timer:0,loop:!1,pingpong:!1,speed:0,onEnd:m(()=>{},"onEnd")}:{name:f,timer:0,loop:p.loop??v.loop??!1,pingpong:p.pingpong??v.pingpong??!1,speed:p.speed??v.speed??10,onEnd:p.onEnd??(()=>{})},a=typeof v=="number"?null:v.from<v.to?1:-1,this.frame=typeof v=="number"?v:v.from,this.trigger("animStart",f)},stop(){if(!o)return;let f=o.name;o=null,this.trigger("animEnd",f)},numFrames(){return(i==null?void 0:i.frames.length)??0},getCurAnim(){return o},curAnim(){return o==null?void 0:o.name},getAnim(f){return(i==null?void 0:i.anims[f])??null},hasAnim(f){return!!this.getAnim(f)},onAnimEnd(f){return this.on("animEnd",f)},onAnimStart(f){return this.on("animStart",f)},renderArea(){return new Ze(K(0),this.width,this.height)},inspect(){return typeof r=="string"?`sprite: "${r}"`:null}}}m(Cl,"sprite");function a0(r,t={}){function i(a){var d,g;let u=Gr(Object.assign(Wr(a),{text:a.text+"",size:a.textSize,font:a.font,width:t.width&&a.width,align:a.align,letterSpacing:a.letterSpacing,lineSpacing:a.lineSpacing,transform:a.textTransform,styles:a.textStyles,indentAll:t.indentAll}));return t.width||(a.width=u.width/(((d=a.scale)==null?void 0:d.x)||1)),a.height=u.height/(((g=a.scale)==null?void 0:g.y)||1),u}m(i,"update");let o={id:"text",set text(a){r=a,i(this),this.renderedText=Sl(r).text},get text(){return r},textSize:t.size??36,font:t.font,width:t.width??0,height:0,align:t.align,lineSpacing:t.lineSpacing,letterSpacing:t.letterSpacing,textTransform:t.transform,textStyles:t.styles,renderedText:r?Sl(r).text:"",add(){Vl(()=>i(this))},draw(){Vr(i(this))},renderArea(){return new Ze(K(0),this.width,this.height)}};return i(o),o}m(a0,"text");function l0(r,t){return{id:"rect",width:r,height:t,draw(){Ts(Object.assign(Wr(this),{width:this.width,height:this.height}))},renderArea(){return new Ze(K(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}m(l0,"uvquad");function u0(r={}){let t=null,i=null,o=null,a=null;return{id:"agent",require:["pos","tile"],agentSpeed:r.speed??100,allowDiagonals:r.allowDiagonals??!0,getDistanceToTarget(){return t?this.pos.dist(t):0},getNextLocation(){return i&&o?i[o]:null},getPath(){return i?i.slice():null},getTarget(){return t},isNavigationFinished(){return i?o===null:!0},isTargetReachable(){return i!==null},isTargetReached(){return t?this.pos.eq(t):!0},setTarget(u){t=u,i=this.getLevel().getPath(this.pos,t,{allowDiagonals:this.allowDiagonals}),o=i?0:null,i&&o!==null?(a||(a=this.getLevel().onNavigationMapChanged(()=>{t&&i&&o!==null&&(i=this.getLevel().getPath(this.pos,t,{allowDiagonals:this.allowDiagonals}),i?(o=0,this.trigger("navigationNext",this,i[o])):(o=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>a==null?void 0:a.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,i[o])):this.trigger("navigationEnded",this)},update(){if(t&&i&&o!==null){if(this.pos.sdist(i[o])<2)if(o===i.length-1){this.pos=t.clone(),o=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else o++,this.trigger("navigationNext",this,i[o]);this.moveTo(i[o],this.agentSpeed)}},onNavigationStarted(u){return this.on("navigationStarted",u)},onNavigationNext(u){return this.on("navigationNext",u)},onNavigationEnded(u){return this.on("navigationEnded",u)},onTargetReached(u){return this.on("targetReached",u)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(t),path:JSON.stringify(i)})}}}m(u0,"agent");function c0(r){let t=r.graph;return{id:"pathfinder",require:["pos"],navigateTo(i){var o;return(o=this.graph)==null?void 0:o.getWaypointPath(this.pos,i,r.navigationOpt)},get graph(){if(t)return t;let i=this.parent;for(;i;){if(i.has("pathfinderMap"))return i.graph;i=i.parent}},set graph(i){t=i}}}m(c0,"pathfinder");function d0(r={}){let t=r.waypoints,i=r.speed||100,o=r.endBehavior||"stop",a=0,u=t!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return i},set patrolSpeed(d){i=d},get waypoints(){return t},set waypoints(d){t=d,a=0,u=!1},get nextLocation(){return t?t[a]:void 0},update(){let d=this.nextLocation;if(!(!t||!d||u)&&(this.moveTo(d,i),this.pos.sdist(d)<9))switch(o){case"loop":a=(a+1)%t.length;break;case"ping-pong":a=a+1,a==t.length&&(t.reverse(),a=0);break;case"stop":a=Math.min(a+1,t.length-1),a==t.length-1&&(u=!0,this.trigger("patrolFinished"));break}},onPatrolFinished(d){return this.on("patrolFinished",d)}}}m(d0,"patrol");function f0(r,t={}){let i=typeof r=="function"?r:()=>x.game.root.query(r),o=t.checkFrequency||1,a=typeof t.direction=="number"?J.fromAngle(t.direction):t.direction,u=0;return{id:"sentry",require:["pos"],direction:typeof t.direction=="number"?J.fromAngle(t.direction):t.direction,spotted:[],set directionAngle(d){this.direction=d!==void 0?J.fromAngle(d):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:t.fieldOfView||200,isWithinFieldOfView(d,g,f){let p=(typeof g=="number"?J.fromAngle(g):g)||a,v=f||t.fieldOfView;if(!p||!v||v>=360)return!0;let k=v/2;return d.pos&&p.angleBetween(d.pos.sub(this.pos))<=k},hasLineOfSight(d){let g=qd(this.pos,d.pos.sub(this.pos),t.raycastExclude);return g!=null&&g.object===d},update(){if(u+=xt(),u>o){u-=o;let d=i();if(d.length&&a&&this.fieldOfView&&this.fieldOfView<360){let g=this.fieldOfView/2;d=d.filter(f=>f.pos&&a.angleBetween(f.pos.sub(this.pos))<=g)}d.length&&t.lineOfSight&&(d=d.filter(g=>g.pos&&this.hasLineOfSight(g))),d.length>0&&(this.spotted=d,this.trigger("objectSpotted",d))}},onObjectsSpotted(d){return this.on("objectSpotted",d)}}}m(f0,"sentry");function tf(r={}){let t=K(0),i=r.isObstacle??!1,o=r.cost??0,a=r.edges??[],u=m(()=>{let g={left:1,top:2,right:4,bottom:8};return a.map(f=>g[f]||0).reduce((f,p)=>f|p,0)},"getEdgeMask"),d=u();return{id:"tile",tilePosOffset:r.offset??K(0),set tilePos(g){let f=this.getLevel();t=g.clone(),this.pos=K(this.tilePos.x*f.tileWidth(),this.tilePos.y*f.tileHeight()).add(this.tilePosOffset)},get tilePos(){return t},set isObstacle(g){i!==g&&(i=g,this.getLevel().invalidateNavigationMap())},get isObstacle(){return i},set cost(g){o!==g&&(o=g,this.getLevel().invalidateNavigationMap())},get cost(){return o},set edges(g){a=g,d=u(),this.getLevel().invalidateNavigationMap()},get edges(){return a},get edgeMask(){return d},getLevel(){return this.parent},tileMove(g){let f=this.getLevel();f.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(g),f.insertIntoSpatialMap(this),f.trigger("spatialMapChanged")},moveLeft(){this.tileMove(K(-1,0))},moveRight(){this.tileMove(K(1,0))},moveUp(){this.tileMove(K(0,-1))},moveDown(){this.tileMove(K(0,1))}}}m(tf,"tile");var ks,nf=(ks=class{constructor(t,i,o){G(this,"name");G(this,"duration");G(this,"loops");G(this,"direction");G(this,"easing");G(this,"interpolation");G(this,"isFinished");G(this,"timing");G(this,"easings");G(this,"relative");this.name=t,this.duration=i.duration,this.loops=i.loops||0,this.direction=i.direction||"forward",this.easing=i.easing||No.linear,this.interpolation=i.interpolation||"linear",this.isFinished=!1,this.timing=i.timing,this.easings=i.easings,this.relative=o}update(t,i){return!0}getLowerKeyIndexAndRelativeTime(t,i,o){let a=i-1,u=t/this.duration;if(this.loops!==0&&u>=this.loops)return[a,0,!0];let d=Math.trunc(u);if(u-=d,(this.direction=="reverse"||this.direction=="ping-pong"&&d&1)&&(u=1-u),o){let g=0;for(;o[g+1]!==void 0&&o[g+1]<u;)g++;return g>=a?[a,0,!0]:[g,(u-o[g])/(o[g+1]-o[g]),!1]}else{let g=Math.floor((i-1)*u);return[g,(u-g/a)*a,!1]}}setValue(t,i,o){if(this.relative)switch(i){case"pos":t.pos=t.base.pos.add(o);break;case"angle":t.angle=t.base.angle+o;break;case"scale":t.scale=t.base.scale.scale(o);break;case"opacity":t.opacity=t.base.opacity*o;break;default:t[i]=o}else t[i]=o}serialize(){let t={duration:this.duration,keys:[]};return this.loops&&(t.loops=this.loops),this.direction!=="forward"&&(t.direction=this.direction),this.easing!=No.linear&&(t.easing=this.easing.name),this.interpolation!=="linear"&&(t.interpolation=this.interpolation),this.timing&&(t.timing=this.timing),this.easings&&(t.easings=this.easings.map(i=>this.easing.name)),t}},m(ks,"AnimateChannel"),ks);function Yc(r,t){return t.add(t.sub(r))}m(Yc,"reflect");var Cs,xA=(Cs=class extends nf{constructor(i,o,a,u){super(i,a,u);G(this,"keys");this.keys=o}update(i,o){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(i,this.name,this.keys[a]);else{let g=this.easings?this.easings[a]:this.easing;this.setValue(i,this.name,Yt(this.keys[a],this.keys[a+1],g(u)))}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},m(Cs,"AnimateChannelNumber"),Cs),Ms,AA=(Ms=class extends nf{constructor(i,o,a,u,d){var g;super(i,a,u);G(this,"keys");G(this,"curves");G(this,"dcurves");if(this.keys=o,this.interpolation==="spline"){this.curves=[],d&&(this.dcurves=[]);for(let f=0;f<this.keys.length-1;f++){let p=this.keys[f],v=f+1,k=this.keys[v],y=f>0?this.keys[f-1]:Yc(k,p),E=v<this.keys.length-1?this.keys[v+1]:Yc(p,k);this.curves.push(Io(y,p,k,E)),d&&((g=this.dcurves)==null||g.push(Io(y,p,k,E,ng)))}}}update(i,o){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(i,this.name,this.keys[a]);else{let g=this.easings?this.easings[a]:this.easing;switch(this.interpolation){case"linear":this.setValue(i,this.name,this.keys[a].lerp(this.keys[a+1],g(u)));break;case"slerp":this.setValue(i,this.name,this.keys[a].slerp(this.keys[a+1],g(u)));break;case"spline":if(this.curves){this.setValue(i,this.name,this.curves[a](g(u))),this.dcurves&&this.setValue(i,"angle",this.dcurves[a](g(u)).angle());break}}}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(i=>[i.x,i.y])})}},m(Ms,"AnimateChannelVec2"),Ms),Rs,SA=(Rs=class extends nf{constructor(i,o,a,u){super(i,a,u);G(this,"keys");this.keys=o}update(i,o){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation=="none")this.setValue(i,this.name,this.keys[a]);else{let g=this.easings?this.easings[a]:this.easing;this.setValue(i,this.name,this.keys[a].lerp(this.keys[a+1],g(u)))}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},m(Rs,"AnimateChannelColor"),Rs);function h0(r={}){let t=[],i=0,o=!1;return{id:"animate",require:r.followMotion?["rotate"]:void 0,base:{pos:K(0,0),angle:0,scale:K(1,1),opacity:1},animation:{paused:!1,seek(a){i=Nn(a,0,this.duration),t.forEach(u=>{u.isFinished=!1}),o=!1},get duration(){return t.reduce((a,u)=>Math.max(u.duration,a),0)}},add(){r.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let a=!0,u;i+=xt();for(let d of t)u=d.update(this,i),u&&!d.isFinished&&(d.isFinished=!0,this.trigger("animateChannelFinished",d.name)),a&&(a=u);a&&!o&&(o=!0,this.trigger("animateFinished"))},animate(a,u,d){o=!1,this.unanimate(a),typeof u[0]=="number"?t.push(new xA(a,u,d,r.relative||!1)):u[0]instanceof J?t.push(new AA(a,u,d,r.relative||!1,a==="pos"&&(r.followMotion||!1))):u[0]instanceof be&&t.push(new SA(a,u,d,r.relative||!1))},unanimate(a){let u=t.findIndex(d=>d.name===a);u>=0&&t.splice(u,1)},unanimateAll(){t.splice(0,t.length)},onAnimateFinished(a){return this.on("animateFinished",a)},onAnimateChannelFinished(a){return this.on("animateChannelFinished",a)},serializeAnimationChannels(){return t.reduce((a,u)=>(a[u.name]=u.serialize(),a),{})},serializeAnimationOptions(){let a={};return r.followMotion&&(a.followMotion=!0),r.relative&&(a.relative=!0),a}}}m(h0,"animate");function rf(r,t){let i={name:r.name};return r.has("animate")&&(i.channels=r.serializeAnimationChannels(),Object.assign(i,r.serializeAnimationOptions())),r.children.length>0&&(i.children=r.children.filter(o=>o.has("named")).map(o=>rf(o,o.name))),i}m(rf,"serializeAnimation");function Xc(r=2,t=1){let i=0;return{require:["scale"],update(){let o=Math.sin(i*r)*t;o<0&&this.destroy(),this.scale=K(o),i+=xt()}}}m(Xc,"boom");function p0(r,t){if(r==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(i=1){this.setHP(r-i),this.trigger("hurt",i)},heal(i=1){let o=r;this.setHP(r+i),this.trigger("heal",r-o)},hp(){return r},maxHP(){return t??null},setMaxHP(i){t=i},setHP(i){r=t?Math.min(t,i):i,r<=0&&this.trigger("death")},onHurt(i){return this.on("hurt",i)},onHeal(i){return this.on("heal",i)},onDeath(i){return this.on("death",i)},inspect(){return`health: ${r}`}}}m(p0,"health");function m0(r,t={}){if(r==null)throw new Error("lifespan() requires time");let i=t.fade??0;return{id:"lifespan",require:["opacity"],add(){x.game.root.wait(r,()=>{this.opacity=this.opacity??1,i>0?x.game.root.tween(this.opacity,0,i,o=>this.opacity=o,No.linear).onEnd(()=>{this.destroy()}):this.destroy()})}}}m(m0,"lifespan");function g0(r){return{id:"named",name:r}}m(g0,"named");function y0(r,t,i){if(!r)throw new Error("state() requires an initial state");let o={};function a(f){o[f]||(o[f]={enter:new Qt,end:new Qt,update:new Qt,draw:new Qt})}m(a,"initStateEvents");function u(f,p,v){return a(p),o[p][f].add(v)}m(u,"on");function d(f,p,...v){a(p),o[p][f].trigger(...v)}m(d,"trigger");let g=!1;return{id:"state",state:r,enterState(f,...p){if(g=!0,t&&!t.includes(f))throw new Error(`State not found: ${f}`);let v=this.state;if(i){if(!(i!=null&&i[v]))return;let k=typeof i[v]=="string"?[i[v]]:i[v];if(!k.includes(f))throw new Error(`Cannot transition state from "${v}" to "${f}". Available transitions: ${k.map(y=>`"${y}"`).join(", ")}`)}d("end",v,...p),this.state=f,d("enter",f,...p),d("enter",`${v} -> ${f}`,...p)},onStateTransition(f,p,v){return u("enter",`${f} -> ${p}`,v)},onStateEnter(f,p){return u("enter",f,p)},onStateUpdate(f,p){return u("update",f,p)},onStateDraw(f,p){return u("draw",f,p)},onStateEnd(f,p){return u("end",f,p)},update(){g||(d("enter",r),g=!0),d("update",this.state)},draw(){d("draw",this.state)},inspect(){return`state: ${this.state}`}}}m(y0,"state");function sf(r){return{id:"stay",stay:!0,scenesToStay:r}}m(sf,"stay");function v0(r=!0,t){let i,o;return{id:"textInput",hasFocus:r,require:["text"],typedText:"",add(){let a=m(()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")},"flip");i=x.k.onCharInput(u=>{this.hasFocus&&(!t||this.typedText.length<t)&&(x.k.isKeyDown("shift")?this.typedText+=u.toUpperCase():this.typedText+=u,a())}),o=x.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1)),a()})},destroy(){i.cancel(),o.cancel()}}}m(v0,"textInput");function Ml(r=1e3){return{id:"timer",maxLoopsPerFrame:r,loop(t,i,o=-1,a=!1){let u=a?0:t,d=new Qt,g=this.onUpdate(()=>{u+=x.app.state.dt;for(let f=0;u>=t&&f<this.maxLoopsPerFrame;f++){if(o!=-1&&(o--,o<0)){g.cancel(),d.trigger();return}i(),u-=t}});return{get paused(){return g.paused},set paused(f){g.paused=f},cancel:g.cancel,onEnd:d.add,then(f){return d.add(f),this}}},wait(t,i){return this.loop(t,i??(()=>{}),1,!0)},tween(t,i,o,a,u=No.linear){let d=0,g=[],f=this.onUpdate(()=>{d+=x.app.state.dt;let p=Math.min(d/o,1);a(Yt(t,i,u(p))),p===1&&(f.cancel(),a(i),g.forEach(v=>v()))});return{get paused(){return f.paused},set paused(p){f.paused=p},onEnd(p){g.push(p)},then(p){return this.onEnd(p),this},cancel(){f.cancel()},finish(){f.cancel(),a(i),g.forEach(p=>p())}}}}}m(Ml,"timer");var $c=0;function w0(){return $c>0}m(w0,"usesArea");function x0(r={}){let t={},i=new Set,o=[];return{id:"area",collisionIgnore:r.collisionIgnore??[],add(){$c++,this.area.cursor&&o.push(this.onHover(()=>x.app.setCursor(this.area.cursor))),o.push(this.onCollideUpdate((a,u)=>{if(!a.id)throw new Error("area() requires the object to have an id");t[a.id]||this.trigger("collide",a,u),u&&(t[a.id]=u,i.add(a.id))}))},destroy(){$c--;for(let a of o)a.cancel()},fixedUpdate(){for(let a in t)i.has(Number(a))||(this.trigger("collideEnd",t[a].target),delete t[a]);i.clear()},drawInspect(){let a=this.localArea();rn(),it(this.area.offset);let u={outline:{width:4/Ad(),color:Le(0,0,255)},anchor:this.anchor,fill:!1,fixed:Dr(this)};a instanceof Ze?on({...u,pos:a.pos,width:a.width*this.area.scale.x,height:a.height*this.area.scale.y}):a instanceof Xt?sr({...u,pts:a.pts,scale:this.area.scale}):a instanceof an&&Ei({...u,pos:a.center,radius:a.radius}),Kt()},area:{shape:r.shape??null,scale:r.scale?K(r.scale):K(1),offset:r.offset??K(0),cursor:r.cursor??null},isClicked(){return x.app.isMousePressed()&&this.isHovering()},isHovering(){let a=Dr(this)?x.k.mousePos():x.k.toWorld(x.k.mousePos());return this.hasPoint(a)},checkCollision(a){if(!a.id)throw new Error("checkCollision() requires the object to have an id");return t[a.id]??null},getCollisions(){return Object.values(t)},isColliding(a){if(!a.id)throw new Error("isColliding() requires the object to have an id");return!!t[a.id]},isOverlapping(a){if(!a.id)throw new Error("isOverlapping() requires the object to have an id");let u=t[a.id];return u&&u.hasOverlap()},onClick(a,u="left"){let d=x.app.onMousePress(u,()=>{this.isHovering()&&a()});return o.push(d),d},onHover(a){let u=!1;return this.onUpdate(()=>{u?u=this.isHovering():this.isHovering()&&(u=!0,a())})},onHoverUpdate(a){return this.onUpdate(()=>{this.isHovering()&&a()})},onHoverEnd(a){let u=!1;return this.onUpdate(()=>{u?this.isHovering()||(u=!1,a()):u=this.isHovering()})},onCollide(a,u){if(typeof a=="function"&&u===void 0)return this.on("collide",a);if(typeof a=="string")return this.onCollide((d,g)=>{d.is(a)&&(u==null||u(d,g))});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(a,u){if(typeof a=="function"&&u===void 0)return this.on("collideUpdate",a);if(typeof a=="string")return this.on("collideUpdate",(d,g)=>d.is(a)&&(u==null?void 0:u(d,g)));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(a,u){if(typeof a=="function"&&u===void 0)return this.on("collideEnd",a);if(typeof a=="string")return this.on("collideEnd",d=>d.is(a)&&(u==null?void 0:u(d)));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(a){return or(this.worldArea(),a)},resolveCollision(a){let u=this.checkCollision(a);u&&!u.resolved&&(this.pos=this.pos.add(u.displacement),u.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let a=this.localArea();if(!(a instanceof Xt||a instanceof Ze))throw new Error("Only support polygon and rect shapes for now");let u=this.transform.clone().translate(this.area.offset).scale(K(this.area.scale??1));if(a instanceof Ze){let d=Si(this.anchor||Ll).add(1,1).scale(-.5).scale(a.width,a.height);u.translate(d)}return a.transform(u)},screenArea(){let a=this.worldArea();return Dr(this)?a:a.transform(x.game.cam.transform)},inspect(){var a,u,d,g,f,p,v;return((a=this.area.scale)==null?void 0:a.x)==((u=this.area.scale)==null?void 0:u.y)?`area: ${(g=(d=this.area.scale)==null?void 0:d.x)==null?void 0:g.toFixed(1)}x`:`area: (${(p=(f=this.area.scale)==null?void 0:f.x)==null?void 0:p.toFixed(1)}x, ${(v=this.area.scale.y)==null?void 0:v.toFixed(1)}y)`}}}m(x0,"area");function A0(r={}){let t=null,i=null,o=!1,a=K(0),u=null,d=null,g;return{id:"body",require:["pos"],vel:K(0),drag:r.drag??0,jumpForce:r.jumpForce??Rx,gravityScale:r.gravityScale??1,isStatic:r.isStatic??!1,mass:r.mass??1,add(){if(u=this.pos.clone(),d=this.pos.clone(),g=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((f,p)=>{if(!p||!f.has("body")||p.resolved)return;this.trigger("beforePhysicsResolve",p);let v=p.reverse();if(f.trigger("beforePhysicsResolve",v),!(p.resolved||v.resolved)&&!(this.isStatic&&f.isStatic)){if(!this.isStatic&&!f.isStatic){let k=this.mass+f.mass;this.pos=this.pos.add(p.displacement.scale(f.mass/k)),f.pos=f.pos.add(p.displacement.scale(-this.mass/k)),this.transform=rs(this),f.transform=rs(f)}else{let k=!this.isStatic&&f.isStatic?p:p.reverse();k.source.pos=k.source.pos.add(k.displacement),k.source.transform=rs(k.source)}p.resolved=!0,this.trigger("physicsResolve",p),f.trigger("physicsResolve",p.reverse())}}),this.onPhysicsResolve(f=>{if(x.game.gravity)if(f.isBottom()&&this.isFalling()){this.vel=this.vel.reject(x.game.gravity.unit());let p=t;t=f.target,p!=t&&(i=f.target.pos),o?o=!1:p||(this.trigger("ground",t),f.target.trigger("land",this))}else f.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(x.game.gravity.unit()),this.trigger("headbutt",f.target),f.target.trigger("headbutted",this))}))},update(){t&&this.isColliding(t)&&t.exists()&&t.has("body")&&(i&&!t.pos.eq(i)&&r.stickToPlatform!==!1&&this.moveBy(t.pos.sub(i)),i=t.pos);let f=wl();f&&(this.pos.x==g.x&&(this.pos.x=Yt(u.x,d.x,f/vl()),g.x=this.pos.x),this.pos.y==g.y&&(this.pos.y=Yt(u.y,d.y,f/vl()),g.y=this.pos.y))},fixedUpdate(){if(u&&(this.pos.x==g.x&&(this.pos.x=u.x),this.pos.y==g.y&&(this.pos.y=u.y),u=null),x.game.gravity&&!this.isStatic){o&&(t=null,i=null,this.trigger("fallOff"),o=!1),t&&(!this.isColliding(t)||!t.exists()||!t.has("body"))&&(o=!0);let f=this.vel.clone();this.vel=this.vel.add(x.game.gravity.scale(this.gravityScale*xt()));let p=r.maxVelocity??Px;this.vel.slen()>p*p&&(this.vel=this.vel.unit().scale(p)),f.dot(x.game.gravity)<0&&this.vel.dot(x.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=a.x*xt(),this.vel.y+=a.y*xt(),this.vel.x*=1-this.drag*xt(),this.vel.y*=1-this.drag*xt(),this.move(this.vel),wl()){u=this.pos.clone();let f=this.vel.add(a.scale(xt()));d=this.pos.add(f.scale(xt())),g=this.pos.clone()}a.x=0,a.y=0},onPhysicsResolve(f){return this.on("physicsResolve",f)},onBeforePhysicsResolve(f){return this.on("beforePhysicsResolve",f)},curPlatform(){return t},isGrounded(){return t!==null},isFalling(){return this.vel.dot(ss())>0},isJumping(){return this.vel.dot(ss())<0},applyImpulse(f){this.isStatic||(this.vel=this.vel.add(f))},addForce(f){this.isStatic||(a.x+=f.x/this.mass,a.y+=f.y/this.mass)},jump(f){this.isStatic||(t=null,i=null,this.vel=ss().scale(-f||-this.jumpForce))},onGround(f){return this.on("ground",f)},onFall(f){return this.on("fall",f)},onFallOff(f){return this.on("fallOff",f)},onHeadbutt(f){return this.on("headbutt",f)},onLand(f){return this.on("land",f)},onHeadbutted(f){return this.on("headbutted",f)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}m(A0,"body");function S0(r=2){let t=r;return{id:"doubleJump",require:["body"],numJumps:r,add(){this.onGround(()=>{t=this.numJumps})},doubleJump(i){t<=0||(t<this.numJumps&&this.trigger("doubleJump"),t--,this.jump(i))},onDoubleJump(i){return this.on("doubleJump",i)},inspect(){return`jumpsLeft: ${t}`}}}m(S0,"doubleJump");function E0(r){return{id:"surfaceEffector",require:["area"],speed:r.speed,speedVariation:r.speedVariation??0,forceScale:r.speedVariation??.9,add(){this.onCollideUpdate("body",(t,i)=>{var d;let o=i==null?void 0:i.normal.normal(),a=t.vel.project(o),u=(d=o==null?void 0:o.scale(this.speed))==null?void 0:d.sub(a);t.addForce(u==null?void 0:u.scale(t.mass*this.forceScale))})}}}m(E0,"surfaceEffector");function k0(r){return{id:"areaEffector",require:["area"],useGlobalAngle:r.useGlobalAngle||!1,forceAngle:r.forceAngle,forceMagnitude:r.forceMagnitude,forceVariation:r.forceVariation??0,linearDrag:r.linearDrag??0,add(){this.onCollideUpdate("body",(t,i)=>{if(!t.has("body"))return;let o=J.fromAngle(this.forceAngle).scale(this.forceMagnitude);t.addForce(o),this.linearDrag&&t.addForce(t.vel.scale(-this.linearDrag))})}}}m(k0,"areaEffector");function C0(r){return{id:"pointEffector",require:["area","pos"],forceMagnitude:r.forceMagnitude,forceVariation:r.forceVariation??0,distanceScale:r.distanceScale??1,forceMode:r.forceMode||"inverseLinear",linearDrag:r.linearDrag??0,add(){this.onCollideUpdate("body",(t,i)=>{let o=this.pos.sub(t.pos),a=o.len(),u=a*this.distanceScale/10,d=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/u:1/u**2,g=o.scale(this.forceMagnitude*d/a);t.addForce(g),this.linearDrag&&t.addForce(t.vel.scale(-this.linearDrag))})}}}m(C0,"pointEffector");function M0(r){return{id:"constantForce",require:["body"],force:r.force,update(){this.force&&this.addForce(this.force)}}}m(M0,"constantForce");function R0(r){return{id:"platformEffector",require:["area","body"],surfaceArc:r.surfaceArc??180,useOneWay:r.useOneWay??!1,add(){this.onBeforePhysicsResolve(t=>{let i=t.target.vel,o=ss().scale(-1).angleBetween(i);Math.abs(o)>this.surfaceArc/2&&t.preventResolution()})}}}m(R0,"platformEffector");function P0(r){return{id:"buoyancyEffector",require:["area"],surfaceLevel:r.surfaceLevel,density:r.density??1,linearDrag:r.linearDrag??1,angularDrag:r.angularDrag??.2,flowAngle:r.flowAngle??0,flowMagnitude:r.flowMagnitude??0,flowVariation:r.flowVariation??0,add(){this.onCollideUpdate("body",(t,i)=>{let o=t,a=o.worldArea(),[u,d]=a.cut(K(-100,this.surfaceLevel),K(100,this.surfaceLevel));u&&(this.applyBuoyancy(o,u),this.applyDrag(o,u)),this.flowMagnitude&&o.addForce(J.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(t,i){let o=this.density*i.area(),a=K(0,1).scale(-o);t.addForce(a)},applyDrag(t,i){let o=t.vel,a=this.density*this.linearDrag,u=o.scale(-a);t.addForce(u)}}}m(P0,"buoyancyEffector");function Rl(r){if(!r)throw new Error("Please define an anchor");return{id:"anchor",anchor:r,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}m(Rl,"anchor");function of(){return{id:"fixed",fixed:!0}}m(of,"fixed");function T0(r,t){return{id:"follow",require:["pos"],follow:{obj:r,offset:t??K(0)},add(){r.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){r.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}m(T0,"follow");function I0(r){var i;let t=(i=x.game.layers)==null?void 0:i.indexOf(r);return{id:"layer",get layerIndex(){return t??null},get layer(){var o;return t?((o=x.game.layers)==null?void 0:o[t])??null:null},set layer(o){var a;if(t=(a=x.game.layers)==null?void 0:a.indexOf(o),t==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}m(I0,"layer");function b0(r,t){let i=typeof r=="number"?J.fromAngle(r):r.unit();return{id:"move",require:["pos"],update(){this.move(i.scale(t))}}}m(b0,"move");function N0(r={}){let t=r.distance??Mx,i=!1;return{id:"offscreen",require:["pos"],isOffScreen(){let o=this.screenPos();if(!o)return!1;let a=new Ze(K(0),Ct(),It());return!zo(a,o)&&a.sdistToPoint(o)>t*t},onExitScreen(o){return this.on("exitView",o)},onEnterScreen(o){return this.on("enterView",o)},update(){this.isOffScreen()?(i||(this.trigger("exitView"),i=!0),r.hide&&(this.hidden=!0),r.pause&&(this.paused=!0),r.destroy&&this.destroy()):(i&&(this.trigger("enterView"),i=!1),r.hide&&(this.hidden=!1),r.pause&&(this.paused=!1))}}}m(N0,"offscreen");function jo(...r){return{id:"pos",pos:K(...r),moveBy(...t){this.pos=this.pos.add(K(...t))},move(...t){this.moveBy(K(...t).scale(xt()))},moveTo(...t){if(typeof t[0]=="number"&&typeof t[1]=="number")return this.moveTo(K(t[0],t[1]),t[2]);let i=t[0],o=t[1];if(o===void 0){this.pos=K(i);return}let a=i.sub(this.pos);if(a.len()<=o*xt()){this.pos=K(i);return}this.move(a.unit().scale(o))},worldPos(t=null){return t?(this.pos=this.pos.add(this.fromWorld(t)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(t){return this.parent?this.parent.transform.multVec2(this.pos.add(t)):this.pos.add(t)},fromWorld(t){return this.parent?this.parent.transform.invert().multVec2(t).sub(this.pos):t.sub(this.pos)},screenPos(t=null){if(t)return this.pos=this.pos.add(this.fromScreen(t)),null;{let i=this.worldPos();return i?Dr(this)?i:kl(i):null}},toScreen(t){let i=this.toWorld(t);return Dr(this)?i:kl(i)},fromScreen(t){return Dr(this)?this.fromWorld(t):this.fromWorld(Kd(t))},toOther(t,i){return t.fromWorld(this.toWorld(i))},fromOther(t,i){return t.toOther(this,i)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){Ei({color:Le(255,0,0),radius:4/Ad()})}}}m(jo,"pos");function B0(r){return{id:"rotate",angle:r??0,rotateBy(t){this.angle+=t},rotateTo(t){this.angle=t},inspect(){return`angle: ${Math.round(this.angle)}`}}}m(B0,"rotate");function Oo(...r){if(r.length===0)return Oo(1);let t=K(...r);return{id:"scale",set scale(i){if(!(i instanceof J))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");t=K(i)},get scale(){return t},scaleTo(...i){t=K(...i)},scaleBy(...i){t=t.scale(K(...i))},inspect(){return t.x==t.y?`scale: ${t.x.toFixed(1)}x`:`scale: (${t.x.toFixed(1)}x, ${t.y.toFixed(1)}y)`}}}m(Oo,"scale");function F0(r){return{id:"z",z:r,inspect(){return`z: ${this.z}`}}}m(F0,"z");var EA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",kA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",CA="3001.0.0",x={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},MA=m((r={tagsAsComponents:!0})=>{x.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),x.k.quit()),x.globalOpt=r;let t=r.root??document.body;t===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let i=r.canvas??t.appendChild(document.createElement("canvas"));x.canvas=i;let o=r.scale??1;x.gscale=o;let a=r.width&&r.height&&!r.stretch&&!r.letterbox;a?(i.width=r.width*o,i.height=r.height*o):(i.width=i.parentElement.offsetWidth,i.height=i.parentElement.offsetHeight);let u=["outline: none","cursor: default"];if(a){let ve=i.width,Me=i.height;u.push(`width: ${ve}px`),u.push(`height: ${Me}px`)}else u.push("width: 100%"),u.push("height: 100%");r.crisp&&(u.push("image-rendering: pixelated"),u.push("image-rendering: crisp-edges")),i.style.cssText=u.join(";");let d=r.pixelDensity||1;x.pixelDensity=d,i.width*=d,i.height*=d,i.tabIndex=0;let g=document.createElement("canvas");g.width=256,g.height=256,x.fontCacheCanvas=g;let f=g.getContext("2d",{willReadFrequently:!0});x.fontCacheC2d=f;let p=Ux({canvas:i,touchToMouse:r.touchToMouse,gamepads:r.gamepads,pixelDensity:r.pixelDensity,maxFPS:r.maxFPS,buttons:r.buttons});x.app=p;let v=[],k=p.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!k)throw new Error("WebGL not supported");let y=k,E=dy(y,{texFilter:r.texFilter}),A=oA(r,E);x.gfx=A;let T=wA();x.audio=T;let S=nA(E,r.spriteAtlasPadding??0);x.assets=S;let C=yA();x.game=C,C.root.use(Ml());function _(ve,Me){let Re=new Al(E,ve,Me);return{clear:m(()=>Re.clear(),"clear"),free:m(()=>Re.free(),"free"),toDataURL:m(()=>Re.toDataURL(),"toDataURL"),toImageData:m(()=>Re.toImageData(),"toImageData"),width:Re.width,height:Re.height,draw:m(_e=>{sn(),Re.bind(),_e(),sn(),Re.unbind()},"draw"),get fb(){return Re}}}m(_,"makeCanvas");function I(){y.clear(y.COLOR_BUFFER_BIT),A.frameBuffer.bind(),y.clear(y.COLOR_BUFFER_BIT),A.bgColor||nr(()=>{Ts({width:Ct(),height:It(),quad:new st(0,0,Ct()/64,It()/64),tex:A.bgTex,fixed:!0})}),A.renderer.numDraws=0,A.fixed=!1,A.transformStack.length=0,A.transform=new Un}m(I,"frameStart");function L(ve,Me){A.postShader=ve,A.postShaderUniform=Me??null}m(L,"usePostEffect");function U(){sn(),A.lastDrawCalls=A.renderer.numDraws,A.frameBuffer.unbind(),y.viewport(0,0,y.drawingBufferWidth,y.drawingBufferHeight);let ve=A.width,Me=A.height;A.width=y.drawingBufferWidth/d,A.height=y.drawingBufferHeight/d,Do({flipY:!0,tex:A.frameBuffer.tex,pos:new J(A.viewport.x,A.viewport.y),width:A.viewport.width,height:A.viewport.height,shader:A.postShader,uniform:typeof A.postShaderUniform=="function"?A.postShaderUniform():A.postShaderUniform,fixed:!0}),sn(),A.width=ve,A.height=Me}m(U,"frameEnd");let M=!1,P={inspect:!1,timeScale:1,showLog:!0,fps:m(()=>p.fps(),"fps"),numFrames:m(()=>p.numFrames(),"numFrames"),stepFrame:Ce,drawCalls:m(()=>A.lastDrawCalls,"drawCalls"),clearLog:m(()=>C.logs=[],"clearLog"),log:m((...ve)=>{let Me=r.logMax??8,Re=ve.length>1?ve.concat(" ").join(" "):ve[0];C.logs.unshift({msg:Re,time:p.time()}),C.logs.length>Me&&(C.logs=C.logs.slice(0,Me))},"log"),error:m(ve=>P.log(new Error(ve.toString?ve.toString():ve)),"error"),curRecording:null,numObjects:m(()=>ue("*",{recursive:!0}).length,"numObjects"),get paused(){return M},set paused(ve){M=ve,ve?T.ctx.suspend():T.ctx.resume()}};x.debug=P;function D(ve,Me){try{return JSON.parse(window.localStorage[ve])}catch{return Me?(X(ve,Me),Me):null}}m(D,"getData");function X(ve,Me){window.localStorage[ve]=JSON.stringify(Me)}m(X,"setData");function z(ve,...Me){let Re=ve(bt),_e;typeof Re=="function"?_e=Re(...Me)(bt):_e=Re;for(let et in _e)bt[et]=_e[et],r.global!==!1&&(window[et]=_e[et]);return bt}m(z,"plug");function $(ve){let Me=p.canvas.captureStream(ve),Re=T.ctx.createMediaStreamDestination();T.masterNode.connect(Re);let _e=new MediaRecorder(Me),et=[];return _e.ondataavailable=Be=>{Be.data.size>0&&et.push(Be.data)},_e.onerror=()=>{T.masterNode.disconnect(Re),Me.getTracks().forEach(Be=>Be.stop())},_e.start(),{resume(){_e.resume()},pause(){_e.pause()},stop(){return _e.stop(),T.masterNode.disconnect(Re),Me.getTracks().forEach(Be=>Be.stop()),new Promise(Be=>{_e.onstop=()=>{Be(new Blob(et,{type:"video/mp4"}))}})},download(Be="kaboom.mp4"){this.stop().then(ot=>Hc(Be,ot))}}}m($,"record");function ee(){return document.activeElement===p.canvas}m(ee,"isFocused");let ie=C.root.add.bind(C.root),de=C.root.readd.bind(C.root),we=C.root.removeAll.bind(C.root),ue=C.root.get.bind(C.root),he=C.root.wait.bind(C.root),te=C.root.loop.bind(C.root),le=C.root.query.bind(C.root),se=C.root.tween.bind(C.root),O=is(null,kA),W=is(null,EA);x.kaSprite=O,x.boomSprite=W;function Se(){C.root.fixedUpdate()}m(Se,"fixedUpdateFrame");function Ce(){C.root.update()}m(Ce,"updateFrame");const cn=class cn{constructor(Me,Re,_e,et,Be=!1){G(this,"source");G(this,"target");G(this,"normal");G(this,"distance");G(this,"resolved",!1);this.source=Me,this.target=Re,this.normal=_e,this.distance=et,this.resolved=Be}get displacement(){return this.normal.scale(this.distance)}reverse(){return new cn(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(C.gravity||K(0,1))>0}isRight(){return this.displacement.cross(C.gravity||K(0,1))<0}isTop(){return this.displacement.dot(C.gravity||K(0,1))>0}isBottom(){return this.displacement.dot(C.gravity||K(0,1))<0}preventResolution(){this.resolved=!0}};m(cn,"Collision");let Pe=cn;function Te(){if(!w0())return;let ve={},Me=r.hashGridSize||64,Re=new Un,_e=[];function et(Be){if(_e.push(Re.clone()),Be.pos&&Re.translate(Be.pos),Be.scale&&Re.scale(Be.scale),Be.angle&&Re.rotate(Be.angle),Be.transform=Re.clone(),Be.c("area")&&!Be.paused){let ot=Be,Nt=ot.worldArea().bbox(),Xr=Math.floor(Nt.pos.x/Me),ki=Math.floor(Nt.pos.y/Me),$r=Math.ceil((Nt.pos.x+Nt.width)/Me),Jr=Math.ceil((Nt.pos.y+Nt.height)/Me),cr=new Set;for(let Bt=Xr;Bt<=$r;Bt++)for(let Lt=ki;Lt<=Jr;Lt++)if(!ve[Bt])ve[Bt]={},ve[Bt][Lt]=[ot];else if(!ve[Bt][Lt])ve[Bt][Lt]=[ot];else{let Vn=ve[Bt][Lt];e:for(let mt of Vn){if(mt.paused||!mt.exists()||cr.has(mt.id))continue;for(let An of ot.collisionIgnore)if(mt.is(An))continue e;for(let An of mt.collisionIgnore)if(ot.is(An))continue e;let xn=lg(ot.worldArea(),mt.worldArea());if(xn){let An=new Pe(ot,mt,xn.normal,xn.distance);ot.trigger("collideUpdate",mt,An);let dr=An.reverse();dr.resolved=An.resolved,mt.trigger("collideUpdate",ot,dr)}cr.add(mt.id)}Vn.push(ot)}}Be.children.forEach(et),Re=_e.pop()}m(et,"checkObj"),et(C.root)}m(Te,"checkFrame");function De(ve){console.error(ve),T.ctx.suspend();let Me=ve.message??String(ve)??"Unknown error, check console for more info";p.run(()=>{},()=>{I(),nr(()=>{let Re=Ct(),_e=It(),et={size:36,width:Re-32*2,letterSpacing:4,lineSpacing:4,font:gl,fixed:!0};on({width:Re,height:_e,color:Le(0,0,255),fixed:!0});let Be=Gr({...et,text:"Error",pos:K(32),color:Le(255,128,0),fixed:!0});Vr(Be),Kc({...et,text:Me,pos:K(32,32+Be.height+16),fixed:!0}),Kt(),C.events.trigger("error",ve)}),U()})}m(De,"handleErr");function Ne(ve){v.push(ve)}m(Ne,"onCleanup");function qe(){C.events.onOnce("frameEnd",()=>{p.quit(),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT);let ve=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS);for(let Me=0;Me<ve;Me++)y.activeTexture(y.TEXTURE0+Me),y.bindTexture(y.TEXTURE_2D,null),y.bindTexture(y.TEXTURE_CUBE_MAP,null);y.bindBuffer(y.ARRAY_BUFFER,null),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,null),y.bindRenderbuffer(y.RENDERBUFFER,null),y.bindFramebuffer(y.FRAMEBUFFER,null),E.destroy(),v.forEach(Me=>Me())})}m(qe,"quit");let ut=!0;p.run(()=>{try{S.loaded&&(P.paused||Se(),Te())}catch(ve){De(ve)}},(ve,Me)=>{try{ve(),S.loaded||Ur()===1&&!ut&&(S.loaded=!0,Ed().forEach(Re=>C.events.trigger("loadError",...Re)),C.events.trigger("load")),!S.loaded&&r.loadingScreen!==!1||ut?(I(),py(),U()):(P.paused||Ce(),Te(),I(),hy(),r.debug!==!1&&fy(),U()),ut&&(ut=!1),C.events.trigger("frameEnd"),Me()}catch(Re){De(Re)}}),jd(),Jd();let bt={_k:x,VERSION:CA,loadRoot:Wg,loadProgress:Ur,loadSprite:is,loadSpriteAtlas:bd,loadSound:sy,loadMusic:oy,loadBitmapFont:Zg,loadFont:$g,loadShader:ny,loadShaderURL:ry,loadAseprite:Xg,loadPedit:ey,loadBean:Yg,loadJSON:Qg,load:xl,getSound:Id,getFont:Rd,getBitmapFont:Pd,getSprite:kd,getShader:Td,getAsset:Kg,Asset:wn,SpriteData:Hr,SoundData:Fo,width:Ct,height:It,center:Bo,dt:xt,fixedDt:vl,restDt:wl,time:p.time,screenshot:p.screenshot,record:$,isFocused:ee,setCursor:p.setCursor,getCursor:p.getCursor,setCursorLocked:p.setCursorLocked,isCursorLocked:p.isCursorLocked,setFullscreen:p.setFullscreen,isFullscreen:p.isFullscreen,isTouchscreen:p.isTouchscreen,onLoad:Vl,onLoadError:Ly,onLoading:Dy,onResize:jy,onGamepadConnect:p.onGamepadConnect,onGamepadDisconnect:p.onGamepadDisconnect,onError:Oy,onCleanup:Ne,flash:Qd,setCamPos:zd,getCamPos:Ud,setCamRot:Vd,getCamRot:Wd,setCamScale:Hd,getCamScale:Gd,getCamTransform:qy,camPos:Uy,camScale:Hy,camFlash:Vy,camRot:Gy,camTransform:_y,shake:zy,toScreen:kl,toWorld:Kd,setGravity:Wy,getGravity:Qy,setGravityDirection:Ky,getGravityDirection:ss,setBackground:qg,getBackground:_g,getGamepads:p.getGamepads,getTreeRoot:n0,add:ie,make:Wl,destroy:ef,destroyAll:we,get:ue,query:le,readd:de,pos:jo,scale:Oo,rotate:B0,color:Od,opacity:Ld,anchor:Rl,area:x0,sprite:Cl,text:a0,polygon:ky,rect:_d,circle:vy,uvquad:l0,outline:Sy,particles:Ey,body:A0,platformEffector:R0,surfaceEffector:E0,areaEffector:k0,pointEffector:C0,buoyancyEffector:P0,constantForce:M0,doubleJump:S0,shader:Cy,textInput:v0,timer:Ml,fixed:of,stay:sf,health:p0,lifespan:m0,named:g0,state:y0,z:F0,layer:I0,move:b0,offscreen:N0,follow:T0,fadeIn:xy,mask:Ay,drawon:wy,raycast:qd,tile:tf,animate:h0,serializeAnimation:rf,agent:u0,sentry:f0,patrol:d0,pathfinder:c0,trigger:lA,on:$t,onFixedUpdate:uA,onUpdate:cA,onDraw:dA,onAdd:Ry,onDestroy:fA,onTag:Py,onUntag:mA,onUse:hA,onUnuse:pA,onClick:gA,onCollide:Ty,onCollideUpdate:Iy,onCollideEnd:by,onHover:Ny,onHoverUpdate:By,onHoverEnd:Fy,onKeyDown:p.onKeyDown,onKeyPress:p.onKeyPress,onKeyPressRepeat:p.onKeyPressRepeat,onKeyRelease:p.onKeyRelease,onMouseDown:p.onMouseDown,onMousePress:p.onMousePress,onMouseRelease:p.onMouseRelease,onMouseMove:p.onMouseMove,onCharInput:p.onCharInput,onTouchStart:p.onTouchStart,onTouchMove:p.onTouchMove,onTouchEnd:p.onTouchEnd,onScroll:p.onScroll,onHide:p.onHide,onShow:p.onShow,onGamepadButtonDown:p.onGamepadButtonDown,onGamepadButtonPress:p.onGamepadButtonPress,onGamepadButtonRelease:p.onGamepadButtonRelease,onGamepadStick:p.onGamepadStick,onButtonPress:p.onButtonPress,onButtonDown:p.onButtonDown,onButtonRelease:p.onButtonRelease,mousePos:Sd,mouseDeltaPos:p.mouseDeltaPos,isKeyDown:p.isKeyDown,isKeyPressed:p.isKeyPressed,isKeyPressedRepeat:p.isKeyPressedRepeat,isKeyReleased:p.isKeyReleased,isMouseDown:p.isMouseDown,isMousePressed:p.isMousePressed,isMouseReleased:p.isMouseReleased,isMouseMoved:p.isMouseMoved,isGamepadButtonPressed:p.isGamepadButtonPressed,isGamepadButtonDown:p.isGamepadButtonDown,isGamepadButtonReleased:p.isGamepadButtonReleased,getGamepadStick:p.getGamepadStick,isButtonPressed:p.isButtonPressed,isButtonDown:p.isButtonDown,isButtonReleased:p.isButtonReleased,setButton:p.setButton,getButton:p.getButton,pressButton:p.pressButton,releaseButton:p.releaseButton,getLastInputDeviceType:p.getLastInputDeviceType,charInputted:p.charInputted,loop:te,wait:he,play:Xy,setVolume:Xd,getVolume:$d,volume:$y,burp:Yd,audioCtx:T.ctx,Line:un,Rect:Ze,Circle:an,Ellipse:lr,Point:yx,Polygon:Xt,Vec2:J,Color:be,Mat4:Un,Quad:st,RNG:Mm,rand:wt,randi:sd,randSeed:Rm,vec2:K,rgb:Le,hsl2rgb:px,quad:dt,choose:Im,chooseMultiple:Tm,shuffle:od,chance:Pm,lerp:Yt,tween:se,easings:No,map:bn,mapc:Cm,wave:id,deg2rad:ft,rad2deg:zr,clamp:Nn,evaluateQuadratic:Wm,evaluateQuadraticFirstDerivative:Qm,evaluateQuadraticSecondDerivative:Km,evaluateBezier:Ol,evaluateBezierFirstDerivative:Ym,evaluateBezierSecondDerivative:Xm,evaluateCatmullRom:$m,evaluateCatmullRomFirstDerivative:Jm,curveLengthApproximation:md,normalizedCurve:Zm,hermite:Bs,cardinal:gd,catmullRom:Io,bezier:eg,kochanekBartels:tg,easingSteps:ag,easingLinear:sg,easingCubicBezier:og,testLineLine:bl,testRectRect:ad,testRectLine:Nl,testRectPoint:zo,testCirclePolygon:Ho,testLinePoint:Bl,testLineCircle:Ns,isConvex:hg,triangulate:vd,NavMesh:eA,drawSprite:gy,drawText:Kc,formatText:Gr,drawRect:on,drawLine:ts,drawLines:Gl,drawTriangle:Fd,drawCircle:Ei,drawEllipse:Nd,drawUVQuad:Ts,drawPolygon:sr,drawCurve:Bd,drawBezier:cy,drawFormattedText:Vr,drawMasked:my,drawSubtracted:yy,pushTransform:rn,popTransform:Kt,pushTranslate:it,pushScale:Ps,pushRotate:wi,pushMatrix:zg,usePostEffect:L,makeCanvas:_,debug:P,scene:r0,getSceneName:o0,go:i0,onSceneLeave:s0,layers:t0,getLayers:Zy,setLayers:Zd,getDefaultLayer:e0,addLevel:My,getData:D,setData:X,download:ql,downloadJSON:Ag,downloadText:xd,downloadBlob:Hc,plug:z,ASCII_CHARS:pg,canvas:p.canvas,addKaboom:Jy,LEFT:J.LEFT,RIGHT:J.RIGHT,UP:J.UP,DOWN:J.DOWN,RED:be.RED,GREEN:be.GREEN,BLUE:be.BLUE,YELLOW:be.YELLOW,MAGENTA:be.MAGENTA,CYAN:be.CYAN,WHITE:be.WHITE,BLACK:be.BLACK,quit:qe,KEvent:Qt,KEventHandler:bo,KEventController:xi,cancel:m(()=>gg,"cancel")};x.k=bt;let Yr=r.plugins;if(Yr&&Yr.forEach(z),r.global!==!1)for(let ve in bt)window[ve]=bt[ve];return r.focus!==!1&&p.canvas.focus(),bt},"kaplay"),RA=MA;const F=RA({width:1920,height:1080,letterbox:!0,background:[0,0,0],global:!1,buttons:{jump:{keyboard:["space"],mouse:"left"}},touchToMouse:!0,debug:!1});function PA(){F.add([F.text(`
        InfiniteRunnerGame
      `,{font:"mania",size:32})]),F.add([F.text("Press Space/Click/Touch to Start The Game",{font:"mania",size:64}),F.anchor("center"),F.pos(F.center())]),F.onButtonPress("jump",()=>F.go("main-menu"))}function D0(r){const t=F.add([F.sprite("sonic",{anim:"run"}),F.scale(4),F.area(),F.anchor("center"),F.pos(r),F.body({jumpForce:1700}),{ringCollectUI:null,setControls(){F.onButtonPress("jump",()=>{this.isGrounded()&&(this.play("jump"),this.jump(),F.play("jump",{volume:.5}))})},setEvents(){this.onGround(()=>{this.play("run")})}}]);return t.ringCollectUI=t.add([F.text("",{font:"mania",size:24}),F.color(255,255,0),F.anchor("center"),F.pos(30,-10)]),t}function TA(){F.getData("best-score")||F.setData("best-score",0),F.onButtonPress("jump",()=>F.go("game"));const r=1920,t=[F.add([F.sprite("chemical-bg"),F.pos(0,0),F.scale(2),F.opacity(.8)]),F.add([F.sprite("chemical-bg"),F.pos(1920,0),F.scale(2),F.opacity(.8)])],i=[F.add([F.sprite("platforms"),F.pos(0,450),F.scale(4)]),F.add([F.sprite("platforms"),F.pos(384,450),F.scale(4)])];F.add([F.text("SONIC RING RUN",{font:"mania",size:96}),F.anchor("center"),F.pos(F.center().x,200)]),F.add([F.text("Press Space/Click/Touch to Play",{font:"mania",size:32}),F.anchor("center"),F.pos(F.center().x,F.center().y-200)]),D0(F.vec2(200,745)),F.onUpdate(()=>{t[1].pos.x<0&&(t[0].moveTo(t[1].pos.x+r*2,0),t.push(t.shift())),t[0].move(-100,0),t[1].moveTo(t[0].pos.x+r*2,0),i[1].pos.x<0&&(i[0].moveTo(i[1].pos.x+i[1].width*4,450),i.push(i.shift())),i[0].move(-4e3,0),i[1].moveTo(i[0].pos.x+i[1].width*4,450)})}function IA(r){return F.add([F.sprite("motobug",{anim:"run"}),F.area({shape:new F.Rect(F.vec2(-5,0),32,32)}),F.scale(4),F.anchor("center"),F.pos(r),F.offscreen(),"enemy"])}function bA(r){return F.add([F.sprite("ring",{anim:"spin"}),F.area(),F.scale(4),F.anchor("center"),F.pos(r),F.offscreen(),"ring"])}function NA(){const r=F.play("city",{volume:.2,loop:!0});F.setGravity(3100);const t=1920,i=[F.add([F.sprite("chemical-bg"),F.pos(0,0),F.scale(2),F.opacity(.8)]),F.add([F.sprite("chemical-bg"),F.pos(t,0),F.scale(2),F.opacity(.8)])],o=[F.add([F.sprite("platforms"),F.pos(0,450),F.scale(4)]),F.add([F.sprite("platforms"),F.pos(384,450),F.scale(4)])],a=D0(F.vec2(200,745));a.setControls(),a.setEvents();const u=F.add([F.text("Press Space/Click/Touch to Jump!",{font:"mania",size:64}),F.anchor("center"),F.pos(F.center())]),d=F.onButtonPress("jump",()=>{F.destroy(u),d.cancel()}),g=F.add([F.text("SCORE : 0",{font:"mania",size:72}),F.pos(20,20)]);let f=0,p=0;a.onCollide("ring",E=>{F.play("ring",{volume:.5}),F.destroy(E),f++,g.text=`SCORE : ${f}`,a.ringCollectUI.text="+1",F.wait(1,()=>{a.ringCollectUI.text=""})}),a.onCollide("enemy",E=>{if(!a.isGrounded()){F.play("destroy",{volume:.5}),F.play("hyper-ring",{volume:.5}),F.destroy(E),a.play("jump"),a.jump(),p+=1,f+=10*p,g.text=`SCORE : ${f}`,p===1&&(a.ringCollectUI.text=`+${10*p}`),p>1&&(a.ringCollectUI.text=`x${p}`),F.wait(1,()=>{a.ringCollectUI.text=""});return}F.play("hurt",{volume:.5}),F.setData("current-score",f),F.go("gameover",r)});let v=300;F.loop(1,()=>{v+=50});const k=()=>{const E=IA(F.vec2(1950,773));E.onUpdate(()=>{if(v<3e3){E.move(-(v+300),0);return}E.move(-v,0)}),E.onExitScreen(()=>{E.pos.x<0&&F.destroy(E)});const A=F.rand(.5,2.5);F.wait(A,k)};k();const y=()=>{const E=bA(F.vec2(1950,745));E.onUpdate(()=>{E.move(-v,0)}),E.onExitScreen(()=>{E.pos.x<0&&F.destroy(E)});const A=F.rand(.5,3);F.wait(A,y)};y(),F.add([F.rect(1920,300),F.opacity(0),F.area(),F.pos(0,832),F.body({isStatic:!0}),"platform"]),F.onUpdate(()=>{a.isGrounded()&&(p=0),i[1].pos.x<0&&(i[0].moveTo(i[1].pos.x+t*2,0),i.push(i.shift())),i[0].move(-100,0),i[1].moveTo(i[0].pos.x+t*2,0),i[0].moveTo(i[0].pos.x,-a.pos.y/10-50),i[1].moveTo(i[1].pos.x,-a.pos.y/10-50),o[1].pos.x<0&&(o[0].moveTo(o[1].pos.x+o[1].width*4,450),o.push(o.shift())),o[0].move(-v,0),o[1].moveTo(o[0].pos.x+o[1].width*4,450)})}function BA(r){r.paused=!0;let t=F.getData("best-score");const i=F.getData("current-score"),o=["F","E","D","C","B","A","S"],a=[50,80,100,200,300,400,500];let u="F",d="F";for(let p=0;p<a.length;p++)a[p]<i&&(u=o[p]),a[p]<t&&(d=o[p]);t<i&&(F.setData("best-score",i),t=i,d=u),F.add([F.text("GAME OVER",{font:"mania",size:96}),F.anchor("center"),F.pos(F.center().x,F.center().y-300)]),F.add([F.text(`BEST SCORE : ${t}`,{font:"mania",size:64}),F.anchor("center"),F.pos(F.center().x-400,F.center().y-200)]),F.add([F.text(`CURRENT SCORE : ${i}`,{font:"mania",size:64}),F.anchor("center"),F.pos(F.center().x+400,F.center().y-200)]),F.add([F.rect(400,400,{radius:4}),F.color(0,0,0),F.area(),F.anchor("center"),F.outline(6,F.Color.fromArray([255,255,255])),F.pos(F.center().x-400,F.center().y+50)]).add([F.text(d,{font:"mania",size:100}),F.anchor("center")]),F.add([F.rect(400,400,{radius:4}),F.color(0,0,0),F.area(),F.anchor("center"),F.outline(6,F.Color.fromArray([255,255,255])),F.pos(F.center().x+400,F.center().y+50)]).add([F.text(u,{font:"mania",size:100}),F.anchor("center")]),F.wait(1,()=>{F.add([F.text("Press Space/Click/Touch to Play Again",{font:"mania",size:64}),F.anchor("center"),F.pos(F.center().x,F.center().y+350)]),F.onButtonPress("jump",()=>F.go("game"))})}function j0(){return q.useEffect(()=>(F.width=1920,F.height=1080,F.letterbox=!0,F.loadSprite("chemical-bg","graphics/chemical-bg.png"),F.loadSprite("platforms","graphics/platforms.png"),F.loadSprite("sonic","graphics/sonic.png",{sliceX:8,sliceY:2,anims:{run:{from:0,to:7,loop:!0,speed:30},jump:{from:8,to:15,loop:!0,speed:100}}}),F.loadSprite("ring","graphics/ring.png",{sliceX:16,sliceY:1,anims:{spin:{from:0,to:15,loop:!0,speed:30}}}),F.loadSprite("motobug","graphics/motobug.png",{sliceX:5,sliceY:1,anims:{run:{from:0,to:4,loop:!0,speed:8}}}),F.loadFont("mania","fonts/mania.ttf"),F.loadSound("destroy","sounds/Destroy.wav"),F.loadSound("hurt","sounds/Hurt.wav"),F.loadSound("hyper-ring","sounds/HyperRing.wav"),F.loadSound("jump","sounds/Jump.wav"),F.loadSound("ring","sounds/Ring.wav"),F.loadSound("city","sounds/city.mp3"),F.scene("disclaimer",PA),F.scene("main-menu",TA),F.scene("game",NA),F.scene("gameover",BA),F.go("disclaimer"),()=>{F&&typeof F.destroy=="function"&&F.destroy()}),[]),N.jsx("div",{children:N.jsx("div",{id:"game1"})})}const sm=[{id:"game1",name:"Infinite Runner",thumbnail:"game1.jpg",component:j0},{id:"game2",name:"Word Hunt Puzzle",thumbnail:"game2.jpg",component:()=>N.jsx("div",{children:"Word Hunt Placeholder"})},{id:"game3",name:"Tower Builder",thumbnail:"game3.jpg",component:()=>N.jsx("div",{children:"Tower Builder Placeholder"})},{id:"game4",name:"Clicker Game",thumbnail:"game4.jpg",component:()=>N.jsx("div",{children:"Clicker Game Placeholder"})},{id:"game5",name:"Memory Flip Game",thumbnail:"game5.jpg",component:()=>N.jsx("div",{children:"Memory Flip Game Placeholder"})},{id:"game6",name:"Quiz Battle",thumbnail:"game6.jpg",component:()=>N.jsx("div",{children:"Quiz Battle Placeholder"})},{id:"game7",name:"Maze Escape",thumbnail:"game7.jpg",component:()=>N.jsx("div",{children:"Maze Escape Placeholder"})},{id:"game8",name:"Bubble Pop",thumbnail:"game8.jpg",component:()=>N.jsx("div",{children:"Bubble Pop Placeholder"})},{id:"game9",name:"Match-3 Game",thumbnail:"game9.jpg",component:()=>N.jsx("div",{children:"Match-3 Game Placeholder"})},{id:"game10",name:"Quick Reaction Game",thumbnail:"game10.jpg",component:()=>N.jsx("div",{children:"Quick Reaction Game Placeholder"})},{id:"game11",name:"Shape Fitter Game",thumbnail:"game11.jpg",component:()=>N.jsx("div",{children:"Shape Fitter Game Placeholder"})},{id:"game12",name:"Fishing Game",thumbnail:"game12.jpg",component:()=>N.jsx("div",{children:"Fishing Game Placeholder"})},{id:"game13",name:"Dodging Game",thumbnail:"game13.jpg",component:()=>N.jsx("div",{children:"Dodging Game Placeholder"})},{id:"game14",name:"Typing Speed Challenge",thumbnail:"game14.jpg",component:()=>N.jsx("div",{children:"Typing Speed Challenge Placeholder"})},{id:"game15",name:"Digital Board Game",thumbnail:"game15.jpg",component:()=>N.jsx("div",{children:"Digital Board Game Placeholder"})},{id:"game16",name:"Stack the Cards",thumbnail:"game16.jpg",component:()=>N.jsx("div",{children:"Stack the Cards Placeholder"})},{id:"game17",name:"Balloon Shooter",thumbnail:"game17.jpg",component:()=>N.jsx("div",{children:"Balloon Shooter Placeholder"})},{id:"game18",name:"Guess the Drawing",thumbnail:"game18.jpg",component:()=>N.jsx("div",{children:"Guess the Drawing Placeholder"})},{id:"game19",name:"Spot the Difference",thumbnail:"game19.jpg",component:()=>N.jsx("div",{children:"Spot the Difference Placeholder"})},{id:"game20",name:"Mini Golf Challenge",thumbnail:"game20.jpg",component:()=>N.jsx("div",{children:"Mini Golf Challenge Placeholder"})}],FA=()=>N.jsx("div",{children:N.jsxs(wm,{children:[N.jsx(Qe,{path:"/",element:N.jsx("div",{className:tl.gameGrid,children:sm.map(r=>N.jsxs(ns,{to:`/${r.id}`,className:tl.gameCard,children:[N.jsx("div",{className:tl.thumbnail,children:N.jsx("img",{src:r.thumbnail,alt:r.name})}),N.jsx("h3",{className:tl.gameTitle,children:r.name})]},r.id))})}),sm.map(r=>N.jsx(Qe,{path:`/${r.id}`,element:N.jsx(r.component,{})},r.id))]})}),DA=()=>{const r=[{player:"Alice",score:120},{player:"Bob",score:100},{player:"Charlie",score:80}];return N.jsxs("div",{className:"leaderboard-container",children:[N.jsx("h2",{className:"leaderboard-title",children:"Leaderboard"}),N.jsxs("table",{className:"leaderboard-table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Player"}),N.jsx("th",{children:"Score"})]})}),N.jsx("tbody",{children:r.map((t,i)=>N.jsxs("tr",{children:[N.jsx("td",{children:t.player}),N.jsx("td",{children:t.score})]},i))})]})]})},jA="_container_1gg2k_25",OA="_puzzle_1gg2k_55",LA="_cell_1gg2k_73",qA="_selected_1gg2k_117",_A="_found_1gg2k_127",zA="_button_1gg2k_137",UA="_words_1gg2k_175",HA="_word_1gg2k_175",nn={container:jA,puzzle:OA,cell:LA,selected:qA,found:_A,button:zA,words:UA,word:HA},GA="/assets/wordbg-Chx1hckz.jpg",VA="/assets/bell-wz0UrQrh.mp3",WA="/assets/right_high-DHwCaLWa.mp3",QA="/assets/drag-B2XV2y2-.mp3",KA="/assets/fail-D-bMcevp.mp3",YA="/assets/succes-D0ZaF_zX.mp3",Nr=7,Xi=[{name:"Fruits",words:["APPLE","MANGO","ORANGE","BANANA","GRAPES","CHERRY","PAPAYA"]},{name:"Places",words:["LONDON","PARIS","TOKYO","SYDNEY","DELHI","ROME","CAIRO"]},{name:"Foods",words:["PIZZA","BURGER","FRIES","SALAD","DONUT","SUSHI","STEAK"]}],XA=()=>{const[r,t]=q.useState([]),[i,o]=q.useState([]),[a,u]=q.useState(new Set),[d,g]=q.useState(!1),[f,p]=q.useState([]),[v,k]=q.useState(0),[y,E]=q.useState(!1);q.useEffect(()=>{T(v),A("welcome")},[v]);const A=z=>{let $;switch(z){case"drag":$=new Audio(VA);break;case"correct":$=new Audio(WA);break;case"wrong":$=new Audio(KA);break;case"welcome":$=new Audio(YA);break;case"success":$=new Audio(QA);break;default:$=null}$&&$.play().catch(()=>{})},T=z=>{const $=Xi[z].words;let ee=Array(Nr).fill().map(()=>Array(Nr).fill(""));p([]),u(new Set);for(const ie of $)S(ie,ee);ee=I(ee),t(ee)},S=(z,$)=>{const ee=[[0,1],[1,0],[1,1],[-1,1],[0,-1],[-1,0],[-1,-1],[1,-1]];for(let ie=0;ie<150;ie++){const de=ee[Math.floor(Math.random()*ee.length)],[we,ue]=[Math.floor(Math.random()*Nr),Math.floor(Math.random()*Nr)];if(C(z,we,ue,de,$))return _(z,we,ue,de,$),!0}return!1},C=(z,$,ee,[ie,de],we)=>{if($+ie*(z.length-1)<0||$+ie*(z.length-1)>=Nr||ee+de*(z.length-1)<0||ee+de*(z.length-1)>=Nr)return!1;for(let ue=0;ue<z.length;ue++){const he=$+ie*ue,te=ee+de*ue;if(we[te][he]!==""&&we[te][he]!==z[ue])return!1}return!0},_=(z,$,ee,[ie,de],we)=>{for(let ue=0;ue<z.length;ue++){const he=$+ie*ue,te=ee+de*ue;we[te][he]=z[ue]}},I=z=>{const $="ABCDEFGHI";for(let ee=0;ee<Nr;ee++)for(let ie=0;ie<Nr;ie++)z[ee][ie]===""&&(z[ee][ie]=$[Math.floor(Math.random()*$.length)]);return z},L=z=>{g(!0);const $=parseInt(z.target.dataset.x),ee=parseInt(z.target.dataset.y);o([{x:$,y:ee}]),A("drag")},U=z=>{if(!d)return;const $=parseInt(z.target.dataset.x),ee=parseInt(z.target.dataset.y);if(i.some(de=>de.x===$&&de.y===ee))return;const ie=i[i.length-1];Math.abs($-ie.x)<=1&&Math.abs(ee-ie.y)<=1&&(o(de=>[...de,{x:$,y:ee}]),A("drag"))},M=()=>{if(!d)return;g(!1);const z=i.map(ie=>r[ie.y][ie.x]).join(""),$=z.split("").reverse().join(""),ee=Xi[v].words;if(ee.includes(z)||ee.includes($)){const ie=ee.includes(z)?z:$;P(ie),p(de=>[...de,...i]),A("correct")}else A("wrong");o([]),D()},P=z=>{u($=>new Set($.add(z)))},D=()=>{const z=Xi[v].words;a.size+1>=z.length&&(A("success"),v<Xi.length-1?k(v+1):E(!0))},X=()=>{T(v)};return y?N.jsxs("div",{className:nn.container,children:[N.jsx("h1",{className:nn.title,children:"You Completed All 3 Levels!"}),N.jsx("p",{className:nn.congrats,children:"Great job finding all the words, including “CHERRY” and “GRAPES”!"})]}):N.jsxs("div",{className:nn.container,onMouseUp:M,children:[N.jsx("div",{style:{backgroundImage:`url(${GA})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-1}}),N.jsxs("h1",{className:nn.title,children:["Level ",v+1," - ",Xi[v].name]}),N.jsx("button",{className:nn.button,onClick:X,children:"New Puzzle (Same Level)"}),N.jsx("div",{className:nn.puzzle,children:r.map((z,$)=>z.map((ee,ie)=>{const de=i.some(ue=>ue.x===ie&&ue.y===$),we=f.some(ue=>ue.x===ie&&ue.y===$);return N.jsx("div",{className:`${nn.cell} ${de?nn.selected:""} ${we?nn.found:""}`,"data-x":ie,"data-y":$,onMouseDown:L,onMouseOver:U,children:ee},`${ie}-${$}`)}))}),N.jsx("div",{className:nn.words,children:Xi[v].words.map(z=>N.jsx("div",{className:`${nn.word} ${a.has(z)?nn.found:""}`,children:z},z))})]})};function $A(){return N.jsx("div",{style:{textAlign:"center"},children:N.jsx("iframe",{title:"My JavaScript Game",src:"/games/tower_game/tower.html",style:{width:"100%",height:"100vh",border:"none"}})})}const JA="_gameContainer_ns8nx_1",ZA="_petContainer_ns8nx_17",e2="_pet_ns8nx_17",t2="_upgradeBtn_ns8nx_61",il={gameContainer:JA,petContainer:ZA,pet:e2,upgradeBtn:t2},n2="/assets/point-Bv41BI2A.mp3",r2=()=>{const[r,t]=q.useState(1),[i,o]=q.useState(0),[a,u]=q.useState(1),[d,g]=q.useState(5),f=q.useRef(null);q.useEffect(()=>{f.current=new Audio(n2)},[]);const p=()=>{f.current&&(f.current.currentTime=0,f.current.play()),o(k=>k+1),t(k=>k+.1)},v=()=>{i>=d?(o(k=>k-d),u(k=>k+1),g(Math.round(d*1.8))):alert("You don't have enough clicks for upgrade!")};return q.useEffect(()=>{r>=a*10&&(t(1),u(k=>k+1))},[r,a]),N.jsxs("div",{className:il.gameContainer,children:[N.jsx("h1",{children:"Digital Pet Clicker"}),N.jsxs("div",{className:il.petContainer,children:[N.jsxs("h2",{children:["Level: ",a]}),N.jsx("div",{className:il.pet,style:{width:`${r}em`,height:`${r}em`},onClick:p,children:N.jsx("span",{children:"🐶"})})]}),N.jsxs("p",{children:["Clicks: ",i]}),N.jsx("div",{children:N.jsxs("button",{className:il.upgradeBtn,onClick:v,children:["Upgrade (Cost: ",d," clicks)"]})})]})},i2="_gameContainer_3mbyu_1",s2="_scoreContainer_3mbyu_11",o2="_cardsContainer_3mbyu_23",a2="_card_3mbyu_23",l2="_flipped_3mbyu_65",u2="_cardInner_3mbyu_73",c2="_cardFront_3mbyu_93",d2="_cardBack_3mbyu_93",f2="_matched_3mbyu_129",h2="_successModal_3mbyu_177",p2="_successContent_3mbyu_203",m2="_flyIconsContainer_3mbyu_269",g2="_flyIcon_3mbyu_269",kt={gameContainer:i2,scoreContainer:s2,cardsContainer:o2,card:a2,flipped:l2,cardInner:u2,cardFront:c2,cardBack:d2,matched:f2,successModal:h2,successContent:p2,flyIconsContainer:m2,flyIcon:g2},y2="/assets/cheer-fB-8dlZ9.mp3",v2="/assets/right_med-ZlBkOsbh.mp3",w2="/assets/succes-D0ZaF_zX.mp3",sl=["😀","😂","😍","😎","🤯","😴","😈","👽"],x2=()=>{const[r,t]=q.useState([]),[i,o]=q.useState([]),[a,u]=q.useState([]),[d,g]=q.useState(0),[f,p]=q.useState(0),[v,k]=q.useState(!1),[y,E]=q.useState(!1),[A,T]=q.useState(0);q.useEffect(()=>{const L=[...sl,...sl].sort(()=>Math.random()-.5).map((U,M)=>({id:M,emoji:U,isFlipped:!1,isMatched:!1}));t(L),k(!0)},[]),q.useEffect(()=>{let I;return v&&(I=setInterval(()=>{p(L=>L+1)},1e3)),()=>clearInterval(I)},[v]),q.useEffect(()=>{a.length===r.length&&r.length!==0&&(k(!1),E(!0),S("gameComplete"))},[a,r]);const S=I=>{let L;I==="cardFlip"?L=new Audio(w2):I==="matchFound"?L=new Audio(v2):I==="gameComplete"&&(L=new Audio(y2)),L&&L.play().catch(()=>{})},C=I=>{if(y||i.length===2||I.isFlipped||I.isMatched)return;const L=r.map(U=>U.id===I.id?{...U,isFlipped:!0}:U);t(L),o([...i,I]),g(U=>U+1),S("cardFlip")};q.useEffect(()=>{if(i.length===2){const[I,L]=i;I.emoji===L.emoji?setTimeout(()=>{u(U=>[...U,I,L]),o([]),T(U=>U+10),S("matchFound")},500):setTimeout(()=>{const U=r.map(M=>i.some(P=>P.id===M.id)?{...M,isFlipped:!1}:M);t(U),o([]),S("wrongMatch")},1e3)}},[i,r]);const _=()=>{const L=[...sl,...sl].sort(()=>Math.random()-.5).map((U,M)=>({id:M,emoji:U,isFlipped:!1,isMatched:!1}));t(L),o([]),u([]),g(0),p(0),k(!0),E(!1),T(0)};return N.jsxs("div",{className:kt.gameContainer,children:[N.jsx("h1",{children:"Emoji Memory Game"}),N.jsxs("div",{className:kt.scoreContainer,children:[N.jsxs("p",{children:["Moves: ",d]}),N.jsxs("p",{children:["Score: ",A]})]}),N.jsxs("div",{children:["Time: ",f," sec"]}),y&&N.jsx("div",{className:kt.successModal,children:N.jsxs("div",{className:kt.successContent,children:[N.jsx("h2",{children:"You Won!"}),N.jsxs("p",{children:["Time taken: ",f," sec"]}),N.jsxs("p",{children:["Score: ",A]}),N.jsxs("div",{className:kt.flyIconsContainer,children:[N.jsx("div",{className:kt.flyIcon,children:"🎈"}),N.jsx("div",{className:kt.flyIcon,children:"🎉"}),N.jsx("div",{className:kt.flyIcon,children:"✨"}),N.jsx("div",{className:kt.flyIcon,children:"🎊"}),N.jsx("div",{className:kt.flyIcon,children:"🎈"})]}),N.jsx("button",{onClick:_,children:"Play Again"})]})}),!y&&N.jsx("div",{className:kt.cardsContainer,children:r.map(I=>N.jsx("div",{className:`${kt.card} ${I.isFlipped?kt.flipped:""} ${I.isMatched?kt.matched:""}`,onClick:()=>C(I),children:N.jsxs("div",{className:kt.cardInner,children:[N.jsx("div",{className:kt.cardFront,children:I.isFlipped||I.isMatched?I.emoji:""}),N.jsx("div",{className:kt.cardBack,children:"❓"})]})},I.id))})]})},A2="_gameContainer_4h4ly_1",S2="_gameOverContainer_4h4ly_17",E2="_quizContainer_4h4ly_55",k2="_optionsContainer_4h4ly_75",C2="_optionBtn_4h4ly_91",M2="_correct_4h4ly_123",R2="_incorrect_4h4ly_131",hi={gameContainer:A2,gameOverContainer:S2,quizContainer:E2,optionsContainer:k2,optionBtn:C2,correct:M2,incorrect:R2},P2="/assets/right_high-DHwCaLWa.mp3",T2="/assets/neg-BBt6lRwL.mp3",I2="/assets/theme-Dh-IaIkE.mp3",$i=[{question:"What is the capital of France?",options:["Berlin","Paris","Madrid","Rome"],correctAnswer:"Paris"},{question:"What is the largest planet in our solar system?",options:["Mars","Earth","Jupiter","Saturn"],correctAnswer:"Jupiter"},{question:"Who painted the Mona Lisa?",options:["Vincent van Gogh","Pablo Picasso","Leonardo da Vinci","Michelangelo"],correctAnswer:"Leonardo da Vinci"},{question:"What is the chemical symbol for water?",options:["H2O","CO2","NaCl","O2"],correctAnswer:"H2O"},{question:"Which country is known as the Land of the Rising Sun?",options:["China","South Korea","Japan","Vietnam"],correctAnswer:"Japan"}],b2=()=>{var U;const[r,t]=q.useState(0),[i,o]=q.useState(""),[a,u]=q.useState(0),[d,g]=q.useState(10),[f,p]=q.useState(!1),[v,k]=q.useState(!1),[y,E]=q.useState(!1),A=q.useRef(null),T=q.useRef(null),S=q.useRef(null);q.useEffect(()=>{A.current=new Audio(P2),T.current=new Audio(T2),S.current=new Audio(I2)},[]),q.useEffect(()=>{let M;return f&&(d===0&&_(),M=setInterval(()=>{g(P=>P-1)},1e3)),()=>clearInterval(M)},[f,d]),q.useEffect(()=>{r>=$i.length&&(p(!1),k(!0))},[r]),q.useEffect(()=>{v&&S.current.play()},[v]);const C=M=>{v||(o(M),p(!1),M===$i[r].correctAnswer?(u(P=>P+1),E(!0),A.current.play()):(E(!1),T.current.play()),setTimeout(()=>{_()},1500))},_=()=>{v||(g(10),o(""),E(!1),r<$i.length&&(t(r+1),p(!0)))},I=()=>{t(0),o(""),u(0),g(10),p(!0),k(!1)},L=$i[r];return N.jsxs("div",{className:hi.gameContainer,children:[N.jsx("h1",{children:"Quiz Battle"}),v?N.jsxs("div",{className:hi.gameOverContainer,children:[N.jsx("h2",{children:"Game Over"}),N.jsxs("p",{children:["Your Score: ",a," / ",$i.length]}),N.jsx("button",{onClick:I,children:"Play Again"})]}):N.jsxs("div",{className:hi.quizContainer,children:[N.jsx("h2",{children:L==null?void 0:L.question}),N.jsx("div",{className:hi.optionsContainer,children:(U=L==null?void 0:L.options)==null?void 0:U.map(M=>N.jsx("button",{className:`${hi.optionBtn} ${i===M?y?hi.correct:hi.incorrect:""}`,onClick:()=>C(M),disabled:i!=="",children:M},M))}),N.jsxs("p",{children:["Time left: ",d," sec"]}),N.jsxs("p",{children:["Score: ",a," / ",$i.length]})]})]})};function N2(){return N.jsx("div",{style:{textAlign:"center"},children:N.jsx("iframe",{title:"My JavaScript Game",src:"/games/maze-escape/index.html",style:{width:"100%",height:"100vh",border:"none"}})})}function B2(){return N.jsx("div",{style:{textAlign:"center"},children:N.jsx("iframe",{title:"My JavaScript Game",src:"/games/BubblePops/pop.html",style:{width:"100%",height:"100vh",border:"none"}})})}const F2="_gameContainer_1x8m0_1",D2="_board_1x8m0_17",j2="_emoji_1x8m0_37",O2="_sparkle_1x8m0_73",L2="_button_1x8m0_99",Ao={gameContainer:F2,board:D2,emoji:j2,sparkle:O2,button:L2},q2="/assets/right_med-ZlBkOsbh.mp3",_2="/assets/negative-CYQBJcD1.mp3",z2="/assets/succes-D0ZaF_zX.mp3",Pl=["😀","😂","😍","😎","🤯","😴","😈","👽","👻","💖"],ko=8,Co=8,om=()=>{const r=[];for(let t=0;t<ko;t++){r[t]=[];for(let i=0;i<Co;i++)r[t][i]={type:Pl[Math.floor(Math.random()*Pl.length)],sparkle:!1}}return r},U2=()=>{const[r,t]=q.useState(om()),[i,o]=q.useState(0),a=q.useRef(null),u=q.useRef(null),d=q.useRef(null),g=q.useRef(null),f=q.useRef(null);q.useEffect(()=>{d.current=new Audio(q2),g.current=new Audio(_2),f.current=new Audio(z2)},[]),q.useEffect(()=>{T()},[r]),q.useEffect(()=>{i>=10&&f.current.play()},[i]);const p=(L,U,M)=>{u.current={row:U,col:M},L.dataTransfer.setData("emoji",JSON.stringify({row:U,col:M}))},v=(L,U,M)=>{L.preventDefault();const P=JSON.parse(L.dataTransfer.getData("emoji"));A(P.row,P.col,U,M),u.current=null},k=L=>{L.preventDefault()},y=L=>L.map(U=>U.map(M=>({...M}))),E=(L,U,M)=>{const P=M[L][U];if(!P||!P.type)return!1;let D=1,X=U-1;for(;X>=0&&M[L][X].type===P.type;)D++,X--;let z=U+1;for(;z<Co&&M[L][z].type===P.type;)D++,z++;if(D>=3)return!0;D=1;let $=L-1;for(;$>=0&&M[$][U].type===P.type;)D++,$--;let ee=L+1;for(;ee<ko&&M[ee][U].type===P.type;)D++,ee++;return D>=3},A=(L,U,M,P)=>{if(L===M&&U===P)return;const D=y(r),X=D[L][U];D[L][U]=D[M][P],D[M][P]=X,E(L,U,D)||E(M,P,D)?t(D):(g.current.play(),t(r))},T=()=>{let L=y(r),U=!1;for(let M=0;M<ko;M++)for(let P=0;P<Co;P++){const D=S(M,P,L),X=C(M,P,L);D.length>=3&&(D.forEach(z=>{L[z.row][z.col].type=null,L[z.row][z.col].sparkle=!0}),U=!0),X.length>=3&&(X.forEach(z=>{L[z.row][z.col].type=null,L[z.row][z.col].sparkle=!0}),U=!0)}if(U){d.current.play(),o(P=>P+1);const M=_(L);t(M)}},S=(L,U,M)=>{var X,z,$,ee;const P=(z=(X=M[L])==null?void 0:X[U])==null?void 0:z.type;if(!P)return[];const D=[];for(let ie=U;ie<Co&&((ee=($=M[L])==null?void 0:$[ie])==null?void 0:ee.type)===P;ie++)D.push({row:L,col:ie});return D},C=(L,U,M)=>{var X,z,$,ee;const P=(z=(X=M[L])==null?void 0:X[U])==null?void 0:z.type;if(!P)return[];const D=[];for(let ie=L;ie<ko&&((ee=($=M[ie])==null?void 0:$[U])==null?void 0:ee.type)===P;ie++)D.push({row:ie,col:U});return D},_=L=>{const U=y(L);for(let M=0;M<Co;M++)for(let P=ko-1;P>=0;P--)if(U[P][M].type===null){for(let D=P-1;D>=0;D--)if(U[D][M].type!==null){U[P][M]={...U[D][M]},U[D][M]={type:null,sparkle:!1};break}U[P][M].type===null&&(U[P][M]={type:Pl[Math.floor(Math.random()*Pl.length)],sparkle:!1})}return U},I=()=>{t(om()),o(0)};return N.jsxs("div",{className:Ao.gameContainer,children:[N.jsx("h1",{children:"Match 3 Game"}),N.jsxs("p",{children:["Score: ",i]}),N.jsx("div",{ref:a,className:Ao.board,children:r.map((L,U)=>L.map((M,P)=>N.jsx("div",{className:`${Ao.emoji} ${M.sparkle?Ao.sparkle:""}`,draggable:"true",onDragStart:D=>p(D,U,P),onDrop:D=>v(D,U,P),onDragOver:k,style:{opacity:M.type==null?.1:1},children:M.type},`${U}-${P}`)))}),N.jsx("button",{onClick:I,className:Ao.button,children:"Reset Game"})]})};function H2(){return N.jsx("div",{style:{textAlign:"center"},children:N.jsx("iframe",{title:"My JavaScript Game",src:"/games/QuickReaction/quick.html",style:{width:"100%",height:"100vh",border:"none"}})})}const G2="_game_13s3d_1",V2="_gameBoard_13s3d_29",W2="_square_13s3d_43",Q2="_gameInfo_13s3d_77",ol={game:G2,gameBoard:V2,square:W2,gameInfo:Q2},K2="/assets/high-CeQ3nJzL.mp3",Y2="/assets/low-B-NS1GAi.mp3",X2=()=>{const[r,t]=q.useState(Array(9).fill(null)),[i,o]=q.useState(!0),[a,u]=q.useState(null),d=q.useRef(new Audio(K2)),g=q.useRef(new Audio(Y2));q.useEffect(()=>{const E=(A=>{const T=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let S=0;S<T.length;S++){const[C,_,I]=T[S];if(A[C]&&A[C]===A[_]&&A[C]===A[I])return A[C]}return null})(r);u(E)},[r]);const f=y=>{if(a||r[y])return;const E=[...r];E[y]=i?"X":"O",t(E),i?d.current.play():g.current.play(),o(!i)},p=y=>N.jsx("button",{className:ol.square,onClick:()=>f(y),children:r[y]}),v=()=>{t(Array(9).fill(null)),o(!0),u(null)};let k;return a?k=`Winner: ${a}`:r.every(y=>y!==null)?k="It's a draw!":k=`Next player: ${i?"X":"O"}`,N.jsxs("div",{className:ol.game,children:[N.jsx("h1",{className:"heading-tic",children:"Tic Tok Game"}),N.jsx("div",{className:ol.gameBoard,children:Array(9).fill().map((y,E)=>p(E))}),N.jsxs("div",{className:ol.gameInfo,children:[N.jsx("div",{children:k}),a||r.every(y=>y!==null)?N.jsx("button",{onClick:v,children:"Play Again"}):null]})]})};function $2(){return N.jsx("div",{style:{textAlign:"center"},children:N.jsx("iframe",{title:"My JavaScript Game",src:"/games/gone-fishing/fish.html",style:{width:"100%",height:"100vh",border:"none"}})})}function J2(){return N.jsx("div",{style:{textAlign:"center"},children:N.jsx("iframe",{title:"My JavaScript Game",src:"/games/DodgingGame/dodging.html",style:{width:"100%",height:"100vh",border:"none"}})})}const Z2="_gameContainer_neecz_3",eS="_title_neecz_29",tS="_score_neecz_43",nS="_challengeContainer_neecz_55",rS="_challengeText_neecz_77",iS="_code_neecz_87",sS="_input_neecz_105",oS="_typingSpeed_neecz_137",aS="_gameOverContainer_neecz_149",lS="_gameOverTitle_neecz_169",uS="_gameOverText_neecz_179",cS="_button_neecz_191",vn={gameContainer:Z2,title:eS,score:tS,challengeContainer:nS,challengeText:rS,code:iS,input:sS,typingSpeed:oS,gameOverContainer:aS,gameOverTitle:lS,gameOverText:uS,button:cS},dS="/assets/type-D6IFHkCI.mp3",jc=()=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let i=0;i<10;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t},fS=()=>{const[r,t]=q.useState(jc()),[i,o]=q.useState(""),[a,u]=q.useState(null),[d,g]=q.useState(null),[f,p]=q.useState(0),[v,k]=q.useState(!1),y=q.useRef(null),E=q.useRef(null);q.useEffect(()=>{E.current=new Audio(dS)},[]),q.useEffect(()=>{v?y.current.disabled=!0:y.current.disabled=!1},[v]);const A=C=>{const _=C.target.value;o(_),a||u(performance.now()),E.current&&(E.current.currentTime=0,E.current.play()),_===r&&T()},T=()=>{if(a){const _=(performance.now()-a)/1e3,I=Math.round(r.length/5/_*60);g(I),p(L=>L+1),t(jc()),o(""),u(null)}},S=()=>{k(!1),t(jc()),o(""),g(null),p(0),u(null)};return q.useEffect(()=>{f>=20&&k(!0)},[f]),N.jsxs("div",{className:vn.gameContainer,children:[N.jsx("h1",{className:vn.title,children:"Space Repair Typing Challenge"}),N.jsxs("p",{className:vn.score,children:["Score: ",f]}),N.jsxs("div",{className:vn.challengeContainer,children:[N.jsxs("p",{className:vn.challengeText,children:["Type this code:"," ",N.jsx("span",{className:vn.code,children:r})]}),N.jsx("input",{ref:y,type:"text",className:vn.input,value:i,onChange:A,placeholder:"Type here to repair..."}),d!==null&&N.jsxs("p",{className:vn.typingSpeed,children:["Typing Speed: ",d," words/min"]})]}),v&&N.jsxs("div",{className:vn.gameOverContainer,children:[N.jsx("h2",{className:vn.gameOverTitle,children:"Mission Success!"}),N.jsx("p",{className:vn.gameOverText,children:"Time to go back to base!"}),N.jsx("button",{onClick:S,className:vn.button,children:"Restart Mission"})]})]})};function hS(){return N.jsx("div",{style:{textAlign:"center"},children:N.jsx("iframe",{title:"My JavaScript Game",src:"/games/DigitalBoardGame/Board.html",style:{width:"100%",height:"100vh",border:"none"}})})}function pS(){return N.jsx("div",{style:{textAlign:"center"},children:N.jsx("iframe",{title:"My JavaScript Game",src:"/games/StackCards/stack.html",style:{width:"100%",height:"100vh",border:"none"}})})}function mS(){return N.jsx("div",{style:{textAlign:"center"},children:N.jsx("iframe",{title:"My JavaScript Game",src:"/games/bubble-shooter-game/bubble.html",style:{width:"100%",height:"100vh",border:"none"}})})}const gS="_entorno_1pj9p_1",yS="_fondo_1pj9p_11",al={entorno:gS,fondo:yS},vS="/assets/media_win-D4F5D_Qr.mp3",wS="/assets/1-O3YtiZkF.png",xS="/assets/2-DoJaGZJ8.png",AS="/assets/3-D078NseF.png",SS="/assets/4-yxKMMRSB.png",ES="/assets/5-B-qaNmMA.png",kS="/assets/6-CZC93Yp5.png",CS="/assets/7-CWjCtQUp.png",MS="/assets/8-DEu4UPVu.png",RS="/assets/9-Bu2ggcIQ.png",PS=()=>{const[r,t]=q.useState([{id:0,x:0,y:0,width:134,height:163,imageUrl:wS},{id:1,x:0,y:0,width:192,height:134,imageUrl:xS},{id:2,x:0,y:0,width:134,height:163,imageUrl:AS},{id:3,x:0,y:0,width:163,height:134,imageUrl:SS},{id:4,x:0,y:0,width:134,height:192,imageUrl:ES},{id:5,x:0,y:0,width:163,height:134,imageUrl:kS},{id:6,x:0,y:0,width:134,height:163,imageUrl:CS},{id:7,x:0,y:0,width:192,height:134,imageUrl:MS},{id:8,x:0,y:0,width:134,height:163,imageUrl:RS}]),[i,o]=q.useState(null),[a,u]=q.useState(0),[d,g]=q.useState(0),[f,p]=q.useState(!1),v=q.useRef(null),k=200,y=q.useRef([{x:200+k,y:100},{x:304+k,y:100},{x:466+k,y:100},{x:200+k,y:233},{x:333+k,y:204},{x:437+k,y:233},{x:200+k,y:337},{x:304+k,y:366},{x:466+k,y:337}]).current;q.useEffect(()=>{t(I=>I.map(L=>({...L,x:Math.floor(Math.random()*10)+1,y:Math.floor(Math.random()*409)+1})))},[]),q.useEffect(()=>{f&&(v.current.play(),p(!1))},[f]);const E=(I,L)=>{o(L),u(I.clientX-L.x),g(I.clientY-L.y)},A=I=>{if(!i)return;const L=I.clientX-a,U=I.clientY-d,M=r.map(P=>P.id===i.id?{...P,x:L,y:U}:P);t(M),S(M,i)},T=()=>{o(null),C()},S=(I,L)=>{const U=I.findIndex(D=>D.id===L.id);if(U===-1)return;const M=I[U],P=y[M.id];if(Math.abs(M.x-P.x)<15&&Math.abs(M.y-P.y)<15){const D=I.map((X,z)=>X.id===L.id?{...X,x:P.x,y:P.y}:X);t(D)}},C=()=>{let I=0;r.forEach(L=>{const U=y[L.id];L.x===U.x&&L.y===U.y&&I++}),I===r.length&&p(!0)},_=I=>{const L=r.filter(U=>U.id!==I.id);t([...L,I])};return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"guess",style:{position:"relative",width:"800px"},children:[N.jsx("h2",{className:"drawing",style:{textAlign:"center",marginRight:"-80%",marginTop:"1%"},children:"Puzzle Game"}),N.jsx("audio",{id:"win",src:vS,ref:v}),N.jsxs("svg",{width:"300",height:"600",id:"entorno",className:al.entorno,onMouseMove:A,onMouseUp:T,style:{overflow:"visible"},children:[N.jsx("g",{id:"fondo",className:al.fondo,children:N.jsx("image",{xlinkHref:"https://raw.githubusercontent.com/NestorPlasencia/pikachu-puzzle/master//pikachu.png",width:"400",height:"400",x:200+k,y:"100"})}),r.map(I=>N.jsx("g",{id:I.id,className:al.padre,onMouseDown:()=>_(I),children:N.jsx("image",{xlinkHref:I.imageUrl,className:al.movil,width:I.width,height:I.height,x:I.x,y:I.y,onMouseDown:L=>E(L,I)})},I.id))]})]})})};function TS(){return N.jsx("div",{style:{textAlign:"center"},children:N.jsx("iframe",{title:"My JavaScript Game",src:"/games/Mini-Golf-Game/golf.html",style:{width:"100%",height:"100vh",border:"none"}})})}function IS(){return N.jsx("div",{style:{textAlign:"center"},children:N.jsx("iframe",{title:"My JavaScript Game",src:"/games/spot-the-difference/spot.html",style:{width:"100%",height:"100vh",border:"none"}})})}const bS="_nav_1iu6d_1",NS="_gameBtn_1iu6d_15",BS="_back_1iu6d_29",FS="_leaderBtn_1iu6d_36",So={nav:bS,gameBtn:NS,back:BS,leaderBtn:FS},DS=()=>N.jsx(Zw,{children:N.jsx(jS,{})}),jS=()=>{const r=Qr(),t=gm(),i=r.pathname!=="/",o=r.pathname==="/game1";return N.jsxs("div",{children:[N.jsxs("nav",{className:So.nav,children:[N.jsx(ns,{to:"/",className:So.gameBtn,children:"Game Hub"}),i&&(r.pathname==="/game1"?N.jsx(ns,{onClick:()=>t("/"),className:So.back,children:"Back"}):N.jsx(ns,{onClick:()=>t(-1),className:So.back,children:"Back"})),N.jsx("div",{className:"flex space-x-4",children:N.jsx(Em,{to:"/leaderboard",className:So.leaderBtn,children:"Leaderboard"})})]}),N.jsxs(wm,{children:[N.jsx(Qe,{path:"/",element:N.jsx(FA,{})}),N.jsx(Qe,{path:"/leaderboard",element:N.jsx(DA,{})}),N.jsx(Qe,{path:"/game1",element:N.jsx(j0,{})}),N.jsx(Qe,{path:"/game2",element:N.jsx(XA,{})}),N.jsx(Qe,{path:"/game3",element:N.jsx($A,{})}),N.jsx(Qe,{path:"/game4",element:N.jsx(r2,{})}),N.jsx(Qe,{path:"/game5",element:N.jsx(x2,{})}),N.jsx(Qe,{path:"/game6",element:N.jsx(b2,{})}),N.jsx(Qe,{path:"/game7",element:N.jsx(N2,{})}),N.jsx(Qe,{path:"/game8",element:N.jsx(B2,{})}),N.jsx(Qe,{path:"/game9",element:N.jsx(U2,{})}),N.jsx(Qe,{path:"/game10",element:N.jsx(H2,{})}),N.jsx(Qe,{path:"/game11",element:N.jsx(X2,{})}),N.jsx(Qe,{path:"/game12",element:N.jsx($2,{})}),N.jsx(Qe,{path:"/game13",element:N.jsx(J2,{})}),N.jsx(Qe,{path:"/game14",element:N.jsx(fS,{})}),N.jsx(Qe,{path:"/game15",element:N.jsx(hS,{})}),N.jsx(Qe,{path:"/game16",element:N.jsx(pS,{})}),N.jsx(Qe,{path:"/game17",element:N.jsx(mS,{})}),N.jsx(Qe,{path:"/game18",element:N.jsx(PS,{})}),N.jsx(Qe,{path:"/game19",element:N.jsx(IS,{})}),N.jsx(Qe,{path:"/game20",element:N.jsx(TS,{})})]}),N.jsx("style",{children:`
          Canvas {
            display: ${o?"block":"none"} !important;
          }
        `})]})};_1.createRoot(document.getElementById("root")).render(N.jsx(q.StrictMode,{children:N.jsx(DS,{})}));
