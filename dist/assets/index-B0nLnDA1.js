var N1=Object.defineProperty;var F1=(r,t,i)=>t in r?N1(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var H=(r,t,i)=>F1(r,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();var Pc={exports:{}},vo={},Tc={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function D1(){if(_p)return Ie;_p=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),M=Symbol.iterator;function y(_){return _===null||typeof _!="object"?null:(_=M&&_[M]||_["@@iterator"],typeof _=="function"?_:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function A(_,G,Ae){this.props=_,this.context=G,this.refs=T,this.updater=Ae||k}A.prototype.isReactComponent={},A.prototype.setState=function(_,G){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,G,"setState")},A.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function C(){}C.prototype=A.prototype;function D(_,G,Ae){this.props=_,this.context=G,this.refs=T,this.updater=Ae||k}var F=D.prototype=new C;F.constructor=D,S(F,A.prototype),F.isPureReactComponent=!0;var q=Array.isArray,b=Object.prototype.hasOwnProperty,E={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(_,G,Ae){var ke,Pe={},Te=null,Be=null;if(G!=null)for(ke in G.ref!==void 0&&(Be=G.ref),G.key!==void 0&&(Te=""+G.key),G)b.call(G,ke)&&!R.hasOwnProperty(ke)&&(Pe[ke]=G[ke]);var Fe=arguments.length-2;if(Fe===1)Pe.children=Ae;else if(1<Fe){for(var _e=Array(Fe),lt=0;lt<Fe;lt++)_e[lt]=arguments[lt+2];Pe.children=_e}if(_&&_.defaultProps)for(ke in Fe=_.defaultProps,Fe)Pe[ke]===void 0&&(Pe[ke]=Fe[ke]);return{$$typeof:r,type:_,key:Te,ref:Be,props:Pe,_owner:E.current}}function K(_,G){return{$$typeof:r,type:_.type,key:G,ref:_.ref,props:_.props,_owner:_._owner}}function Y(_){return typeof _=="object"&&_!==null&&_.$$typeof===r}function J(_){var G={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(Ae){return G[Ae]})}var oe=/\/+/g;function ue(_,G){return typeof _=="object"&&_!==null&&_.key!=null?J(""+_.key):G.toString(36)}function ve(_,G,Ae,ke,Pe){var Te=typeof _;(Te==="undefined"||Te==="boolean")&&(_=null);var Be=!1;if(_===null)Be=!0;else switch(Te){case"string":case"number":Be=!0;break;case"object":switch(_.$$typeof){case r:case t:Be=!0}}if(Be)return Be=_,Pe=Pe(Be),_=ke===""?"."+ue(Be,0):ke,q(Pe)?(Ae="",_!=null&&(Ae=_.replace(oe,"$&/")+"/"),ve(Pe,G,Ae,"",function(lt){return lt})):Pe!=null&&(Y(Pe)&&(Pe=K(Pe,Ae+(!Pe.key||Be&&Be.key===Pe.key?"":(""+Pe.key).replace(oe,"$&/")+"/")+_)),G.push(Pe)),1;if(Be=0,ke=ke===""?".":ke+":",q(_))for(var Fe=0;Fe<_.length;Fe++){Te=_[Fe];var _e=ke+ue(Te,Fe);Be+=ve(Te,G,Ae,_e,Pe)}else if(_e=y(_),typeof _e=="function")for(_=_e.call(_),Fe=0;!(Te=_.next()).done;)Te=Te.value,_e=ke+ue(Te,Fe++),Be+=ve(Te,G,Ae,_e,Pe);else if(Te==="object")throw G=String(_),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Be}function Ce(_,G,Ae){if(_==null)return _;var ke=[],Pe=0;return ve(_,ke,"","",function(Te){return G.call(Ae,Te,Pe++)}),ke}function ge(_){if(_._status===-1){var G=_._result;G=G(),G.then(function(Ae){(_._status===0||_._status===-1)&&(_._status=1,_._result=Ae)},function(Ae){(_._status===0||_._status===-1)&&(_._status=2,_._result=Ae)}),_._status===-1&&(_._status=0,_._result=G)}if(_._status===1)return _._result.default;throw _._result}var he={current:null},te={transition:null},ae={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:te,ReactCurrentOwner:E};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Ce,forEach:function(_,G,Ae){Ce(_,function(){G.apply(this,arguments)},Ae)},count:function(_){var G=0;return Ce(_,function(){G++}),G},toArray:function(_){return Ce(_,function(G){return G})||[]},only:function(_){if(!Y(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Ie.Component=A,Ie.Fragment=i,Ie.Profiler=a,Ie.PureComponent=D,Ie.StrictMode=o,Ie.Suspense=f,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ie.act=re,Ie.cloneElement=function(_,G,Ae){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var ke=S({},_.props),Pe=_.key,Te=_.ref,Be=_._owner;if(G!=null){if(G.ref!==void 0&&(Te=G.ref,Be=E.current),G.key!==void 0&&(Pe=""+G.key),_.type&&_.type.defaultProps)var Fe=_.type.defaultProps;for(_e in G)b.call(G,_e)&&!R.hasOwnProperty(_e)&&(ke[_e]=G[_e]===void 0&&Fe!==void 0?Fe[_e]:G[_e])}var _e=arguments.length-2;if(_e===1)ke.children=Ae;else if(1<_e){Fe=Array(_e);for(var lt=0;lt<_e;lt++)Fe[lt]=arguments[lt+2];ke.children=Fe}return{$$typeof:r,type:_.type,key:Pe,ref:Te,props:ke,_owner:Be}},Ie.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:u,_context:_},_.Consumer=_},Ie.createElement=I,Ie.createFactory=function(_){var G=I.bind(null,_);return G.type=_,G},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(_){return{$$typeof:g,render:_}},Ie.isValidElement=Y,Ie.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:ge}},Ie.memo=function(_,G){return{$$typeof:p,type:_,compare:G===void 0?null:G}},Ie.startTransition=function(_){var G=te.transition;te.transition={};try{_()}finally{te.transition=G}},Ie.unstable_act=re,Ie.useCallback=function(_,G){return he.current.useCallback(_,G)},Ie.useContext=function(_){return he.current.useContext(_)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(_){return he.current.useDeferredValue(_)},Ie.useEffect=function(_,G){return he.current.useEffect(_,G)},Ie.useId=function(){return he.current.useId()},Ie.useImperativeHandle=function(_,G,Ae){return he.current.useImperativeHandle(_,G,Ae)},Ie.useInsertionEffect=function(_,G){return he.current.useInsertionEffect(_,G)},Ie.useLayoutEffect=function(_,G){return he.current.useLayoutEffect(_,G)},Ie.useMemo=function(_,G){return he.current.useMemo(_,G)},Ie.useReducer=function(_,G,Ae){return he.current.useReducer(_,G,Ae)},Ie.useRef=function(_){return he.current.useRef(_)},Ie.useState=function(_){return he.current.useState(_)},Ie.useSyncExternalStore=function(_,G,Ae){return he.current.useSyncExternalStore(_,G,Ae)},Ie.useTransition=function(){return he.current.useTransition()},Ie.version="18.3.1",Ie}var qp;function Jc(){return qp||(qp=1,Tc.exports=D1()),Tc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function b1(){if(zp)return vo;zp=1;var r=Jc(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(g,f,p){var v,M={},y=null,k=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(k=f.ref);for(v in f)o.call(f,v)&&!u.hasOwnProperty(v)&&(M[v]=f[v]);if(g&&g.defaultProps)for(v in f=g.defaultProps,f)M[v]===void 0&&(M[v]=f[v]);return{$$typeof:t,type:g,key:y,ref:k,props:M,_owner:a.current}}return vo.Fragment=i,vo.jsx=d,vo.jsxs=d,vo}var Up;function B1(){return Up||(Up=1,Pc.exports=b1()),Pc.exports}var z=B1(),L=Jc(),Za={},Ic={exports:{}},Gt={},Nc={exports:{}},Fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function j1(){return Hp||(Hp=1,function(r){function t(te,ae){var re=te.length;te.push(ae);e:for(;0<re;){var _=re-1>>>1,G=te[_];if(0<a(G,ae))te[_]=ae,te[re]=G,re=_;else break e}}function i(te){return te.length===0?null:te[0]}function o(te){if(te.length===0)return null;var ae=te[0],re=te.pop();if(re!==ae){te[0]=re;e:for(var _=0,G=te.length,Ae=G>>>1;_<Ae;){var ke=2*(_+1)-1,Pe=te[ke],Te=ke+1,Be=te[Te];if(0>a(Pe,re))Te<G&&0>a(Be,Pe)?(te[_]=Be,te[Te]=re,_=Te):(te[_]=Pe,te[ke]=re,_=ke);else if(Te<G&&0>a(Be,re))te[_]=Be,te[Te]=re,_=Te;else break e}}return ae}function a(te,ae){var re=te.sortIndex-ae.sortIndex;return re!==0?re:te.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var f=[],p=[],v=1,M=null,y=3,k=!1,S=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(te){for(var ae=i(p);ae!==null;){if(ae.callback===null)o(p);else if(ae.startTime<=te)o(p),ae.sortIndex=ae.expirationTime,t(f,ae);else break;ae=i(p)}}function q(te){if(T=!1,F(te),!S)if(i(f)!==null)S=!0,ge(b);else{var ae=i(p);ae!==null&&he(q,ae.startTime-te)}}function b(te,ae){S=!1,T&&(T=!1,C(I),I=-1),k=!0;var re=y;try{for(F(ae),M=i(f);M!==null&&(!(M.expirationTime>ae)||te&&!J());){var _=M.callback;if(typeof _=="function"){M.callback=null,y=M.priorityLevel;var G=_(M.expirationTime<=ae);ae=r.unstable_now(),typeof G=="function"?M.callback=G:M===i(f)&&o(f),F(ae)}else o(f);M=i(f)}if(M!==null)var Ae=!0;else{var ke=i(p);ke!==null&&he(q,ke.startTime-ae),Ae=!1}return Ae}finally{M=null,y=re,k=!1}}var E=!1,R=null,I=-1,K=5,Y=-1;function J(){return!(r.unstable_now()-Y<K)}function oe(){if(R!==null){var te=r.unstable_now();Y=te;var ae=!0;try{ae=R(!0,te)}finally{ae?ue():(E=!1,R=null)}}else E=!1}var ue;if(typeof D=="function")ue=function(){D(oe)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ce=ve.port2;ve.port1.onmessage=oe,ue=function(){Ce.postMessage(null)}}else ue=function(){A(oe,0)};function ge(te){R=te,E||(E=!0,ue())}function he(te,ae){I=A(function(){te(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_continueExecution=function(){S||k||(S=!0,ge(b))},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return i(f)},r.unstable_next=function(te){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var re=y;y=ae;try{return te()}finally{y=re}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(te,ae){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var re=y;y=te;try{return ae()}finally{y=re}},r.unstable_scheduleCallback=function(te,ae,re){var _=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?_+re:_):re=_,te){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=re+G,te={id:v++,callback:ae,priorityLevel:te,startTime:re,expirationTime:G,sortIndex:-1},re>_?(te.sortIndex=re,t(p,te),i(f)===null&&te===i(p)&&(T?(C(I),I=-1):T=!0,he(q,re-_))):(te.sortIndex=G,t(f,te),S||k||(S=!0,ge(b))),te},r.unstable_shouldYield=J,r.unstable_wrapCallback=function(te){var ae=y;return function(){var re=y;y=ae;try{return te.apply(this,arguments)}finally{y=re}}}}(Fc)),Fc}var Vp;function O1(){return Vp||(Vp=1,Nc.exports=j1()),Nc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function L1(){if(Gp)return Gt;Gp=1;var r=Jc(),t=O1();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},M={};function y(e){return f.call(M,e)?!0:f.call(v,e)?!1:p.test(e)?M[e]=!0:(v[e]=!0,!1)}function k(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,n,s,l){if(n===null||typeof n>"u"||k(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function T(e,n,s,l,c,h,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=h,this.removeEmptyString=w}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];A[n]=new T(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(C,D);A[n]=new T(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(C,D);A[n]=new T(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(C,D);A[n]=new T(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function F(e,n,s,l){var c=A.hasOwnProperty(n)?A[n]:null;(c!==null?c.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S(n,s,c,l)&&(s=null),l||c===null?y(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,l=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),J=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),te=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,_;function G(e){if(_===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);_=n&&n[1]||""}return`
`+_+e}var Ae=!1;function ke(e,n){if(!e||Ae)return"";Ae=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var l=W}Reflect.construct(e,[],n)}else{try{n.call()}catch(W){l=W}e.call(n.prototype)}else{try{throw Error()}catch(W){l=W}e()}}catch(W){if(W&&l&&typeof W.stack=="string"){for(var c=W.stack.split(`
`),h=l.stack.split(`
`),w=c.length-1,P=h.length-1;1<=w&&0<=P&&c[w]!==h[P];)P--;for(;1<=w&&0<=P;w--,P--)if(c[w]!==h[P]){if(w!==1||P!==1)do if(w--,P--,0>P||c[w]!==h[P]){var B=`
`+c[w].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=w&&0<=P);break}}}finally{Ae=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?G(e):""}function Pe(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=ke(e.type,!1),e;case 11:return e=ke(e.type.render,!1),e;case 1:return e=ke(e.type,!0),e;default:return""}}function Te(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case E:return"Portal";case K:return"Profiler";case I:return"StrictMode";case ue:return"Suspense";case ve:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J:return(e.displayName||"Context")+".Consumer";case Y:return(e._context.displayName||"Context")+".Provider";case oe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ce:return n=e.displayName||null,n!==null?n:Te(e.type)||"Memo";case ge:n=e._payload,e=e._init;try{return Te(e(n))}catch{}}return null}function Be(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(n);case 8:return n===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _e(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function lt(e){var n=_e(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(w){l=""+w,h.call(this,w)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function It(e){e._valueTracker||(e._valueTracker=lt(e))}function Xr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=_e(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function un(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ye(e,n){var s=n.checked;return re({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Me(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=Fe(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Re(e,n){n=n.checked,n!=null&&F(e,"checked",n,!1)}function qe(e,n){Re(e,n);var s=Fe(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?De(e,n.type,s):n.hasOwnProperty("defaultValue")&&De(e,n.type,Fe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Je(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function De(e,n,s){(n!=="number"||un(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var st=Array.isArray;function Nt(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Fe(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function $r(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return re({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ci(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(i(92));if(st(s)){if(1<s.length)throw Error(i(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Fe(s)}}function Zr(e,n){var s=Fe(n.value),l=Fe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function Jr(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function dr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?dr(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lt,Wn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Lt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function pt(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xn=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(e){xn.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),wn[n]=wn[e]})});function fr(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||wn.hasOwnProperty(e)&&wn[e]?(""+n).trim():n+"px"}function bs(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,c=fr(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,c):e[s]=c}}var Bs=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mi(e,n){if(n){if(Bs[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function Ri(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function ei(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hr=null,Qn=null,Kn=null;function Wo(e){if(e=no(e)){if(typeof hr!="function")throw Error(i(280));var n=e.stateNode;n&&(n=ha(n),hr(e.stateNode,e.type,n))}}function js(e){Qn?Kn?Kn.push(e):Kn=[e]:Qn=e}function Os(){if(Qn){var e=Qn,n=Kn;if(Kn=Qn=null,Wo(e),n)for(e=0;e<n.length;e++)Wo(n[e])}}function N(e,n){return e(n)}function X(){}var Z=!1;function le(e,n,s){if(Z)return e(n,s);Z=!0;try{return N(e,n,s)}finally{Z=!1,(Qn!==null||Kn!==null)&&(X(),Os())}}function Se(e,n){var s=e.stateNode;if(s===null)return null;var l=ha(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var Ue=!1;if(g)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ue=!1}function tt(e,n,s,l,c,h,w,P,B){var W=Array.prototype.slice.call(arguments,3);try{n.apply(s,W)}catch(ne){this.onError(ne)}}var Dt=!1,bt=null,_t=!1,Ql=null,L0={onError:function(e){Dt=!0,bt=e}};function _0(e,n,s,l,c,h,w,P,B){Dt=!1,bt=null,tt.apply(L0,arguments)}function q0(e,n,s,l,c,h,w,P,B){if(_0.apply(this,arguments),Dt){if(Dt){var W=bt;Dt=!1,bt=null}else throw Error(i(198));_t||(_t=!0,Ql=W)}}function ti(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function lf(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function uf(e){if(ti(e)!==e)throw Error(i(188))}function z0(e){var n=e.alternate;if(!n){if(n=ti(e),n===null)throw Error(i(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return uf(c),e;if(h===l)return uf(c),n;h=h.sibling}throw Error(i(188))}if(s.return!==l.return)s=c,l=h;else{for(var w=!1,P=c.child;P;){if(P===s){w=!0,s=c,l=h;break}if(P===l){w=!0,l=c,s=h;break}P=P.sibling}if(!w){for(P=h.child;P;){if(P===s){w=!0,s=h,l=c;break}if(P===l){w=!0,l=h,s=c;break}P=P.sibling}if(!w)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:n}function cf(e){return e=z0(e),e!==null?df(e):null}function df(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=df(e);if(n!==null)return n;e=e.sibling}return null}var ff=t.unstable_scheduleCallback,hf=t.unstable_cancelCallback,U0=t.unstable_shouldYield,H0=t.unstable_requestPaint,ot=t.unstable_now,V0=t.unstable_getCurrentPriorityLevel,Kl=t.unstable_ImmediatePriority,pf=t.unstable_UserBlockingPriority,Qo=t.unstable_NormalPriority,G0=t.unstable_LowPriority,mf=t.unstable_IdlePriority,Ko=null,Fn=null;function W0(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Ko,e,void 0,(e.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:Y0,Q0=Math.log,K0=Math.LN2;function Y0(e){return e>>>=0,e===0?32:31-(Q0(e)/K0|0)|0}var Yo=64,Xo=4194304;function Ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $o(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,c=e.suspendedLanes,h=e.pingedLanes,w=s&268435455;if(w!==0){var P=w&~c;P!==0?l=Ls(P):(h&=w,h!==0&&(l=Ls(h)))}else w=s&~c,w!==0?l=Ls(w):h!==0&&(l=Ls(h));if(l===0)return 0;if(n!==0&&n!==l&&!(n&c)&&(c=l&-l,h=n&-n,c>=h||c===16&&(h&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-An(n),c=1<<s,l|=e[s],n&=~c;return l}function X0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $0(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var w=31-An(h),P=1<<w,B=c[w];B===-1?(!(P&s)||P&l)&&(c[w]=X0(P,n)):B<=n&&(e.expiredLanes|=P),h&=~P}}function Yl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gf(){var e=Yo;return Yo<<=1,!(Yo&4194240)&&(Yo=64),e}function Xl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function _s(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-An(n),e[n]=s}function Z0(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-An(s),h=1<<c;n[c]=0,l[c]=-1,e[c]=-1,s&=~h}}function $l(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-An(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}var ze=0;function yf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vf,Zl,wf,xf,Af,Jl=!1,Zo=[],pr=null,mr=null,gr=null,qs=new Map,zs=new Map,yr=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sf(e,n){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":qs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(n.pointerId)}}function Us(e,n,s,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=no(n),n!==null&&Zl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function ev(e,n,s,l,c){switch(n){case"focusin":return pr=Us(pr,e,n,s,l,c),!0;case"dragenter":return mr=Us(mr,e,n,s,l,c),!0;case"mouseover":return gr=Us(gr,e,n,s,l,c),!0;case"pointerover":var h=c.pointerId;return qs.set(h,Us(qs.get(h)||null,e,n,s,l,c)),!0;case"gotpointercapture":return h=c.pointerId,zs.set(h,Us(zs.get(h)||null,e,n,s,l,c)),!0}return!1}function Ef(e){var n=ni(e.target);if(n!==null){var s=ti(n);if(s!==null){if(n=s.tag,n===13){if(n=lf(s),n!==null){e.blockedOn=n,Af(e.priority,function(){wf(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=tu(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);xt=l,s.target.dispatchEvent(l),xt=null}else return n=no(s),n!==null&&Zl(n),e.blockedOn=s,!1;n.shift()}return!0}function kf(e,n,s){Jo(e)&&s.delete(n)}function tv(){Jl=!1,pr!==null&&Jo(pr)&&(pr=null),mr!==null&&Jo(mr)&&(mr=null),gr!==null&&Jo(gr)&&(gr=null),qs.forEach(kf),zs.forEach(kf)}function Hs(e,n){e.blockedOn===n&&(e.blockedOn=null,Jl||(Jl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tv)))}function Vs(e){function n(c){return Hs(c,e)}if(0<Zo.length){Hs(Zo[0],e);for(var s=1;s<Zo.length;s++){var l=Zo[s];l.blockedOn===e&&(l.blockedOn=null)}}for(pr!==null&&Hs(pr,e),mr!==null&&Hs(mr,e),gr!==null&&Hs(gr,e),qs.forEach(n),zs.forEach(n),s=0;s<yr.length;s++)l=yr[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<yr.length&&(s=yr[0],s.blockedOn===null);)Ef(s),s.blockedOn===null&&yr.shift()}var Pi=q.ReactCurrentBatchConfig,ea=!0;function nv(e,n,s,l){var c=ze,h=Pi.transition;Pi.transition=null;try{ze=1,eu(e,n,s,l)}finally{ze=c,Pi.transition=h}}function rv(e,n,s,l){var c=ze,h=Pi.transition;Pi.transition=null;try{ze=4,eu(e,n,s,l)}finally{ze=c,Pi.transition=h}}function eu(e,n,s,l){if(ea){var c=tu(e,n,s,l);if(c===null)vu(e,n,l,ta,s),Sf(e,l);else if(ev(c,e,n,s,l))l.stopPropagation();else if(Sf(e,l),n&4&&-1<J0.indexOf(e)){for(;c!==null;){var h=no(c);if(h!==null&&vf(h),h=tu(e,n,s,l),h===null&&vu(e,n,l,ta,s),h===c)break;c=h}c!==null&&l.stopPropagation()}else vu(e,n,l,null,s)}}var ta=null;function tu(e,n,s,l){if(ta=null,e=ei(l),e=ni(e),e!==null)if(n=ti(e),n===null)e=null;else if(s=n.tag,s===13){if(e=lf(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ta=e,null}function Cf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V0()){case Kl:return 1;case pf:return 4;case Qo:case G0:return 16;case mf:return 536870912;default:return 16}default:return 16}}var vr=null,nu=null,na=null;function Mf(){if(na)return na;var e,n=nu,s=n.length,l,c="value"in vr?vr.value:vr.textContent,h=c.length;for(e=0;e<s&&n[e]===c[e];e++);var w=s-e;for(l=1;l<=w&&n[s-l]===c[h-l];l++);return na=c.slice(e,1<l?1-l:void 0)}function ra(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ia(){return!0}function Rf(){return!1}function Zt(e){function n(s,l,c,h,w){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=w,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(s=e[P],this[P]=s?s(h):h[P]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ia:Rf,this.isPropagationStopped=Rf,this}return re(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),n}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=Zt(Ti),Gs=re({},Ti,{view:0,detail:0}),iv=Zt(Gs),iu,su,Ws,sa=re({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ws&&(Ws&&e.type==="mousemove"?(iu=e.screenX-Ws.screenX,su=e.screenY-Ws.screenY):su=iu=0,Ws=e),iu)},movementY:function(e){return"movementY"in e?e.movementY:su}}),Pf=Zt(sa),sv=re({},sa,{dataTransfer:0}),ov=Zt(sv),av=re({},Gs,{relatedTarget:0}),ou=Zt(av),lv=re({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),uv=Zt(lv),cv=re({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dv=Zt(cv),fv=re({},Ti,{data:0}),Tf=Zt(fv),hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mv[e])?!!n[e]:!1}function au(){return gv}var yv=re({},Gs,{key:function(e){if(e.key){var n=hv[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ra(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?ra(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ra(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vv=Zt(yv),wv=re({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=Zt(wv),xv=re({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),Av=Zt(xv),Sv=re({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ev=Zt(Sv),kv=re({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=Zt(kv),Mv=[9,13,27,32],lu=g&&"CompositionEvent"in window,Qs=null;g&&"documentMode"in document&&(Qs=document.documentMode);var Rv=g&&"TextEvent"in window&&!Qs,Nf=g&&(!lu||Qs&&8<Qs&&11>=Qs),Ff=" ",Df=!1;function bf(e,n){switch(e){case"keyup":return Mv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function Pv(e,n){switch(e){case"compositionend":return Bf(n);case"keypress":return n.which!==32?null:(Df=!0,Ff);case"textInput":return e=n.data,e===Ff&&Df?null:e;default:return null}}function Tv(e,n){if(Ii)return e==="compositionend"||!lu&&bf(e,n)?(e=Mf(),na=nu=vr=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Nf&&n.locale!=="ko"?null:n.data;default:return null}}var Iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Iv[e.type]:n==="textarea"}function Of(e,n,s,l){js(l),n=ca(n,"onChange"),0<n.length&&(s=new ru("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Ks=null,Ys=null;function Nv(e){th(e,0)}function oa(e){var n=Bi(e);if(Xr(n))return e}function Fv(e,n){if(e==="change")return n}var Lf=!1;if(g){var uu;if(g){var cu="oninput"in document;if(!cu){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),cu=typeof _f.oninput=="function"}uu=cu}else uu=!1;Lf=uu&&(!document.documentMode||9<document.documentMode)}function qf(){Ks&&(Ks.detachEvent("onpropertychange",zf),Ys=Ks=null)}function zf(e){if(e.propertyName==="value"&&oa(Ys)){var n=[];Of(n,Ys,e,ei(e)),le(Nv,n)}}function Dv(e,n,s){e==="focusin"?(qf(),Ks=n,Ys=s,Ks.attachEvent("onpropertychange",zf)):e==="focusout"&&qf()}function bv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oa(Ys)}function Bv(e,n){if(e==="click")return oa(n)}function jv(e,n){if(e==="input"||e==="change")return oa(n)}function Ov(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:Ov;function Xs(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!f.call(n,c)||!Sn(e[c],n[c]))return!1}return!0}function Uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hf(e,n){var s=Uf(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Uf(s)}}function Vf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Gf(){for(var e=window,n=un();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=un(e.document)}return n}function du(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Lv(e){var n=Gf(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Vf(s.ownerDocument.documentElement,s)){if(l!==null&&du(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,h=Math.min(l.start,c);l=l.end===void 0?h:Math.min(l.end,c),!e.extend&&h>l&&(c=l,l=h,h=c),c=Hf(s,h);var w=Hf(s,l);c&&w&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),h>l?(e.addRange(n),e.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _v=g&&"documentMode"in document&&11>=document.documentMode,Ni=null,fu=null,$s=null,hu=!1;function Wf(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hu||Ni==null||Ni!==un(l)||(l=Ni,"selectionStart"in l&&du(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$s&&Xs($s,l)||($s=l,l=ca(fu,"onSelect"),0<l.length&&(n=new ru("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Ni)))}function aa(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Fi={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},pu={},Qf={};g&&(Qf=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function la(e){if(pu[e])return pu[e];if(!Fi[e])return e;var n=Fi[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Qf)return pu[e]=n[s];return e}var Kf=la("animationend"),Yf=la("animationiteration"),Xf=la("animationstart"),$f=la("transitionend"),Zf=new Map,Jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,n){Zf.set(e,n),u(n,[e])}for(var mu=0;mu<Jf.length;mu++){var gu=Jf[mu],qv=gu.toLowerCase(),zv=gu[0].toUpperCase()+gu.slice(1);wr(qv,"on"+zv)}wr(Kf,"onAnimationEnd"),wr(Yf,"onAnimationIteration"),wr(Xf,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr($f,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function eh(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,q0(l,n,void 0,e),e.currentTarget=null}function th(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var w=l.length-1;0<=w;w--){var P=l[w],B=P.instance,W=P.currentTarget;if(P=P.listener,B!==h&&c.isPropagationStopped())break e;eh(c,P,W),h=B}else for(w=0;w<l.length;w++){if(P=l[w],B=P.instance,W=P.currentTarget,P=P.listener,B!==h&&c.isPropagationStopped())break e;eh(c,P,W),h=B}}}if(_t)throw e=Ql,_t=!1,Ql=null,e}function Ge(e,n){var s=n[ku];s===void 0&&(s=n[ku]=new Set);var l=e+"__bubble";s.has(l)||(nh(n,e,2,!1),s.add(l))}function yu(e,n,s){var l=0;n&&(l|=4),nh(s,e,l,n)}var ua="_reactListening"+Math.random().toString(36).slice(2);function Js(e){if(!e[ua]){e[ua]=!0,o.forEach(function(s){s!=="selectionchange"&&(Uv.has(s)||yu(s,!1,e),yu(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ua]||(n[ua]=!0,yu("selectionchange",!1,n))}}function nh(e,n,s,l){switch(Cf(n)){case 1:var c=nv;break;case 4:c=rv;break;default:c=eu}s=c.bind(null,n,s,e),c=void 0,!Ue||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function vu(e,n,s,l,c){var h=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var P=l.stateNode.containerInfo;if(P===c||P.nodeType===8&&P.parentNode===c)break;if(w===4)for(w=l.return;w!==null;){var B=w.tag;if((B===3||B===4)&&(B=w.stateNode.containerInfo,B===c||B.nodeType===8&&B.parentNode===c))return;w=w.return}for(;P!==null;){if(w=ni(P),w===null)return;if(B=w.tag,B===5||B===6){l=h=w;continue e}P=P.parentNode}}l=l.return}le(function(){var W=h,ne=ei(s),ie=[];e:{var ee=Zf.get(e);if(ee!==void 0){var ce=ru,fe=e;switch(e){case"keypress":if(ra(s)===0)break e;case"keydown":case"keyup":ce=vv;break;case"focusin":fe="focus",ce=ou;break;case"focusout":fe="blur",ce=ou;break;case"beforeblur":case"afterblur":ce=ou;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=ov;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Av;break;case Kf:case Yf:case Xf:ce=uv;break;case $f:ce=Ev;break;case"scroll":ce=iv;break;case"wheel":ce=Cv;break;case"copy":case"cut":case"paste":ce=dv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=If}var pe=(n&4)!==0,at=!pe&&e==="scroll",U=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var O=W,V;O!==null;){V=O;var se=V.stateNode;if(V.tag===5&&se!==null&&(V=se,U!==null&&(se=Se(O,U),se!=null&&pe.push(eo(O,se,V)))),at)break;O=O.return}0<pe.length&&(ee=new ce(ee,fe,null,s,ne),ie.push({event:ee,listeners:pe}))}}if(!(n&7)){e:{if(ee=e==="mouseover"||e==="pointerover",ce=e==="mouseout"||e==="pointerout",ee&&s!==xt&&(fe=s.relatedTarget||s.fromElement)&&(ni(fe)||fe[Yn]))break e;if((ce||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(fe=s.relatedTarget||s.toElement,ce=W,fe=fe?ni(fe):null,fe!==null&&(at=ti(fe),fe!==at||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=W),ce!==fe)){if(pe=Pf,se="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pe=If,se="onPointerLeave",U="onPointerEnter",O="pointer"),at=ce==null?ee:Bi(ce),V=fe==null?ee:Bi(fe),ee=new pe(se,O+"leave",ce,s,ne),ee.target=at,ee.relatedTarget=V,se=null,ni(ne)===W&&(pe=new pe(U,O+"enter",fe,s,ne),pe.target=V,pe.relatedTarget=at,se=pe),at=se,ce&&fe)t:{for(pe=ce,U=fe,O=0,V=pe;V;V=Di(V))O++;for(V=0,se=U;se;se=Di(se))V++;for(;0<O-V;)pe=Di(pe),O--;for(;0<V-O;)U=Di(U),V--;for(;O--;){if(pe===U||U!==null&&pe===U.alternate)break t;pe=Di(pe),U=Di(U)}pe=null}else pe=null;ce!==null&&rh(ie,ee,ce,pe,!1),fe!==null&&at!==null&&rh(ie,at,fe,pe,!0)}}e:{if(ee=W?Bi(W):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var me=Fv;else if(jf(ee))if(Lf)me=jv;else{me=bv;var we=Dv}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(me=Bv);if(me&&(me=me(e,W))){Of(ie,me,s,ne);break e}we&&we(e,ee,W),e==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&De(ee,"number",ee.value)}switch(we=W?Bi(W):window,e){case"focusin":(jf(we)||we.contentEditable==="true")&&(Ni=we,fu=W,$s=null);break;case"focusout":$s=fu=Ni=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,Wf(ie,s,ne);break;case"selectionchange":if(_v)break;case"keydown":case"keyup":Wf(ie,s,ne)}var xe;if(lu)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ii?bf(e,s)&&(Ee="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ee="onCompositionStart");Ee&&(Nf&&s.locale!=="ko"&&(Ii||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ii&&(xe=Mf()):(vr=ne,nu="value"in vr?vr.value:vr.textContent,Ii=!0)),we=ca(W,Ee),0<we.length&&(Ee=new Tf(Ee,e,null,s,ne),ie.push({event:Ee,listeners:we}),xe?Ee.data=xe:(xe=Bf(s),xe!==null&&(Ee.data=xe)))),(xe=Rv?Pv(e,s):Tv(e,s))&&(W=ca(W,"onBeforeInput"),0<W.length&&(ne=new Tf("onBeforeInput","beforeinput",null,s,ne),ie.push({event:ne,listeners:W}),ne.data=xe))}th(ie,n)})}function eo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ca(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Se(e,s),h!=null&&l.unshift(eo(e,h,c)),h=Se(e,n),h!=null&&l.push(eo(e,h,c))),e=e.return}return l}function Di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rh(e,n,s,l,c){for(var h=n._reactName,w=[];s!==null&&s!==l;){var P=s,B=P.alternate,W=P.stateNode;if(B!==null&&B===l)break;P.tag===5&&W!==null&&(P=W,c?(B=Se(s,h),B!=null&&w.unshift(eo(s,B,P))):c||(B=Se(s,h),B!=null&&w.push(eo(s,B,P)))),s=s.return}w.length!==0&&e.push({event:n,listeners:w})}var Hv=/\r\n?/g,Vv=/\u0000|\uFFFD/g;function ih(e){return(typeof e=="string"?e:""+e).replace(Hv,`
`).replace(Vv,"")}function da(e,n,s){if(n=ih(n),ih(e)!==n&&s)throw Error(i(425))}function fa(){}var wu=null,xu=null;function Au(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Su=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,sh=typeof Promise=="function"?Promise:void 0,Wv=typeof queueMicrotask=="function"?queueMicrotask:typeof sh<"u"?function(e){return sh.resolve(null).then(e).catch(Qv)}:Su;function Qv(e){setTimeout(function(){throw e})}function Eu(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(l===0){e.removeChild(c),Vs(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=c}while(s);Vs(n)}function xr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function oh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var bi=Math.random().toString(36).slice(2),Dn="__reactFiber$"+bi,to="__reactProps$"+bi,Yn="__reactContainer$"+bi,ku="__reactEvents$"+bi,Kv="__reactListeners$"+bi,Yv="__reactHandles$"+bi;function ni(e){var n=e[Dn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Yn]||s[Dn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=oh(e);e!==null;){if(s=e[Dn])return s;e=oh(e)}return n}e=s,s=e.parentNode}return null}function no(e){return e=e[Dn]||e[Yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function ha(e){return e[to]||null}var Cu=[],ji=-1;function Ar(e){return{current:e}}function We(e){0>ji||(e.current=Cu[ji],Cu[ji]=null,ji--)}function Ve(e,n){ji++,Cu[ji]=e.current,e.current=n}var Sr={},Ct=Ar(Sr),qt=Ar(!1),ri=Sr;function Oi(e,n){var s=e.type.contextTypes;if(!s)return Sr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in s)c[h]=n[h];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function zt(e){return e=e.childContextTypes,e!=null}function pa(){We(qt),We(Ct)}function ah(e,n,s){if(Ct.current!==Sr)throw Error(i(168));Ve(Ct,n),Ve(qt,s)}function lh(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var c in l)if(!(c in n))throw Error(i(108,Be(e)||"Unknown",c));return re({},s,l)}function ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sr,ri=Ct.current,Ve(Ct,e),Ve(qt,qt.current),!0}function uh(e,n,s){var l=e.stateNode;if(!l)throw Error(i(169));s?(e=lh(e,n,ri),l.__reactInternalMemoizedMergedChildContext=e,We(qt),We(Ct),Ve(Ct,e)):We(qt),Ve(qt,s)}var Xn=null,ga=!1,Mu=!1;function ch(e){Xn===null?Xn=[e]:Xn.push(e)}function Xv(e){ga=!0,ch(e)}function Er(){if(!Mu&&Xn!==null){Mu=!0;var e=0,n=ze;try{var s=Xn;for(ze=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Xn=null,ga=!1}catch(c){throw Xn!==null&&(Xn=Xn.slice(e+1)),ff(Kl,Er),c}finally{ze=n,Mu=!1}}return null}var Li=[],_i=0,ya=null,va=0,cn=[],dn=0,ii=null,$n=1,Zn="";function si(e,n){Li[_i++]=va,Li[_i++]=ya,ya=e,va=n}function dh(e,n,s){cn[dn++]=$n,cn[dn++]=Zn,cn[dn++]=ii,ii=e;var l=$n;e=Zn;var c=32-An(l)-1;l&=~(1<<c),s+=1;var h=32-An(n)+c;if(30<h){var w=c-c%5;h=(l&(1<<w)-1).toString(32),l>>=w,c-=w,$n=1<<32-An(n)+c|s<<c|l,Zn=h+e}else $n=1<<h|s<<c|l,Zn=e}function Ru(e){e.return!==null&&(si(e,1),dh(e,1,0))}function Pu(e){for(;e===ya;)ya=Li[--_i],Li[_i]=null,va=Li[--_i],Li[_i]=null;for(;e===ii;)ii=cn[--dn],cn[dn]=null,Zn=cn[--dn],cn[dn]=null,$n=cn[--dn],cn[dn]=null}var Jt=null,en=null,Qe=!1,En=null;function fh(e,n){var s=mn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function hh(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Jt=e,en=xr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Jt=e,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=ii!==null?{id:$n,overflow:Zn}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=mn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,Jt=e,en=null,!0):!1;default:return!1}}function Tu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Iu(e){if(Qe){var n=en;if(n){var s=n;if(!hh(e,n)){if(Tu(e))throw Error(i(418));n=xr(s.nextSibling);var l=Jt;n&&hh(e,n)?fh(l,s):(e.flags=e.flags&-4097|2,Qe=!1,Jt=e)}}else{if(Tu(e))throw Error(i(418));e.flags=e.flags&-4097|2,Qe=!1,Jt=e}}}function ph(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function wa(e){if(e!==Jt)return!1;if(!Qe)return ph(e),Qe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Au(e.type,e.memoizedProps)),n&&(n=en)){if(Tu(e))throw mh(),Error(i(418));for(;n;)fh(e,n),n=xr(n.nextSibling)}if(ph(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){en=xr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}en=null}}else en=Jt?xr(e.stateNode.nextSibling):null;return!0}function mh(){for(var e=en;e;)e=xr(e.nextSibling)}function qi(){en=Jt=null,Qe=!1}function Nu(e){En===null?En=[e]:En.push(e)}var $v=q.ReactCurrentBatchConfig;function ro(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(i(309));var l=s.stateNode}if(!l)throw Error(i(147,e));var c=l,h=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(w){var P=c.refs;w===null?delete P[h]:P[h]=w},n._stringRef=h,n)}if(typeof e!="string")throw Error(i(284));if(!s._owner)throw Error(i(290,e))}return e}function xa(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function gh(e){var n=e._init;return n(e._payload)}function yh(e){function n(U,O){if(e){var V=U.deletions;V===null?(U.deletions=[O],U.flags|=16):V.push(O)}}function s(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U,O){for(U=new Map;O!==null;)O.key!==null?U.set(O.key,O):U.set(O.index,O),O=O.sibling;return U}function c(U,O){return U=Nr(U,O),U.index=0,U.sibling=null,U}function h(U,O,V){return U.index=V,e?(V=U.alternate,V!==null?(V=V.index,V<O?(U.flags|=2,O):V):(U.flags|=2,O)):(U.flags|=1048576,O)}function w(U){return e&&U.alternate===null&&(U.flags|=2),U}function P(U,O,V,se){return O===null||O.tag!==6?(O=Sc(V,U.mode,se),O.return=U,O):(O=c(O,V),O.return=U,O)}function B(U,O,V,se){var me=V.type;return me===R?ne(U,O,V.props.children,se,V.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ge&&gh(me)===O.type)?(se=c(O,V.props),se.ref=ro(U,O,V),se.return=U,se):(se=Va(V.type,V.key,V.props,null,U.mode,se),se.ref=ro(U,O,V),se.return=U,se)}function W(U,O,V,se){return O===null||O.tag!==4||O.stateNode.containerInfo!==V.containerInfo||O.stateNode.implementation!==V.implementation?(O=Ec(V,U.mode,se),O.return=U,O):(O=c(O,V.children||[]),O.return=U,O)}function ne(U,O,V,se,me){return O===null||O.tag!==7?(O=hi(V,U.mode,se,me),O.return=U,O):(O=c(O,V),O.return=U,O)}function ie(U,O,V){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Sc(""+O,U.mode,V),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return V=Va(O.type,O.key,O.props,null,U.mode,V),V.ref=ro(U,null,O),V.return=U,V;case E:return O=Ec(O,U.mode,V),O.return=U,O;case ge:var se=O._init;return ie(U,se(O._payload),V)}if(st(O)||ae(O))return O=hi(O,U.mode,V,null),O.return=U,O;xa(U,O)}return null}function ee(U,O,V,se){var me=O!==null?O.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return me!==null?null:P(U,O,""+V,se);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return V.key===me?B(U,O,V,se):null;case E:return V.key===me?W(U,O,V,se):null;case ge:return me=V._init,ee(U,O,me(V._payload),se)}if(st(V)||ae(V))return me!==null?null:ne(U,O,V,se,null);xa(U,V)}return null}function ce(U,O,V,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return U=U.get(V)||null,P(O,U,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return U=U.get(se.key===null?V:se.key)||null,B(O,U,se,me);case E:return U=U.get(se.key===null?V:se.key)||null,W(O,U,se,me);case ge:var we=se._init;return ce(U,O,V,we(se._payload),me)}if(st(se)||ae(se))return U=U.get(V)||null,ne(O,U,se,me,null);xa(O,se)}return null}function fe(U,O,V,se){for(var me=null,we=null,xe=O,Ee=O=0,yt=null;xe!==null&&Ee<V.length;Ee++){xe.index>Ee?(yt=xe,xe=null):yt=xe.sibling;var je=ee(U,xe,V[Ee],se);if(je===null){xe===null&&(xe=yt);break}e&&xe&&je.alternate===null&&n(U,xe),O=h(je,O,Ee),we===null?me=je:we.sibling=je,we=je,xe=yt}if(Ee===V.length)return s(U,xe),Qe&&si(U,Ee),me;if(xe===null){for(;Ee<V.length;Ee++)xe=ie(U,V[Ee],se),xe!==null&&(O=h(xe,O,Ee),we===null?me=xe:we.sibling=xe,we=xe);return Qe&&si(U,Ee),me}for(xe=l(U,xe);Ee<V.length;Ee++)yt=ce(xe,U,Ee,V[Ee],se),yt!==null&&(e&&yt.alternate!==null&&xe.delete(yt.key===null?Ee:yt.key),O=h(yt,O,Ee),we===null?me=yt:we.sibling=yt,we=yt);return e&&xe.forEach(function(Fr){return n(U,Fr)}),Qe&&si(U,Ee),me}function pe(U,O,V,se){var me=ae(V);if(typeof me!="function")throw Error(i(150));if(V=me.call(V),V==null)throw Error(i(151));for(var we=me=null,xe=O,Ee=O=0,yt=null,je=V.next();xe!==null&&!je.done;Ee++,je=V.next()){xe.index>Ee?(yt=xe,xe=null):yt=xe.sibling;var Fr=ee(U,xe,je.value,se);if(Fr===null){xe===null&&(xe=yt);break}e&&xe&&Fr.alternate===null&&n(U,xe),O=h(Fr,O,Ee),we===null?me=Fr:we.sibling=Fr,we=Fr,xe=yt}if(je.done)return s(U,xe),Qe&&si(U,Ee),me;if(xe===null){for(;!je.done;Ee++,je=V.next())je=ie(U,je.value,se),je!==null&&(O=h(je,O,Ee),we===null?me=je:we.sibling=je,we=je);return Qe&&si(U,Ee),me}for(xe=l(U,xe);!je.done;Ee++,je=V.next())je=ce(xe,U,Ee,je.value,se),je!==null&&(e&&je.alternate!==null&&xe.delete(je.key===null?Ee:je.key),O=h(je,O,Ee),we===null?me=je:we.sibling=je,we=je);return e&&xe.forEach(function(I1){return n(U,I1)}),Qe&&si(U,Ee),me}function at(U,O,V,se){if(typeof V=="object"&&V!==null&&V.type===R&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case b:e:{for(var me=V.key,we=O;we!==null;){if(we.key===me){if(me=V.type,me===R){if(we.tag===7){s(U,we.sibling),O=c(we,V.props.children),O.return=U,U=O;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ge&&gh(me)===we.type){s(U,we.sibling),O=c(we,V.props),O.ref=ro(U,we,V),O.return=U,U=O;break e}s(U,we);break}else n(U,we);we=we.sibling}V.type===R?(O=hi(V.props.children,U.mode,se,V.key),O.return=U,U=O):(se=Va(V.type,V.key,V.props,null,U.mode,se),se.ref=ro(U,O,V),se.return=U,U=se)}return w(U);case E:e:{for(we=V.key;O!==null;){if(O.key===we)if(O.tag===4&&O.stateNode.containerInfo===V.containerInfo&&O.stateNode.implementation===V.implementation){s(U,O.sibling),O=c(O,V.children||[]),O.return=U,U=O;break e}else{s(U,O);break}else n(U,O);O=O.sibling}O=Ec(V,U.mode,se),O.return=U,U=O}return w(U);case ge:return we=V._init,at(U,O,we(V._payload),se)}if(st(V))return fe(U,O,V,se);if(ae(V))return pe(U,O,V,se);xa(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,O!==null&&O.tag===6?(s(U,O.sibling),O=c(O,V),O.return=U,U=O):(s(U,O),O=Sc(V,U.mode,se),O.return=U,U=O),w(U)):s(U,O)}return at}var zi=yh(!0),vh=yh(!1),Aa=Ar(null),Sa=null,Ui=null,Fu=null;function Du(){Fu=Ui=Sa=null}function bu(e){var n=Aa.current;We(Aa),e._currentValue=n}function Bu(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Hi(e,n){Sa=e,Fu=Ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Ut=!0),e.firstContext=null)}function fn(e){var n=e._currentValue;if(Fu!==e)if(e={context:e,memoizedValue:n,next:null},Ui===null){if(Sa===null)throw Error(i(308));Ui=e,Sa.dependencies={lanes:0,firstContext:e}}else Ui=Ui.next=e;return n}var oi=null;function ju(e){oi===null?oi=[e]:oi.push(e)}function wh(e,n,s,l){var c=n.interleaved;return c===null?(s.next=s,ju(n)):(s.next=c.next,c.next=s),n.interleaved=s,Jn(e,l)}function Jn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var kr=!1;function Ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function er(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Cr(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,be&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,Jn(e,s)}return c=l.interleaved,c===null?(n.next=n,ju(l)):(n.next=c.next,c.next=n),l.interleaved=n,Jn(e,s)}function Ea(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,$l(e,s)}}function Ah(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var w={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?c=h=w:h=h.next=w,s=s.next}while(s!==null);h===null?c=h=n:h=h.next=n}else c=h=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function ka(e,n,s,l){var c=e.updateQueue;kr=!1;var h=c.firstBaseUpdate,w=c.lastBaseUpdate,P=c.shared.pending;if(P!==null){c.shared.pending=null;var B=P,W=B.next;B.next=null,w===null?h=W:w.next=W,w=B;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,P=ne.lastBaseUpdate,P!==w&&(P===null?ne.firstBaseUpdate=W:P.next=W,ne.lastBaseUpdate=B))}if(h!==null){var ie=c.baseState;w=0,ne=W=B=null,P=h;do{var ee=P.lane,ce=P.eventTime;if((l&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var fe=e,pe=P;switch(ee=n,ce=s,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ie=fe.call(ce,ie,ee);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ee=typeof fe=="function"?fe.call(ce,ie,ee):fe,ee==null)break e;ie=re({},ie,ee);break e;case 2:kr=!0}}P.callback!==null&&P.lane!==0&&(e.flags|=64,ee=c.effects,ee===null?c.effects=[P]:ee.push(P))}else ce={eventTime:ce,lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ne===null?(W=ne=ce,B=ie):ne=ne.next=ce,w|=ee;if(P=P.next,P===null){if(P=c.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,c.lastBaseUpdate=ee,c.shared.pending=null}}while(!0);if(ne===null&&(B=ie),c.baseState=B,c.firstBaseUpdate=W,c.lastBaseUpdate=ne,n=c.shared.interleaved,n!==null){c=n;do w|=c.lane,c=c.next;while(c!==n)}else h===null&&(c.shared.lanes=0);ui|=w,e.lanes=w,e.memoizedState=ie}}function Sh(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],c=l.callback;if(c!==null){if(l.callback=null,l=s,typeof c!="function")throw Error(i(191,c));c.call(l)}}}var io={},bn=Ar(io),so=Ar(io),oo=Ar(io);function ai(e){if(e===io)throw Error(i(174));return e}function Lu(e,n){switch(Ve(oo,n),Ve(so,e),Ve(bn,io),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ft(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ft(n,e)}We(bn),Ve(bn,n)}function Vi(){We(bn),We(so),We(oo)}function Eh(e){ai(oo.current);var n=ai(bn.current),s=Ft(n,e.type);n!==s&&(Ve(so,e),Ve(bn,s))}function _u(e){so.current===e&&(We(bn),We(so))}var Ye=Ar(0);function Ca(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qu=[];function zu(){for(var e=0;e<qu.length;e++)qu[e]._workInProgressVersionPrimary=null;qu.length=0}var Ma=q.ReactCurrentDispatcher,Uu=q.ReactCurrentBatchConfig,li=0,Xe=null,ft=null,mt=null,Ra=!1,ao=!1,lo=0,Zv=0;function Mt(){throw Error(i(321))}function Hu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Sn(e[s],n[s]))return!1;return!0}function Vu(e,n,s,l,c,h){if(li=h,Xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ma.current=e===null||e.memoizedState===null?n1:r1,e=s(l,c),ao){h=0;do{if(ao=!1,lo=0,25<=h)throw Error(i(301));h+=1,mt=ft=null,n.updateQueue=null,Ma.current=i1,e=s(l,c)}while(ao)}if(Ma.current=Ia,n=ft!==null&&ft.next!==null,li=0,mt=ft=Xe=null,Ra=!1,n)throw Error(i(300));return e}function Gu(){var e=lo!==0;return lo=0,e}function Bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Xe.memoizedState=mt=e:mt=mt.next=e,mt}function hn(){if(ft===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var n=mt===null?Xe.memoizedState:mt.next;if(n!==null)mt=n,ft=e;else{if(e===null)throw Error(i(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},mt===null?Xe.memoizedState=mt=e:mt=mt.next=e}return mt}function uo(e,n){return typeof n=="function"?n(e):n}function Wu(e){var n=hn(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=ft,c=l.baseQueue,h=s.pending;if(h!==null){if(c!==null){var w=c.next;c.next=h.next,h.next=w}l.baseQueue=c=h,s.pending=null}if(c!==null){h=c.next,l=l.baseState;var P=w=null,B=null,W=h;do{var ne=W.lane;if((li&ne)===ne)B!==null&&(B=B.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),l=W.hasEagerState?W.eagerState:e(l,W.action);else{var ie={lane:ne,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};B===null?(P=B=ie,w=l):B=B.next=ie,Xe.lanes|=ne,ui|=ne}W=W.next}while(W!==null&&W!==h);B===null?w=l:B.next=P,Sn(l,n.memoizedState)||(Ut=!0),n.memoizedState=l,n.baseState=w,n.baseQueue=B,s.lastRenderedState=l}if(e=s.interleaved,e!==null){c=e;do h=c.lane,Xe.lanes|=h,ui|=h,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Qu(e){var n=hn(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,h=n.memoizedState;if(c!==null){s.pending=null;var w=c=c.next;do h=e(h,w.action),w=w.next;while(w!==c);Sn(h,n.memoizedState)||(Ut=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,l]}function kh(){}function Ch(e,n){var s=Xe,l=hn(),c=n(),h=!Sn(l.memoizedState,c);if(h&&(l.memoizedState=c,Ut=!0),l=l.queue,Ku(Ph.bind(null,s,l,e),[e]),l.getSnapshot!==n||h||mt!==null&&mt.memoizedState.tag&1){if(s.flags|=2048,co(9,Rh.bind(null,s,l,c,n),void 0,null),gt===null)throw Error(i(349));li&30||Mh(s,n,c)}return c}function Mh(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Xe.updateQueue,n===null?(n={lastEffect:null,stores:null},Xe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Rh(e,n,s,l){n.value=s,n.getSnapshot=l,Th(n)&&Ih(e)}function Ph(e,n,s){return s(function(){Th(n)&&Ih(e)})}function Th(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Sn(e,s)}catch{return!0}}function Ih(e){var n=Jn(e,1);n!==null&&Rn(n,e,1,-1)}function Nh(e){var n=Bn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e},n.queue=e,e=e.dispatch=t1.bind(null,Xe,e),[n.memoizedState,e]}function co(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=Xe.updateQueue,n===null?(n={lastEffect:null,stores:null},Xe.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Fh(){return hn().memoizedState}function Pa(e,n,s,l){var c=Bn();Xe.flags|=e,c.memoizedState=co(1|n,s,void 0,l===void 0?null:l)}function Ta(e,n,s,l){var c=hn();l=l===void 0?null:l;var h=void 0;if(ft!==null){var w=ft.memoizedState;if(h=w.destroy,l!==null&&Hu(l,w.deps)){c.memoizedState=co(n,s,h,l);return}}Xe.flags|=e,c.memoizedState=co(1|n,s,h,l)}function Dh(e,n){return Pa(8390656,8,e,n)}function Ku(e,n){return Ta(2048,8,e,n)}function bh(e,n){return Ta(4,2,e,n)}function Bh(e,n){return Ta(4,4,e,n)}function jh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Oh(e,n,s){return s=s!=null?s.concat([e]):null,Ta(4,4,jh.bind(null,n,e),s)}function Yu(){}function Lh(e,n){var s=hn();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Hu(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function _h(e,n){var s=hn();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Hu(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function qh(e,n,s){return li&21?(Sn(s,n)||(s=gf(),Xe.lanes|=s,ui|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=s)}function Jv(e,n){var s=ze;ze=s!==0&&4>s?s:4,e(!0);var l=Uu.transition;Uu.transition={};try{e(!1),n()}finally{ze=s,Uu.transition=l}}function zh(){return hn().memoizedState}function e1(e,n,s){var l=Tr(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Uh(e))Hh(n,s);else if(s=wh(e,n,s,l),s!==null){var c=jt();Rn(s,e,l,c),Vh(s,n,l)}}function t1(e,n,s){var l=Tr(e),c={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Uh(e))Hh(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var w=n.lastRenderedState,P=h(w,s);if(c.hasEagerState=!0,c.eagerState=P,Sn(P,w)){var B=n.interleaved;B===null?(c.next=c,ju(n)):(c.next=B.next,B.next=c),n.interleaved=c;return}}catch{}finally{}s=wh(e,n,c,l),s!==null&&(c=jt(),Rn(s,e,l,c),Vh(s,n,l))}}function Uh(e){var n=e.alternate;return e===Xe||n!==null&&n===Xe}function Hh(e,n){ao=Ra=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Vh(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,$l(e,s)}}var Ia={readContext:fn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},n1={readContext:fn,useCallback:function(e,n){return Bn().memoizedState=[e,n===void 0?null:n],e},useContext:fn,useEffect:Dh,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Pa(4194308,4,jh.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Pa(4194308,4,e,n)},useInsertionEffect:function(e,n){return Pa(4,2,e,n)},useMemo:function(e,n){var s=Bn();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Bn();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=e1.bind(null,Xe,e),[l.memoizedState,e]},useRef:function(e){var n=Bn();return e={current:e},n.memoizedState=e},useState:Nh,useDebugValue:Yu,useDeferredValue:function(e){return Bn().memoizedState=e},useTransition:function(){var e=Nh(!1),n=e[0];return e=Jv.bind(null,e[1]),Bn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=Xe,c=Bn();if(Qe){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),gt===null)throw Error(i(349));li&30||Mh(l,n,s)}c.memoizedState=s;var h={value:s,getSnapshot:n};return c.queue=h,Dh(Ph.bind(null,l,h,e),[e]),l.flags|=2048,co(9,Rh.bind(null,l,h,s,n),void 0,null),s},useId:function(){var e=Bn(),n=gt.identifierPrefix;if(Qe){var s=Zn,l=$n;s=(l&~(1<<32-An(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=lo++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Zv++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},r1={readContext:fn,useCallback:Lh,useContext:fn,useEffect:Ku,useImperativeHandle:Oh,useInsertionEffect:bh,useLayoutEffect:Bh,useMemo:_h,useReducer:Wu,useRef:Fh,useState:function(){return Wu(uo)},useDebugValue:Yu,useDeferredValue:function(e){var n=hn();return qh(n,ft.memoizedState,e)},useTransition:function(){var e=Wu(uo)[0],n=hn().memoizedState;return[e,n]},useMutableSource:kh,useSyncExternalStore:Ch,useId:zh,unstable_isNewReconciler:!1},i1={readContext:fn,useCallback:Lh,useContext:fn,useEffect:Ku,useImperativeHandle:Oh,useInsertionEffect:bh,useLayoutEffect:Bh,useMemo:_h,useReducer:Qu,useRef:Fh,useState:function(){return Qu(uo)},useDebugValue:Yu,useDeferredValue:function(e){var n=hn();return ft===null?n.memoizedState=e:qh(n,ft.memoizedState,e)},useTransition:function(){var e=Qu(uo)[0],n=hn().memoizedState;return[e,n]},useMutableSource:kh,useSyncExternalStore:Ch,useId:zh,unstable_isNewReconciler:!1};function kn(e,n){if(e&&e.defaultProps){n=re({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Xu(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:re({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Na={isMounted:function(e){return(e=e._reactInternals)?ti(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=jt(),c=Tr(e),h=er(l,c);h.payload=n,s!=null&&(h.callback=s),n=Cr(e,h,c),n!==null&&(Rn(n,e,c,l),Ea(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=jt(),c=Tr(e),h=er(l,c);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Cr(e,h,c),n!==null&&(Rn(n,e,c,l),Ea(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=jt(),l=Tr(e),c=er(s,l);c.tag=2,n!=null&&(c.callback=n),n=Cr(e,c,l),n!==null&&(Rn(n,e,l,s),Ea(n,e,l))}};function Gh(e,n,s,l,c,h,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,w):n.prototype&&n.prototype.isPureReactComponent?!Xs(s,l)||!Xs(c,h):!0}function Wh(e,n,s){var l=!1,c=Sr,h=n.contextType;return typeof h=="object"&&h!==null?h=fn(h):(c=zt(n)?ri:Ct.current,l=n.contextTypes,h=(l=l!=null)?Oi(e,c):Sr),n=new n(s,h),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Na,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),n}function Qh(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Na.enqueueReplaceState(n,n.state,null)}function $u(e,n,s,l){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Ou(e);var h=n.contextType;typeof h=="object"&&h!==null?c.context=fn(h):(h=zt(n)?ri:Ct.current,c.context=Oi(e,h)),c.state=e.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Xu(e,n,h,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Na.enqueueReplaceState(c,c.state,null),ka(e,s,c,l),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Gi(e,n){try{var s="",l=n;do s+=Pe(l),l=l.return;while(l);var c=s}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:n,stack:c,digest:null}}function Zu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Ju(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var s1=typeof WeakMap=="function"?WeakMap:Map;function Kh(e,n,s){s=er(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){La||(La=!0,pc=l),Ju(e,n)},s}function Yh(e,n,s){s=er(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var c=n.value;s.payload=function(){return l(c)},s.callback=function(){Ju(e,n)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){Ju(e,n),typeof l!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),s}function Xh(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new s1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(c.add(s),e=w1.bind(null,e,n,s),n.then(e,e))}function $h(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Zh(e,n,s,l,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=er(-1,1),n.tag=2,Cr(s,n,1))),s.lanes|=1),e)}var o1=q.ReactCurrentOwner,Ut=!1;function Bt(e,n,s,l){n.child=e===null?vh(n,null,s,l):zi(n,e.child,s,l)}function Jh(e,n,s,l,c){s=s.render;var h=n.ref;return Hi(n,c),l=Vu(e,n,s,l,h,c),s=Gu(),e!==null&&!Ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,tr(e,n,c)):(Qe&&s&&Ru(n),n.flags|=1,Bt(e,n,l,c),n.child)}function ep(e,n,s,l,c){if(e===null){var h=s.type;return typeof h=="function"&&!Ac(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=h,tp(e,n,h,l,c)):(e=Va(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!(e.lanes&c)){var w=h.memoizedProps;if(s=s.compare,s=s!==null?s:Xs,s(w,l)&&e.ref===n.ref)return tr(e,n,c)}return n.flags|=1,e=Nr(h,l),e.ref=n.ref,e.return=n,n.child=e}function tp(e,n,s,l,c){if(e!==null){var h=e.memoizedProps;if(Xs(h,l)&&e.ref===n.ref)if(Ut=!1,n.pendingProps=l=h,(e.lanes&c)!==0)e.flags&131072&&(Ut=!0);else return n.lanes=e.lanes,tr(e,n,c)}return ec(e,n,s,l,c)}function np(e,n,s){var l=n.pendingProps,c=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Qi,tn),tn|=s;else{if(!(s&1073741824))return e=h!==null?h.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ve(Qi,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:s,Ve(Qi,tn),tn|=l}else h!==null?(l=h.baseLanes|s,n.memoizedState=null):l=s,Ve(Qi,tn),tn|=l;return Bt(e,n,c,s),n.child}function rp(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function ec(e,n,s,l,c){var h=zt(s)?ri:Ct.current;return h=Oi(n,h),Hi(n,c),s=Vu(e,n,s,l,h,c),l=Gu(),e!==null&&!Ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,tr(e,n,c)):(Qe&&l&&Ru(n),n.flags|=1,Bt(e,n,s,c),n.child)}function ip(e,n,s,l,c){if(zt(s)){var h=!0;ma(n)}else h=!1;if(Hi(n,c),n.stateNode===null)Da(e,n),Wh(n,s,l),$u(n,s,l,c),l=!0;else if(e===null){var w=n.stateNode,P=n.memoizedProps;w.props=P;var B=w.context,W=s.contextType;typeof W=="object"&&W!==null?W=fn(W):(W=zt(s)?ri:Ct.current,W=Oi(n,W));var ne=s.getDerivedStateFromProps,ie=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==l||B!==W)&&Qh(n,w,l,W),kr=!1;var ee=n.memoizedState;w.state=ee,ka(n,l,w,c),B=n.memoizedState,P!==l||ee!==B||qt.current||kr?(typeof ne=="function"&&(Xu(n,s,ne,l),B=n.memoizedState),(P=kr||Gh(n,s,P,l,ee,B,W))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),w.props=l,w.state=B,w.context=W,l=P):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{w=n.stateNode,xh(e,n),P=n.memoizedProps,W=n.type===n.elementType?P:kn(n.type,P),w.props=W,ie=n.pendingProps,ee=w.context,B=s.contextType,typeof B=="object"&&B!==null?B=fn(B):(B=zt(s)?ri:Ct.current,B=Oi(n,B));var ce=s.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==ie||ee!==B)&&Qh(n,w,l,B),kr=!1,ee=n.memoizedState,w.state=ee,ka(n,l,w,c);var fe=n.memoizedState;P!==ie||ee!==fe||qt.current||kr?(typeof ce=="function"&&(Xu(n,s,ce,l),fe=n.memoizedState),(W=kr||Gh(n,s,W,l,ee,fe,B)||!1)?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(l,fe,B),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(l,fe,B)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=fe),w.props=l,w.state=fe,w.context=B,l=W):(typeof w.componentDidUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),l=!1)}return tc(e,n,s,l,h,c)}function tc(e,n,s,l,c,h){rp(e,n);var w=(n.flags&128)!==0;if(!l&&!w)return c&&uh(n,s,!1),tr(e,n,h);l=n.stateNode,o1.current=n;var P=w&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&w?(n.child=zi(n,e.child,null,h),n.child=zi(n,null,P,h)):Bt(e,n,P,h),n.memoizedState=l.state,c&&uh(n,s,!0),n.child}function sp(e){var n=e.stateNode;n.pendingContext?ah(e,n.pendingContext,n.pendingContext!==n.context):n.context&&ah(e,n.context,!1),Lu(e,n.containerInfo)}function op(e,n,s,l,c){return qi(),Nu(c),n.flags|=256,Bt(e,n,s,l),n.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function ap(e,n,s){var l=n.pendingProps,c=Ye.current,h=!1,w=(n.flags&128)!==0,P;if((P=w)||(P=e!==null&&e.memoizedState===null?!1:(c&2)!==0),P?(h=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ve(Ye,c&1),e===null)return Iu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(w=l.children,e=l.fallback,h?(l=n.mode,h=n.child,w={mode:"hidden",children:w},!(l&1)&&h!==null?(h.childLanes=0,h.pendingProps=w):h=Ga(w,l,0,null),e=hi(e,l,s,null),h.return=n,e.return=n,h.sibling=e,n.child=h,n.child.memoizedState=rc(s),n.memoizedState=nc,e):ic(n,w));if(c=e.memoizedState,c!==null&&(P=c.dehydrated,P!==null))return a1(e,n,w,l,P,c,s);if(h){h=l.fallback,w=n.mode,c=e.child,P=c.sibling;var B={mode:"hidden",children:l.children};return!(w&1)&&n.child!==c?(l=n.child,l.childLanes=0,l.pendingProps=B,n.deletions=null):(l=Nr(c,B),l.subtreeFlags=c.subtreeFlags&14680064),P!==null?h=Nr(P,h):(h=hi(h,w,s,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,w=e.child.memoizedState,w=w===null?rc(s):{baseLanes:w.baseLanes|s,cachePool:null,transitions:w.transitions},h.memoizedState=w,h.childLanes=e.childLanes&~s,n.memoizedState=nc,l}return h=e.child,e=h.sibling,l=Nr(h,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function ic(e,n){return n=Ga({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Fa(e,n,s,l){return l!==null&&Nu(l),zi(n,e.child,null,s),e=ic(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function a1(e,n,s,l,c,h,w){if(s)return n.flags&256?(n.flags&=-257,l=Zu(Error(i(422))),Fa(e,n,w,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(h=l.fallback,c=n.mode,l=Ga({mode:"visible",children:l.children},c,0,null),h=hi(h,c,w,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,n.mode&1&&zi(n,e.child,null,w),n.child.memoizedState=rc(w),n.memoizedState=nc,h);if(!(n.mode&1))return Fa(e,n,w,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var P=l.dgst;return l=P,h=Error(i(419)),l=Zu(h,l,void 0),Fa(e,n,w,l)}if(P=(w&e.childLanes)!==0,Ut||P){if(l=gt,l!==null){switch(w&-w){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(l.suspendedLanes|w)?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Jn(e,c),Rn(l,e,c,-1))}return xc(),l=Zu(Error(i(421))),Fa(e,n,w,l)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=x1.bind(null,e),c._reactRetry=n,null):(e=h.treeContext,en=xr(c.nextSibling),Jt=n,Qe=!0,En=null,e!==null&&(cn[dn++]=$n,cn[dn++]=Zn,cn[dn++]=ii,$n=e.id,Zn=e.overflow,ii=n),n=ic(n,l.children),n.flags|=4096,n)}function lp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Bu(e.return,n,s)}function sc(e,n,s,l,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=s,h.tailMode=c)}function up(e,n,s){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(Bt(e,n,l.children,s),l=Ye.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lp(e,s,n);else if(e.tag===19)lp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ve(Ye,l),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Ca(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),sc(n,!1,c,s,h);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Ca(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}sc(n,!0,s,null,h);break;case"together":sc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Da(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function tr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ui|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,s=Nr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Nr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function l1(e,n,s){switch(n.tag){case 3:sp(n),qi();break;case 5:Eh(n);break;case 1:zt(n.type)&&ma(n);break;case 4:Lu(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,c=n.memoizedProps.value;Ve(Aa,l._currentValue),l._currentValue=c;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Ve(Ye,Ye.current&1),n.flags|=128,null):s&n.child.childLanes?ap(e,n,s):(Ve(Ye,Ye.current&1),e=tr(e,n,s),e!==null?e.sibling:null);Ve(Ye,Ye.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return up(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ve(Ye,Ye.current),l)break;return null;case 22:case 23:return n.lanes=0,np(e,n,s)}return tr(e,n,s)}var cp,oc,dp,fp;cp=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},oc=function(){},dp=function(e,n,s,l){var c=e.memoizedProps;if(c!==l){e=n.stateNode,ai(bn.current);var h=null;switch(s){case"input":c=ye(e,c),l=ye(e,l),h=[];break;case"select":c=re({},c,{value:void 0}),l=re({},l,{value:void 0}),h=[];break;case"textarea":c=$r(e,c),l=$r(e,l),h=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=fa)}Mi(s,l);var w;s=null;for(W in c)if(!l.hasOwnProperty(W)&&c.hasOwnProperty(W)&&c[W]!=null)if(W==="style"){var P=c[W];for(w in P)P.hasOwnProperty(w)&&(s||(s={}),s[w]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(a.hasOwnProperty(W)?h||(h=[]):(h=h||[]).push(W,null));for(W in l){var B=l[W];if(P=c!=null?c[W]:void 0,l.hasOwnProperty(W)&&B!==P&&(B!=null||P!=null))if(W==="style")if(P){for(w in P)!P.hasOwnProperty(w)||B&&B.hasOwnProperty(w)||(s||(s={}),s[w]="");for(w in B)B.hasOwnProperty(w)&&P[w]!==B[w]&&(s||(s={}),s[w]=B[w])}else s||(h||(h=[]),h.push(W,s)),s=B;else W==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,P=P?P.__html:void 0,B!=null&&P!==B&&(h=h||[]).push(W,B)):W==="children"?typeof B!="string"&&typeof B!="number"||(h=h||[]).push(W,""+B):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(a.hasOwnProperty(W)?(B!=null&&W==="onScroll"&&Ge("scroll",e),h||P===B||(h=[])):(h=h||[]).push(W,B))}s&&(h=h||[]).push("style",s);var W=h;(n.updateQueue=W)&&(n.flags|=4)}},fp=function(e,n,s,l){s!==l&&(n.flags|=4)};function fo(e,n){if(!Qe)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Rt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function u1(e,n,s){var l=n.pendingProps;switch(Pu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(n),null;case 1:return zt(n.type)&&pa(),Rt(n),null;case 3:return l=n.stateNode,Vi(),We(qt),We(Ct),zu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(wa(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,En!==null&&(yc(En),En=null))),oc(e,n),Rt(n),null;case 5:_u(n);var c=ai(oo.current);if(s=n.type,e!==null&&n.stateNode!=null)dp(e,n,s,l,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(i(166));return Rt(n),null}if(e=ai(bn.current),wa(n)){l=n.stateNode,s=n.type;var h=n.memoizedProps;switch(l[Dn]=n,l[to]=h,e=(n.mode&1)!==0,s){case"dialog":Ge("cancel",l),Ge("close",l);break;case"iframe":case"object":case"embed":Ge("load",l);break;case"video":case"audio":for(c=0;c<Zs.length;c++)Ge(Zs[c],l);break;case"source":Ge("error",l);break;case"img":case"image":case"link":Ge("error",l),Ge("load",l);break;case"details":Ge("toggle",l);break;case"input":Me(l,h),Ge("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},Ge("invalid",l);break;case"textarea":Ci(l,h),Ge("invalid",l)}Mi(s,h),c=null;for(var w in h)if(h.hasOwnProperty(w)){var P=h[w];w==="children"?typeof P=="string"?l.textContent!==P&&(h.suppressHydrationWarning!==!0&&da(l.textContent,P,e),c=["children",P]):typeof P=="number"&&l.textContent!==""+P&&(h.suppressHydrationWarning!==!0&&da(l.textContent,P,e),c=["children",""+P]):a.hasOwnProperty(w)&&P!=null&&w==="onScroll"&&Ge("scroll",l)}switch(s){case"input":It(l),Je(l,h,!0);break;case"textarea":It(l),Jr(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=fa)}l=c,n.updateQueue=l,l!==null&&(n.flags|=4)}else{w=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dr(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=w.createElement(s,{is:l.is}):(e=w.createElement(s),s==="select"&&(w=e,l.multiple?w.multiple=!0:l.size&&(w.size=l.size))):e=w.createElementNS(e,s),e[Dn]=n,e[to]=l,cp(e,n,!1,!1),n.stateNode=e;e:{switch(w=Ri(s,l),s){case"dialog":Ge("cancel",e),Ge("close",e),c=l;break;case"iframe":case"object":case"embed":Ge("load",e),c=l;break;case"video":case"audio":for(c=0;c<Zs.length;c++)Ge(Zs[c],e);c=l;break;case"source":Ge("error",e),c=l;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),c=l;break;case"details":Ge("toggle",e),c=l;break;case"input":Me(e,l),c=ye(e,l),Ge("invalid",e);break;case"option":c=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},c=re({},l,{value:void 0}),Ge("invalid",e);break;case"textarea":Ci(e,l),c=$r(e,l),Ge("invalid",e);break;default:c=l}Mi(s,c),P=c;for(h in P)if(P.hasOwnProperty(h)){var B=P[h];h==="style"?bs(e,B):h==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Wn(e,B)):h==="children"?typeof B=="string"?(s!=="textarea"||B!=="")&&pt(e,B):typeof B=="number"&&pt(e,""+B):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(a.hasOwnProperty(h)?B!=null&&h==="onScroll"&&Ge("scroll",e):B!=null&&F(e,h,B,w))}switch(s){case"input":It(e),Je(e,l,!1);break;case"textarea":It(e),Jr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Fe(l.value));break;case"select":e.multiple=!!l.multiple,h=l.value,h!=null?Nt(e,!!l.multiple,h,!1):l.defaultValue!=null&&Nt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=fa)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Rt(n),null;case 6:if(e&&n.stateNode!=null)fp(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(s=ai(oo.current),ai(bn.current),wa(n)){if(l=n.stateNode,s=n.memoizedProps,l[Dn]=n,(h=l.nodeValue!==s)&&(e=Jt,e!==null))switch(e.tag){case 3:da(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&da(l.nodeValue,s,(e.mode&1)!==0)}h&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Dn]=n,n.stateNode=l}return Rt(n),null;case 13:if(We(Ye),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&en!==null&&n.mode&1&&!(n.flags&128))mh(),qi(),n.flags|=98560,h=!1;else if(h=wa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Dn]=n}else qi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Rt(n),h=!1}else En!==null&&(yc(En),En=null),h=!0;if(!h)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Ye.current&1?ht===0&&(ht=3):xc())),n.updateQueue!==null&&(n.flags|=4),Rt(n),null);case 4:return Vi(),oc(e,n),e===null&&Js(n.stateNode.containerInfo),Rt(n),null;case 10:return bu(n.type._context),Rt(n),null;case 17:return zt(n.type)&&pa(),Rt(n),null;case 19:if(We(Ye),h=n.memoizedState,h===null)return Rt(n),null;if(l=(n.flags&128)!==0,w=h.rendering,w===null)if(l)fo(h,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(w=Ca(e),w!==null){for(n.flags|=128,fo(h,!1),l=w.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)h=s,e=l,h.flags&=14680066,w=h.alternate,w===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=w.childLanes,h.lanes=w.lanes,h.child=w.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=w.memoizedProps,h.memoizedState=w.memoizedState,h.updateQueue=w.updateQueue,h.type=w.type,e=w.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ve(Ye,Ye.current&1|2),n.child}e=e.sibling}h.tail!==null&&ot()>Ki&&(n.flags|=128,l=!0,fo(h,!1),n.lanes=4194304)}else{if(!l)if(e=Ca(w),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),fo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!Qe)return Rt(n),null}else 2*ot()-h.renderingStartTime>Ki&&s!==1073741824&&(n.flags|=128,l=!0,fo(h,!1),n.lanes=4194304);h.isBackwards?(w.sibling=n.child,n.child=w):(s=h.last,s!==null?s.sibling=w:n.child=w,h.last=w)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=ot(),n.sibling=null,s=Ye.current,Ve(Ye,l?s&1|2:s&1),n):(Rt(n),null);case 22:case 23:return wc(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?tn&1073741824&&(Rt(n),n.subtreeFlags&6&&(n.flags|=8192)):Rt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function c1(e,n){switch(Pu(n),n.tag){case 1:return zt(n.type)&&pa(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vi(),We(qt),We(Ct),zu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return _u(n),null;case 13:if(We(Ye),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));qi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return We(Ye),null;case 4:return Vi(),null;case 10:return bu(n.type._context),null;case 22:case 23:return wc(),null;case 24:return null;default:return null}}var ba=!1,Pt=!1,d1=typeof WeakSet=="function"?WeakSet:Set,de=null;function Wi(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){nt(e,n,l)}else s.current=null}function ac(e,n,s){try{s()}catch(l){nt(e,n,l)}}var hp=!1;function f1(e,n){if(wu=ea,e=Gf(),du(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var w=0,P=-1,B=-1,W=0,ne=0,ie=e,ee=null;t:for(;;){for(var ce;ie!==s||c!==0&&ie.nodeType!==3||(P=w+c),ie!==h||l!==0&&ie.nodeType!==3||(B=w+l),ie.nodeType===3&&(w+=ie.nodeValue.length),(ce=ie.firstChild)!==null;)ee=ie,ie=ce;for(;;){if(ie===e)break t;if(ee===s&&++W===c&&(P=w),ee===h&&++ne===l&&(B=w),(ce=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=ce}s=P===-1||B===-1?null:{start:P,end:B}}else s=null}s=s||{start:0,end:0}}else s=null;for(xu={focusedElem:e,selectionRange:s},ea=!1,de=n;de!==null;)if(n=de,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,de=e;else for(;de!==null;){n=de;try{var fe=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,at=fe.memoizedState,U=n.stateNode,O=U.getSnapshotBeforeUpdate(n.elementType===n.type?pe:kn(n.type,pe),at);U.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var V=n.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(se){nt(n,n.return,se)}if(e=n.sibling,e!==null){e.return=n.return,de=e;break}de=n.return}return fe=hp,hp=!1,fe}function ho(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&ac(n,s,h)}c=c.next}while(c!==l)}}function Ba(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function lc(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function pp(e){var n=e.alternate;n!==null&&(e.alternate=null,pp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Dn],delete n[to],delete n[ku],delete n[Kv],delete n[Yv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mp(e){return e.tag===5||e.tag===3||e.tag===4}function gp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=fa));else if(l!==4&&(e=e.child,e!==null))for(uc(e,n,s),e=e.sibling;e!==null;)uc(e,n,s),e=e.sibling}function cc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(cc(e,n,s),e=e.sibling;e!==null;)cc(e,n,s),e=e.sibling}var At=null,Cn=!1;function Mr(e,n,s){for(s=s.child;s!==null;)yp(e,n,s),s=s.sibling}function yp(e,n,s){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Ko,s)}catch{}switch(s.tag){case 5:Pt||Wi(s,n);case 6:var l=At,c=Cn;At=null,Mr(e,n,s),At=l,Cn=c,At!==null&&(Cn?(e=At,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):At.removeChild(s.stateNode));break;case 18:At!==null&&(Cn?(e=At,s=s.stateNode,e.nodeType===8?Eu(e.parentNode,s):e.nodeType===1&&Eu(e,s),Vs(e)):Eu(At,s.stateNode));break;case 4:l=At,c=Cn,At=s.stateNode.containerInfo,Cn=!0,Mr(e,n,s),At=l,Cn=c;break;case 0:case 11:case 14:case 15:if(!Pt&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var h=c,w=h.destroy;h=h.tag,w!==void 0&&(h&2||h&4)&&ac(s,n,w),c=c.next}while(c!==l)}Mr(e,n,s);break;case 1:if(!Pt&&(Wi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(P){nt(s,n,P)}Mr(e,n,s);break;case 21:Mr(e,n,s);break;case 22:s.mode&1?(Pt=(l=Pt)||s.memoizedState!==null,Mr(e,n,s),Pt=l):Mr(e,n,s);break;default:Mr(e,n,s)}}function vp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new d1),n.forEach(function(l){var c=A1.bind(null,e,l);s.has(l)||(s.add(l),l.then(c,c))})}}function Mn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];try{var h=e,w=n,P=w;e:for(;P!==null;){switch(P.tag){case 5:At=P.stateNode,Cn=!1;break e;case 3:At=P.stateNode.containerInfo,Cn=!0;break e;case 4:At=P.stateNode.containerInfo,Cn=!0;break e}P=P.return}if(At===null)throw Error(i(160));yp(h,w,c),At=null,Cn=!1;var B=c.alternate;B!==null&&(B.return=null),c.return=null}catch(W){nt(c,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)wp(n,e),n=n.sibling}function wp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mn(n,e),jn(e),l&4){try{ho(3,e,e.return),Ba(3,e)}catch(pe){nt(e,e.return,pe)}try{ho(5,e,e.return)}catch(pe){nt(e,e.return,pe)}}break;case 1:Mn(n,e),jn(e),l&512&&s!==null&&Wi(s,s.return);break;case 5:if(Mn(n,e),jn(e),l&512&&s!==null&&Wi(s,s.return),e.flags&32){var c=e.stateNode;try{pt(c,"")}catch(pe){nt(e,e.return,pe)}}if(l&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,w=s!==null?s.memoizedProps:h,P=e.type,B=e.updateQueue;if(e.updateQueue=null,B!==null)try{P==="input"&&h.type==="radio"&&h.name!=null&&Re(c,h),Ri(P,w);var W=Ri(P,h);for(w=0;w<B.length;w+=2){var ne=B[w],ie=B[w+1];ne==="style"?bs(c,ie):ne==="dangerouslySetInnerHTML"?Wn(c,ie):ne==="children"?pt(c,ie):F(c,ne,ie,W)}switch(P){case"input":qe(c,h);break;case"textarea":Zr(c,h);break;case"select":var ee=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var ce=h.value;ce!=null?Nt(c,!!h.multiple,ce,!1):ee!==!!h.multiple&&(h.defaultValue!=null?Nt(c,!!h.multiple,h.defaultValue,!0):Nt(c,!!h.multiple,h.multiple?[]:"",!1))}c[to]=h}catch(pe){nt(e,e.return,pe)}}break;case 6:if(Mn(n,e),jn(e),l&4){if(e.stateNode===null)throw Error(i(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(pe){nt(e,e.return,pe)}}break;case 3:if(Mn(n,e),jn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Vs(n.containerInfo)}catch(pe){nt(e,e.return,pe)}break;case 4:Mn(n,e),jn(e);break;case 13:Mn(n,e),jn(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(hc=ot())),l&4&&vp(e);break;case 22:if(ne=s!==null&&s.memoizedState!==null,e.mode&1?(Pt=(W=Pt)||ne,Mn(n,e),Pt=W):Mn(n,e),jn(e),l&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!ne&&e.mode&1)for(de=e,ne=e.child;ne!==null;){for(ie=de=ne;de!==null;){switch(ee=de,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:ho(4,ee,ee.return);break;case 1:Wi(ee,ee.return);var fe=ee.stateNode;if(typeof fe.componentWillUnmount=="function"){l=ee,s=ee.return;try{n=l,fe.props=n.memoizedProps,fe.state=n.memoizedState,fe.componentWillUnmount()}catch(pe){nt(l,s,pe)}}break;case 5:Wi(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Sp(ie);continue}}ce!==null?(ce.return=ee,de=ce):Sp(ie)}ne=ne.sibling}e:for(ne=null,ie=e;;){if(ie.tag===5){if(ne===null){ne=ie;try{c=ie.stateNode,W?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(P=ie.stateNode,B=ie.memoizedProps.style,w=B!=null&&B.hasOwnProperty("display")?B.display:null,P.style.display=fr("display",w))}catch(pe){nt(e,e.return,pe)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=W?"":ie.memoizedProps}catch(pe){nt(e,e.return,pe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===e)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===e)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===e)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Mn(n,e),jn(e),l&4&&vp(e);break;case 21:break;default:Mn(n,e),jn(e)}}function jn(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(mp(s)){var l=s;break e}s=s.return}throw Error(i(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(pt(c,""),l.flags&=-33);var h=gp(e);cc(e,h,c);break;case 3:case 4:var w=l.stateNode.containerInfo,P=gp(e);uc(e,P,w);break;default:throw Error(i(161))}}catch(B){nt(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function h1(e,n,s){de=e,xp(e)}function xp(e,n,s){for(var l=(e.mode&1)!==0;de!==null;){var c=de,h=c.child;if(c.tag===22&&l){var w=c.memoizedState!==null||ba;if(!w){var P=c.alternate,B=P!==null&&P.memoizedState!==null||Pt;P=ba;var W=Pt;if(ba=w,(Pt=B)&&!W)for(de=c;de!==null;)w=de,B=w.child,w.tag===22&&w.memoizedState!==null?Ep(c):B!==null?(B.return=w,de=B):Ep(c);for(;h!==null;)de=h,xp(h),h=h.sibling;de=c,ba=P,Pt=W}Ap(e)}else c.subtreeFlags&8772&&h!==null?(h.return=c,de=h):Ap(e)}}function Ap(e){for(;de!==null;){var n=de;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Pt||Ba(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Pt)if(s===null)l.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:kn(n.type,s.memoizedProps);l.componentDidUpdate(c,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&Sh(n,h,l);break;case 3:var w=n.updateQueue;if(w!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Sh(n,w,s)}break;case 5:var P=n.stateNode;if(s===null&&n.flags&4){s=P;var B=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&s.focus();break;case"img":B.src&&(s.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var ne=W.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&Vs(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Pt||n.flags&512&&lc(n)}catch(ee){nt(n,n.return,ee)}}if(n===e){de=null;break}if(s=n.sibling,s!==null){s.return=n.return,de=s;break}de=n.return}}function Sp(e){for(;de!==null;){var n=de;if(n===e){de=null;break}var s=n.sibling;if(s!==null){s.return=n.return,de=s;break}de=n.return}}function Ep(e){for(;de!==null;){var n=de;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Ba(4,n)}catch(B){nt(n,s,B)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var c=n.return;try{l.componentDidMount()}catch(B){nt(n,c,B)}}var h=n.return;try{lc(n)}catch(B){nt(n,h,B)}break;case 5:var w=n.return;try{lc(n)}catch(B){nt(n,w,B)}}}catch(B){nt(n,n.return,B)}if(n===e){de=null;break}var P=n.sibling;if(P!==null){P.return=n.return,de=P;break}de=n.return}}var p1=Math.ceil,ja=q.ReactCurrentDispatcher,dc=q.ReactCurrentOwner,pn=q.ReactCurrentBatchConfig,be=0,gt=null,ut=null,St=0,tn=0,Qi=Ar(0),ht=0,po=null,ui=0,Oa=0,fc=0,mo=null,Ht=null,hc=0,Ki=1/0,nr=null,La=!1,pc=null,Rr=null,_a=!1,Pr=null,qa=0,go=0,mc=null,za=-1,Ua=0;function jt(){return be&6?ot():za!==-1?za:za=ot()}function Tr(e){return e.mode&1?be&2&&St!==0?St&-St:$v.transition!==null?(Ua===0&&(Ua=gf()),Ua):(e=ze,e!==0||(e=window.event,e=e===void 0?16:Cf(e.type)),e):1}function Rn(e,n,s,l){if(50<go)throw go=0,mc=null,Error(i(185));_s(e,s,l),(!(be&2)||e!==gt)&&(e===gt&&(!(be&2)&&(Oa|=s),ht===4&&Ir(e,St)),Vt(e,l),s===1&&be===0&&!(n.mode&1)&&(Ki=ot()+500,ga&&Er()))}function Vt(e,n){var s=e.callbackNode;$0(e,n);var l=$o(e,e===gt?St:0);if(l===0)s!==null&&hf(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&hf(s),n===1)e.tag===0?Xv(Cp.bind(null,e)):ch(Cp.bind(null,e)),Wv(function(){!(be&6)&&Er()}),s=null;else{switch(yf(l)){case 1:s=Kl;break;case 4:s=pf;break;case 16:s=Qo;break;case 536870912:s=mf;break;default:s=Qo}s=Dp(s,kp.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function kp(e,n){if(za=-1,Ua=0,be&6)throw Error(i(327));var s=e.callbackNode;if(Yi()&&e.callbackNode!==s)return null;var l=$o(e,e===gt?St:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=Ha(e,l);else{n=l;var c=be;be|=2;var h=Rp();(gt!==e||St!==n)&&(nr=null,Ki=ot()+500,di(e,n));do try{y1();break}catch(P){Mp(e,P)}while(!0);Du(),ja.current=h,be=c,ut!==null?n=0:(gt=null,St=0,n=ht)}if(n!==0){if(n===2&&(c=Yl(e),c!==0&&(l=c,n=gc(e,c))),n===1)throw s=po,di(e,0),Ir(e,l),Vt(e,ot()),s;if(n===6)Ir(e,l);else{if(c=e.current.alternate,!(l&30)&&!m1(c)&&(n=Ha(e,l),n===2&&(h=Yl(e),h!==0&&(l=h,n=gc(e,h))),n===1))throw s=po,di(e,0),Ir(e,l),Vt(e,ot()),s;switch(e.finishedWork=c,e.finishedLanes=l,n){case 0:case 1:throw Error(i(345));case 2:fi(e,Ht,nr);break;case 3:if(Ir(e,l),(l&130023424)===l&&(n=hc+500-ot(),10<n)){if($o(e,0)!==0)break;if(c=e.suspendedLanes,(c&l)!==l){jt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Su(fi.bind(null,e,Ht,nr),n);break}fi(e,Ht,nr);break;case 4:if(Ir(e,l),(l&4194240)===l)break;for(n=e.eventTimes,c=-1;0<l;){var w=31-An(l);h=1<<w,w=n[w],w>c&&(c=w),l&=~h}if(l=c,l=ot()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*p1(l/1960))-l,10<l){e.timeoutHandle=Su(fi.bind(null,e,Ht,nr),l);break}fi(e,Ht,nr);break;case 5:fi(e,Ht,nr);break;default:throw Error(i(329))}}}return Vt(e,ot()),e.callbackNode===s?kp.bind(null,e):null}function gc(e,n){var s=mo;return e.current.memoizedState.isDehydrated&&(di(e,n).flags|=256),e=Ha(e,n),e!==2&&(n=Ht,Ht=s,n!==null&&yc(n)),e}function yc(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function m1(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var c=s[l],h=c.getSnapshot;c=c.value;try{if(!Sn(h(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ir(e,n){for(n&=~fc,n&=~Oa,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-An(n),l=1<<s;e[s]=-1,n&=~l}}function Cp(e){if(be&6)throw Error(i(327));Yi();var n=$o(e,0);if(!(n&1))return Vt(e,ot()),null;var s=Ha(e,n);if(e.tag!==0&&s===2){var l=Yl(e);l!==0&&(n=l,s=gc(e,l))}if(s===1)throw s=po,di(e,0),Ir(e,n),Vt(e,ot()),s;if(s===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,fi(e,Ht,nr),Vt(e,ot()),null}function vc(e,n){var s=be;be|=1;try{return e(n)}finally{be=s,be===0&&(Ki=ot()+500,ga&&Er())}}function ci(e){Pr!==null&&Pr.tag===0&&!(be&6)&&Yi();var n=be;be|=1;var s=pn.transition,l=ze;try{if(pn.transition=null,ze=1,e)return e()}finally{ze=l,pn.transition=s,be=n,!(be&6)&&Er()}}function wc(){tn=Qi.current,We(Qi)}function di(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gv(s)),ut!==null)for(s=ut.return;s!==null;){var l=s;switch(Pu(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&pa();break;case 3:Vi(),We(qt),We(Ct),zu();break;case 5:_u(l);break;case 4:Vi();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:bu(l.type._context);break;case 22:case 23:wc()}s=s.return}if(gt=e,ut=e=Nr(e.current,null),St=tn=n,ht=0,po=null,fc=Oa=ui=0,Ht=mo=null,oi!==null){for(n=0;n<oi.length;n++)if(s=oi[n],l=s.interleaved,l!==null){s.interleaved=null;var c=l.next,h=s.pending;if(h!==null){var w=h.next;h.next=c,l.next=w}s.pending=l}oi=null}return e}function Mp(e,n){do{var s=ut;try{if(Du(),Ma.current=Ia,Ra){for(var l=Xe.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Ra=!1}if(li=0,mt=ft=Xe=null,ao=!1,lo=0,dc.current=null,s===null||s.return===null){ht=1,po=n,ut=null;break}e:{var h=e,w=s.return,P=s,B=n;if(n=St,P.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var W=B,ne=P,ie=ne.tag;if(!(ne.mode&1)&&(ie===0||ie===11||ie===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=$h(w);if(ce!==null){ce.flags&=-257,Zh(ce,w,P,h,n),ce.mode&1&&Xh(h,W,n),n=ce,B=W;var fe=n.updateQueue;if(fe===null){var pe=new Set;pe.add(B),n.updateQueue=pe}else fe.add(B);break e}else{if(!(n&1)){Xh(h,W,n),xc();break e}B=Error(i(426))}}else if(Qe&&P.mode&1){var at=$h(w);if(at!==null){!(at.flags&65536)&&(at.flags|=256),Zh(at,w,P,h,n),Nu(Gi(B,P));break e}}h=B=Gi(B,P),ht!==4&&(ht=2),mo===null?mo=[h]:mo.push(h),h=w;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var U=Kh(h,B,n);Ah(h,U);break e;case 1:P=B;var O=h.type,V=h.stateNode;if(!(h.flags&128)&&(typeof O.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Rr===null||!Rr.has(V)))){h.flags|=65536,n&=-n,h.lanes|=n;var se=Yh(h,P,n);Ah(h,se);break e}}h=h.return}while(h!==null)}Tp(s)}catch(me){n=me,ut===s&&s!==null&&(ut=s=s.return);continue}break}while(!0)}function Rp(){var e=ja.current;return ja.current=Ia,e===null?Ia:e}function xc(){(ht===0||ht===3||ht===2)&&(ht=4),gt===null||!(ui&268435455)&&!(Oa&268435455)||Ir(gt,St)}function Ha(e,n){var s=be;be|=2;var l=Rp();(gt!==e||St!==n)&&(nr=null,di(e,n));do try{g1();break}catch(c){Mp(e,c)}while(!0);if(Du(),be=s,ja.current=l,ut!==null)throw Error(i(261));return gt=null,St=0,ht}function g1(){for(;ut!==null;)Pp(ut)}function y1(){for(;ut!==null&&!U0();)Pp(ut)}function Pp(e){var n=Fp(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?Tp(e):ut=n,dc.current=null}function Tp(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=c1(s,n),s!==null){s.flags&=32767,ut=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,ut=null;return}}else if(s=u1(s,n,tn),s!==null){ut=s;return}if(n=n.sibling,n!==null){ut=n;return}ut=n=e}while(n!==null);ht===0&&(ht=5)}function fi(e,n,s){var l=ze,c=pn.transition;try{pn.transition=null,ze=1,v1(e,n,s,l)}finally{pn.transition=c,ze=l}return null}function v1(e,n,s,l){do Yi();while(Pr!==null);if(be&6)throw Error(i(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(Z0(e,h),e===gt&&(ut=gt=null,St=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||_a||(_a=!0,Dp(Qo,function(){return Yi(),null})),h=(s.flags&15990)!==0,s.subtreeFlags&15990||h){h=pn.transition,pn.transition=null;var w=ze;ze=1;var P=be;be|=4,dc.current=null,f1(e,s),wp(s,e),Lv(xu),ea=!!wu,xu=wu=null,e.current=s,h1(s),H0(),be=P,ze=w,pn.transition=h}else e.current=s;if(_a&&(_a=!1,Pr=e,qa=c),h=e.pendingLanes,h===0&&(Rr=null),W0(s.stateNode),Vt(e,ot()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],l(c.value,{componentStack:c.stack,digest:c.digest});if(La)throw La=!1,e=pc,pc=null,e;return qa&1&&e.tag!==0&&Yi(),h=e.pendingLanes,h&1?e===mc?go++:(go=0,mc=e):go=0,Er(),null}function Yi(){if(Pr!==null){var e=yf(qa),n=pn.transition,s=ze;try{if(pn.transition=null,ze=16>e?16:e,Pr===null)var l=!1;else{if(e=Pr,Pr=null,qa=0,be&6)throw Error(i(331));var c=be;for(be|=4,de=e.current;de!==null;){var h=de,w=h.child;if(de.flags&16){var P=h.deletions;if(P!==null){for(var B=0;B<P.length;B++){var W=P[B];for(de=W;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:ho(8,ne,h)}var ie=ne.child;if(ie!==null)ie.return=ne,de=ie;else for(;de!==null;){ne=de;var ee=ne.sibling,ce=ne.return;if(pp(ne),ne===W){de=null;break}if(ee!==null){ee.return=ce,de=ee;break}de=ce}}}var fe=h.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var at=pe.sibling;pe.sibling=null,pe=at}while(pe!==null)}}de=h}}if(h.subtreeFlags&2064&&w!==null)w.return=h,de=w;else e:for(;de!==null;){if(h=de,h.flags&2048)switch(h.tag){case 0:case 11:case 15:ho(9,h,h.return)}var U=h.sibling;if(U!==null){U.return=h.return,de=U;break e}de=h.return}}var O=e.current;for(de=O;de!==null;){w=de;var V=w.child;if(w.subtreeFlags&2064&&V!==null)V.return=w,de=V;else e:for(w=O;de!==null;){if(P=de,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:Ba(9,P)}}catch(me){nt(P,P.return,me)}if(P===w){de=null;break e}var se=P.sibling;if(se!==null){se.return=P.return,de=se;break e}de=P.return}}if(be=c,Er(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Ko,e)}catch{}l=!0}return l}finally{ze=s,pn.transition=n}}return!1}function Ip(e,n,s){n=Gi(s,n),n=Kh(e,n,1),e=Cr(e,n,1),n=jt(),e!==null&&(_s(e,1,n),Vt(e,n))}function nt(e,n,s){if(e.tag===3)Ip(e,e,s);else for(;n!==null;){if(n.tag===3){Ip(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){e=Gi(s,e),e=Yh(n,e,1),n=Cr(n,e,1),e=jt(),n!==null&&(_s(n,1,e),Vt(n,e));break}}n=n.return}}function w1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=jt(),e.pingedLanes|=e.suspendedLanes&s,gt===e&&(St&s)===s&&(ht===4||ht===3&&(St&130023424)===St&&500>ot()-hc?di(e,0):fc|=s),Vt(e,n)}function Np(e,n){n===0&&(e.mode&1?(n=Xo,Xo<<=1,!(Xo&130023424)&&(Xo=4194304)):n=1);var s=jt();e=Jn(e,n),e!==null&&(_s(e,n,s),Vt(e,s))}function x1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Np(e,s)}function A1(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(n),Np(e,s)}var Fp;Fp=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||qt.current)Ut=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return Ut=!1,l1(e,n,s);Ut=!!(e.flags&131072)}else Ut=!1,Qe&&n.flags&1048576&&dh(n,va,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Da(e,n),e=n.pendingProps;var c=Oi(n,Ct.current);Hi(n,s),c=Vu(null,n,l,e,c,s);var h=Gu();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,zt(l)?(h=!0,ma(n)):h=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ou(n),c.updater=Na,n.stateNode=c,c._reactInternals=n,$u(n,l,e,s),n=tc(null,n,l,!0,h,s)):(n.tag=0,Qe&&h&&Ru(n),Bt(null,n,c,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Da(e,n),e=n.pendingProps,c=l._init,l=c(l._payload),n.type=l,c=n.tag=E1(l),e=kn(l,e),c){case 0:n=ec(null,n,l,e,s);break e;case 1:n=ip(null,n,l,e,s);break e;case 11:n=Jh(null,n,l,e,s);break e;case 14:n=ep(null,n,l,kn(l.type,e),s);break e}throw Error(i(306,l,""))}return n;case 0:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:kn(l,c),ec(e,n,l,c,s);case 1:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:kn(l,c),ip(e,n,l,c,s);case 3:e:{if(sp(n),e===null)throw Error(i(387));l=n.pendingProps,h=n.memoizedState,c=h.element,xh(e,n),ka(n,l,null,s);var w=n.memoizedState;if(l=w.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){c=Gi(Error(i(423)),n),n=op(e,n,l,s,c);break e}else if(l!==c){c=Gi(Error(i(424)),n),n=op(e,n,l,s,c);break e}else for(en=xr(n.stateNode.containerInfo.firstChild),Jt=n,Qe=!0,En=null,s=vh(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(qi(),l===c){n=tr(e,n,s);break e}Bt(e,n,l,s)}n=n.child}return n;case 5:return Eh(n),e===null&&Iu(n),l=n.type,c=n.pendingProps,h=e!==null?e.memoizedProps:null,w=c.children,Au(l,c)?w=null:h!==null&&Au(l,h)&&(n.flags|=32),rp(e,n),Bt(e,n,w,s),n.child;case 6:return e===null&&Iu(n),null;case 13:return ap(e,n,s);case 4:return Lu(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=zi(n,null,l,s):Bt(e,n,l,s),n.child;case 11:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:kn(l,c),Jh(e,n,l,c,s);case 7:return Bt(e,n,n.pendingProps,s),n.child;case 8:return Bt(e,n,n.pendingProps.children,s),n.child;case 12:return Bt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,c=n.pendingProps,h=n.memoizedProps,w=c.value,Ve(Aa,l._currentValue),l._currentValue=w,h!==null)if(Sn(h.value,w)){if(h.children===c.children&&!qt.current){n=tr(e,n,s);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var P=h.dependencies;if(P!==null){w=h.child;for(var B=P.firstContext;B!==null;){if(B.context===l){if(h.tag===1){B=er(-1,s&-s),B.tag=2;var W=h.updateQueue;if(W!==null){W=W.shared;var ne=W.pending;ne===null?B.next=B:(B.next=ne.next,ne.next=B),W.pending=B}}h.lanes|=s,B=h.alternate,B!==null&&(B.lanes|=s),Bu(h.return,s,n),P.lanes|=s;break}B=B.next}}else if(h.tag===10)w=h.type===n.type?null:h.child;else if(h.tag===18){if(w=h.return,w===null)throw Error(i(341));w.lanes|=s,P=w.alternate,P!==null&&(P.lanes|=s),Bu(w,s,n),w=h.sibling}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}Bt(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,l=n.pendingProps.children,Hi(n,s),c=fn(c),l=l(c),n.flags|=1,Bt(e,n,l,s),n.child;case 14:return l=n.type,c=kn(l,n.pendingProps),c=kn(l.type,c),ep(e,n,l,c,s);case 15:return tp(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:kn(l,c),Da(e,n),n.tag=1,zt(l)?(e=!0,ma(n)):e=!1,Hi(n,s),Wh(n,l,c),$u(n,l,c,s),tc(null,n,l,!0,e,s);case 19:return up(e,n,s);case 22:return np(e,n,s)}throw Error(i(156,n.tag))};function Dp(e,n){return ff(e,n)}function S1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,l){return new S1(e,n,s,l)}function Ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E1(e){if(typeof e=="function")return Ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oe)return 11;if(e===Ce)return 14}return 2}function Nr(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Va(e,n,s,l,c,h){var w=2;if(l=e,typeof e=="function")Ac(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case R:return hi(s.children,c,h,n);case I:w=8,c|=8;break;case K:return e=mn(12,s,n,c|2),e.elementType=K,e.lanes=h,e;case ue:return e=mn(13,s,n,c),e.elementType=ue,e.lanes=h,e;case ve:return e=mn(19,s,n,c),e.elementType=ve,e.lanes=h,e;case he:return Ga(s,c,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:w=10;break e;case J:w=9;break e;case oe:w=11;break e;case Ce:w=14;break e;case ge:w=16,l=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=mn(w,s,n,c),n.elementType=e,n.type=l,n.lanes=h,n}function hi(e,n,s,l){return e=mn(7,e,l,n),e.lanes=s,e}function Ga(e,n,s,l){return e=mn(22,e,l,n),e.elementType=he,e.lanes=s,e.stateNode={isHidden:!1},e}function Sc(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function Ec(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function k1(e,n,s,l,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xl(0),this.expirationTimes=Xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function kc(e,n,s,l,c,h,w,P,B){return e=new k1(e,n,s,P,B),n===1?(n=1,h===!0&&(n|=8)):n=0,h=mn(3,null,null,n),e.current=h,h.stateNode=e,h.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ou(h),e}function C1(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function bp(e){if(!e)return Sr;e=e._reactInternals;e:{if(ti(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(zt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var s=e.type;if(zt(s))return lh(e,s,n)}return n}function Bp(e,n,s,l,c,h,w,P,B){return e=kc(s,l,!0,e,c,h,w,P,B),e.context=bp(null),s=e.current,l=jt(),c=Tr(s),h=er(l,c),h.callback=n??null,Cr(s,h,c),e.current.lanes=c,_s(e,c,l),Vt(e,l),e}function Wa(e,n,s,l){var c=n.current,h=jt(),w=Tr(c);return s=bp(s),n.context===null?n.context=s:n.pendingContext=s,n=er(h,w),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Cr(c,n,w),e!==null&&(Rn(e,c,w,h),Ea(e,c,w)),w}function Qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Cc(e,n){jp(e,n),(e=e.alternate)&&jp(e,n)}function M1(){return null}var Op=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mc(e){this._internalRoot=e}Ka.prototype.render=Mc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));Wa(e,n,null,null)},Ka.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ci(function(){Wa(null,e,null,null)}),n[Yn]=null}};function Ka(e){this._internalRoot=e}Ka.prototype.unstable_scheduleHydration=function(e){if(e){var n=xf();e={blockedOn:null,target:e,priority:n};for(var s=0;s<yr.length&&n!==0&&n<yr[s].priority;s++);yr.splice(s,0,e),s===0&&Ef(e)}};function Rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ya(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lp(){}function R1(e,n,s,l,c){if(c){if(typeof l=="function"){var h=l;l=function(){var W=Qa(w);h.call(W)}}var w=Bp(n,l,e,0,null,!1,!1,"",Lp);return e._reactRootContainer=w,e[Yn]=w.current,Js(e.nodeType===8?e.parentNode:e),ci(),w}for(;c=e.lastChild;)e.removeChild(c);if(typeof l=="function"){var P=l;l=function(){var W=Qa(B);P.call(W)}}var B=kc(e,0,!1,null,null,!1,!1,"",Lp);return e._reactRootContainer=B,e[Yn]=B.current,Js(e.nodeType===8?e.parentNode:e),ci(function(){Wa(n,B,s,l)}),B}function Xa(e,n,s,l,c){var h=s._reactRootContainer;if(h){var w=h;if(typeof c=="function"){var P=c;c=function(){var B=Qa(w);P.call(B)}}Wa(n,w,e,c)}else w=R1(s,n,e,c,l);return Qa(w)}vf=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Ls(n.pendingLanes);s!==0&&($l(n,s|1),Vt(n,ot()),!(be&6)&&(Ki=ot()+500,Er()))}break;case 13:ci(function(){var l=Jn(e,1);if(l!==null){var c=jt();Rn(l,e,1,c)}}),Cc(e,1)}},Zl=function(e){if(e.tag===13){var n=Jn(e,134217728);if(n!==null){var s=jt();Rn(n,e,134217728,s)}Cc(e,134217728)}},wf=function(e){if(e.tag===13){var n=Tr(e),s=Jn(e,n);if(s!==null){var l=jt();Rn(s,e,n,l)}Cc(e,n)}},xf=function(){return ze},Af=function(e,n){var s=ze;try{return ze=e,n()}finally{ze=s}},hr=function(e,n,s){switch(n){case"input":if(qe(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=ha(l);if(!c)throw Error(i(90));Xr(l),qe(l,c)}}}break;case"textarea":Zr(e,s);break;case"select":n=s.value,n!=null&&Nt(e,!!s.multiple,n,!1)}},N=vc,X=ci;var P1={usingClientEntryPoint:!1,Events:[no,Bi,ha,js,Os,vc]},yo={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T1={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cf(e),e===null?null:e.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||M1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{Ko=$a.inject(T1),Fn=$a}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P1,Gt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rc(n))throw Error(i(200));return C1(e,n,null,s)},Gt.createRoot=function(e,n){if(!Rc(e))throw Error(i(299));var s=!1,l="",c=Op;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=kc(e,1,!1,null,null,s,!1,l,c),e[Yn]=n.current,Js(e.nodeType===8?e.parentNode:e),new Mc(n)},Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=cf(n),e=e===null?null:e.stateNode,e},Gt.flushSync=function(e){return ci(e)},Gt.hydrate=function(e,n,s){if(!Ya(n))throw Error(i(200));return Xa(null,e,n,!0,s)},Gt.hydrateRoot=function(e,n,s){if(!Rc(e))throw Error(i(405));var l=s!=null&&s.hydratedSources||null,c=!1,h="",w=Op;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),n=Bp(n,null,e,1,s??null,c,!1,h,w),e[Yn]=n.current,Js(e),l)for(e=0;e<l.length;e++)s=l[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new Ka(n)},Gt.render=function(e,n,s){if(!Ya(n))throw Error(i(200));return Xa(null,e,n,!1,s)},Gt.unmountComponentAtNode=function(e){if(!Ya(e))throw Error(i(40));return e._reactRootContainer?(ci(function(){Xa(null,null,e,!1,function(){e._reactRootContainer=null,e[Yn]=null})}),!0):!1},Gt.unstable_batchedUpdates=vc,Gt.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!Ya(s))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Xa(e,n,s,!1,l)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Wp;function _1(){if(Wp)return Ic.exports;Wp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ic.exports=L1(),Ic.exports}var Qp;function q1(){if(Qp)return Za;Qp=1;var r=_1();return Za.createRoot=r.createRoot,Za.hydrateRoot=r.hydrateRoot,Za}var z1=q1(),wo={},Kp;function U1(){if(Kp)return wo;Kp=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.parse=d,wo.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function d(y,k){const S=new u,T=y.length;if(T<2)return S;const A=(k==null?void 0:k.decode)||v;let C=0;do{const D=y.indexOf("=",C);if(D===-1)break;const F=y.indexOf(";",C),q=F===-1?T:F;if(D>q){C=y.lastIndexOf(";",D-1)+1;continue}const b=g(y,C,D),E=f(y,D,b),R=y.slice(b,E);if(S[R]===void 0){let I=g(y,D+1,q),K=f(y,q,I);const Y=A(y.slice(I,K));S[R]=Y}C=q+1}while(C<T);return S}function g(y,k,S){do{const T=y.charCodeAt(k);if(T!==32&&T!==9)return k}while(++k<S);return S}function f(y,k,S){for(;k>S;){const T=y.charCodeAt(--k);if(T!==32&&T!==9)return k+1}return S}function p(y,k,S){const T=(S==null?void 0:S.encode)||encodeURIComponent;if(!r.test(y))throw new TypeError(`argument name is invalid: ${y}`);const A=T(k);if(!t.test(A))throw new TypeError(`argument val is invalid: ${k}`);let C=y+"="+A;if(!S)return C;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);C+="; Max-Age="+S.maxAge}if(S.domain){if(!i.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);C+="; Domain="+S.domain}if(S.path){if(!o.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);C+="; Path="+S.path}if(S.expires){if(!M(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);C+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(C+="; HttpOnly"),S.secure&&(C+="; Secure"),S.partitioned&&(C+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return C}function v(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function M(y){return a.call(y)==="[object Date]"}return wo}U1();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yp="popstate";function H1(r={}){function t(o,a){let{pathname:u,search:d,hash:g}=o.location;return Lc("",{pathname:u,search:d,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(o,a){return typeof a=="string"?a:Ro(a)}return G1(t,i,null,r)}function $e(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Vn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function V1(){return Math.random().toString(36).substring(2,10)}function Xp(r,t){return{usr:r.state,key:r.key,idx:t}}function Lc(r,t,i=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Is(t):t,state:i,key:t&&t.key||o||V1()}}function Ro({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Is(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let o=r.indexOf("?");o>=0&&(t.search=r.substring(o),r=r.substring(0,o)),r&&(t.pathname=r)}return t}function G1(r,t,i,o={}){let{window:a=document.defaultView,v5Compat:u=!1}=o,d=a.history,g="POP",f=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function M(){g="POP";let A=v(),C=A==null?null:A-p;p=A,f&&f({action:g,location:T.location,delta:C})}function y(A,C){g="PUSH";let D=Lc(T.location,A,C);p=v()+1;let F=Xp(D,p),q=T.createHref(D);try{d.pushState(F,"",q)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(q)}u&&f&&f({action:g,location:T.location,delta:1})}function k(A,C){g="REPLACE";let D=Lc(T.location,A,C);p=v();let F=Xp(D,p),q=T.createHref(D);d.replaceState(F,"",q),u&&f&&f({action:g,location:T.location,delta:0})}function S(A){let C=a.location.origin!=="null"?a.location.origin:a.location.href,D=typeof A=="string"?A:Ro(A);return D=D.replace(/ $/,"%20"),$e(C,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,C)}let T={get action(){return g},get location(){return r(a,d)},listen(A){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Yp,M),f=A,()=>{a.removeEventListener(Yp,M),f=null}},createHref(A){return t(a,A)},createURL:S,encodeLocation(A){let C=S(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:k,go(A){return d.go(A)}};return T}function um(r,t,i="/"){return W1(r,t,i,!1)}function W1(r,t,i,o){let a=typeof t=="string"?Is(t):t,u=zr(a.pathname||"/",i);if(u==null)return null;let d=cm(r);Q1(d);let g=null;for(let f=0;g==null&&f<d.length;++f){let p=iw(u);g=nw(d[f],p,o)}return g}function cm(r,t=[],i=[],o=""){let a=(u,d,g)=>{let f={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};f.relativePath.startsWith("/")&&($e(f.relativePath.startsWith(o),`Absolute route path "${f.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(o.length));let p=sr([o,f.relativePath]),v=i.concat(f);u.children&&u.children.length>0&&($e(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),cm(u.children,t,v,p)),!(u.path==null&&!u.index)&&t.push({path:p,score:ew(p,u.index),routesMeta:v})};return r.forEach((u,d)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))a(u,d);else for(let f of dm(u.path))a(u,d,f)}),t}function dm(r){let t=r.split("/");if(t.length===0)return[];let[i,...o]=t,a=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return a?[u,""]:[u];let d=dm(o.join("/")),g=[];return g.push(...d.map(f=>f===""?u:[u,f].join("/"))),a&&g.push(...d),g.map(f=>r.startsWith("/")&&f===""?"/":f)}function Q1(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:tw(t.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var K1=/^:[\w-]+$/,Y1=3,X1=2,$1=1,Z1=10,J1=-2,$p=r=>r==="*";function ew(r,t){let i=r.split("/"),o=i.length;return i.some($p)&&(o+=J1),t&&(o+=X1),i.filter(a=>!$p(a)).reduce((a,u)=>a+(K1.test(u)?Y1:u===""?$1:Z1),o)}function tw(r,t){return r.length===t.length&&r.slice(0,-1).every((o,a)=>o===t[a])?r[r.length-1]-t[t.length-1]:0}function nw(r,t,i=!1){let{routesMeta:o}=r,a={},u="/",d=[];for(let g=0;g<o.length;++g){let f=o[g],p=g===o.length-1,v=u==="/"?t:t.slice(u.length)||"/",M=hl({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),y=f.route;if(!M&&p&&i&&!o[o.length-1].route.index&&(M=hl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!M)return null;Object.assign(a,M.params),d.push({params:a,pathname:sr([u,M.pathname]),pathnameBase:lw(sr([u,M.pathnameBase])),route:y}),M.pathnameBase!=="/"&&(u=sr([u,M.pathnameBase]))}return d}function hl(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,o]=rw(r.path,r.caseSensitive,r.end),a=t.match(i);if(!a)return null;let u=a[0],d=u.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:o.reduce((p,{paramName:v,isOptional:M},y)=>{if(v==="*"){let S=g[y]||"";d=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const k=g[y];return M&&!k?p[v]=void 0:p[v]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:r}}function rw(r,t=!1,i=!0){Vn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,f)=>(o.push({paramName:g,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),o]}function iw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function zr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,o=r.charAt(i);return o&&o!=="/"?null:r.slice(i)||"/"}function sw(r,t="/"){let{pathname:i,search:o="",hash:a=""}=typeof r=="string"?Is(r):r;return{pathname:i?i.startsWith("/")?i:ow(i,t):t,search:uw(o),hash:cw(a)}}function ow(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function Dc(r,t,i,o){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aw(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function fm(r){let t=aw(r);return t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase)}function hm(r,t,i,o=!1){let a;typeof r=="string"?a=Is(r):(a={...r},$e(!a.pathname||!a.pathname.includes("?"),Dc("?","pathname","search",a)),$e(!a.pathname||!a.pathname.includes("#"),Dc("#","pathname","hash",a)),$e(!a.search||!a.search.includes("#"),Dc("#","search","hash",a)));let u=r===""||a.pathname==="",d=u?"/":a.pathname,g;if(d==null)g=i;else{let M=t.length-1;if(!o&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),M-=1;a.pathname=y.join("/")}g=M>=0?t[M]:"/"}let f=sw(a,g),p=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&i.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var sr=r=>r.join("/").replace(/\/\/+/g,"/"),lw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function dw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var pm=["POST","PUT","PATCH","DELETE"];new Set(pm);var fw=["GET",...pm];new Set(fw);var Ns=L.createContext(null);Ns.displayName="DataRouter";var Pl=L.createContext(null);Pl.displayName="DataRouterState";var mm=L.createContext({isTransitioning:!1});mm.displayName="ViewTransition";var hw=L.createContext(new Map);hw.displayName="Fetchers";var pw=L.createContext(null);pw.displayName="Await";var Gn=L.createContext(null);Gn.displayName="Navigation";var Oo=L.createContext(null);Oo.displayName="Location";var lr=L.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var ed=L.createContext(null);ed.displayName="RouteError";function mw(r,{relative:t}={}){$e(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=L.useContext(Gn),{hash:a,pathname:u,search:d}=_o(r,{relative:t}),g=u;return i!=="/"&&(g=u==="/"?i:sr([i,u])),o.createHref({pathname:g,search:d,hash:a})}function Lo(){return L.useContext(Oo)!=null}function Kr(){return $e(Lo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Oo).location}var gm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ym(r){L.useContext(Gn).static||L.useLayoutEffect(r)}function gw(){let{isDataRoute:r}=L.useContext(lr);return r?Tw():yw()}function yw(){$e(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Ns),{basename:t,navigator:i}=L.useContext(Gn),{matches:o}=L.useContext(lr),{pathname:a}=Kr(),u=JSON.stringify(fm(o)),d=L.useRef(!1);return ym(()=>{d.current=!0}),L.useCallback((f,p={})=>{if(Vn(d.current,gm),!d.current)return;if(typeof f=="number"){i.go(f);return}let v=hm(f,JSON.parse(u),a,p.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:sr([t,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[t,i,u,a,r])}L.createContext(null);function _o(r,{relative:t}={}){let{matches:i}=L.useContext(lr),{pathname:o}=Kr(),a=JSON.stringify(fm(i));return L.useMemo(()=>hm(r,JSON.parse(a),o,t==="path"),[r,a,o,t])}function vw(r,t){return vm(r,t)}function vm(r,t,i,o){var D;$e(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:u}=L.useContext(Gn),{matches:d}=L.useContext(lr),g=d[d.length-1],f=g?g.params:{},p=g?g.pathname:"/",v=g?g.pathnameBase:"/",M=g&&g.route;{let F=M&&M.path||"";wm(p,!M||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let y=Kr(),k;if(t){let F=typeof t=="string"?Is(t):t;$e(v==="/"||((D=F.pathname)==null?void 0:D.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),k=F}else k=y;let S=k.pathname||"/",T=S;if(v!=="/"){let F=v.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(F.length).join("/")}let A=!u&&i&&i.matches&&i.matches.length>0?i.matches:um(r,{pathname:T});Vn(M||A!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Vn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Ew(A&&A.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:sr([v,a.encodeLocation?a.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:sr([v,a.encodeLocation?a.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),d,i,o);return t&&C?L.createElement(Oo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},C):C}function ww(){let r=Pw(),t=dw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),i?L.createElement("pre",{style:a},i):null,d)}var xw=L.createElement(ww,null),Aw=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?L.createElement(lr.Provider,{value:this.props.routeContext},L.createElement(ed.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sw({routeContext:r,match:t,children:i}){let o=L.useContext(Ns);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(lr.Provider,{value:r},i)}function Ew(r,t=[],i=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let a=r,u=i==null?void 0:i.errors;if(u!=null){let f=a.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);$e(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let d=!1,g=-1;if(i)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=f),p.route.id){let{loaderData:v,errors:M}=i,y=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!M||M[p.route.id]===void 0);if(p.route.lazy||y){d=!0,g>=0?a=a.slice(0,g+1):a=[a[0]];break}}}return a.reduceRight((f,p,v)=>{let M,y=!1,k=null,S=null;i&&(M=u&&p.route.id?u[p.route.id]:void 0,k=p.route.errorElement||xw,d&&(g<0&&v===0?(wm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):g===v&&(y=!0,S=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,v+1)),A=()=>{let C;return M?C=k:y?C=S:p.route.Component?C=L.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,L.createElement(Sw,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:i!=null},children:C})};return i&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?L.createElement(Aw,{location:i.location,revalidation:i.revalidation,component:k,error:M,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):A()},null)}function td(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kw(r){let t=L.useContext(Ns);return $e(t,td(r)),t}function Cw(r){let t=L.useContext(Pl);return $e(t,td(r)),t}function Mw(r){let t=L.useContext(lr);return $e(t,td(r)),t}function nd(r){let t=Mw(r),i=t.matches[t.matches.length-1];return $e(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Rw(){return nd("useRouteId")}function Pw(){var o;let r=L.useContext(ed),t=Cw("useRouteError"),i=nd("useRouteError");return r!==void 0?r:(o=t.errors)==null?void 0:o[i]}function Tw(){let{router:r}=kw("useNavigate"),t=nd("useNavigate"),i=L.useRef(!1);return ym(()=>{i.current=!0}),L.useCallback(async(a,u={})=>{Vn(i.current,gm),i.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:t,...u}))},[r,t])}var Zp={};function wm(r,t,i){!t&&!Zp[r]&&(Zp[r]=!0,Vn(!1,i))}L.memo(Iw);function Iw({routes:r,future:t,state:i}){return vm(r,void 0,i,t)}function Ot(r){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nw({basename:r="/",children:t=null,location:i,navigationType:o="POP",navigator:a,static:u=!1}){$e(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:d,navigator:a,static:u,future:{}}),[d,a,u]);typeof i=="string"&&(i=Is(i));let{pathname:f="/",search:p="",hash:v="",state:M=null,key:y="default"}=i,k=L.useMemo(()=>{let S=zr(f,d);return S==null?null:{location:{pathname:S,search:p,hash:v,state:M,key:y},navigationType:o}},[d,f,p,v,M,y,o]);return Vn(k!=null,`<Router basename="${d}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:L.createElement(Gn.Provider,{value:g},L.createElement(Oo.Provider,{children:t,value:k}))}function xm({children:r,location:t}){return vw(_c(r),t)}function _c(r,t=[]){let i=[];return L.Children.forEach(r,(o,a)=>{if(!L.isValidElement(o))return;let u=[...t,a];if(o.type===L.Fragment){i.push.apply(i,_c(o.props.children,u));return}$e(o.type===Ot,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=_c(o.props.children,u)),i.push(d)}),i}var al="get",ll="application/x-www-form-urlencoded";function Tl(r){return r!=null&&typeof r.tagName=="string"}function Fw(r){return Tl(r)&&r.tagName.toLowerCase()==="button"}function Dw(r){return Tl(r)&&r.tagName.toLowerCase()==="form"}function bw(r){return Tl(r)&&r.tagName.toLowerCase()==="input"}function Bw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jw(r,t){return r.button===0&&(!t||t==="_self")&&!Bw(r)}var Ja=null;function Ow(){if(Ja===null)try{new FormData(document.createElement("form"),0),Ja=!1}catch{Ja=!0}return Ja}var Lw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bc(r){return r!=null&&!Lw.has(r)?(Vn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ll}"`),null):r}function _w(r,t){let i,o,a,u,d;if(Dw(r)){let g=r.getAttribute("action");o=g?zr(g,t):null,i=r.getAttribute("method")||al,a=bc(r.getAttribute("enctype"))||ll,u=new FormData(r)}else if(Fw(r)||bw(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||g.getAttribute("action");if(o=f?zr(f,t):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||al,a=bc(r.getAttribute("formenctype"))||bc(g.getAttribute("enctype"))||ll,u=new FormData(g,r),!Ow()){let{name:p,type:v,value:M}=r;if(v==="image"){let y=p?`${p}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else p&&u.append(p,M)}}else{if(Tl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=al,o=null,a=ll,d=r}return u&&a==="text/plain"&&(d=u,u=void 0),{action:o,method:i.toLowerCase(),encType:a,formData:u,body:d}}function rd(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function qw(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Uw(r,t,i){let o=await Promise.all(r.map(async a=>{let u=t.routes[a.route.id];if(u){let d=await qw(u,i);return d.links?d.links():[]}return[]}));return Ww(o.flat(1).filter(zw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Jp(r,t,i,o,a,u){let d=(f,p)=>i[p]?f.route.id!==i[p].route.id:!0,g=(f,p)=>{var v;return i[p].pathname!==f.pathname||((v=i[p].route.path)==null?void 0:v.endsWith("*"))&&i[p].params["*"]!==f.params["*"]};return u==="assets"?t.filter((f,p)=>d(f,p)||g(f,p)):u==="data"?t.filter((f,p)=>{var M;let v=o.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(d(f,p)||g(f,p))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((M=i[0])==null?void 0:M.params)||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Hw(r,t){return Vw(r.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let a=[o.module];return o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function Vw(r){return[...new Set(r)]}function Gw(r){let t={},i=Object.keys(r).sort();for(let o of i)t[o]=r[o];return t}function Ww(r,t){let i=new Set;return new Set(t),r.reduce((o,a)=>{let u=JSON.stringify(Gw(a));return i.has(u)||(i.add(u),o.push({key:u,link:a})),o},[])}function Qw(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Kw(){let r=L.useContext(Ns);return rd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Yw(){let r=L.useContext(Pl);return rd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var id=L.createContext(void 0);id.displayName="FrameworkContext";function Am(){let r=L.useContext(id);return rd(r,"You must render this element inside a <HydratedRouter> element"),r}function Xw(r,t){let i=L.useContext(id),[o,a]=L.useState(!1),[u,d]=L.useState(!1),{onFocus:g,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:M}=t,y=L.useRef(null);L.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let T=C=>{C.forEach(D=>{d(D.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[r]),L.useEffect(()=>{if(o){let T=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(T)}}},[o]);let k=()=>{a(!0)},S=()=>{a(!1),d(!1)};return i?r!=="intent"?[u,y,{}]:[u,y,{onFocus:xo(g,k),onBlur:xo(f,S),onMouseEnter:xo(p,k),onMouseLeave:xo(v,S),onTouchStart:xo(M,k)}]:[!1,y,{}]}function xo(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function $w({page:r,...t}){let{router:i}=Kw(),o=L.useMemo(()=>um(i.routes,r,i.basename),[i.routes,r,i.basename]);return o?L.createElement(Jw,{page:r,matches:o,...t}):null}function Zw(r){let{manifest:t,routeModules:i}=Am(),[o,a]=L.useState([]);return L.useEffect(()=>{let u=!1;return Uw(r,t,i).then(d=>{u||a(d)}),()=>{u=!0}},[r,t,i]),o}function Jw({page:r,matches:t,...i}){let o=Kr(),{manifest:a,routeModules:u}=Am(),{loaderData:d,matches:g}=Yw(),f=L.useMemo(()=>Jp(r,t,g,a,o,"data"),[r,t,g,a,o]),p=L.useMemo(()=>Jp(r,t,g,a,o,"assets"),[r,t,g,a,o]),v=L.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let k=new Set,S=!1;if(t.forEach(A=>{var D;let C=a.routes[A.route.id];!C||!C.hasLoader||(!f.some(F=>F.route.id===A.route.id)&&A.route.id in d&&((D=u[A.route.id])!=null&&D.shouldRevalidate)||C.hasClientLoader?S=!0:k.add(A.route.id))}),k.size===0)return[];let T=Qw(r);return S&&k.size>0&&T.searchParams.set("_routes",t.filter(A=>k.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[d,o,a,f,t,r,u]),M=L.useMemo(()=>Hw(p,a),[p,a]),y=Zw(p);return L.createElement(L.Fragment,null,v.map(k=>L.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),M.map(k=>L.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),y.map(({key:k,link:S})=>L.createElement("link",{key:k,...S})))}function ex(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Sm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sm&&(window.__reactRouterVersion="7.1.5")}catch{}function tx({basename:r,children:t,window:i}){let o=L.useRef();o.current==null&&(o.current=H1({window:i,v5Compat:!0}));let a=o.current,[u,d]=L.useState({action:a.action,location:a.location}),g=L.useCallback(f=>{L.startTransition(()=>d(f))},[d]);return L.useLayoutEffect(()=>a.listen(g),[a,g]),L.createElement(Nw,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:a})}var Em=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Il=L.forwardRef(function({onClick:t,discover:i="render",prefetch:o="none",relative:a,reloadDocument:u,replace:d,state:g,target:f,to:p,preventScrollReset:v,viewTransition:M,...y},k){let{basename:S}=L.useContext(Gn),T=typeof p=="string"&&Em.test(p),A,C=!1;if(typeof p=="string"&&T&&(A=p,Sm))try{let K=new URL(window.location.href),Y=p.startsWith("//")?new URL(K.protocol+p):new URL(p),J=zr(Y.pathname,S);Y.origin===K.origin&&J!=null?p=J+Y.search+Y.hash:C=!0}catch{Vn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=mw(p,{relative:a}),[F,q,b]=Xw(o,y),E=ix(p,{replace:d,state:g,target:f,preventScrollReset:v,relative:a,viewTransition:M});function R(K){t&&t(K),K.defaultPrevented||E(K)}let I=L.createElement("a",{...y,...b,href:A||D,onClick:C||u?t:R,ref:ex(k,q),target:f,"data-discover":!T&&i==="render"?"true":void 0});return F&&!T?L.createElement(L.Fragment,null,I,L.createElement($w,{page:D})):I});Il.displayName="Link";var km=L.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:o="",end:a=!1,style:u,to:d,viewTransition:g,children:f,...p},v){let M=_o(d,{relative:p.relative}),y=Kr(),k=L.useContext(Pl),{navigator:S,basename:T}=L.useContext(Gn),A=k!=null&&ux(M)&&g===!0,C=S.encodeLocation?S.encodeLocation(M).pathname:M.pathname,D=y.pathname,F=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(D=D.toLowerCase(),F=F?F.toLowerCase():null,C=C.toLowerCase()),F&&T&&(F=zr(F,T)||F);const q=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let b=D===C||!a&&D.startsWith(C)&&D.charAt(q)==="/",E=F!=null&&(F===C||!a&&F.startsWith(C)&&F.charAt(C.length)==="/"),R={isActive:b,isPending:E,isTransitioning:A},I=b?t:void 0,K;typeof o=="function"?K=o(R):K=[o,b?"active":null,E?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let Y=typeof u=="function"?u(R):u;return L.createElement(Il,{...p,"aria-current":I,className:K,ref:v,style:Y,to:d,viewTransition:g},typeof f=="function"?f(R):f)});km.displayName="NavLink";var nx=L.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:o,replace:a,state:u,method:d=al,action:g,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:M,...y},k)=>{let S=ax(),T=lx(g,{relative:p}),A=d.toLowerCase()==="get"?"get":"post",C=typeof g=="string"&&Em.test(g),D=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let q=F.nativeEvent.submitter,b=(q==null?void 0:q.getAttribute("formmethod"))||d;S(q||F.currentTarget,{fetcherKey:t,method:b,navigate:i,replace:a,state:u,relative:p,preventScrollReset:v,viewTransition:M})};return L.createElement("form",{ref:k,method:A,action:T,onSubmit:o?f:D,...y,"data-discover":!C&&r==="render"?"true":void 0})});nx.displayName="Form";function rx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cm(r){let t=L.useContext(Ns);return $e(t,rx(r)),t}function ix(r,{target:t,replace:i,state:o,preventScrollReset:a,relative:u,viewTransition:d}={}){let g=gw(),f=Kr(),p=_o(r,{relative:u});return L.useCallback(v=>{if(jw(v,t)){v.preventDefault();let M=i!==void 0?i:Ro(f)===Ro(p);g(r,{replace:M,state:o,preventScrollReset:a,relative:u,viewTransition:d})}},[f,g,p,i,o,t,r,a,u,d])}var sx=0,ox=()=>`__${String(++sx)}__`;function ax(){let{router:r}=Cm("useSubmit"),{basename:t}=L.useContext(Gn),i=Rw();return L.useCallback(async(o,a={})=>{let{action:u,method:d,encType:g,formData:f,body:p}=_w(o,t);if(a.navigate===!1){let v=a.fetcherKey||ox();await r.fetch(v,i,a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||d,formEncType:a.encType||g,flushSync:a.flushSync})}else await r.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||d,formEncType:a.encType||g,replace:a.replace,state:a.state,fromRouteId:i,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,t,i])}function lx(r,{relative:t}={}){let{basename:i}=L.useContext(Gn),o=L.useContext(lr);$e(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),u={..._o(r||".",{relative:t})},d=Kr();if(r==null){u.search=d.search;let g=new URLSearchParams(u.search),f=g.getAll("index");if(f.some(v=>v==="")){g.delete("index"),f.filter(M=>M).forEach(M=>g.append("index",M));let v=g.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:sr([i,u.pathname])),Ro(u)}function ux(r,t={}){let i=L.useContext(mm);$e(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Cm("useViewTransitionState"),a=_o(r,{relative:t.relative});if(!i.isTransitioning)return!1;let u=zr(i.currentLocation.pathname,o)||i.currentLocation.pathname,d=zr(i.nextLocation.pathname,o)||i.nextLocation.pathname;return hl(a.pathname,d)!=null||hl(a.pathname,u)!=null}new TextEncoder;const cx="_gameGrid_7dvw9_1",dx="_gameCard_7dvw9_21",fx="_thumbnail_7dvw9_55",hx="_gameTitle_7dvw9_89",el={gameGrid:cx,gameCard:dx,thumbnail:fx,gameTitle:hx};var px=Object.defineProperty,m=(r,t)=>px(r,"name",{value:t,configurable:!0}),mx=(()=>{for(var r=new Uint8Array(128),t=0;t<64;t++)r[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return i=>{for(var o=i.length,a=new Uint8Array((o-(i[o-1]=="=")-(i[o-2]=="="))*3/4|0),u=0,d=0;u<o;){var g=r[i.charCodeAt(u++)],f=r[i.charCodeAt(u++)],p=r[i.charCodeAt(u++)],v=r[i.charCodeAt(u++)];a[d++]=g<<2|f>>4,a[d++]=f<<4|p>>2,a[d++]=p<<6|v}return a}})(),Oe,Ne=(Oe=class{constructor(t,i,o){H(this,"r",255);H(this,"g",255);H(this,"b",255);this.r=Nn(t,0,255),this.g=Nn(i,0,255),this.b=Nn(o,0,255)}static fromArray(t){return new Oe(t[0],t[1],t[2])}static fromHex(t){if(typeof t=="number")return new Oe(t>>16&255,t>>8&255,t>>0&255);if(typeof t=="string"){let i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!i)throw new Error("Invalid hex color format");return new Oe(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(t,i,o){if(i==0)return new Oe(255*o,255*o,255*o);let a=m((v,M,y)=>(y<0&&(y+=1),y>1&&(y-=1),y<1/6?v+(M-v)*6*y:y<1/2?M:y<2/3?v+(M-v)*(2/3-y)*6:v),"hue2rgb"),u=o<.5?o*(1+i):o+i-o*i,d=2*o-u,g=a(d,u,t+1/3),f=a(d,u,t),p=a(d,u,t-1/3);return new Oe(Math.round(g*255),Math.round(f*255),Math.round(p*255))}clone(){return new Oe(this.r,this.g,this.b)}lighten(t){return new Oe(this.r+t,this.g+t,this.b+t)}darken(t){return this.lighten(-t)}invert(){return new Oe(255-this.r,255-this.g,255-this.b)}mult(t){return new Oe(this.r*t.r/255,this.g*t.g/255,this.b*t.b/255)}lerp(t,i){return new Oe(Yt(this.r,t.r,i),Yt(this.g,t.g,i),Yt(this.b,t.b,i))}toHSL(){let t=this.r/255,i=this.g/255,o=this.b/255,a=Math.max(t,i,o),u=Math.min(t,i,o),d=(a+u)/2,g=d,f=d;if(a==u)d=g=0;else{let p=a-u;switch(g=f>.5?p/(2-a-u):p/(a+u),a){case t:d=(i-o)/p+(i<o?6:0);break;case i:d=(o-t)/p+2;break;case o:d=(t-i)/p+4;break}d/=6}return[d,g,f]}eq(t){return this.r===t.r&&this.g===t.g&&this.b===t.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}},m(Oe,"Color"),H(Oe,"RED",new Oe(255,0,0)),H(Oe,"GREEN",new Oe(0,255,0)),H(Oe,"BLUE",new Oe(0,0,255)),H(Oe,"YELLOW",new Oe(255,255,0)),H(Oe,"MAGENTA",new Oe(255,0,255)),H(Oe,"CYAN",new Oe(0,255,255)),H(Oe,"WHITE",new Oe(255,255,255)),H(Oe,"BLACK",new Oe(0,0,0)),Oe);function Le(...r){if(r.length===0)return new Ne(255,255,255);if(r.length===1){if(r[0]instanceof Ne)return r[0].clone();if(typeof r[0]=="string")return Ne.fromHex(r[0]);if(Array.isArray(r[0])&&r[0].length===3)return Ne.fromArray(r[0])}else if(r.length===2){if(r[0]instanceof Ne)return r[0].clone()}else if(r.length===3||r.length===4)return new Ne(r[0],r[1],r[2]);throw new Error("Invalid color arguments")}m(Le,"rgb");var gx=m((r,t,i)=>Ne.fromHSL(r,t,i),"hsl2rgb");function dt(r){return r*Math.PI/180}m(dt,"deg2rad");function Ur(r){return r*180/Math.PI}m(Ur,"rad2deg");function Nn(r,t,i){return t>i?Nn(r,i,t):Math.min(Math.max(r,t),i)}m(Nn,"clamp");function Yt(r,t,i){if(typeof r=="number"&&typeof t=="number")return r+(t-r)*i;if(r instanceof $&&t instanceof $||r instanceof Ne&&t instanceof Ne)return r.lerp(t,i);throw new Error(`Bad value for lerp(): ${r}, ${t}. Only number, Vec2 and Color is supported.`)}m(Yt,"lerp");function In(r,t,i,o,a){return o+(r-t)/(i-t)*(a-o)}m(In,"map");function Mm(r,t,i,o,a){return Nn(In(r,t,i,o,a),o,a)}m(Mm,"mapc");var He,$=(He=class{constructor(t=0,i=t){H(this,"x",0);H(this,"y",0);this.x=t,this.y=i}static fromAngle(t){let i=dt(t);return new He(Math.cos(i),Math.sin(i))}static fromArray(t){return new He(t[0],t[1])}clone(){return new He(this.x,this.y)}add(...t){let i=Q(...t);return new He(this.x+i.x,this.y+i.y)}sub(...t){let i=Q(...t);return new He(this.x-i.x,this.y-i.y)}scale(...t){let i=Q(...t);return new He(this.x*i.x,this.y*i.y)}dist(...t){let i=Q(...t);return this.sub(i).len()}sdist(...t){let i=Q(...t);return this.sub(i).slen()}static sdist(t,i){let o=t.x-i.x,a=t.y-i.y;return o*o+a*a}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let t=this.len();return t===0?new He(0):this.scale(1/t)}normal(){return new He(this.y,-this.x)}reflect(t){return this.sub(t.scale(2*this.dot(t)))}project(t){return t.scale(t.dot(this)/t.len())}reject(t){return this.sub(this.project(t))}dot(t){return this.x*t.x+this.y*t.y}static dot(t,i){return t.x*t.x+t.y*t.y}cross(t){return this.x*t.y-this.y*t.x}static cross(t,i){return t.x*i.y-t.y*i.x}angle(...t){let i=Q(...t);return Ur(Math.atan2(this.y-i.y,this.x-i.x))}angleBetween(...t){let i=Q(...t);return Ur(Math.atan2(this.cross(i),this.dot(i)))}lerp(t,i){return new He(Yt(this.x,t.x,i),Yt(this.y,t.y,i))}slerp(t,i){let o=this.dot(t),a=this.cross(t),u=Math.atan2(a,o);return this.scale(Math.sin((1-i)*u)).add(t.scale(Math.sin(i*u))).scale(1/a)}isZero(){return this.x===0&&this.y===0}toFixed(t){return new He(Number(this.x.toFixed(t)),Number(this.y.toFixed(t)))}transform(t){return t.multVec2(this)}eq(t){return this.x===t.x&&this.y===t.y}bbox(){return new Ze(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}},m(He,"Vec2"),H(He,"ZERO",new He(0,0)),H(He,"ONE",new He(1,1)),H(He,"LEFT",new He(-1,0)),H(He,"RIGHT",new He(1,0)),H(He,"UP",new He(0,-1)),H(He,"DOWN",new He(0,1)),He);function Q(...r){if(r.length===1){if(r[0]instanceof $)return new $(r[0].x,r[0].y);if(Array.isArray(r[0])&&r[0].length===2)return new $(...r[0])}return new $(...r)}m(Q,"vec2");var Or,it=(Or=class{constructor(t,i,o,a){H(this,"x",0);H(this,"y",0);H(this,"w",1);H(this,"h",1);this.x=t,this.y=i,this.w=o,this.h=a}scale(t){return new Or(this.x+this.w*t.x,this.y+this.h*t.y,this.w*t.w,this.h*t.h)}pos(){return new $(this.x,this.y)}clone(){return new Or(this.x,this.y,this.w,this.h)}eq(t){return this.x===t.x&&this.y===t.y&&this.w===t.w&&this.h===t.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}},m(Or,"Quad"),Or);function ct(r,t,i,o){return new it(r,t,i,o)}m(ct,"quad");var Pn,pl=(Pn=class{constructor(t,i,o,a){H(this,"a");H(this,"b");H(this,"c");H(this,"d");this.a=t,this.b=i,this.c=o,this.d=a}mul(t){return new Pn(this.a*t.a+this.b*t.c,this.a*t.b+this.b*t.d,this.c*t.a+this.d*t.c,this.c*t.b+this.d*t.d)}transform(t){return Q(this.a*t.x+this.b*t.y,this.c*t.x+this.d*t.y)}get inverse(){let t=this.det;return new Pn(this.d/t,-this.b/t,-this.c/t,this.a/t)}get transpose(){return new Pn(this.a,this.c,this.b,this.d)}get eigenvalues(){let t=this.trace/2,i=this.det,o=t+Math.sqrt(t*t-i),a=t-Math.sqrt(t*t-i);return[o,a]}eigenvectors(t,i){return this.c!=0?[[t-this.d,this.c],[i-this.d,this.c]]:this.b!=0?[[this.b,t-this.a],[this.b,i-this.a]]:Math.abs(this.transform(Q(1,0)).x-t)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(t){let i=Math.cos(t),o=Math.sin(t);return new Pn(i,o,-o,i)}static scale(t,i){return new Pn(t,0,0,i)}},m(Pn,"Mat2"),Pn),qn,So=(qn=class{constructor(t,i,o,a,u,d,g,f,p){H(this,"m11");H(this,"m12");H(this,"m13");H(this,"m21");H(this,"m22");H(this,"m23");H(this,"m31");H(this,"m32");H(this,"m33");this.m11=t,this.m12=i,this.m13=o,this.m21=a,this.m22=u,this.m23=d,this.m31=g,this.m32=f,this.m33=p}static fromMat2(t){return new qn(t.a,t.b,0,t.c,t.d,0,0,0,1)}toMat2(){return new pl(this.m11,this.m12,this.m21,this.m22)}mul(t){return new qn(this.m11*t.m11+this.m12*t.m21+this.m13*t.m31,this.m11*t.m12+this.m12*t.m22+this.m13*t.m32,this.m11*t.m13+this.m12*t.m23+this.m13*t.m33,this.m21*t.m11+this.m22*t.m21+this.m23*t.m31,this.m21*t.m12+this.m22*t.m22+this.m23*t.m32,this.m21*t.m13+this.m22*t.m23+this.m23*t.m33,this.m31*t.m11+this.m32*t.m21+this.m33*t.m31,this.m31*t.m12+this.m32*t.m22+this.m33*t.m32,this.m31*t.m13+this.m32*t.m23+this.m33*t.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(t){let i=Math.cos(t),o=Math.sin(t),a=this.m11,u=this.m12;return this.m11=i*this.m11+o*this.m21,this.m12=i*this.m12+o*this.m22,this.m21=i*this.m21-o*a,this.m22=i*this.m22-o*u,this}scale(t,i){return this.m11*=t,this.m12*=t,this.m21*=i,this.m22*=i,this}get inverse(){let t=this.det;return new qn((this.m22*this.m33-this.m23*this.m32)/t,(this.m13*this.m32-this.m12*this.m33)/t,(this.m12*this.m23-this.m13*this.m22)/t,(this.m23*this.m31-this.m21*this.m33)/t,(this.m11*this.m33-this.m13*this.m31)/t,(this.m13*this.m21-this.m11*this.m23)/t,(this.m21*this.m32-this.m22*this.m31)/t,(this.m12*this.m31-this.m11*this.m32)/t,(this.m11*this.m22-this.m12*this.m21)/t)}get transpose(){return new qn(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},m(qn,"Mat3"),qn),Wt,Hn=(Wt=class{constructor(t){H(this,"m",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);t&&(this.m=t)}static translate(t){return new Wt([1,0,0,0,0,1,0,0,0,0,1,0,t.x,t.y,0,1])}static scale(t){return new Wt([t.x,0,0,0,0,t.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(t){t=dt(-t);let i=Math.cos(t),o=Math.sin(t);return new Wt([1,0,0,0,0,i,-o,0,0,o,i,0,0,0,0,1])}static rotateY(t){t=dt(-t);let i=Math.cos(t),o=Math.sin(t);return new Wt([i,0,o,0,0,1,0,0,-o,0,i,0,0,0,0,1])}static rotateZ(t){t=dt(-t);let i=Math.cos(t),o=Math.sin(t);return new Wt([i,-o,0,0,o,i,0,0,0,0,1,0,0,0,0,1])}translate(t){return this.m[12]+=this.m[0]*t.x+this.m[4]*t.y,this.m[13]+=this.m[1]*t.x+this.m[5]*t.y,this.m[14]+=this.m[2]*t.x+this.m[6]*t.y,this.m[15]+=this.m[3]*t.x+this.m[7]*t.y,this}scale(t){return this.m[0]*=t.x,this.m[4]*=t.y,this.m[1]*=t.x,this.m[5]*=t.y,this.m[2]*=t.x,this.m[6]*=t.y,this.m[3]*=t.x,this.m[7]*=t.y,this}rotate(t){t=dt(-t);let i=Math.cos(t),o=Math.sin(t),a=this.m[0],u=this.m[1],d=this.m[4],g=this.m[5];return this.m[0]=a*i+u*o,this.m[1]=-a*o+u*i,this.m[4]=d*i+g*o,this.m[5]=-d*o+g*i,this}mult(t){let i=[];for(let o=0;o<4;o++)for(let a=0;a<4;a++)i[o*4+a]=this.m[0*4+a]*t.m[o*4+0]+this.m[1*4+a]*t.m[o*4+1]+this.m[2*4+a]*t.m[o*4+2]+this.m[3*4+a]*t.m[o*4+3];return new Wt(i)}multVec2(t){return new $(t.x*this.m[0]+t.y*this.m[4]+this.m[12],t.x*this.m[1]+t.y*this.m[5]+this.m[13])}getTranslation(){return new $(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let t=this.m[0]*this.m[5]-this.m[1]*this.m[4],i=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new $(i,t/i)}else if(this.m[4]!=0||this.m[5]!=0){let t=this.m[0]*this.m[5]-this.m[1]*this.m[4],i=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new $(t/i,i)}else return new $(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let t=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return Ur(this.m[1]>0?Math.acos(this.m[0]/t):-Math.acos(this.m[0]/t))}else if(this.m[4]!=0||this.m[5]!=0){let t=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return Ur(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/t):-Math.acos(this.m[4]/t)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let t=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new $(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(t*t),0)}else if(this.m[4]!=0||this.m[5]!=0){let t=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new $(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(t*t))}else return new $(0,0)}invert(){let t=[],i=this.m[10]*this.m[15]-this.m[14]*this.m[11],o=this.m[9]*this.m[15]-this.m[13]*this.m[11],a=this.m[9]*this.m[14]-this.m[13]*this.m[10],u=this.m[8]*this.m[15]-this.m[12]*this.m[11],d=this.m[8]*this.m[14]-this.m[12]*this.m[10],g=this.m[8]*this.m[13]-this.m[12]*this.m[9],f=this.m[6]*this.m[15]-this.m[14]*this.m[7],p=this.m[5]*this.m[15]-this.m[13]*this.m[7],v=this.m[5]*this.m[14]-this.m[13]*this.m[6],M=this.m[4]*this.m[15]-this.m[12]*this.m[7],y=this.m[4]*this.m[14]-this.m[12]*this.m[6],k=this.m[5]*this.m[15]-this.m[13]*this.m[7],S=this.m[4]*this.m[13]-this.m[12]*this.m[5],T=this.m[6]*this.m[11]-this.m[10]*this.m[7],A=this.m[5]*this.m[11]-this.m[9]*this.m[7],C=this.m[5]*this.m[10]-this.m[9]*this.m[6],D=this.m[4]*this.m[11]-this.m[8]*this.m[7],F=this.m[4]*this.m[10]-this.m[8]*this.m[6],q=this.m[4]*this.m[9]-this.m[8]*this.m[5];t[0]=this.m[5]*i-this.m[6]*o+this.m[7]*a,t[4]=-(this.m[4]*i-this.m[6]*u+this.m[7]*d),t[8]=this.m[4]*o-this.m[5]*u+this.m[7]*g,t[12]=-(this.m[4]*a-this.m[5]*d+this.m[6]*g),t[1]=-(this.m[1]*i-this.m[2]*o+this.m[3]*a),t[5]=this.m[0]*i-this.m[2]*u+this.m[3]*d,t[9]=-(this.m[0]*o-this.m[1]*u+this.m[3]*g),t[13]=this.m[0]*a-this.m[1]*d+this.m[2]*g,t[2]=this.m[1]*f-this.m[2]*p+this.m[3]*v,t[6]=-(this.m[0]*f-this.m[2]*M+this.m[3]*y),t[10]=this.m[0]*k-this.m[1]*M+this.m[3]*S,t[14]=-(this.m[0]*v-this.m[1]*y+this.m[2]*S),t[3]=-(this.m[1]*T-this.m[2]*A+this.m[3]*C),t[7]=this.m[0]*T-this.m[2]*D+this.m[3]*F,t[11]=-(this.m[0]*A-this.m[1]*D+this.m[3]*q),t[15]=this.m[0]*C-this.m[1]*F+this.m[2]*q;let b=this.m[0]*t[0]+this.m[1]*t[4]+this.m[2]*t[8]+this.m[3]*t[12];for(let E=0;E<4;E++)for(let R=0;R<4;R++)t[E*4+R]*=1/b;return new Wt(t)}clone(){return new Wt([...this.m])}toString(){return this.m.toString()}},m(Wt,"Mat4"),Wt);function sd(r,t,i,o=a=>-Math.cos(a)){return r+(o(i)+1)/2*(t-r)}m(sd,"wave");var yx=1103515245,vx=12345,em=2147483648,os,Rm=(os=class{constructor(t){H(this,"seed");this.seed=t}gen(){return this.seed=(yx*this.seed+vx)%em,this.seed/em}genNumber(t,i){return t+this.gen()*(i-t)}genVec2(t,i){return new $(this.genNumber(t.x,i.x),this.genNumber(t.y,i.y))}genColor(t,i){return new Ne(this.genNumber(t.r,i.r),this.genNumber(t.g,i.g),this.genNumber(t.b,i.b))}genAny(...t){if(t.length===0)return this.gen();if(t.length===1){if(typeof t[0]=="number")return this.genNumber(0,t[0]);if(t[0]instanceof $)return this.genVec2(Q(0,0),t[0]);if(t[0]instanceof Ne)return this.genColor(Le(0,0,0),t[0])}else if(t.length===2){if(typeof t[0]=="number"&&typeof t[1]=="number")return this.genNumber(t[0],t[1]);if(t[0]instanceof $&&t[1]instanceof $)return this.genVec2(t[0],t[1]);if(t[0]instanceof Ne&&t[1]instanceof Ne)return this.genColor(t[0],t[1])}throw new Error("More than 2 arguments not supported")}},m(os,"RNG"),os),qc=new Rm(Date.now());function Pm(r){return r!=null&&(qc.seed=r),qc.seed}m(Pm,"randSeed");function vt(...r){return qc.genAny(...r)}m(vt,"rand");function od(...r){return Math.floor(vt(...r.length>0?r:[2]))}m(od,"randi");function Tm(r){return vt()<=r}m(Tm,"chance");function ad(r){for(let t=r.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1));[r[t],r[i]]=[r[i],r[t]]}return r}m(ad,"shuffle");function Im(r,t){return r.length<=t?r.slice():ad(r.slice()).slice(0,t)}m(Im,"chooseMultiple");function Nm(r){return r[od(r.length)]}m(Nm,"choose");function ld(r,t){return r.pos.x+r.width>t.pos.x&&r.pos.x<t.pos.x+t.width&&r.pos.y+r.height>t.pos.y&&r.pos.y<t.pos.y+t.height}m(ld,"testRectRect");function Fm(r,t){if(r.p1.x===r.p2.x&&r.p1.y===r.p2.y||t.p1.x===t.p2.x&&t.p1.y===t.p2.y)return null;let i=(t.p2.y-t.p1.y)*(r.p2.x-r.p1.x)-(t.p2.x-t.p1.x)*(r.p2.y-r.p1.y);if(i===0)return null;let o=((t.p2.x-t.p1.x)*(r.p1.y-t.p1.y)-(t.p2.y-t.p1.y)*(r.p1.x-t.p1.x))/i,a=((r.p2.x-r.p1.x)*(r.p1.y-t.p1.y)-(r.p2.y-r.p1.y)*(r.p1.x-t.p1.x))/i;return o<0||o>1||a<0||a>1?null:o}m(Fm,"testLineLineT");function Nl(r,t){let i=Fm(r,t);return i?Q(r.p1.x+i*(r.p2.x-r.p1.x),r.p1.y+i*(r.p2.y-r.p1.y)):null}m(Nl,"testLineLine");function Fl(r,t){let i=t.p2.sub(t.p1),o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;if(i.x!=0){let u=(r.pos.x-t.p1.x)/i.x,d=(r.pos.x+r.width-t.p1.x)/i.x;o=Math.max(o,Math.min(u,d)),a=Math.min(a,Math.max(u,d))}if(i.y!=0){let u=(r.pos.y-t.p1.y)/i.y,d=(r.pos.y+r.height-t.p1.y)/i.y;o=Math.max(o,Math.min(u,d)),a=Math.min(a,Math.max(u,d))}return a>=o&&a>=0&&o<=1}m(Fl,"testRectLine");function qo(r,t){return t.x>r.pos.x&&t.x<r.pos.x+r.width&&t.y>r.pos.y&&t.y<r.pos.y+r.height}m(qo,"testRectPoint");function ud(r,t){let i=Math.max(r.pos.x,Math.min(t.center.x,r.pos.x+r.width)),o=Math.max(r.pos.y,Math.min(t.center.y,r.pos.y+r.height));return Q(i,o).sdist(t.center)<=t.radius*t.radius}m(ud,"testRectCircle");function cd(r,t){return dd(t,new Xt(r.points()))}m(cd,"testRectPolygon");function Dl(r,t){let i=t.sub(r.p1),o=r.p2.sub(r.p1);if(Math.abs(i.cross(o))>Number.EPSILON)return!1;let a=i.dot(o)/o.dot(o);return a>=0&&a<=1}m(Dl,"testLinePoint");function Fs(r,t){let i=r.p2.sub(r.p1),o=i.dot(i),a=r.p1.sub(t.center),u=2*i.dot(a),d=a.dot(a)-t.radius*t.radius,g=u*u-4*o*d;if(o<=Number.EPSILON||g<0)return!1;if(g==0){let f=-u/(2*o);if(f>=0&&f<=1)return!0}else{let f=(-u+Math.sqrt(g))/(2*o),p=(-u-Math.sqrt(g))/(2*o);if(f>=0&&f<=1||p>=0&&p<=1)return!0}return zo(t,r.p1)}m(Fs,"testLineCircle");function bl(r,t){if(ar(t,r.p1)||ar(t,r.p2))return!0;for(let i=0;i<t.pts.length;i++){let o=t.pts[i],a=t.pts[(i+1)%t.pts.length];if(Nl(r,new ln(o,a)))return!0}return!1}m(bl,"testLinePolygon");function zo(r,t){return r.center.sdist(t)<r.radius*r.radius}m(zo,"testCirclePoint");function Dm(r,t){return r.center.sdist(t.center)<(r.radius+t.radius)*(r.radius+t.radius)}m(Dm,"testCircleCircle");function Uo(r,t){let i=t.pts[t.pts.length-1];for(let o of t.pts){if(Fs(new ln(i,o),r))return!0;i=o}return zo(r,t.pts[0])?!0:ar(t,r.center)}m(Uo,"testCirclePolygon");function dd(r,t){for(let i=0;i<r.pts.length;i++)if(bl(new ln(r.pts[i],r.pts[(i+1)%r.pts.length]),t))return!0;return!!(r.pts.some(i=>ar(t,i))||t.pts.some(i=>ar(r,i)))}m(dd,"testPolygonPolygon");function ar(r,t){let i=!1,o=r.pts;for(let a=0,u=o.length-1;a<o.length;u=a++)o[a].y>t.y!=o[u].y>t.y&&t.x<(o[u].x-o[a].x)*(t.y-o[a].y)/(o[u].y-o[a].y)+o[a].x&&(i=!i);return i}m(ar,"testPolygonPoint");function Bl(r,t){t=t.sub(r.center);let i=dt(r.angle),o=Math.cos(i),a=Math.sin(i),u=t.x*o+t.y*a,d=-t.x*a+t.y*o;return u*u/(r.radiusX*r.radiusX)+d*d/(r.radiusY*r.radiusY)<1}m(Bl,"testEllipsePoint");function Po(r,t){let i=t.center.sub(r.center),o=dt(r.angle),a=Math.cos(o),u=Math.sin(o),d=i.x*a+i.y*u,g=-i.x*u+i.y*a;return Bl(new ur(Q(),r.radiusX+t.radius,r.radiusY+t.radius,0),Q(d,g))}m(Po,"testEllipseCircle");function fd(r,t){let i=r.toMat2().inverse;return t=new ln(i.transform(t.p1.sub(r.center)),i.transform(t.p2.sub(r.center))),Fs(t,new on(Q(),1))}m(fd,"testEllipseLine");function bm(r,t){if(r.radiusX===r.radiusY)return Po(t,new on(r.center,r.radiusX));if(t.radiusX===t.radiusY)return Po(r,new on(t.center,t.radiusX));let i=new So(1/r.radiusX**2,0,0,0,1/r.radiusY**2,0,0,0,-1),o=new So(1/t.radiusX**2,0,0,0,1/t.radiusY**2,0,0,0,-1),a=r.center.x,u=r.center.y,d=t.center.x,g=t.center.y,f=dt(r.angle),p=dt(t.angle),v=new So(Math.cos(f),-Math.sin(f),a,Math.sin(f),Math.cos(f),u,0,0,1),M=new So(Math.cos(p),-Math.sin(p),d,Math.sin(p),Math.cos(p),g,0,0,1),y=v.inverse,k=M.inverse,S=y.transpose.mul(i).mul(y),T=k.transpose.mul(o).mul(k),A=S.m11,C=S.m12,D=S.m13,F=S.m21,q=S.m22,b=S.m23,E=S.m31,R=S.m32,I=S.m33,K=T.m11,Y=T.m12,J=T.m13,oe=T.m21,ue=T.m22,ve=T.m23,Ce=T.m31,ge=T.m32,he=T.m33,te=A*q*I-A*b*R-C*F*I+C*b*E+D*F*R-D*q*E,ae=(A*q*he-A*b*ge-A*R*ve+A*I*ue-C*F*he+C*b*Ce+C*E*ve-C*I*oe+D*F*ge-D*q*Ce-D*E*ue+D*R*oe+F*R*J-F*I*Y-q*E*J+q*I*K+b*E*Y-b*R*K)/te,re=(A*ue*he-A*ve*ge-C*oe*he+C*ve*Ce+D*oe*ge-D*ue*Ce-F*Y*he+F*J*ge+q*K*he-q*J*Ce-b*K*ge+b*Y*Ce+E*Y*ve-E*J*ue-R*K*ve+R*J*oe+I*K*ue-I*Y*oe)/te,_=(K*ue*he-K*ve*ge-Y*oe*he+Y*ve*Ce+J*oe*ge-J*ue*Ce)/te;if(ae>=0){let G=-3*re+ae**2,Ae=3*ae*_+re*ae**2-4*re**2,ke=-27*_**2+18*_*ae*re+ae**2*re**2-4*ae**3*_-4*re**3;return!(G>0&&Ae<0&&ke>0)}else{let G=-3*re+ae**2,Ae=-27*_**2+18*_*ae*re+ae**2*re**2-4*ae**3*_-4*re**3;return!(G>0&&Ae>0)}}m(bm,"testEllipseEllipse");function hd(r,t){return jl(r,new Xt(t.points()))}m(hd,"testEllipseRect");function jl(r,t){let i=r.toMat2().inverse;return t=new Xt(t.pts.map(o=>i.transform(o.sub(r.center)))),Uo(new on(Q(),1),t)}m(jl,"testEllipsePolygon");function Bm(r,t){return r.x===t.x&&r.y===t.y}m(Bm,"testPointPoint");function jm(r,t){return t instanceof $?Bm(t,r.pt):t instanceof on?zo(t,r.pt):t instanceof ln?Dl(t,r.pt):t instanceof Ze?qo(t,r.pt):t instanceof Xt?ar(t,r.pt):t instanceof ur?Bl(t,r.pt):!1}m(jm,"testPointShape");function Om(r,t){return t instanceof $?Dl(r,t):t instanceof on?Fs(r,t):t instanceof ln?Nl(r,t)!=null:t instanceof Ze?Fl(t,r):t instanceof Xt?bl(r,t):t instanceof ur?fd(t,r):!1}m(Om,"testLineShape");function Lm(r,t){return t instanceof $?zo(r,t):t instanceof on?Dm(r,t):t instanceof ln?Fs(t,r):t instanceof Ze?ud(t,r):t instanceof Xt?Uo(r,t):t instanceof ur?Po(t,r):!1}m(Lm,"testCircleShape");function _m(r,t){return t instanceof $?qo(r,t):t instanceof on?ud(r,t):t instanceof ln?Fl(r,t):t instanceof Ze?ld(r,t):t instanceof Xt?cd(r,t):t instanceof ur?hd(t,r):!1}m(_m,"testRectShape");function qm(r,t){return t instanceof $?ar(r,t):t instanceof on?Uo(t,r):t instanceof ln?bl(t,r):t instanceof Ze?cd(t,r):t instanceof Xt?dd(t,r):t instanceof ur?jl(t,r):!1}m(qm,"testPolygonShape");function zm(r,t){return t instanceof $?Bl(r,t):t instanceof on?Po(r,t):t instanceof ln?fd(r,t):t instanceof Ze?hd(r,t):t instanceof Xt?jl(r,t):t instanceof ur?bm(t,r):!1}m(zm,"testEllipseShape");function pd(r,t,i){let o=r,a=i.p1,u=i.p2,d=t,g=u.sub(a),f=d.cross(g);if(Math.abs(f)<Number.EPSILON)return null;let p=a.sub(o),v=p.cross(g)/f;if(v<=0||v>=1)return null;let M=p.cross(d)/f;if(M<=0||M>=1)return null;let y=g.normal().unit();return t.dot(y)>0&&(y.x*=-1,y.y*=-1),{point:o.add(d.scale(v)),normal:y,fraction:v}}m(pd,"raycastLine");function Um(r,t,i){let o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,u;if(r.x!=0){let d=(i.pos.x-r.x)/t.x,g=(i.pos.x+i.width-r.x)/t.x;u=Q(-Math.sign(t.x),0),o=Math.max(o,Math.min(d,g)),a=Math.min(a,Math.max(d,g))}if(r.y!=0){let d=(i.pos.y-r.y)/t.y,g=(i.pos.y+i.height-r.y)/t.y;Math.min(d,g)>o&&(u=Q(0,-Math.sign(t.y))),o=Math.max(o,Math.min(d,g)),a=Math.min(a,Math.max(d,g))}return a>=o&&o>=0&&o<=1?{point:r.add(t.scale(o)),normal:u,fraction:o}:null}m(Um,"raycastRect");function md(r,t,i){let o=r,a=i.center,u=t,d=u.dot(u),g=o.sub(a),f=2*u.dot(g),p=g.dot(g)-i.radius*i.radius,v=f*f-4*d*p;if(d<=Number.EPSILON||v<0)return null;if(v==0){let M=-f/(2*d);if(M>=0&&M<=1){let y=o.add(u.scale(M));return{point:y,normal:y.sub(a),fraction:M}}}else{let M=(-f+Math.sqrt(v))/(2*d),y=(-f-Math.sqrt(v))/(2*d),k=null;if(M>=0&&M<=1&&(k=M),y>=0&&y<=1&&(k=Math.min(y,k??y)),k!=null){let S=o.add(u.scale(k));return{point:S,normal:S.sub(a).unit(),fraction:k}}}return null}m(md,"raycastCircle");function Hm(r,t,i){let o=i.pts,a=null,u=o[o.length-1];for(let d=0;d<o.length;d++){let g=o[d],f=pd(r,t,new ln(u,g));f&&(!a||a.fraction>f.fraction)&&(a=f),u=g}return a}m(Hm,"raycastPolygon");function Vm(r,t,i){let o=i.toMat2(),a=o.inverse,u=a.transform(r.sub(i.center)),d=a.transform(t),g=md(u,d,new on(Q(),1));if(g){let f=pl.rotation(dt(-i.angle)),p=pl.scale(i.radiusX,i.radiusY).transform(g.point),v=o.transform(g.point).add(i.center),M=v.dist(r)/t.len();return{point:v,normal:f.transform(Q(i.radiusY**2*p.x,i.radiusX**2*p.y)).unit(),fraction:M}}return g}m(Vm,"raycastEllipse");function Gm(r,t,i,o=64){let a=r,u=t.len(),d=t.scale(1/u),g=0,f=Q(Math.floor(r.x),Math.floor(r.y)),p=Q(d.x>0?1:-1,d.y>0?1:-1),v=Q(Math.abs(1/d.x),Math.abs(1/d.y)),M=Q(p.x>0?f.x+1-r.x:r.x-f.x,p.y>0?f.y+1-r.y:r.y-f.y),y=Q(v.x<1/0?v.x*M.x:1/0,v.y<1/0?v.y*M.y:1/0),k=-1;for(;g<=o;){let S=i(f);if(S===!0)return{point:a.add(d.scale(g)),normal:Q(k===0?-p.x:0,k===1?-p.y:0),fraction:g/u,gridPos:f};if(S)return S;y.x<y.y?(f.x+=p.x,g=y.x,y.x+=v.x,k=0):(f.y+=p.y,g=y.y,y.y+=v.y,k=1)}return null}m(Gm,"raycastGrid");var Lr,wx=(Lr=class{constructor(t){H(this,"pt");this.pt=t.clone()}transform(t){return new Lr(t.multVec2(this.pt))}bbox(){return new Ze(this.pt,0,0)}area(){return 0}clone(){return new Lr(this.pt)}collides(t){return jm(this,t)}contains(t){return this.pt.eq(t)}raycast(t,i){return null}random(){return this.pt.clone()}},m(Lr,"Point"),Lr),_r,ln=(_r=class{constructor(t,i){H(this,"p1");H(this,"p2");this.p1=t.clone(),this.p2=i.clone()}transform(t){return new _r(t.multVec2(this.p1),t.multVec2(this.p2))}bbox(){return Ze.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new _r(this.p1,this.p2)}collides(t){return Om(this,t)}contains(t){return this.collides(t)}raycast(t,i){return pd(t,i,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(vt(1)))}},m(_r,"Line"),_r),qr,Ze=(qr=class{constructor(t,i,o){H(this,"pos");H(this,"width");H(this,"height");this.pos=t.clone(),this.width=i,this.height=o}static fromPoints(t,i){return new qr(t.clone(),i.x-t.x,i.y-t.y)}center(){return new $(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(t){return new Xt(this.points().map(i=>t.multVec2(i)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new qr(this.pos.clone(),this.width,this.height)}distToPoint(t){return Math.sqrt(this.sdistToPoint(t))}sdistToPoint(t){let i=this.pos,o=this.pos.add(this.width,this.height),a=Math.max(i.x-t.x,0,t.x-o.x),u=Math.max(i.y-t.y,0,t.y-o.y);return a*a+u*u}collides(t){return _m(this,t)}contains(t){return this.collides(t)}raycast(t,i){return Um(t,i,this)}random(){return this.pos.add(vt(this.width),vt(this.height))}},m(qr,"Rect"),qr),gi,on=(gi=class{constructor(t,i){H(this,"center");H(this,"radius");this.center=t.clone(),this.radius=i}transform(t){return new ur(this.center,this.radius,this.radius).transform(t)}bbox(){return Ze.fromPoints(this.center.sub(Q(this.radius)),this.center.add(Q(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new gi(this.center,this.radius)}collides(t){return Lm(this,t)}contains(t){return this.collides(t)}raycast(t,i){return md(t,i,this)}random(){return this.center.add($.fromAngle(vt(360)).scale(vt(this.radius)))}},m(gi,"Circle"),gi),Tn,ur=(Tn=class{constructor(t,i,o,a=0){H(this,"center");H(this,"radiusX");H(this,"radiusY");H(this,"angle");this.center=t.clone(),this.radiusX=i,this.radiusY=o,this.angle=a}static fromMat2(t){let i=t.inverse,o=i.transpose.mul(i),[a,u]=o.eigenvalues,[d,g]=o.eigenvectors(a,u),[f,p]=[1/Math.sqrt(a),1/Math.sqrt(u)];return f>p?new Tn(Q(),f,p,Ur(Math.atan2(-d[1],d[0]))):new Tn(Q(),p,f,Ur(Math.atan2(-g[1],g[0])))}toMat2(){let t=dt(this.angle),i=Math.cos(t),o=Math.sin(t);return new pl(i*this.radiusX,-o*this.radiusY,o*this.radiusX,i*this.radiusY)}transform(t){if(this.angle==0&&t.getRotation()==0)return new Tn(t.multVec2(this.center),t.m[0]*this.radiusX,t.m[5]*this.radiusY);{let i=this.toMat2(),o=t.getRotation(),a=t.getScale();i=So.fromMat2(i).scale(a.x,a.y).rotate(o).toMat2();let u=Tn.fromMat2(i);return u.center=t.multVec2(this.center),u}}bbox(){if(this.angle==0)return Ze.fromPoints(this.center.sub(Q(this.radiusX,this.radiusY)),this.center.add(Q(this.radiusX,this.radiusY)));{let t=dt(this.angle),i=Math.cos(t),o=Math.sin(t),a=this.radiusX*i,u=this.radiusX*o,d=this.radiusY*o,g=this.radiusY*i,f=Math.sqrt(a*a+d*d),p=Math.sqrt(u*u+g*g);return Ze.fromPoints(this.center.sub(Q(f,p)),this.center.add(Q(f,p)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new Tn(this.center,this.radiusX,this.radiusY,this.angle)}collides(t){return zm(this,t)}contains(t){t=t.sub(this.center);let i=dt(this.angle),o=Math.cos(i),a=Math.sin(i),u=t.x*o+t.y*a,d=-t.x*a+t.y*o;return u*u/(this.radiusX*this.radiusX)+d*d/(this.radiusY*this.radiusY)<1}raycast(t,i){return Vm(t,i,this)}random(){return this.center}},m(Tn,"Ellipse"),Tn);function Wm(r,t,i,o){let a=t.sub(r),u=o.sub(i),d=a.cross(u);return d<1e-5&&d>-1e-5||(d=i.sub(r).cross(u)/d,d<0||d>1)?null:r.add(a.scale(d))}m(Wm,"segmentLineIntersection");var zn,Xt=(zn=class{constructor(t){H(this,"pts");if(t.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=t}transform(t){return new zn(this.pts.map(i=>t.multVec2(i)))}bbox(){let t=Q(Number.MAX_VALUE),i=Q(-Number.MAX_VALUE);for(let o of this.pts)t.x=Math.min(t.x,o.x),i.x=Math.max(i.x,o.x),t.y=Math.min(t.y,o.y),i.y=Math.max(i.y,o.y);return Ze.fromPoints(t,i)}area(){let t=0,i=this.pts.length;for(let o=0;o<i;o++){let a=this.pts[o],u=this.pts[(o+1)%i];t+=a.x*u.y*.5,t-=u.x*a.y*.5}return Math.abs(t)}clone(){return new zn(this.pts.map(t=>t.clone()))}collides(t){return qm(this,t)}contains(t){return this.collides(t)}raycast(t,i){return Hm(t,i,this)}random(){return Q()}cut(t,i){new ln(t,i);let o=[],a=[],u=i.sub(t),d=this.pts[this.pts.length-1],g=d.sub(t),f=u.cross(g)>0;return this.pts.forEach(p=>{g=p.sub(t);let v=u.cross(g)>0;if(f!=v){let M=Wm(d,p,t,i);o.push(M),a.push(M),f=v}(v?o:a).push(p),d=p}),[o.length?new zn(o):null,a.length?new zn(a):null]}},m(zn,"Polygon"),zn);function Qm(r,t,i,o){let a=o*o,u=1-o,d=u*u;return r.scale(d).add(t.scale(2*u*o)).add(i.scale(a))}m(Qm,"evaluateQuadratic");function Km(r,t,i,o){let a=1-o;return t.sub(r).scale(2*a).add(i.sub(t).scale(2*o))}m(Km,"evaluateQuadraticFirstDerivative");function Ym(r,t,i,o){return i.sub(t.scale(2)).add(r).scale(2)}m(Ym,"evaluateQuadraticSecondDerivative");function Ol(r,t,i,o,a){let u=a*a,d=u*a,g=1-a,f=g*g,p=f*g;return r.scale(p).add(t.scale(3*f*a)).add(i.scale(3*g*u)).add(o.scale(d))}m(Ol,"evaluateBezier");function Xm(r,t,i,o,a){let u=a*a,d=1-a,g=d*d;return t.sub(r).scale(3*g).add(i.sub(t).scale(6*d*a)).add(o.sub(i).scale(3*u))}m(Xm,"evaluateBezierFirstDerivative");function $m(r,t,i,o,a){let u=1-a;return i.sub(t.scale(2)).add(r).scale(6*u).add(o.sub(i.scale(2)).add(t).scale(6*a))}m($m,"evaluateBezierSecondDerivative");function Zm(r,t,i,o,a){let u=.5*(((-a+2)*a-1)*a),d=.5*((3*a-5)*a*a+2),g=.5*(((-3*a+4)*a+1)*a),f=.5*((a-1)*a*a);return r.scale(u).add(t.scale(d)).add(i.scale(g)).add(o.scale(f))}m(Zm,"evaluateCatmullRom");function Jm(r,t,i,o,a){let u=.5*((-3*a+4)*a-1),d=.5*((9*a-10)*a),g=.5*((-9*a+8)*a+1),f=.5*((3*a-2)*a);return r.scale(u).add(t.scale(d)).add(i.scale(g)).add(o.scale(f))}m(Jm,"evaluateCatmullRomFirstDerivative");function eg(r){let t=gd(r),i=t(1);return o=>{let a=o*i,u=t(a,!0);return r(u)}}m(eg,"normalizedCurve");function gd(r,t=10,i=10){let o=[0],a=[0],u=1/(t-1)/i,d=0,g=r(0),f=0;for(let p=1;p<t;p++){for(let v=0;v<i;v++){f+=u;let M=r(f),y=M.dist(g);d+=y,g=M}o[p]=d,a[p]=f}return a[t-1]=1,(p,v=!1)=>{if(v){let M=p;if(M<=0)return 0;if(M>=d)return 1;let y=0;for(;o[y+1]<M;)y++;let k=a[y],S=a[y+1],T=o[y],A=o[y+1],C=(M-T)/(A-T);return k+(S-k)*C}else{if(p<=0)return 0;if(p>=1)return o[t-1];let M=0;for(;a[M+1]<p;)M++;let y=a[M],k=a[M+1],S=o[M],T=o[M+1],A=(p-y)/(k-y);return S+(T-S)*A}}}m(gd,"curveLengthApproximation");function Ds(r,t,i,o){let a=2*r+t-2*o+i,u=-3*r+3*o-2*t-i,d=t,g=r;return f=>{let p=f*f,v=p*f;return a*v+u*p+d*f+g}}m(Ds,"hermite");function yd(r,t,i,o,a,u=Ds){let d=u(t.x,(1-a)*(i.x-r.x),(1-a)*(o.x-t.x),i.x),g=u(t.y,(1-a)*(i.y-r.y),(1-a)*(o.y-t.y),i.y);return f=>new $(d(f),g(f))}m(yd,"cardinal");function To(r,t,i,o,a=Ds){return yd(r,t,i,o,.5,a)}m(To,"catmullRom");function tg(r,t,i,o,a=Ds){return To(o.add(r.sub(t).scale(6)),r,o,r.add(o.sub(i).scale(6)),a)}m(tg,"bezier");function ng(r,t,i,o,a,u,d,g=Ds){let f=g(t.x,.5*(1-a)*(1+d)*(1+u)*(t.x-r.x)+.5*(1-a)*(1-d)*(1-u)*(i.x-t.x),.5*(1-a)*(1+d)*(1-u)*(i.x-t.x)+.5*(1-a)*(1-d)*(1+u)*(o.x-i.x),i.x),p=g(t.y,.5*(1-a)*(1+d)*(1+u)*(t.y-r.y)+.5*(1-a)*(1-d)*(1-u)*(i.y-t.y),.5*(1-a)*(1+d)*(1-u)*(i.y-t.y)+.5*(1-a)*(1-d)*(1+u)*(o.y-i.y),i.y);return v=>new $(f(v),p(v))}m(ng,"kochanekBartels");function rg(r,t,i,o){let a=2*r+t-2*o+i,u=-3*r+3*o-2*t+i,d=t;return g=>{let f=g*g;return 3*a*f+2*u*g+d}}m(rg,"hermiteFirstDerivative");function Ji(r){return 0<=r&&r<=1}m(Ji,"inZeroOneDomain");function ul(r,t){return Math.abs(r-t)<=Number.EPSILON}m(ul,"approximately");function es(r){return r<0?-Math.pow(-r,1/3):Math.pow(r,1/3)}m(es,"cubeRoot");function ig(r,t,i,o){let a=3*r-6*t+3*i,u=-3*r+3*t,d=r,g=-r+3*t-3*i+o;if(ul(g,0)){if(ul(a,0))return ul(u,0)?[]:[-d/u].filter(Ji);let A=Math.sqrt(u*u-4*a*d),C=2*a;return[(A-u)/C,(-u-A)/C].filter(Ji)}a/=g,u/=g,d/=g;let f=(3*u-a*a)/3,p=f/3,v=(2*a*a*a-9*a*u+27*d)/27,M=v/2,y=M*M+p*p*p;if(y<0){let A=-f/3,C=A*A*A,D=Math.sqrt(C),F=-v/(2*D),q=F<-1?-1:F>1?1:F,b=Math.acos(q),E=2*es(D),R=E*Math.cos(b/3)-a/3,I=E*Math.cos((b+2*Math.PI)/3)-a/3,K=E*Math.cos((b+4*Math.PI)/3)-a/3;return[R,I,K].filter(Ji)}if(y===0){let A=M<0?es(-M):-es(M),C=2*A-a/3,D=-A-a/3;return[C,D].filter(Ji)}let k=Math.sqrt(y),S=es(k-M),T=es(k+M);return[S-T-a/3].filter(Ji)}m(ig,"getCubicRoots");function sg(r,t,i,o,a){let u=ig(r.x-a,t.x-a,i.x-a,o.x-a);return u.length>0?Ol(r,t,i,o,u[0]).y:NaN}m(sg,"cubicBezierYforX");function og(r){if(!r||r.length==0)throw new Error("Need at least one point for easingLinear.");let t=r.length;return i=>{if(i<=0||r.length==1||i<=r[0].x)return r[0].y;for(let o=0;o<t;o++)if(r[o].x>=i)return In(i,r[o-1].x,r[o].x,r[o-1].y,r[o].y);return r[r.length-1].y}}m(og,"easingLinear");function ag(r,t){return i=>sg(Q(0,0),r,t,Q(1,1),i)}m(ag,"easingCubicBezier");function lg(r,t="jump-end"){let i=1/r,o=t=="jump-start"||t=="jump-both",a=t=="jump-end"||t=="jump-both",u=1/(r+(a?1:0)),d=o?u:0;return g=>{let f=Math.floor(g/i);return d+f*u}}m(lg,"easingSteps");function ug(r,t){let i=Number.MAX_VALUE,o={normal:Q(0),distance:0};for(let a of[r,t])for(let u=0;u<a.pts.length;u++){let d=a.pts[u],g=a.pts[(u+1)%a.pts.length].sub(d).normal().unit(),f=Number.MAX_VALUE,p=-Number.MAX_VALUE;for(let k=0;k<r.pts.length;k++){let S=r.pts[k].dot(g);f=Math.min(f,S),p=Math.max(p,S)}let v=Number.MAX_VALUE,M=-Number.MAX_VALUE;for(let k=0;k<t.pts.length;k++){let S=t.pts[k].dot(g);v=Math.min(v,S),M=Math.max(M,S)}let y=Math.min(p,M)-Math.max(f,v);if(y<0)return null;if(y<Math.abs(i)){let k=M-f,S=v-p;i=Math.abs(k)<Math.abs(S)?k:S,o.normal=g,o.distance=i}}return o}m(ug,"sat");function vd(r,t,i){return(t.x-r.x)*(i.y-r.y)-(t.y-r.y)*(i.x-r.x)>=0}m(vd,"isOrientedCcw");function cg(r){let t=0,i=r[r.length-1];for(let o=0;o<r.length;o++)t+=(r[o].x-i.x)*(r[o].y+i.y),i=r[o];return t<0}m(cg,"isOrientedCcwPolygon");function cl(r,t,i,o){let a=o.x-i.x,u=o.y-i.y,d=a*(r.y-i.y)-u*(r.x-i.x),g=a*(t.y-i.y)-u*(t.x-i.x);return d*g>=0}m(cl,"onSameSide");function dg(r,t,i,o){return cl(r,t,i,o)&&cl(r,i,t,o)&&cl(r,o,t,i)}m(dg,"pointInTriangle");function fg(r,t,i,o){for(let a of r)if(a!==t&&a!==i&&a!==o&&dg(a,t,i,o))return!0;return!1}m(fg,"someInTriangle");function hg(r,t,i,o){return vd(r,t,i)&&!fg(o,r,t,i)}m(hg,"isEar");function wd(r){if(r.length<3)return[];if(r.length==3)return[r];let t=[],i=[],o=0;for(let M=0;M<r.length;M++){let y=r[o],k=r[M];(k.x<y.x||k.x==y.x&&k.y<y.y)&&(o=o),t[M]=M+1,i[M]=M-1}t[t.length-1]=0,i[0]=i.length-1,cg(r)||([t,i]=[i,t]);let a=[];for(let M=0;M<r.length;++M)vd(r[i[M]],r[M],r[t[M]])||a.push(r[M]);let u=[],d=r.length,g=1,f=0,p,v;for(;d>3;){p=t[g],v=i[g];let M=r[v],y=r[g],k=r[p];if(hg(M,y,k,a))u.push([M,y,k]),t[v]=p,i[p]=v,a.splice(a.indexOf(y),1),--d,f=0;else if(++f>d)return[];g=p}return p=t[g],v=i[g],u.push([r[v],r[g],r[p]]),u}m(wd,"triangulate");function pg(r){if(r.length<3)return!1;let t=r.length-2,i=r.length-1,o=0,a=r[i].sub(r[t]),u=r[o].sub(r[i]),d=a.cross(u);for(;o+1<r.length;)if(t=i,i=o,o++,a=r[i].sub(r[t]),u=r[o].sub(r[i]),a.cross(u)*d<0)return!1;return!0}m(pg,"isConvex");var mg=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",Ll="topleft",xx="monospace",ml="monospace",zc="linear",xd=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],Ax=xd.reduce((r,t)=>r+t.size,0),gg=2048,Sx=gg*4*Ax,Ex=gg*6,kx=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,Cx=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	vec4 texColor = texture2D(u_tex, v_uv);
	return vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,Uc=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,Hc=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,Mx=new Set(["id","require"]),Rx=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),Px=200,Tx=640,Ix=65536,yg=Symbol.for("kaplay.cancel"),as,vg=(as=class extends Map{constructor(){super(...arguments);H(this,"lastID",0)}push(i){let o=this.lastID;return this.set(o,i),this.lastID++,o}pushd(i){let o=this.push(i);return()=>this.delete(o)}},m(as,"Registry"),as),yi,Ai=(yi=class{constructor(t){H(this,"paused",!1);H(this,"cancel");this.cancel=t}static join(t){let i=new yi(()=>t.forEach(o=>o.cancel()));return Object.defineProperty(i,"paused",{get:m(()=>t[0].paused,"get"),set:m(o=>t.forEach(a=>a.paused=o),"set")}),i.paused=!1,i}static replace(t,i){return t.cancel=()=>i.cancel(),i.paused=t.paused,Object.defineProperty(t,"paused",{get:m(()=>i.paused,"get"),set:m(o=>i.paused=o,"set")}),t}},m(yi,"KEventController"),yi),ls,Qt=(ls=class{constructor(){H(this,"cancellers",new WeakMap);H(this,"handlers",new vg)}add(t){function i(...u){if(!a.paused)return t(...u)}m(i,"handler");let o=this.handlers.pushd(i),a=new Ai(o);return this.cancellers.set(i,o),a}addOnce(t){let i=this.add((...o)=>{i.cancel(),t(...o)});return i}next(){return new Promise(t=>this.addOnce(t))}trigger(...t){this.handlers.forEach(i=>{let o=i(...t),a;o===yg&&(a=this.cancellers.get(i))&&a()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},m(ls,"KEvent"),ls),us,Io=(us=class{constructor(){H(this,"handlers",{});H(this,"registers",{})}on(t,i){return this.handlers[t]||(this.handlers[t]=new Qt),this.handlers[t].add(i)}onOnce(t,i){let o=this.on(t,(...a)=>{o.cancel(),i(...a)});return o}next(t){return new Promise(i=>{this.onOnce(t,(...o)=>i(o[0]))})}trigger(t,...i){this.handlers[t]&&this.handlers[t].trigger(...i)}remove(t){delete this.handlers[t]}clear(){this.handlers={}}numListeners(t){var i;return((i=this.handlers[t])==null?void 0:i.numListeners())??0}},m(us,"KEventHandler"),us),Nx=m(r=>r[0]instanceof Ne,"arrayIsColor"),Fx=m(r=>r[0]instanceof $,"arrayIsVec2"),Dx=m(r=>typeof r[0]=="number","arrayIsNumber"),cs,wg=(cs=class{constructor(t=(i,o)=>i<o){H(this,"_items");H(this,"_compareFn");this._compareFn=t,this._items=[]}insert(t){this._items.push(t),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let t=this._items[0],i=this._items.pop();return this._items.length!==0&&(this._items[0]=i,this.moveDown(0)),t}clear(){this._items.splice(0,this._items.length)}moveUp(t){for(;t>0;){let i=Math.floor((t-1)/2);if(!this._compareFn(this._items[t],this._items[i])&&this._items[t]>=this._items[i])break;this.swap(t,i),t=i}}moveDown(t){for(;t<Math.floor(this._items.length/2);){let i=2*t+1;if(i<this._items.length-1&&!this._compareFn(this._items[i],this._items[i+1])&&++i,this._compareFn(this._items[t],this._items[i]))break;this.swap(t,i),t=i}}swap(t,i){[this._items[t],this._items[i]]=[this._items[i],this._items[t]]}get length(){return this._items.length}},m(cs,"BinaryHeap"),cs);function xg(r){let t=window.atob(r),i=t.length,o=new Uint8Array(i);for(let a=0;a<i;a++)o[a]=t.charCodeAt(a);return o.buffer}m(xg,"base64ToArrayBuffer");function Ag(r){return xg(r.split(",")[1])}m(Ag,"dataURLToArrayBuffer");function _l(r,t){let i=document.createElement("a");i.href=t,i.download=r,i.click()}m(_l,"download");function Ad(r,t){_l(r,"data:text/plain;charset=utf-8,"+t)}m(Ad,"downloadText");function Sg(r,t){Ad(r,JSON.stringify(t))}m(Sg,"downloadJSON");function Vc(r,t){let i=URL.createObjectURL(t);_l(r,i),URL.revokeObjectURL(i)}m(Vc,"downloadBlob");var Eg=m(r=>r.match(/^data:\w+\/\w+;base64,.+/),"isDataURL"),bx=m(r=>r.split(".").slice(0,-1).join("."),"getFileName");function ql(r,t){if(r===t)return!0;let i=typeof r,o=typeof t;if(i!==o)return!1;if(i==="object"&&o==="object"&&r!==null&&t!==null){if(Array.isArray(r)!==Array.isArray(t))return!1;let a=Object.keys(r),u=Object.keys(t);if(a.length!==u.length)return!1;for(let d of a){let g=r[d],f=t[d];if(!ql(g,f))return!1}return!0}return!1}m(ql,"deepEq");var tm=new Set,Bx=m(r=>r instanceof Error?r.message:String(r),"getErrorMessage");function kg(r){tm.has(r)||(tm.add(r),console.warn(r))}m(kg,"warn");function Si(r,t){kg(`${r} is deprecated. Use ${t} instead.`)}m(Si,"deprecateMsg");function gl(r,t){return Number(r.toFixed(t))}m(gl,"toFixed");function Ke(r,t){return(...i)=>{let o=i.length;if(o===r.length)return r(...i);if(o===t.length)return t(...i)}}m(Ke,"overload2");var jx=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function Cg(r){if(typeof r!="string")throw new TypeError("string cannot be undefined or null");let t=[],i=0,o=0;for(;i<r.length;){if(o+=Mg(i+o,r),Dg(r[i+o])&&o++,Ig(r[i+o])&&o++,Ng(r[i+o])&&o++,bg(r[i+o])){o++;continue}t.push(r.substring(i,i+o)),i+=o,o=0}return t}m(Cg,"runes");function Mg(r,t){let i=t[r];if(!Rg(i)||r===t.length-1)return 1;let o=i+t[r+1],a=t.substring(r+2,r+5);return Gc(o)&&Gc(a)?4:Pg(o)&&Fg(a)?t.slice(r).indexOf(String.fromCodePoint(917631))+2:Tg(a)?4:2}m(Mg,"nextUnits");function Rg(r){return r&&Yr(r[0].charCodeAt(0),55296,56319)}m(Rg,"isFirstOfSurrogatePair");function Gc(r){return Yr(zl(r),127462,127487)}m(Gc,"isRegionalIndicator");function Pg(r){return Yr(zl(r),127988,127988)}m(Pg,"isSubdivisionFlag");function Tg(r){return Yr(zl(r),127995,127999)}m(Tg,"isFitzpatrickModifier");function Ig(r){return typeof r=="string"&&Yr(r.charCodeAt(0),65024,65039)}m(Ig,"isVariationSelector");function Ng(r){return typeof r=="string"&&Yr(r.charCodeAt(0),8400,8447)}m(Ng,"isDiacriticalMark");function Fg(r){let t=r.codePointAt(0);return typeof r=="string"&&typeof t=="number"&&Yr(t,917504,917631)}m(Fg,"isSupplementarySpecialpurposePlane");function Dg(r){return typeof r=="string"&&jx.includes(r.charCodeAt(0))}m(Dg,"isGrapheme");function bg(r){return typeof r=="string"&&r.charCodeAt(0)===8205}m(bg,"isZeroWidthJoiner");function zl(r){let t=r.charCodeAt(0)-55296,i=r.charCodeAt(1)-56320;return(t<<10)+i+65536}m(zl,"codePointFromSurrogatePair");function Yr(r,t,i){return r>=t&&r<=i}m(Yr,"betweenInclusive");var gn=m((r,t)=>Array.isArray(r)?r==null?void 0:r.includes(t):r===t,"isEqOrIncludes"),On=m((r,t)=>Array.isArray(t)?t.some(i=>r.has(i)):r.has(t),"setHasOrIncludes"),tl=m((r,t,i)=>{var o;r.has(t)?(o=r.get(t))==null||o.push(i):r.set(t,[i])},"mapAddOrPush"),Ox=(()=>{let r=0;return()=>r++})(),Lx={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}},_x=m(()=>mi.lastInputDevice,"getLastInputDeviceType"),qx=m(()=>{let r=mi.buttons;for(let t in r){let i=r[t].keyboard&&[r[t].keyboard].flat(),o=r[t].keyboardCode&&[r[t].keyboardCode].flat(),a=r[t].gamepad&&[r[t].gamepad].flat(),u=r[t].mouse&&[r[t].mouse].flat();i&&i.forEach(d=>{tl(mi.buttonsByKey,d,t)}),o&&o.forEach(d=>{tl(mi.buttonsByKeyCode,d,t)}),a&&a.forEach(d=>{tl(mi.buttonsByGamepad,d,t)}),u&&u.forEach(d=>{tl(mi.buttonsByMouse,d,t)})}},"parseButtonBindings"),ds,Co=(ds=class{constructor(){H(this,"pressed",new Set([]));H(this,"pressedRepeat",new Set([]));H(this,"released",new Set([]));H(this,"down",new Set([]))}update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(t){this.pressed.add(t),this.pressedRepeat.add(t),this.down.add(t)}pressRepeat(t){this.pressedRepeat.add(t)}release(t){this.down.delete(t),this.pressed.delete(t),this.released.add(t)}},m(ds,"ButtonState"),ds),fs,zx=(fs=class{constructor(){H(this,"buttonState",new Co);H(this,"stickState",new Map)}},m(fs,"GamepadState"),fs),hs,Ux=(hs=class{constructor(){H(this,"dts",[]);H(this,"timer",0);H(this,"fps",0)}tick(t){this.dts.push(t),this.timer+=t,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((i,o)=>i+o)/this.dts.length)),this.dts=[])}},m(hs,"FPSCounter"),hs),mi,nm=Lx,Hx=m(r=>{let t=r.buttons??{};return{canvas:r.canvas,buttons:t,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new Ux,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new $(0),mouseDeltaPos:new $(0),keyState:new Co,mouseState:new Co,mergedGamepadState:new zx,gamepadStates:new Map,lastInputDevice:null,buttonState:new Co,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:r.canvas.offsetWidth,lastHeight:r.canvas.offsetHeight,events:new Io}},"initAppState"),Vx=m(r=>{if(!r.canvas)throw new Error("Please provide a canvas");let t=Hx(r);mi=t,qx();function i(){return t.dt*t.timeScale}m(i,"dt");function o(){return t.fixedDt*t.timeScale}m(o,"fixedDt");function a(){return t.restDt*t.timeScale}m(a,"restDt");function u(){return t.isHidden}m(u,"isHidden");function d(){return t.time}m(d,"time");function g(){return t.fpsCounter.fps}m(g,"fps");function f(){return t.numFrames}m(f,"numFrames");function p(){return t.canvas.toDataURL()}m(p,"screenshot");function v(N){t.canvas.style.cursor=N}m(v,"setCursor");function M(){return t.canvas.style.cursor}m(M,"getCursor");function y(N){if(N)try{let X=t.canvas.requestPointerLock();X.catch&&X.catch(Z=>console.error(Z))}catch(X){console.error(X)}else document.exitPointerLock()}m(y,"setCursorLocked");function k(){return!!document.pointerLockElement}m(k,"isCursorLocked");function S(N){N.requestFullscreen?N.requestFullscreen():N.webkitRequestFullscreen&&N.webkitRequestFullscreen()}m(S,"enterFullscreen");function T(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}m(T,"exitFullscreen");function A(N=!0){N?S(t.canvas):T()}m(A,"setFullscreen");function C(){return document.fullscreenElement===t.canvas||document.webkitFullscreenElement===t.canvas}m(C,"isFullscreen");function D(){t.stopped=!0;let N=Object.entries(xt),X=Object.entries(ei),Z=Object.entries(hr);for(let[le,Se]of N)t.canvas.removeEventListener(le,Se);for(let[le,Se]of X)document.removeEventListener(le,Se);for(let[le,Se]of Z)window.removeEventListener(le,Se);Os.disconnect()}m(D,"quit");function F(N,X){t.loopID!==null&&cancelAnimationFrame(t.loopID);let Z=0,le=0,Se=m(Ue=>{if(t.stopped)return;if(document.visibilityState!=="visible"){t.loopID=requestAnimationFrame(Se);return}let et=Ue/1e3,tt=Math.min(et-t.realTime,.25),Dt=r.maxFPS?1/r.maxFPS:0;if(t.realTime=et,le+=tt,le>Dt){if(!t.skipTime){for(Z+=le,t.dt=t.fixedDt,t.restDt=0;Z>t.fixedDt;)Z-=t.fixedDt,Z<t.fixedDt&&(t.restDt=Z),N();t.restDt=Z,t.dt=le,t.time+=i(),t.fpsCounter.tick(t.dt)}le=0,t.skipTime=!1,t.numFrames++,X(fr,bs)}t.loopID=requestAnimationFrame(Se)},"frame");Se(0)}m(F,"run");function q(){return"ontouchstart"in window||navigator.maxTouchPoints>0}m(q,"isTouchscreen");function b(){return t.mousePos.clone()}m(b,"mousePos");function E(){return t.mouseDeltaPos.clone()}m(E,"mouseDeltaPos");function R(N="left"){return t.mouseState.pressed.has(N)}m(R,"isMousePressed");function I(N="left"){return t.mouseState.down.has(N)}m(I,"isMouseDown");function K(N="left"){return t.mouseState.released.has(N)}m(K,"isMouseReleased");function Y(){return t.isMouseMoved}m(Y,"isMouseMoved");function J(N){return N===void 0?t.keyState.pressed.size>0:On(t.keyState.pressed,N)}m(J,"isKeyPressed");function oe(N){return N===void 0?t.keyState.pressedRepeat.size>0:On(t.keyState.pressedRepeat,N)}m(oe,"isKeyPressedRepeat");function ue(N){return N===void 0?t.keyState.down.size>0:On(t.keyState.down,N)}m(ue,"isKeyDown");function ve(N){return N===void 0?t.keyState.released.size>0:On(t.keyState.released,N)}m(ve,"isKeyReleased");function Ce(N){return N===void 0?t.mergedGamepadState.buttonState.pressed.size>0:On(t.mergedGamepadState.buttonState.pressed,N)}m(Ce,"isGamepadButtonPressed");function ge(N){return N===void 0?t.mergedGamepadState.buttonState.down.size>0:On(t.mergedGamepadState.buttonState.down,N)}m(ge,"isGamepadButtonDown");function he(N){return N===void 0?t.mergedGamepadState.buttonState.released.size>0:On(t.mergedGamepadState.buttonState.released,N)}m(he,"isGamepadButtonReleased");function te(N){return N===void 0?t.buttonState.pressed.size>0:On(t.buttonState.pressed,N)}m(te,"isButtonPressed");function ae(N){return N===void 0?t.buttonState.down.size>0:On(t.buttonState.down,N)}m(ae,"isButtonDown");function re(N){return N===void 0?t.buttonState.released.size>0:On(t.buttonState.released,N)}m(re,"isButtonReleased");function _(N){var X;return(X=t.buttons)==null?void 0:X[N]}m(_,"getButton");function G(N,X){t.buttons[N]={...t.buttons[N],...X}}m(G,"setButton");function Ae(N){t.buttonState.press(N),t.events.trigger("buttonPress",N)}m(Ae,"pressButton");function ke(N){t.buttonState.release(N),t.events.trigger("buttonRelease",N)}m(ke,"releaseButton");function Pe(N){return t.events.on("resize",N)}m(Pe,"onResize");let Te=Ke(N=>t.events.on("keyDown",N),(N,X)=>t.events.on("keyDown",Z=>gn(N,Z)&&X(Z))),Be=Ke(N=>t.events.on("keyPress",X=>N(X)),(N,X)=>t.events.on("keyPress",Z=>gn(N,Z)&&X(Z))),Fe=Ke(N=>t.events.on("keyPressRepeat",N),(N,X)=>t.events.on("keyPressRepeat",Z=>gn(N,Z)&&X(Z))),_e=Ke(N=>t.events.on("keyRelease",N),(N,X)=>t.events.on("keyRelease",Z=>gn(N,Z)&&X(Z))),lt=Ke(N=>t.events.on("mouseDown",X=>N(X)),(N,X)=>t.events.on("mouseDown",Z=>gn(N,Z)&&X(Z))),It=Ke(N=>t.events.on("mousePress",X=>N(X)),(N,X)=>t.events.on("mousePress",Z=>gn(N,Z)&&X(Z))),Xr=Ke(N=>t.events.on("mouseRelease",X=>N(X)),(N,X)=>t.events.on("mouseRelease",Z=>Z===N&&X(Z)));function un(N){return t.events.on("mouseMove",()=>N(b(),E()))}m(un,"onMouseMove");function ye(N){return t.events.on("charInput",N)}m(ye,"onCharInput");function Me(N){return t.events.on("touchStart",N)}m(Me,"onTouchStart");function Re(N){return t.events.on("touchMove",N)}m(Re,"onTouchMove");function qe(N){return t.events.on("touchEnd",N)}m(qe,"onTouchEnd");function Je(N){return t.events.on("scroll",N)}m(Je,"onScroll");function De(N){return t.events.on("hide",N)}m(De,"onHide");function st(N){return t.events.on("show",N)}m(st,"onShow");let Nt=Ke(N=>t.events.on("gamepadButtonPress",(X,Z)=>N(X,Z)),(N,X)=>t.events.on("gamepadButtonPress",(Z,le)=>gn(N,Z)&&X(Z,le))),$r=Ke(N=>t.events.on("gamepadButtonDown",(X,Z)=>N(X,Z)),(N,X)=>t.events.on("gamepadButtonDown",(Z,le)=>gn(N,Z)&&X(Z,le))),Ci=Ke(N=>t.events.on("gamepadButtonRelease",(X,Z)=>N(X,Z)),(N,X)=>t.events.on("gamepadButtonRelease",(Z,le)=>gn(N,Z)&&X(Z,le)));function Zr(N,X){return t.events.on("gamepadStick",(Z,le,Se)=>Z===N&&X(le,Se))}m(Zr,"onGamepadStick");function Jr(N){t.events.on("gamepadConnect",N)}m(Jr,"onGamepadConnect");function dr(N){t.events.on("gamepadDisconnect",N)}m(dr,"onGamepadDisconnect");function Ft(N){return t.mergedGamepadState.stickState.get(N)||new $(0)}m(Ft,"getGamepadStick");function Lt(){return[...t.charInputted]}m(Lt,"charInputted");function Wn(){return[...t.gamepads]}m(Wn,"getGamepads");let pt=Ke(N=>t.events.on("buttonPress",X=>N(X)),(N,X)=>t.events.on("buttonPress",Z=>gn(N,Z)&&X(Z))),wn=Ke(N=>t.events.on("buttonDown",X=>N(X)),(N,X)=>t.events.on("buttonDown",Z=>gn(N,Z)&&X(Z))),xn=Ke(N=>t.events.on("buttonRelease",X=>N(X)),(N,X)=>t.events.on("buttonRelease",Z=>gn(N,Z)&&X(Z)));function fr(){t.events.trigger("input"),t.keyState.down.forEach(N=>t.events.trigger("keyDown",N)),t.mouseState.down.forEach(N=>t.events.trigger("mouseDown",N)),t.buttonState.down.forEach(N=>{t.events.trigger("buttonDown",N)}),Ri()}m(fr,"processInput");function bs(){t.keyState.update(),t.mouseState.update(),t.buttonState.update(),t.mergedGamepadState.buttonState.update(),t.mergedGamepadState.stickState.forEach((N,X)=>{t.mergedGamepadState.stickState.set(X,new $(0))}),t.charInputted=[],t.isMouseMoved=!1,t.mouseDeltaPos=new $(0),t.gamepadStates.forEach(N=>{N.buttonState.update(),N.stickState.forEach((X,Z)=>{N.stickState.set(Z,new $(0))})})}m(bs,"resetInput");function Bs(N){let X={index:N.index,isPressed:m(Z=>{var le;return((le=t.gamepadStates.get(N.index))==null?void 0:le.buttonState.pressed.has(Z))||!1},"isPressed"),isDown:m(Z=>{var le;return((le=t.gamepadStates.get(N.index))==null?void 0:le.buttonState.down.has(Z))||!1},"isDown"),isReleased:m(Z=>{var le;return((le=t.gamepadStates.get(N.index))==null?void 0:le.buttonState.released.has(Z))||!1},"isReleased"),getStick:m(Z=>{var le;return((le=t.gamepadStates.get(N.index))==null?void 0:le.stickState.get(Z))||Q()},"getStick")};return t.gamepads.push(X),t.gamepadStates.set(N.index,{buttonState:new Co,stickState:new Map([["left",new $(0)],["right",new $(0)]])}),X}m(Bs,"registerGamepad");function Mi(N){t.gamepads=t.gamepads.filter(X=>X.index!==N.index),t.gamepadStates.delete(N.index)}m(Mi,"removeGamepad");function Ri(){var N,X;for(let Z of navigator.getGamepads())Z&&!t.gamepadStates.has(Z.index)&&Bs(Z);for(let Z of t.gamepads){let le=navigator.getGamepads()[Z.index];if(!le)continue;let Se=(r.gamepads??{})[le.id]||nm[le.id]||nm.default,Ue=t.gamepadStates.get(Z.index);if(Ue){for(let et=0;et<le.buttons.length;et++){let tt=Se.buttons[et],Dt=le.buttons[et],bt=t.buttonsByGamepad.has(tt);if(Dt.pressed){if(Ue.buttonState.down.has(tt)){t.events.trigger("gamepadButtonDown",tt,Z);continue}t.lastInputDevice="gamepad",bt&&((N=t.buttonsByGamepad.get(tt))==null||N.forEach(_t=>{t.buttonState.press(_t),t.events.trigger("buttonPress",_t)})),t.mergedGamepadState.buttonState.press(tt),Ue.buttonState.press(tt),t.events.trigger("gamepadButtonPress",tt,Z)}else Ue.buttonState.down.has(tt)&&(bt&&((X=t.buttonsByGamepad.get(tt))==null||X.forEach(_t=>{t.buttonState.release(_t),t.events.trigger("buttonRelease",_t)})),t.mergedGamepadState.buttonState.release(tt),Ue.buttonState.release(tt),t.events.trigger("gamepadButtonRelease",tt,Z))}for(let et in Se.sticks){let tt=Se.sticks[et];if(!tt)continue;let Dt=new $(le.axes[tt.x],le.axes[tt.y]);Ue.stickState.set(et,Dt),t.mergedGamepadState.stickState.set(et,Dt),t.events.trigger("gamepadStick",et,Dt,Z)}}}}m(Ri,"processGamepad");let xt={},ei={},hr={},Qn=r.pixelDensity||1;xt.mousemove=N=>{let X=new $(N.offsetX,N.offsetY),Z=new $(N.movementX,N.movementY);if(C()){let le=t.canvas.width/Qn,Se=t.canvas.height/Qn,Ue=window.innerWidth,et=window.innerHeight,tt=Ue/et,Dt=le/Se;if(tt>Dt){let bt=et/Se,_t=(Ue-le*bt)/2;X.x=In(N.offsetX-_t,0,le*bt,0,le),X.y=In(N.offsetY,0,Se*bt,0,Se)}else{let bt=Ue/le,_t=(et-Se*bt)/2;X.x=In(N.offsetX,0,le*bt,0,le),X.y=In(N.offsetY-_t,0,Se*bt,0,Se)}}t.events.onOnce("input",()=>{t.isMouseMoved=!0,t.mousePos=X,t.mouseDeltaPos=Z,t.events.trigger("mouseMove")})};let Kn=["left","middle","right","back","forward"];xt.mousedown=N=>{t.events.onOnce("input",()=>{var Z;let X=Kn[N.button];X&&(t.lastInputDevice="mouse",t.buttonsByMouse.has(X)&&((Z=t.buttonsByMouse.get(X))==null||Z.forEach(le=>{t.buttonState.press(le),t.events.trigger("buttonPress",le)})),t.mouseState.press(X),t.events.trigger("mousePress",X))})},xt.mouseup=N=>{t.events.onOnce("input",()=>{var Z;let X=Kn[N.button];X&&(t.buttonsByMouse.has(X)&&((Z=t.buttonsByMouse.get(X))==null||Z.forEach(le=>{t.buttonState.release(le),t.events.trigger("buttonRelease",le)})),t.mouseState.release(X),t.events.trigger("mouseRelease",X))})};let Wo=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),js={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};xt.keydown=N=>{Wo.has(N.key)&&N.preventDefault(),t.events.onOnce("input",()=>{var le,Se;let X=js[N.key]||N.key.toLowerCase(),Z=N.code;if(X===void 0)throw new Error(`Unknown key: ${N.key}`);X.length===1?(t.events.trigger("charInput",X),t.charInputted.push(X)):X==="space"&&(t.events.trigger("charInput"," "),t.charInputted.push(" ")),N.repeat?(t.keyState.pressRepeat(X),t.events.trigger("keyPressRepeat",X)):(t.lastInputDevice="keyboard",t.buttonsByKey.has(X)&&((le=t.buttonsByKey.get(X))==null||le.forEach(Ue=>{t.buttonState.press(Ue),t.events.trigger("buttonPress",Ue)})),t.buttonsByKeyCode.has(Z)&&((Se=t.buttonsByKeyCode.get(Z))==null||Se.forEach(Ue=>{t.buttonState.press(Ue),t.events.trigger("buttonPress",Ue)})),t.keyState.press(X),t.events.trigger("keyPressRepeat",X),t.events.trigger("keyPress",X))})},xt.keyup=N=>{t.events.onOnce("input",()=>{var le,Se;let X=js[N.key]||N.key.toLowerCase(),Z=N.code;t.buttonsByKey.has(X)&&((le=t.buttonsByKey.get(X))==null||le.forEach(Ue=>{t.buttonState.release(Ue),t.events.trigger("buttonRelease",Ue)})),t.buttonsByKeyCode.has(Z)&&((Se=t.buttonsByKeyCode.get(Z))==null||Se.forEach(Ue=>{t.buttonState.release(Ue),t.events.trigger("buttonRelease",Ue)})),t.keyState.release(X),t.events.trigger("keyRelease",X)})},xt.touchstart=N=>{N.preventDefault(),t.events.onOnce("input",()=>{var le;let X=[...N.changedTouches],Z=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new $(X[0].clientX-Z.x,X[0].clientY-Z.y),t.lastInputDevice="mouse",t.buttonsByMouse.has("left")&&((le=t.buttonsByMouse.get("left"))==null||le.forEach(Se=>{t.buttonState.press(Se),t.events.trigger("buttonPress",Se)})),t.mouseState.press("left"),t.events.trigger("mousePress","left")),X.forEach(Se=>{t.events.trigger("touchStart",new $(Se.clientX-Z.x,Se.clientY-Z.y),Se)})})},xt.touchmove=N=>{N.preventDefault(),t.events.onOnce("input",()=>{let X=[...N.changedTouches],Z=t.canvas.getBoundingClientRect();if(r.touchToMouse!==!1){let le=t.mousePos;t.mousePos=new $(X[0].clientX-Z.x,X[0].clientY-Z.y),t.mouseDeltaPos=t.mousePos.sub(le),t.events.trigger("mouseMove")}X.forEach(le=>{t.events.trigger("touchMove",new $(le.clientX-Z.x,le.clientY-Z.y),le)})})},xt.touchend=N=>{t.events.onOnce("input",()=>{var le;let X=[...N.changedTouches],Z=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new $(X[0].clientX-Z.x,X[0].clientY-Z.y),t.mouseDeltaPos=new $(0,0),t.buttonsByMouse.has("left")&&((le=t.buttonsByMouse.get("left"))==null||le.forEach(Se=>{t.buttonState.release(Se),t.events.trigger("buttonRelease",Se)})),t.mouseState.release("left"),t.events.trigger("mouseRelease","left")),X.forEach(Se=>{t.events.trigger("touchEnd",new $(Se.clientX-Z.x,Se.clientY-Z.y),Se)})})},xt.touchcancel=N=>{t.events.onOnce("input",()=>{let X=[...N.changedTouches],Z=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new $(X[0].clientX-Z.x,X[0].clientY-Z.y),t.mouseState.release("left"),t.events.trigger("mouseRelease","left")),X.forEach(le=>{t.events.trigger("touchEnd",new $(le.clientX-Z.x,le.clientY-Z.y),le)})})},xt.wheel=N=>{N.preventDefault(),t.events.onOnce("input",()=>{t.events.trigger("scroll",new $(N.deltaX,N.deltaY))})},xt.contextmenu=N=>N.preventDefault(),ei.visibilitychange=()=>{document.visibilityState==="visible"?(t.skipTime=!0,t.isHidden=!1,t.events.trigger("show")):(t.isHidden=!0,t.events.trigger("hide"))},hr.gamepadconnected=N=>{let X=Bs(N.gamepad);t.events.onOnce("input",()=>{t.events.trigger("gamepadConnect",X)})},hr.gamepaddisconnected=N=>{let X=Wn().filter(Z=>Z.index===N.gamepad.index)[0];Mi(N.gamepad),t.events.onOnce("input",()=>{t.events.trigger("gamepadDisconnect",X)})};for(let[N,X]of Object.entries(xt))t.canvas.addEventListener(N,X);for(let[N,X]of Object.entries(ei))document.addEventListener(N,X);for(let[N,X]of Object.entries(hr))window.addEventListener(N,X);let Os=new ResizeObserver(N=>{for(let X of N)if(X.target===t.canvas){if(t.lastWidth===t.canvas.offsetWidth&&t.lastHeight===t.canvas.offsetHeight)return;t.lastWidth=t.canvas.offsetWidth,t.lastHeight=t.canvas.offsetHeight,t.events.onOnce("input",()=>{t.events.trigger("resize")})}});return Os.observe(t.canvas),{state:t,dt:i,fixedDt:o,restDt:a,time:d,run:F,canvas:t.canvas,fps:g,numFrames:f,quit:D,isHidden:u,setFullscreen:A,isFullscreen:C,setCursor:v,screenshot:p,getGamepads:Wn,getCursor:M,setCursorLocked:y,isCursorLocked:k,isTouchscreen:q,mousePos:b,mouseDeltaPos:E,isKeyDown:ue,isKeyPressed:J,isKeyPressedRepeat:oe,isKeyReleased:ve,isMouseDown:I,isMousePressed:R,isMouseReleased:K,isMouseMoved:Y,isGamepadButtonPressed:Ce,isGamepadButtonDown:ge,isGamepadButtonReleased:he,getGamepadStick:Ft,isButtonPressed:te,isButtonDown:ae,isButtonReleased:re,setButton:G,getButton:_,pressButton:Ae,releaseButton:ke,charInputted:Lt,onResize:Pe,onKeyDown:Te,onKeyPress:Be,onKeyPressRepeat:Fe,onKeyRelease:_e,onMouseDown:lt,onMousePress:It,onMouseRelease:Xr,onMouseMove:un,onCharInput:ye,onTouchStart:Me,onTouchMove:Re,onTouchEnd:qe,onScroll:Je,onHide:De,onShow:st,onGamepadButtonDown:$r,onGamepadButtonPress:Nt,onGamepadButtonRelease:Ci,onGamepadStick:Zr,onGamepadConnect:Jr,onGamepadDisconnect:dr,onButtonPress:pt,onButtonDown:wn,onButtonRelease:xn,getLastInputDeviceType:_x,events:t.events}},"initApp");function wt(){return x.app.dt()}m(wt,"dt");function yl(){return x.app.fixedDt()}m(yl,"fixedDt");function vl(){return x.app.restDt()}m(vl,"restDt");var Gx=new $(-1,-1),Wx=new $(0,-1),Qx=new $(1,-1),Kx=new $(-1,0),Yx=new $(0,0),Xx=new $(1,0),$x=new $(-1,1),Zx=new $(0,1),Jx=new $(1,1);function Ei(r){switch(r){case"topleft":return Gx;case"top":return Wx;case"topright":return Qx;case"left":return Kx;case"center":return Yx;case"right":return Xx;case"botleft":return $x;case"bot":return Zx;case"botright":return Jx;default:return r}}m(Ei,"anchorPt");function Bg(r){switch(r){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}m(Bg,"alignPt");function jg(r){return r.createBuffer(1,1,44100)}m(jg,"createEmptyAudioBuffer");var nl=2.5949095,rm=1.70158+1,im=2*Math.PI/3,sm=2*Math.PI/4.5,dl={linear:m(r=>r,"linear"),easeInSine:m(r=>1-Math.cos(r*Math.PI/2),"easeInSine"),easeOutSine:m(r=>Math.sin(r*Math.PI/2),"easeOutSine"),easeInOutSine:m(r=>-(Math.cos(Math.PI*r)-1)/2,"easeInOutSine"),easeInQuad:m(r=>r*r,"easeInQuad"),easeOutQuad:m(r=>1-(1-r)*(1-r),"easeOutQuad"),easeInOutQuad:m(r=>r<.5?2*r*r:1-Math.pow(-2*r+2,2)/2,"easeInOutQuad"),easeInCubic:m(r=>r*r*r,"easeInCubic"),easeOutCubic:m(r=>1-Math.pow(1-r,3),"easeOutCubic"),easeInOutCubic:m(r=>r<.5?4*r*r*r:1-Math.pow(-2*r+2,3)/2,"easeInOutCubic"),easeInQuart:m(r=>r*r*r*r,"easeInQuart"),easeOutQuart:m(r=>1-Math.pow(1-r,4),"easeOutQuart"),easeInOutQuart:m(r=>r<.5?8*r*r*r*r:1-Math.pow(-2*r+2,4)/2,"easeInOutQuart"),easeInQuint:m(r=>r*r*r*r*r,"easeInQuint"),easeOutQuint:m(r=>1-Math.pow(1-r,5),"easeOutQuint"),easeInOutQuint:m(r=>r<.5?16*r*r*r*r*r:1-Math.pow(-2*r+2,5)/2,"easeInOutQuint"),easeInExpo:m(r=>r===0?0:Math.pow(2,10*r-10),"easeInExpo"),easeOutExpo:m(r=>r===1?1:1-Math.pow(2,-10*r),"easeOutExpo"),easeInOutExpo:m(r=>r===0?0:r===1?1:r<.5?Math.pow(2,20*r-10)/2:(2-Math.pow(2,-20*r+10))/2,"easeInOutExpo"),easeInCirc:m(r=>1-Math.sqrt(1-Math.pow(r,2)),"easeInCirc"),easeOutCirc:m(r=>Math.sqrt(1-Math.pow(r-1,2)),"easeOutCirc"),easeInOutCirc:m(r=>r<.5?(1-Math.sqrt(1-Math.pow(2*r,2)))/2:(Math.sqrt(1-Math.pow(-2*r+2,2))+1)/2,"easeInOutCirc"),easeInBack:m(r=>rm*r*r*r-1.70158*r*r,"easeInBack"),easeOutBack:m(r=>1+rm*Math.pow(r-1,3)+1.70158*Math.pow(r-1,2),"easeOutBack"),easeInOutBack:m(r=>r<.5?Math.pow(2*r,2)*((nl+1)*2*r-nl)/2:(Math.pow(2*r-2,2)*((nl+1)*(r*2-2)+nl)+2)/2,"easeInOutBack"),easeInElastic:m(r=>r===0?0:r===1?1:-Math.pow(2,10*r-10)*Math.sin((r*10-10.75)*im),"easeInElastic"),easeOutElastic:m(r=>r===0?0:r===1?1:Math.pow(2,-10*r)*Math.sin((r*10-.75)*im)+1,"easeOutElastic"),easeInOutElastic:m(r=>r===0?0:r===1?1:r<.5?-(Math.pow(2,20*r-10)*Math.sin((20*r-11.125)*sm))/2:Math.pow(2,-20*r+10)*Math.sin((20*r-11.125)*sm)/2+1,"easeInOutElastic"),easeInBounce:m(r=>1-dl.easeOutBounce(1-r),"easeInBounce"),easeOutBounce:m(r=>r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375,"easeOutBounce"),easeInOutBounce:m(r=>r<.5?(1-dl.easeOutBounce(1-2*r))/2:(1+dl.easeOutBounce(2*r-1))/2,"easeInOutBounce")},No=dl;function Og(r,t,i){let o=[],a=t;for(o.push(a);a!==r;){if(a=i.get(a),a==null)return null;o.push(a)}return o.reverse()}m(Og,"buildPath");function Lg(r,t,i){var d;let o=new wg((g,f)=>g.cost<f.cost);o.insert({cost:0,node:t});let a=new Map;a.set(t,t);let u=new Map;for(u.set(t,0);o.length!==0;){let g=(d=o.remove())==null?void 0:d.node;if(g===i)break;let f=r.getNeighbours(g);for(let p of f){let v=(u.get(g)||0)+r.getCost(g,p)+r.getHeuristic(p,i);(!u.has(p)||v<u.get(p))&&(u.set(p,v),o.insert({cost:v,node:p}),a.set(p,g))}}return Og(t,i,a)}m(Lg,"aStarSearch");var ps,eA=(ps=class{constructor(t,i,o){H(this,"a");H(this,"b");H(this,"polygon");this.a=t,this.b=i,this.polygon=new WeakRef(o)}isLeft(t,i){return(this.b.x-this.a.x)*(i-this.a.y)-(t-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},m(ps,"NavEdge"),ps),ms,tA=(ms=class{constructor(t){H(this,"_edges");H(this,"_centroid");H(this,"_id");this._id=t}get id(){return this._id}set edges(t){this._edges=t;let i=0,o=0,a=0;for(let u of this._edges){u.polygon=new WeakRef(this);let d=u.a.x*u.b.y-u.a.y*u.b.x;i+=(u.a.x+u.b.x)*d,o+=(u.a.y+u.b.y)*d,a+=d}a/=2,this._centroid=Q(i/(6*a),o/(6*a))}get edges(){return this._edges}get centroid(){return this._centroid}contains(t){let i=!1;for(let o of this.edges)o.b.y>t.y!=o.a.y>t.y&&t.x<(o.a.x-o.b.x)*(t.y-o.b.y)/(o.a.y-o.b.y)+o.b.x&&(i=!i);return i}},m(ms,"NavPolygon"),ms),gs,nA=(gs=class{constructor(){H(this,"_polygons");H(this,"_pointCache");H(this,"_edgeCache");this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(t){let i=this._pointCache[`${t.x}_${t.y}`];return i||(i=t.clone(),this._pointCache[`${t.x}_${t.y}`]=i,i)}_addEdge(t){let i=`${t.a.x}_${t.a.y}-${t.b.x}_${t.b.y}`;return this._edgeCache[i]=t,t}_findEdge(t,i){let o=`${t.x}_${t.y}-${i.x}_${i.y}`;return this._edgeCache[o]}_findCommonEdge(t,i){for(let o of t.edges){let a=this._findEdge(o.b,o.a);if(a&&a.polygon.deref().id===i.id)return a}return null}addPolygon(t){let i=new tA(this._polygons.length),o=t.map((a,u)=>new eA(a,t[(u+1)%t.length],i));i.edges=o,this._polygons.push(i);for(let a of i.edges)this._addEdge(a);return i}addRect(t,i){let o=this._addPoint(t),a=this._addPoint(t.add(i.x,0)),u=this._addPoint(t.add(i)),d=this._addPoint(t.add(0,i.y));return this.addPolygon([o,a,u,d])}_getLocation(t){for(let i of this._polygons)if(i.contains(t))return i;return null}getNeighbours(t){let i=[];for(let o of this._polygons[t].edges){let a=this._findEdge(o.b,o.a);if(a){let u=a.polygon.deref();u&&i.push(u.id)}}return i}getCost(t,i){return 1}getHeuristic(t,i){let o=this._polygons[t],a=this._polygons[i],u=o.centroid.x-a.centroid.x,d=o.centroid.y-a.centroid.y;return Math.sqrt(u*u+d*d)}getPath(t,i){return t===void 0||i===void 0?[]:t===i?[t,i]:Lg(this,t,i)}getWaypointPath(t,i,o){let a=(o==null?void 0:o.type)||"centroids",u=this._getLocation(t),d=this._getLocation(i);if(u===void 0||d===void 0)return[];let g=this.getPath(u.id,d.id);if(!g)return[];if(a==="edges"){let f=[];for(let p=1;p<g.length;p++){let v=this._polygons[g[p-1]],M=this._polygons[g[p]],y=this._findCommonEdge(v,M);f.push(y.middle.add(M.centroid.sub(y.middle).unit().scale(4)))}return[t,...f,i]}else return[t,...g.slice(1,-1).map(f=>this._polygons[f].centroid),i]}},m(gs,"NavMesh"),gs);function rs(r){let t=new Hn;return r.pos&&t.translate(r.pos),r.scale&&t.scale(r.scale),r.angle&&t.rotate(r.angle),r.parent?t.mult(r.parent.transform):t}m(rs,"calcTransform");function _g(r){return new $(r.x/kt()*2-1,-r.y/Tt()*2+1)}m(_g,"screen2ndc");function ts(r,t,i,o,a,u=1){o=dt(o%360),a=dt(a%360),a<=o&&(a+=Math.PI*2);let d=[],g=Math.ceil((a-o)/dt(8)*u),f=(a-o)/g,p=Q(Math.cos(o),Math.sin(o)),v=Q(Math.cos(f),Math.sin(f));for(let M=0;M<=g;M++)d.push(r.add(t*p.x,i*p.y)),p=Q(p.x*v.x-p.y*v.y,p.x*v.y+p.y*v.x);return d}m(ts,"getArcPts");function qg(...r){let t=Le(...r),i=r[3]??1;x.gfx.bgColor=t,x.gfx.bgAlpha=i,x.gfx.ggl.gl.clearColor(t.r/255,t.g/255,t.b/255,i)}m(qg,"setBackground");function zg(){var r,t;return((t=(r=x.gfx.bgColor)==null?void 0:r.clone)==null?void 0:t.call(r))??null}m(zg,"getBackground");function rt(...r){if(r[0]===void 0)return;let t=Q(...r);t.x===0&&t.y===0||x.gfx.transform.translate(t)}m(rt,"pushTranslate");function nn(){x.gfx.transformStack.push(x.gfx.transform.clone())}m(nn,"pushTransform");function Ug(r){x.gfx.transform=r.clone()}m(Ug,"pushMatrix");function Ps(...r){if(r[0]===void 0)return;let t=Q(...r);t.x===1&&t.y===1||x.gfx.transform.scale(t)}m(Ps,"pushScale");function xi(r){r&&x.gfx.transform.rotate(r)}m(xi,"pushRotate");function Kt(){x.gfx.transformStack.length>0&&(x.gfx.transform=x.gfx.transformStack.pop())}m(Kt,"popTransform");function rn(){x.gfx.renderer.flush()}m(rn,"flush");function kt(){return x.gfx.width}m(kt,"width");function Tt(){return x.gfx.height}m(Tt,"height");function Sd(){return(x.gfx.viewport.width+x.gfx.viewport.height)/(x.gfx.width+x.gfx.height)}m(Sd,"getViewportScale");function Hg(r){return new $(r.x*x.gfx.viewport.width/x.gfx.width,r.y*x.gfx.viewport.height/x.gfx.height)}m(Hg,"contentToView");function Vg(r){return new $((r.x-x.gfx.viewport.x)*kt()/x.gfx.viewport.width,(r.y-x.gfx.viewport.y)*Tt()/x.gfx.viewport.height)}m(Vg,"windowToContent");function Ed(){return Vg(x.app.mousePos())}m(Ed,"mousePos");function Fo(){return Q(kt()/2,Tt()/2)}m(Fo,"center");var ys,rA=(ys=class{constructor(t,i,o,a){H(this,"lastTextureId",0);H(this,"textures",[]);H(this,"bigTextures",[]);H(this,"texturesPosition",new Map);H(this,"canvas");H(this,"c2d");H(this,"x",0);H(this,"y",0);H(this,"curHeight",0);H(this,"gfx");H(this,"padding");this.gfx=t,this.canvas=document.createElement("canvas"),this.canvas.width=i,this.canvas.height=o,this.textures=[Br.fromImage(t,this.canvas)],this.bigTextures=[],this.padding=a;let u=this.canvas.getContext("2d");if(!u)throw new Error("Failed to get 2d context");this.c2d=u}add(t){let i=t.width+this.padding*2,o=t.height+this.padding*2;if(i>this.canvas.width||o>this.canvas.height){let d=Br.fromImage(this.gfx,t);return this.bigTextures.push(d),[d,new it(0,0,1,1),0]}this.x+i>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+o>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Br.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let a=this.textures[this.textures.length-1],u=new $(this.x+this.padding,this.y+this.padding);return this.x+=i,o>this.curHeight&&(this.curHeight=o),t instanceof ImageData?this.c2d.putImageData(t,u.x,u.y):this.c2d.drawImage(t,u.x,u.y),a.update(this.canvas),this.texturesPosition.set(this.lastTextureId,{position:u,size:new $(t.width,t.height),texture:a}),this.lastTextureId++,[a,new it(u.x/this.canvas.width,u.y/this.canvas.height,t.width/this.canvas.width,t.height/this.canvas.height),this.lastTextureId-1]}free(){for(let t of this.textures)t.free();for(let t of this.bigTextures)t.free()}},m(ys,"TexPacker"),ys);function an(r){return typeof r!="string"||Eg(r)?r:x.assets.urlPrefix+r}m(an,"fixURL");var vi,vn=(vi=class{constructor(t){H(this,"loaded",!1);H(this,"data",null);H(this,"error",null);H(this,"onLoadEvents",new Qt);H(this,"onErrorEvents",new Qt);H(this,"onFinishEvents",new Qt);t.then(i=>{this.loaded=!0,this.data=i,this.onLoadEvents.trigger(i)}).catch(i=>{if(this.error=i,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(i);else throw i}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(t){let i=new vi(Promise.resolve(t));return i.data=t,i.loaded=!0,i}onLoad(t){return this.loaded&&this.data?t(this.data):this.onLoadEvents.add(t),this}onError(t){return this.loaded&&this.error?t(this.error):this.onErrorEvents.add(t),this}onFinish(t){return this.loaded?t():this.onFinishEvents.add(t),this}then(t){return this.onLoad(t)}catch(t){return this.onError(t)}finally(t){return this.onFinish(t)}},m(vi,"Asset"),vi),vs,Xi=(vs=class{constructor(){H(this,"assets",new Map);H(this,"lastUID",0)}add(t,i){let o=t??this.lastUID+++"",a=new vn(i);return this.assets.set(o,a),a}addLoaded(t,i){let o=t??this.lastUID+++"",a=vn.loaded(i);return this.assets.set(o,a),a}get(t){return this.assets.get(t)}progress(){if(this.assets.size===0)return 1;let t=0;return this.assets.forEach(i=>{i.loaded&&t++}),t/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(t=>this.assets.get(t).error!==null).map(t=>[t,this.assets.get(t)])}},m(vs,"AssetBucket"),vs);function Ul(r){return fetch(r).then(t=>{if(!t.ok)throw new Error(`Failed to fetch "${r}"`);return t})}m(Ul,"fetchURL");function Ho(r){return Ul(r).then(t=>t.json())}m(Ho,"fetchJSON");function Gg(r){return Ul(r).then(t=>t.text())}m(Gg,"fetchText");function Wg(r){return Ul(r).then(t=>t.arrayBuffer())}m(Wg,"fetchArrayBuffer");function Qg(r){return r!==void 0&&(x.assets.urlPrefix=r),x.assets.urlPrefix}m(Qg,"loadRoot");function Kg(r,t){return x.assets.custom.add(r,Ho(an(t)))}m(Kg,"loadJSON");function Vo(r){let t=new Image;return t.crossOrigin="anonymous",t.src=r,new Promise((i,o)=>{t.onload=()=>i(t),t.onerror=()=>o(new Error(`Failed to load image from "${r}"`))})}m(Vo,"loadImg");function Hr(){let r=[x.assets.sprites,x.assets.sounds,x.assets.shaders,x.assets.fonts,x.assets.bitmapFonts,x.assets.custom];return r.reduce((t,i)=>t+i.progress(),0)/r.length}m(Hr,"loadProgress");function kd(){return[x.assets.sprites,x.assets.sounds,x.assets.shaders,x.assets.fonts,x.assets.bitmapFonts,x.assets.custom].reduce((r,t)=>r.concat(t.getFailedAssets()),[])}m(kd,"getFailedAssets");function Yg(r){return x.assets.custom.get(r)??null}m(Yg,"getAsset");function wl(r){return x.assets.custom.add(null,r)}m(wl,"load");var iA=m((r,t)=>({urlPrefix:"",sprites:new Xi,fonts:new Xi,bitmapFonts:new Xi,sounds:new Xi,shaders:new Xi,custom:new Xi,music:{},packer:new rA(r,2048,2048,t),loaded:!1}),"initAssets"),sA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",Un,Vr=(Un=class{constructor(t,i,o={},a=null){H(this,"tex");H(this,"frames",[new it(0,0,1,1)]);H(this,"anims",{});H(this,"slice9",null);this.tex=t,i&&(this.frames=i),this.anims=o,this.slice9=a}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(t,i={}){return typeof t=="string"?Un.fromURL(t,i):Promise.resolve(Un.fromImage(t,i))}static fromImage(t,i={}){let[o,a]=x.assets.packer.add(t),u=i.frames?i.frames.map(d=>new it(a.x+d.x*a.w,a.y+d.y*a.h,d.w*a.w,d.h*a.h)):Md(i.sliceX||1,i.sliceY||1,a.x,a.y,a.w,a.h);return new Un(o,u,i.anims,i.slice9)}static fromURL(t,i={}){return Vo(t).then(o=>Un.fromImage(o,i))}},m(Un,"SpriteData"),Un);function Mo(r){if(typeof r=="string"){let t=Cd(r);if(t)return t;if(Hr()<1)return null;throw new Error(`Sprite not found: ${r}`)}else{if(r instanceof Vr)return vn.loaded(r);if(r instanceof vn)return r;throw new Error(`Invalid sprite: ${r}`)}}m(Mo,"resolveSprite");function Cd(r){return x.assets.sprites.get(r)??null}m(Cd,"getSprite");function is(r,t,i={sliceX:1,sliceY:1,anims:{}}){return t=an(t),Array.isArray(t)?t.some(o=>typeof o=="string")?x.assets.sprites.add(r,Promise.all(t.map(o=>typeof o=="string"?Vo(o):Promise.resolve(o))).then(o=>Wc(o,i))):x.assets.sprites.addLoaded(r,Wc(t,i)):typeof t=="string"?x.assets.sprites.add(r,Vr.from(t,i)):x.assets.sprites.addLoaded(r,Vr.fromImage(t,i))}m(is,"loadSprite");function Md(r=1,t=1,i=0,o=0,a=1,u=1){let d=[],g=a/r,f=u/t;for(let p=0;p<t;p++)for(let v=0;v<r;v++)d.push(new it(i+v*g,o+p*f,g,f));return d}m(Md,"slice");function Wc(r,t={}){let i=document.createElement("canvas"),o=r[0].width,a=r[0].height;i.width=o*r.length,i.height=a;let u=i.getContext("2d");if(!u)throw new Error("Failed to create canvas context");r.forEach((g,f)=>{g instanceof ImageData?u.putImageData(g,f*o,0):u.drawImage(g,f*o,0)});let d=u.getImageData(0,0,r.length*o,a);return Vr.fromImage(d,{...t,sliceX:r.length,sliceY:1})}m(Wc,"createSpriteSheet");function Xg(r="bean"){return is(r,sA)}m(Xg,"loadBean");function $g(r,t,i){t=an(t),i=an(i),typeof t=="string"&&!i&&(i=bx(t)+".json");let o=typeof i=="string"?Ho(i):Promise.resolve(i);return x.assets.sprites.add(r,o.then(a=>{let u=a.meta.size,d=a.frames.map(f=>new it(f.frame.x/u.w,f.frame.y/u.h,f.frame.w/u.w,f.frame.h/u.h)),g={};for(let f of a.meta.frameTags)f.from===f.to?g[f.name]=f.from:g[f.name]={from:f.from,to:f.to,speed:10,loop:!0,pingpong:f.direction==="pingpong"};return Vr.from(t,{frames:d,anims:g})}))}m($g,"loadAseprite");var ws,fl=(ws=class{constructor(t,i={}){H(this,"fontface");H(this,"filter",zc);H(this,"outline",null);H(this,"size",64);if(this.fontface=t,this.filter=i.filter??zc,this.size=i.size??64,this.size>256)throw new Error("Max font size: 256");i.outline&&(this.outline={width:1,color:Le(0,0,0)},typeof i.outline=="number"?this.outline.width=i.outline:typeof i.outline=="object"&&(i.outline.width&&(this.outline.width=i.outline.width),i.outline.color&&(this.outline.color=i.outline.color)))}},m(ws,"FontData"),ws);function Rd(r){if(!r)return Rd(x.globalOpt.font??xx);if(typeof r=="string"){let t=Td(r),i=Pd(r);if(t)return t.data??t;if(i)return i.data??i;if(document.fonts.check(`64px ${r}`))return r;if(Hr()<1)return null;throw new Error(`Font not found: ${r}`)}else if(r instanceof vn)return r.data?r.data:r;return r}m(Rd,"resolveFont");function Pd(r){return x.assets.fonts.get(r)??null}m(Pd,"getFont");function Zg(r,t,i={}){let o=an(t),a=new FontFace(r,typeof t=="string"?`url(${o})`:o);return document.fonts.add(a),x.assets.fonts.add(r,a.load().catch(u=>{throw new Error(`Failed to load font from "${o}": ${u}`)}).then(u=>new fl(u,i)))}m(Zg,"loadFont");function Jg(r,t,i,o){let a=r.width/t,u={},d=o.split("").entries();for(let[g,f]of d)u[f]=new it(g%a*t,Math.floor(g/a)*i,t,i);return{tex:r,map:u,size:i}}m(Jg,"makeFont");function Td(r){return x.assets.bitmapFonts.get(r)??null}m(Td,"getBitmapFont");function ey(r,t,i,o,a={}){let u=an(t);return x.assets.bitmapFonts.add(r,Vo(u).then(d=>Jg(Br.fromImage(x.gfx.ggl,d,a),i,o,a.chars??mg)))}m(ey,"loadBitmapFont");function ty(r,t){return t=an(t),x.assets.sprites.add(r,new Promise(async i=>{let o=typeof t=="string"?await Ho(t):t,a=await Promise.all(o.frames.map(Vo)),u=document.createElement("canvas");u.width=o.width,u.height=o.height*o.frames.length;let d=u.getContext("2d");if(!d)throw new Error("Failed to create canvas context");a.forEach((f,p)=>{d.drawImage(f,0,p*o.height)});let g=await is(null,u,{sliceY:o.frames.length,anims:o.anims});i(g)}))}m(ty,"loadPedit");var xs,oA=(xs=class{constructor(t,i,o,a){H(this,"ctx");H(this,"glProgram");this.ctx=t,t.onDestroy(()=>this.free());let u=t.gl,d=u.createShader(u.VERTEX_SHADER),g=u.createShader(u.FRAGMENT_SHADER);if(!d||!g)throw new Error("Failed to create shader");u.shaderSource(d,i),u.shaderSource(g,o),u.compileShader(d),u.compileShader(g);let f=u.createProgram();if(this.glProgram=f,u.attachShader(f,d),u.attachShader(f,g),a.forEach((p,v)=>u.bindAttribLocation(f,v,p)),u.linkProgram(f),!u.getProgramParameter(f,u.LINK_STATUS)){let p=u.getShaderInfoLog(d);if(p)throw new Error("VERTEX SHADER "+p);let v=u.getShaderInfoLog(g);if(v)throw new Error("FRAGMENT SHADER "+v)}u.deleteShader(d),u.deleteShader(g)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(t){let i=this.ctx.gl;for(let o in t){let a=t[o],u=i.getUniformLocation(this.glProgram,o);if(typeof a=="number")i.uniform1f(u,a);else if(a instanceof Hn)i.uniformMatrix4fv(u,!1,new Float32Array(a.m));else if(a instanceof Ne)i.uniform3f(u,a.r,a.g,a.b);else if(a instanceof $)i.uniform2f(u,a.x,a.y);else if(Array.isArray(a))a[0],Dx(a)?i.uniform1fv(u,a):Fx(a)?i.uniform2fv(u,a.map(d=>[d.x,d.y]).flat()):Nx(a)&&i.uniform3fv(u,a.map(d=>[d.r,d.g,d.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}},m(xs,"Shader"),xs);function Hl(r,t=Uc,i=Hc){let o=kx.replace("{{user}}",t??Uc),a=Cx.replace("{{user}}",i??Hc);try{return new oA(r,o,a,xd.map(u=>u.name))}catch(u){let d=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,g=Bx(u).match(d);if(!(g!=null&&g.groups))throw u;let f=Number(g.groups.line)-14,p=g.groups.msg.trim(),v=g.groups.type.toLowerCase();throw new Error(`${v} shader line ${f}: ${p}`)}}m(Hl,"makeShader");function ny(r){if(!r)return x.gfx.defShader;if(typeof r=="string"){let t=Id(r);if(t)return t.data??t;if(Hr()<1)return null;throw new Error(`Shader not found: ${r}`)}else if(r instanceof vn)return r.data?r.data:r;return r}m(ny,"resolveShader");function Id(r){return x.assets.shaders.get(r)??null}m(Id,"getShader");function ry(r,t,i){return x.assets.shaders.addLoaded(r,Hl(x.gfx.ggl,t,i))}m(ry,"loadShader");function iy(r,t,i){t=an(t),i=an(i);let o=m(u=>u?Gg(u):Promise.resolve(null),"resolveUrl"),a=Promise.all([o(t),o(i)]).then(([u,d])=>Hl(x.gfx.ggl,u,d));return x.assets.shaders.add(r,a)}m(iy,"loadShaderURL");var ir,Do=(ir=class{constructor(t){H(this,"buf");this.buf=t}static fromArrayBuffer(t){return new Promise((i,o)=>x.audio.ctx.decodeAudioData(t,i,o)).then(i=>new ir(i))}static fromURL(t){return Eg(t)?ir.fromArrayBuffer(Ag(t)):Wg(t).then(i=>ir.fromArrayBuffer(i))}},m(ir,"SoundData"),ir);function sy(r){if(typeof r=="string"){let t=Nd(r);if(t)return t;if(Hr()<1)return null;throw new Error(`Sound not found: ${r}`)}else{if(r instanceof Do)return vn.loaded(r);if(r instanceof vn)return r;throw new Error(`Invalid sound: ${r}`)}}m(sy,"resolveSound");function Nd(r){return x.assets.sounds.get(r)??null}m(Nd,"getSound");function oy(r,t){return t=an(t),x.assets.sounds.add(r,typeof t=="string"?Do.fromURL(t):Do.fromArrayBuffer(t))}m(oy,"loadSound");function ay(r,t){let i=an(t),o=new Audio(i);return o.preload="auto",x.assets.music[r]=i}m(ay,"loadMusic");function Fd(r,t){return r=an(r),wl(typeof t=="string"?new Promise((i,o)=>{Ho(t).then(a=>{Fd(r,a).then(i).catch(o)})}):Vr.from(r).then(i=>{let o={};for(let a in t){let u=t[a],d=i.frames[0],g=2048*d.w,f=2048*d.h,p=u.frames?u.frames.map(M=>new it(d.x+(u.x+M.x)/g*d.w,d.y+(u.y+M.y)/f*d.h,M.w/g*d.w,M.h/f*d.h)):Md(u.sliceX||1,u.sliceY||1,d.x+u.x/g*d.w,d.y+u.y/f*d.h,u.width/g*d.w,u.height/f*d.h),v=new Vr(i.tex,p,u.anims);x.assets.sprites.addLoaded(a,v),o[a]=v}return o}))}m(Fd,"loadSpriteAtlas");function cr(r,t,i=!1,o,a,u={}){let d=o??x.gfx.defTex,g=a??x.gfx.defShader,f=ny(g);if(!f||f instanceof vn)return;let p=x.gfx.fixed||i?x.gfx.transform:x.game.cam.transform.mult(x.gfx.transform),v=[];for(let M of r){let y=_g(p.multVec2(M.pos));v.push(y.x,y.y,M.uv.x,M.uv.y,M.color.r/255,M.color.g/255,M.color.b/255,M.opacity)}x.gfx.renderer.push(x.gfx.ggl.gl.TRIANGLES,v,t,f,d,u)}m(cr,"drawRaw");function or(r){if(!r.pts)throw new Error('drawPolygon() requires property "pts".');let t=r.pts.length;if(!(t<3)){if(nn(),rt(r.pos),Ps(r.scale),xi(r.angle),rt(r.offset),r.fill!==!1){let i=r.color??Ne.WHITE,o=r.pts.map((u,d)=>({pos:new $(u.x,u.y),uv:r.uv?r.uv[d]:new $(0,0),color:r.colors&&r.colors[d]?r.colors[d].mult(i):i,opacity:r.opacity??1})),a;r.triangulate?a=wd(r.pts).map(u=>u.map(d=>r.pts.indexOf(d))).flat():a=[...Array(t-2).keys()].map(u=>[0,u+1,u+2]).flat(),cr(o,r.indices??a,r.fixed,r.uv?r.tex:x.gfx.defTex,r.shader,r.uniform??void 0)}r.outline&&Vl({pts:[...r.pts,r.pts[0]],radius:r.radius,width:r.outline.width,color:r.outline.color,join:r.outline.join,uniform:r.uniform,fixed:r.fixed,opacity:r.opacity??r.outline.opacity}),Kt()}}m(or,"drawPolygon");function Dd(r){if(r.radiusX===void 0||r.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(r.radiusX===0||r.radiusY===0)return;let t=r.start??0,i=r.end??360,o=Ei(r.anchor??"center").scale(new $(-r.radiusX,-r.radiusY)),a=ts(o,r.radiusX,r.radiusY,t,i,r.resolution);a.unshift(o);let u=Object.assign({},r,{pts:a,radius:0,...r.gradient?{colors:[r.gradient[0],...Array(a.length-1).fill(r.gradient[1])]}:{}});if(i-t>=360&&r.outline){r.fill!==!1&&or(Object.assign({},u,{outline:null})),or(Object.assign({},u,{pts:a.slice(1),fill:!1}));return}or(u)}m(Dd,"drawEllipse");function ki(r){if(typeof r.radius!="number")throw new Error('drawCircle() requires property "radius".');r.radius!==0&&Dd(Object.assign({},r,{radiusX:r.radius,radiusY:r.radius,angle:0}))}m(ki,"drawCircle");function ns(r){let{p1:t,p2:i}=r;if(!t||!i)throw new Error('drawLine() requires properties "p1" and "p2".');let o=r.width||1,a=i.sub(t).unit().normal().scale(o*.5),u=[t.sub(a),t.add(a),i.add(a),i.sub(a)].map(d=>({pos:new $(d.x,d.y),uv:new $(0),color:r.color??Ne.WHITE,opacity:r.opacity??1}));cr(u,[0,1,3,1,2,3],r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(ns,"drawLine");function ly(r){let t=r.pts,i=[],o=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||Q(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let g=d.len(),f=d.normal().scale(-o/g),p,v=t[0];if(!a)switch(r.cap){case"square":{let S=d.scale(-o/g);i.push(v.add(S).add(f)),i.push(v.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(-1),C=Math.cos(T),D=Math.sin(T);for(let F=0;F<S;F++)i.push(v),i.push(v.sub(A)),A=Q(A.x*C-A.y*D,A.x*D+A.y*C)}}for(let S=1;S<t.length;S++){if(v===t[S]||v.eq(t[S]))continue;p=v,v=t[S];let T=v.sub(p),A=T.len(),C=T.normal().scale(-o/A),D=d.cross(T);if(Math.abs(D)/(g*A)<.05){i.push(p.add(f)),i.push(p.sub(f)),d.dot(T)<0&&(i.push(p.sub(f)),i.push(p.add(f))),d=T,g=A,f=C;continue}let F=C.sub(f).cross(T)/D,q=f.add(d.scale(F));D>0?(i.push(p.add(q)),i.push(p.sub(f)),i.push(p.add(q)),i.push(p.sub(C))):(i.push(p.add(f)),i.push(p.sub(q)),i.push(p.add(C)),i.push(p.sub(q))),d=T,g=A,f=C}if(!a)switch(i.push(v.add(f)),i.push(v.sub(f)),r.cap){case"square":{let S=d.scale(o/g);i.push(v.add(S).add(f)),i.push(v.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(1),C=Math.cos(T),D=Math.sin(T);for(let F=0;F<S;F++)A=Q(A.x*C-A.y*D,A.x*D+A.y*C),i.push(v),i.push(v.sub(A))}}if(i.length<4)return;let M=i.map(S=>({pos:u.add(S),uv:Q(),color:r.color||Ne.WHITE,opacity:r.opacity??1})),y=[],k=0;for(let S=0;S<i.length-2;S+=2)y[k++]=S+1,y[k++]=S,y[k++]=S+2,y[k++]=S+2,y[k++]=S+3,y[k++]=S+1;a&&(y[k++]=i.length-1,y[k++]=i.length-2,y[k++]=0,y[k++]=0,y[k++]=1,y[k++]=i.length-1),cr(M,y,r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(ly,"_drawLinesBevel");function uy(r){let t=r.pts,i=[],o=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||Q(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let g=d.len(),f=d.normal().scale(-o/g),p,v=t[0];if(!a)switch(r.cap){case"square":{let S=d.scale(-o/g);i.push(v.add(S).add(f)),i.push(v.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(-1),C=Math.cos(T),D=Math.sin(T);for(let F=0;F<S;F++)i.push(v),i.push(v.sub(A)),A=Q(A.x*C-A.y*D,A.x*D+A.y*C)}}for(let S=1;S<t.length;S++){if(v===t[S]||v.eq(t[S]))continue;p=v,v=t[S];let T=v.sub(p),A=T.len(),C=T.normal().scale(-o/A),D=d.cross(T);if(Math.abs(D)/(g*A)<.05){i.push(p.add(f)),i.push(p.sub(f)),d.dot(T)<0&&(i.push(p.sub(f)),i.push(p.add(f))),d=T,g=A,f=C;continue}let F=C.sub(f).cross(T)/D,q=f.add(d.scale(F));if(D>0){let b=p.add(q),E=Math.max(o,10),R=dt(f.angleBetween(C)/E),I=f,K=Math.cos(R),Y=Math.sin(R);for(let J=0;J<E;J++)i.push(b),i.push(p.sub(I)),I=Q(I.x*K-I.y*Y,I.x*Y+I.y*K)}else{let b=p.sub(q),E=Math.max(o,10),R=dt(f.angleBetween(C)/E),I=f,K=Math.cos(R),Y=Math.sin(R);for(let J=0;J<E;J++)i.push(p.add(I)),i.push(b),I=Q(I.x*K-I.y*Y,I.x*Y+I.y*K)}d=T,g=A,f=C}if(!a)switch(i.push(v.add(f)),i.push(v.sub(f)),r.cap){case"square":{let S=d.scale(o/g);i.push(v.add(S).add(f)),i.push(v.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(1),C=Math.cos(T),D=Math.sin(T);for(let F=0;F<S;F++)A=Q(A.x*C-A.y*D,A.x*D+A.y*C),i.push(v),i.push(v.sub(A))}}if(i.length<4)return;let M=i.map(S=>({pos:u.add(S),uv:Q(),color:r.color||Ne.WHITE,opacity:r.opacity??1})),y=[],k=0;for(let S=0;S<i.length-2;S+=2)y[k++]=S+1,y[k++]=S,y[k++]=S+2,y[k++]=S+2,y[k++]=S+3,y[k++]=S+1;a&&(y[k++]=i.length-1,y[k++]=i.length-2,y[k++]=0,y[k++]=0,y[k++]=1,y[k++]=i.length-1),cr(M,y,r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(uy,"_drawLinesRound");function cy(r){let t=r.pts,i=[],o=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||Q(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let g=d.len(),f=d.normal().scale(-o/g),p,v=t[0];if(!a)switch(r.cap){case"square":{let S=d.scale(-o/g);i.push(v.add(S).add(f)),i.push(v.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(-1),C=Math.cos(T),D=Math.sin(T);for(let F=0;F<S;F++)i.push(v),i.push(v.sub(A)),A=Q(A.x*C-A.y*D,A.x*D+A.y*C)}}for(let S=1;S<t.length;S++){if(v===t[S]||v.eq(t[S]))continue;p=v,v=t[S];let T=v.sub(p),A=T.len(),C=T.normal().scale(-o/A),D=d.cross(T);if(Math.abs(D)/(g*A)<.05){i.push(p.add(f)),i.push(p.sub(f)),d.dot(T)<0&&(i.push(p.sub(f)),i.push(p.add(f))),d=T,g=A,f=C;continue}let F=C.sub(f).cross(T)/D,q=f.add(d.scale(F));i.push(p.add(q)),i.push(p.sub(q)),d=T,g=A,f=C}if(!a)switch(i.push(v.add(f)),i.push(v.sub(f)),r.cap){case"square":{let S=d.scale(o/g);i.push(v.add(S).add(f)),i.push(v.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(1),C=Math.cos(T),D=Math.sin(T);for(let F=0;F<S;F++)A=Q(A.x*C-A.y*D,A.x*D+A.y*C),i.push(v),i.push(v.sub(A))}}if(i.length<4)return;let M=i.map(S=>({pos:u.add(S),uv:Q(),color:r.color||Ne.WHITE,opacity:r.opacity??1})),y=[],k=0;for(let S=0;S<i.length-2;S+=2)y[k++]=S+1,y[k++]=S,y[k++]=S+2,y[k++]=S+2,y[k++]=S+3,y[k++]=S+1;a&&(y[k++]=i.length-1,y[k++]=i.length-2,y[k++]=0,y[k++]=0,y[k++]=1,y[k++]=i.length-1),cr(M,y,r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(cy,"_drawLinesMiter");function Vl(r){let t=r.pts,i=r.width??1;if(!t)throw new Error('drawLines() requires property "pts".');if(!(t.length<2)){if(t.length>2)switch(r.join){case"bevel":return ly(r);case"round":return uy(r);case"miter":return cy(r)}if(r.radius&&t.length>=3){ns(Object.assign({},r,{p1:t[0],p2:t[1]}));for(let o=1;o<t.length-2;o++){let a=t[o],u=t[o+1];ns(Object.assign({},r,{p1:a,p2:u}))}ns(Object.assign({},r,{p1:t[t.length-2],p2:t[t.length-1]}))}else for(let o=0;o<t.length-1;o++)ns(Object.assign({},r,{p1:t[o],p2:t[o+1]})),r.join!=="none"&&ki(Object.assign({},r,{pos:t[o],radius:i/2}))}}m(Vl,"drawLines");function bd(r,t){let i=t.segments??16,o=[];for(let a=0;a<=i;a++)o.push(r(a/i));Vl({pts:o,width:t.width||1,pos:t.pos,color:t.color,opacity:t.opacity})}m(bd,"drawCurve");function dy(r){bd(t=>Ol(r.pt1,r.pt2,r.pt3,r.pt4,t),r)}m(dy,"drawBezier");var wi,Br=(wi=class{constructor(t,i,o,a={}){H(this,"ctx");H(this,"src",null);H(this,"glTex");H(this,"width");H(this,"height");this.ctx=t;let u=t.gl,d=t.gl.createTexture();if(!d)throw new Error("Failed to create texture");this.glTex=d,t.onDestroy(()=>this.free()),this.width=i,this.height=o;let g={linear:u.LINEAR,nearest:u.NEAREST}[a.filter??t.opts.texFilter??"nearest"],f={repeat:u.REPEAT,clampToEdge:u.CLAMP_TO_EDGE}[a.wrap??"clampToEdge"];this.bind(),i&&o&&u.texImage2D(u.TEXTURE_2D,0,u.RGBA,i,o,0,u.RGBA,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,g),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,g),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,f),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,f),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(t,i,o={}){let a=new wi(t,i.width,i.height,o);return a.update(i),a.src=i,a}update(t,i=0,o=0){let a=this.ctx.gl;this.bind(),a.texSubImage2D(a.TEXTURE_2D,0,i,o,a.RGBA,a.UNSIGNED_BYTE,t),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},m(wi,"Texture"),wi),As,xl=(As=class{constructor(t,i,o,a={}){H(this,"ctx");H(this,"tex");H(this,"glFramebuffer");H(this,"glRenderbuffer");this.ctx=t;let u=t.gl;t.onDestroy(()=>this.free()),this.tex=new Br(t,i,o,a);let d=u.createFramebuffer(),g=u.createRenderbuffer();if(!d||!g)throw new Error("Failed to create framebuffer");this.glFramebuffer=d,this.glRenderbuffer=g,this.bind(),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,i,o),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,this.tex.glTex,0),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let t=this.ctx.gl,i=new Uint8ClampedArray(this.width*this.height*4);this.bind(),t.readPixels(0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,i),this.unbind();let o=this.width*4,a=new Uint8Array(o);for(let u=0;u<(this.height/2|0);u++){let d=u*o,g=(this.height-u-1)*o;a.set(i.subarray(d,d+o)),i.copyWithin(d,g,g+o),i.set(a,g)}return new ImageData(i,this.width,this.height)}toDataURL(){let t=document.createElement("canvas"),i=t.getContext("2d");if(t.width=this.width,t.height=this.height,!i)throw new Error("Failed to get 2d context");return i.putImageData(this.toImageData(),0,0),t.toDataURL()}clear(){let t=this.ctx.gl;t.clear(t.COLOR_BUFFER_BIT)}draw(t){this.bind(),t(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let t=this.ctx.gl;t.deleteFramebuffer(this.glFramebuffer),t.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},m(As,"FrameBuffer"),As),Ss,aA=(Ss=class{constructor(t,i,o,a){H(this,"ctx");H(this,"glVBuf");H(this,"glIBuf");H(this,"vqueue",[]);H(this,"iqueue",[]);H(this,"stride");H(this,"maxVertices");H(this,"maxIndices");H(this,"vertexFormat");H(this,"numDraws",0);H(this,"curPrimitive",null);H(this,"curTex",null);H(this,"curShader",null);H(this,"curUniform",{});let u=t.gl;this.vertexFormat=i,this.ctx=t,this.stride=i.reduce((g,f)=>g+f.size,0),this.maxVertices=o,this.maxIndices=a;let d=u.createBuffer();if(!d)throw new Error("Failed to create vertex buffer");this.glVBuf=d,t.pushArrayBuffer(this.glVBuf),u.bufferData(u.ARRAY_BUFFER,o*4,u.DYNAMIC_DRAW),t.popArrayBuffer(),this.glIBuf=u.createBuffer(),t.pushElementArrayBuffer(this.glIBuf),u.bufferData(u.ELEMENT_ARRAY_BUFFER,a*4,u.DYNAMIC_DRAW),t.popElementArrayBuffer()}push(t,i,o,a,u=null,d={}){(t!==this.curPrimitive||u!==this.curTex||a!==this.curShader||!ql(this.curUniform,d)||this.vqueue.length+i.length*this.stride>this.maxVertices||this.iqueue.length+o.length>this.maxIndices)&&this.flush();let g=this.vqueue.length/this.stride;for(let f of i)this.vqueue.push(f);for(let f of o)this.iqueue.push(f+g);this.curPrimitive=t,this.curShader=a,this.curTex=u,this.curUniform=d}flush(){var i,o;if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let t=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),t.bufferSubData(t.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),(i=this.curTex)==null||i.bind(),t.drawElements(this.curPrimitive,this.iqueue.length,t.UNSIGNED_SHORT,0),(o=this.curTex)==null||o.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let t=this.ctx.gl;t.deleteBuffer(this.glVBuf),t.deleteBuffer(this.glIBuf)}},m(Ss,"BatchRenderer"),Ss);function br(r){let t=[],i=m(u=>{t.push(u),r(u)},"push"),o=m(()=>{t.pop(),r(a()??null)},"pop"),a=m(()=>t[t.length-1],"cur");return[i,o,a]}m(br,"genStack");function fy(r,t={}){let i=[];function o(b){i.push(b)}m(o,"onDestroy");function a(){i.forEach(E=>E());let b=r.getExtension("WEBGL_lose_context");b&&b.loseContext()}m(a,"destroy");let u=null;function d(b){if(ql(b,u))return;u=b;let E=b.reduce((R,I)=>R+I.size,0);b.reduce((R,I,K)=>(r.vertexAttribPointer(K,I.size,r.FLOAT,!1,E*4,R),r.enableVertexAttribArray(K),R+I.size*4),0)}m(d,"setVertexFormat");let[g,f]=br(b=>r.bindTexture(r.TEXTURE_2D,b)),[p,v]=br(b=>r.bindBuffer(r.ARRAY_BUFFER,b)),[M,y]=br(b=>r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,b)),[k,S]=br(b=>r.bindFramebuffer(r.FRAMEBUFFER,b)),[T,A]=br(b=>r.bindRenderbuffer(r.RENDERBUFFER,b)),[C,D]=br(b=>{if(!b)return;let{x:E,y:R,w:I,h:K}=b;r.viewport(E,R,I,K)}),[F,q]=br(b=>r.useProgram(b));return C({x:0,y:0,w:r.drawingBufferWidth,h:r.drawingBufferHeight}),{gl:r,opts:t,onDestroy:o,destroy:a,pushTexture2D:g,popTexture2D:f,pushArrayBuffer:p,popArrayBuffer:v,pushElementArrayBuffer:M,popElementArrayBuffer:y,pushFramebuffer:k,popFramebuffer:S,pushRenderbuffer:T,popRenderbuffer:A,pushViewport:C,popViewport:D,pushProgram:F,popProgram:q,setVertexFormat:d}}m(fy,"initGfx");var Bc={};function Qc(r,t){if(t.override){Object.assign(r,t);return}t.pos&&(r.pos=r.pos.add(t.pos)),t.scale&&(r.scale=r.scale.scale(Q(t.scale))),t.angle&&(r.angle+=t.angle),t.color&&r.ch.length===1&&(r.color=r.color.mult(t.color)),t.opacity!=null&&(r.opacity*=t.opacity)}m(Qc,"applyCharTransform");function Al(r){let t={},i="",o=[],a=String(r),u=m(d=>{o.length>0&&(t[i.length]=o.slice()),i+=d},"emit");for(;a!=="";){if(a[0]==="\\"){if(a.length===1)throw new Error("Styled text error: \\ at end of string");u(a[1]),a=a.slice(2);continue}if(a[0]==="["){let d=/^\[(\/)?(\w+?)\]/.exec(a);if(!d){u(a[0]),a=a.slice(1);continue}let[g,f,p]=d;if(f!==void 0){let v=o.pop();if(v!==p)throw v!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${v}], got [/${p}]`):new Error(`Styled text error: stray end tag [/${p}]`)}else o.push(p);a=a.slice(g.length);continue}u(a[0]),a=a.slice(1)}if(o.length>0)throw new Error(`Styled text error: unclosed tags ${o}`);return{charStyleMap:t,text:i}}m(Al,"compileStyledText");function Gr(r){var F,q,b;if(r.text===void 0)throw new Error('formatText() requires property "text".');let t=Rd(r.font);if(!r.text||r.text===""||t instanceof vn||!t)return{width:0,height:0,chars:[],opt:r,renderedText:""};let{charStyleMap:i,text:o}=Al(r.text+""),a=Cg(o);if(t instanceof fl||typeof t=="string"){let E=t instanceof fl?t.fontface.family:t,R=t instanceof fl?{outline:t.outline,filter:t.filter}:{outline:null,filter:zc},I=Bc[E]??{font:{tex:new Br(x.gfx.ggl,2048,2048,{filter:R.filter}),map:{},size:64},cursor:new $(0),maxHeight:0,outline:R.outline};Bc[E]||(Bc[E]=I),t=I.font;for(let K of a)if(!I.font.map[K]){let Y=x.fontCacheC2d;if(!Y)throw new Error("fontCacheC2d is not defined.");if(!x.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");Y.clearRect(0,0,x.fontCacheCanvas.width,x.fontCacheCanvas.height),Y.font=`${t.size}px ${E}`,Y.textBaseline="top",Y.textAlign="left",Y.fillStyle="#ffffff";let J=Y.measureText(K),oe=Math.ceil(J.width);if(!oe)continue;let ue=Math.ceil(Math.abs(J.actualBoundingBoxAscent))+Math.ceil(Math.abs(J.actualBoundingBoxDescent));I.outline&&I.outline.width&&I.outline.color&&(Y.lineJoin="round",Y.lineWidth=I.outline.width*2,Y.strokeStyle=I.outline.color.toHex(),Y.strokeText(K,I.outline.width,I.outline.width),oe+=I.outline.width*2,ue+=I.outline.width*3),Y.fillText(K,((F=I.outline)==null?void 0:F.width)??0,((q=I.outline)==null?void 0:q.width)??0);let ve=Y.getImageData(0,0,oe,ue);if(I.cursor.x+oe>2048&&(I.cursor.x=0,I.cursor.y+=I.maxHeight,I.maxHeight=0,I.cursor.y>2048))throw new Error("Font atlas exceeds character limit");t.tex.update(ve,I.cursor.x,I.cursor.y),t.map[K]=new it(I.cursor.x,I.cursor.y,oe,ue),I.cursor.x+=oe+1,I.maxHeight=Math.max(I.maxHeight,ue)}}let u=r.size||t.size,d=Q(r.scale??1).scale(u/t.size),g=r.lineSpacing??0,f=r.letterSpacing??0,p=0,v=0,M=0,y=[],k=[],S=0,T=null,A=0,C;for(;S<a.length;){let E=a[S];if(E===`
`)M+=u+g,y.push({width:p-f,chars:k}),T=null,A=0,p=0,k=[],C=void 0;else{let R=t.map[E];if(R){let I=R.w*d.x;r.width&&p+I>r.width&&(M+=u+g,T!=null&&(S-=k.length-T,E=a[S],R=t.map[E],I=R.w*d.x,k=k.slice(0,T-1),p=A),T=null,A=0,y.push({width:p-f,chars:k}),p=C??0,k=[]),k.push({tex:t.tex,width:R.w,height:R.h,quad:new it(R.x/t.tex.width,R.y/t.tex.height,R.w/t.tex.width,R.h/t.tex.height),ch:E,pos:new $(p,M),opacity:r.opacity??1,color:r.color??Ne.WHITE,scale:Q(d),angle:0}),E===" "&&(T=k.length,A=p),r.indentAll&&C===void 0&&/\S/.test(E)&&(C=p),p+=I,v=Math.max(v,p),p+=f}}S++}y.push({width:p-f,chars:k}),M+=u,r.width&&(v=r.width);let D=[];for(let E=0;E<y.length;E++){let R=(v-y[E].width)*Bg(r.align??"left");for(let I of y[E].chars){let K=t.map[I.ch],Y=D.length+E;if(I.pos=I.pos.add(R,0).add(K.w*d.x*.5,K.h*d.y*.5),r.transform){let J=typeof r.transform=="function"?r.transform(Y,I.ch):r.transform;J&&Qc(I,J)}if(i[Y]){let J=i[Y];for(let oe of J){let ue=(b=r.styles)==null?void 0:b[oe],ve=typeof ue=="function"?ue(Y,I.ch):ue;ve&&Qc(I,ve)}}D.push(I)}}return{width:v,height:M,chars:D,opt:r,renderedText:o}}m(Gr,"formatText");function Ts(r){if(r.width===void 0||r.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(r.width<=0||r.height<=0)return;let t=r.width,i=r.height,o=Ei(r.anchor||Ll).scale(new $(t,i).scale(-.5)),a=r.quad||new it(0,0,1,1),u=r.color||Le(255,255,255),d=r.opacity??1,g=r.tex?.1/r.tex.width:0,f=r.tex?.1/r.tex.height:0,p=a.x+g,v=a.y+f,M=a.w-g*2,y=a.h-f*2;nn(),rt(r.pos),xi(r.angle),Ps(r.scale),rt(o),cr([{pos:new $(-t/2,i/2),uv:new $(r.flipX?p+M:p,r.flipY?v:v+y),color:u,opacity:d},{pos:new $(-t/2,-i/2),uv:new $(r.flipX?p+M:p,r.flipY?v+y:v),color:u,opacity:d},{pos:new $(t/2,-i/2),uv:new $(r.flipX?p:p+M,r.flipY?v+y:v),color:u,opacity:d},{pos:new $(t/2,i/2),uv:new $(r.flipX?p:p+M,r.flipY?v:v+y),color:u,opacity:d}],[0,1,3,1,2,3],r.fixed,r.tex,r.shader,r.uniform??void 0),Kt()}m(Ts,"drawUVQuad");function Wr(r){nn(),rt(r.opt.pos),xi(r.opt.angle),rt(Ei(r.opt.anchor??"topleft").add(1,1).scale(r.width,r.height).scale(-.5)),r.chars.forEach(t=>{Ts({tex:t.tex,width:t.width,height:t.height,pos:t.pos,scale:t.scale,angle:t.angle,color:t.color,opacity:t.opacity,quad:t.quad,anchor:"center",uniform:r.opt.uniform,shader:r.opt.shader,fixed:r.opt.fixed})}),Kt()}m(Wr,"drawFormattedText");function sn(r){if(r.width===void 0||r.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(r.width<=0||r.height<=0)return;let t=r.width,i=r.height,o=Ei(r.anchor||Ll).add(1,1).scale(new $(t,i).scale(-.5)),a=[new $(0,0),new $(t,0),new $(t,i),new $(0,i)];if(r.radius){let u=Math.min(t,i)/2,d=Array.isArray(r.radius)?r.radius.map(g=>Math.min(u,g)):new Array(4).fill(Math.min(u,r.radius));a=[new $(d[0],0),...d[1]?ts(new $(t-d[1],d[1]),d[1],d[1],270,360):[Q(t,0)],...d[2]?ts(new $(t-d[2],i-d[2]),d[2],d[2],0,90):[Q(t,i)],...d[3]?ts(new $(d[3],i-d[3]),d[3],d[3],90,180):[Q(0,i)],...d[0]?ts(new $(d[0],d[0]),d[0],d[0],180,270):[]]}or(Object.assign({},r,{offset:o,pts:a,...r.gradient?{colors:r.horizontal?[r.gradient[0],r.gradient[1],r.gradient[1],r.gradient[0]]:[r.gradient[0],r.gradient[0],r.gradient[1],r.gradient[1]]}:{}}))}m(sn,"drawRect");function rr(r){rn();let t=x.gfx.width,i=x.gfx.height;x.gfx.width=x.gfx.viewport.width,x.gfx.height=x.gfx.viewport.height,r(),rn(),x.gfx.width=t,x.gfx.height=i}m(rr,"drawUnscaled");function Kc(r,t){rr(()=>{let i=Q(8);nn(),rt(r);let o=Gr({text:t,font:ml,size:16,pos:i,color:Le(255,255,255),fixed:!0}),a=o.width+i.x*2,u=o.height+i.x*2;r.x+a>=kt()&&rt(Q(-a,0)),r.y+u>=Tt()&&rt(Q(0,-u)),sn({width:a,height:u,color:Le(0,0,0),radius:4,opacity:.8,fixed:!0}),Wr(o),Kt()})}m(Kc,"drawInspectText");function Bd(r){if(!r.p1||!r.p2||!r.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return or(Object.assign({},r,{pts:[r.p1,r.p2,r.p3]}))}m(Bd,"drawTriangle");function hy(){if(x.debug.inspect){let r=null;for(let t of x.game.root.get("*",{recursive:!0}))if(t.c("area")&&t.isHovering()){r=t;break}if(x.game.root.drawInspect(),r){let t=[],i=r.inspect();for(let o in i)i[o]?t.push(`${i[o]}`):t.push(`${o}`);Kc(Hg(Ed()),t.join(`
`))}Kc(Q(8),`FPS: ${x.debug.fps()}`)}x.debug.paused&&rr(()=>{nn(),rt(kt(),0),rt(-8,8);let r=32;sn({width:r,height:r,anchor:"topright",color:Le(0,0,0),opacity:.8,radius:4,fixed:!0});for(let t=1;t<=2;t++)sn({width:4,height:r*.6,anchor:"center",pos:Q(-32/3*t,r*.5),color:Le(255,255,255),radius:2,fixed:!0});Kt()}),x.debug.timeScale!==1&&rr(()=>{nn(),rt(kt(),Tt()),rt(-8,-8);let r=8,t=Gr({text:x.debug.timeScale.toFixed(1),font:ml,size:16,color:Le(255,255,255),pos:Q(-8),anchor:"botright",fixed:!0});sn({width:t.width+r*2+r*4,height:t.height+r*2,anchor:"botright",color:Le(0,0,0),opacity:.8,radius:4,fixed:!0});for(let i=0;i<2;i++){let o=x.debug.timeScale<1;Bd({p1:Q(-t.width-r*(o?2:3.5),-8),p2:Q(-t.width-r*(o?2:3.5),-8-t.height),p3:Q(-t.width-r*(o?3.5:2),-8-t.height/2),pos:Q(-i*r*1+(o?-8*.5:0),0),color:Le(255,255,255),fixed:!0})}Wr(t),Kt()}),x.debug.curRecording&&rr(()=>{nn(),rt(0,Tt()),rt(24,-24),ki({radius:12,color:Le(255,0,0),opacity:sd(0,1,x.app.time()*4),fixed:!0}),Kt()}),x.debug.showLog&&x.game.logs.length>0&&rr(()=>{nn(),rt(0,Tt()),rt(8,-8);let r=8,t=[];for(let o of x.game.logs){let a="",u=o.msg instanceof Error?"error":"info";a+=`[time]${o.time.toFixed(2)}[/time]`,a+=" ",a+=`[${u}]${Sl(o.msg)}[/${u}]`,t.push(a)}x.game.logs=x.game.logs.filter(o=>x.app.time()-o.time<(x.globalOpt.logTime||4));let i=Gr({text:t.join(`
`),font:ml,pos:Q(r,-8),anchor:"botleft",size:16,width:kt()*.6,lineSpacing:r/2,fixed:!0,styles:{time:{color:Le(127,127,127)},info:{color:Le(255,255,255)},error:{color:Le(255,0,127)}}});sn({width:i.width+r*2,height:i.height+r*2,anchor:"botleft",color:Le(0,0,0),radius:4,opacity:.8,fixed:!0}),Wr(i),Kt()})}m(hy,"drawDebug");function Sl(r,t=!1,i=new Set){if(i.has(r))return"<recursive>";var o="",a;return t&&typeof r=="string"&&(r=JSON.stringify(r)),Array.isArray(r)&&(o=["[",r.map(u=>Sl(u,!0,i.union(new Set([r])))).join(", "),"]"].join(""),r=o),r===null?"null":(typeof r=="object"&&r.toString===Object.prototype.toString&&(r.constructor!==Object&&(o+=r.constructor.name+" "),o+=["{",(a=Object.getOwnPropertyNames(r).map(u=>`${/^\w+$/.test(u)?u:JSON.stringify(u)}: ${Sl(r[u],!0,i.union(new Set([r])))}`).join(", "))?` ${a} `:"","}"].join(""),r=o),String(r).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}m(Sl,"prettyDebug");function py(){let r=x.game.cam,t=$.fromAngle(vt(0,360)).scale(r.shake);r.shake=Yt(r.shake,0,5*wt()),r.transform=new Hn().translate(Fo()).scale(r.scale).rotate(r.angle).translate((r.pos??Fo()).scale(-1).add(t)),x.game.root.draw(),rn()}m(py,"drawFrame");function my(){let r=Hr();x.game.events.numListeners("loading")>0?x.game.events.trigger("loading",r):rr(()=>{let t=kt()/2,i=24,o=Q(kt()/2,Tt()/2).sub(Q(t/2,i/2));sn({pos:Q(0),width:kt(),height:Tt(),color:Le(0,0,0)}),sn({pos:o,width:t,height:i,fill:!1,outline:{width:4}}),sn({pos:o,width:t*r,height:i})})}m(my,"drawLoadScreen");function jd(r,t,i){let o=x.gfx.ggl.gl;rn(),o.clear(o.STENCIL_BUFFER_BIT),o.enable(o.STENCIL_TEST),o.stencilFunc(o.NEVER,1,255),o.stencilOp(o.REPLACE,o.REPLACE,o.REPLACE),t(),rn(),o.stencilFunc(i,1,255),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),r(),rn(),o.disable(o.STENCIL_TEST)}m(jd,"drawStenciled");function gy(r,t){let i=x.gfx.ggl.gl;jd(r,t,i.EQUAL)}m(gy,"drawMasked");function bo(r){var u,d;if(!r.tex)throw new Error('drawTexture() requires property "tex".');let t=r.quad??new it(0,0,1,1),i=r.tex.width*t.w,o=r.tex.height*t.h,a=new $(1);if(r.tiled){let g=Ei(r.anchor||Ll);(((u=r.pos)==null?void 0:u.x)||0)-(g.x+1)*.5*(r.width||i),(((d=r.pos)==null?void 0:d.y)||0)-(g.y+1)*.5*(r.height||o);let f=(r.width||i)/i,p=(r.height||o)/o,v=Math.floor(f),M=Math.floor(p),y=f-v,k=p-M,S=(v+y?1:0)*(M+k?1:0),T=new Array(S*6),A=new Array(S*4),C=0,D=m((F,q,b,E,R)=>{T[C*6+0]=C*4+0,T[C*6+1]=C*4+1,T[C*6+2]=C*4+3,T[C*6+3]=C*4+1,T[C*6+4]=C*4+2,T[C*6+5]=C*4+3,A[C*4+0]={pos:new $(F-g.x,q-g.y),uv:new $(R.x,R.y),color:r.color||Ne.WHITE,opacity:r.opacity||1},A[C*4+1]={pos:new $(F+b-g.x,q-g.y),uv:new $(R.x+R.w,R.y),color:r.color||Ne.WHITE,opacity:r.opacity||1},A[C*4+2]={pos:new $(F+b-g.x,q+E-g.y),uv:new $(R.x+R.w,R.y+R.h),color:r.color||Ne.WHITE,opacity:r.opacity||1},A[C*4+3]={pos:new $(F-g.x,q+E-g.y),uv:new $(R.x,R.y+R.h),color:r.color||Ne.WHITE,opacity:r.opacity||1},C++},"addQuad");for(let F=0;F<M;F++){for(let q=0;q<v;q++)D(q*i,F*o,i,o,t);y&&D(v*i,F*o,i*y,o,new it(t.x,t.y,t.w*y,t.h))}if(k){for(let F=0;F<v;F++)D(F*i,M*o,i,o*k,new it(t.x,t.y,t.w,t.h*k));y&&D(v*i,M*o,i*y,o*k,new it(t.x,t.y,t.w*y,t.h*k))}cr(A,T,r.fixed,r.tex,r.shader,r.uniform??void 0)}else r.width&&r.height?(a.x=r.width/i,a.y=r.height/o):r.width?(a.x=r.width/i,a.y=a.x):r.height&&(a.y=r.height/o,a.x=a.y),Ts(Object.assign({},r,{scale:a.scale(r.scale||new $(1)),tex:r.tex,quad:t,width:i,height:o}))}m(bo,"drawTexture");function yy(r){if(!r.sprite)throw new Error('drawSprite() requires property "sprite"');let t=Mo(r.sprite);if(!t||!t.data)return;let i=t.data.frames[r.frame??0];if(!i)throw new Error(`Frame not found: ${r.frame??0}`);bo(Object.assign({},r,{tex:t.data.tex,quad:i.scale(r.quad??new it(0,0,1,1))}))}m(yy,"drawSprite");function vy(r,t){let i=x.gfx.ggl.gl;jd(r,t,i.NOTEQUAL)}m(vy,"drawSubtracted");function Yc(r){Wr(Gr(r))}m(Yc,"drawText");var lA=m((r,t)=>{let i=Hl(t,Uc,Hc),o=r.pixelDensity??1,a=r.scale??1,{gl:u}=t,d=Br.fromImage(t,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),g=r.width&&r.height?new xl(t,r.width*o*a,r.height*o*a):new xl(t,u.drawingBufferWidth,u.drawingBufferHeight),f=null,p=1;r.background&&(typeof r.background=="string"?f=Le(r.background):(f=Le(...r.background),p=r.background[3]??1),u.clearColor(f.r/255,f.g/255,f.b/255,p??1)),u.enable(u.BLEND),u.blendFuncSeparate(u.ONE,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA);let v=new aA(t,xd,Sx,Ex),M=Br.fromImage(t,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:t,defShader:i,defTex:d,frameBuffer:g,postShader:null,postShaderUniform:null,renderer:v,transform:new Hn,transformStack:[],bgTex:M,bgColor:f,bgAlpha:p,width:r.width??u.drawingBufferWidth/o/a,height:r.height??u.drawingBufferHeight/o/a,viewport:{x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},fixed:!1}},"initAppGfx");function Od(){let r=x.pixelDensity,t=x.gfx.ggl.gl.drawingBufferWidth/r,i=x.gfx.ggl.gl.drawingBufferHeight/r;if(x.globalOpt.letterbox){if(!x.globalOpt.width||!x.globalOpt.height)throw new Error("Letterboxing requires width and height defined.");let o=t/i,a=x.globalOpt.width/x.globalOpt.height;if(o>a){let u=i*a,d=(t-u)/2;x.gfx.viewport={x:d,y:0,width:u,height:i}}else{let u=t/a,d=(i-u)/2;x.gfx.viewport={x:0,y:d,width:t,height:u}}return}if(x.globalOpt.stretch&&(!x.globalOpt.width||!x.globalOpt.height))throw new Error("Stretching requires width and height defined.");x.gfx.viewport={x:0,y:0,width:t,height:i}}m(Od,"updateViewport");function jr(r){return r.fixed?!0:r.parent?jr(r.parent):!1}m(jr,"isFixed");function Qr(r){return{color:r.color,opacity:r.opacity,anchor:r.anchor,outline:r.outline,shader:r.shader,uniform:r.uniform}}m(Qr,"getRenderProps");function wy(r,t={}){return{id:"circle",radius:r,draw(){ki(Object.assign(Qr(this),{radius:this.radius,fill:t.fill}))},renderArea(){return new Ze(new $(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}m(wy,"circle");function Ld(...r){return{id:"color",color:Le(...r),inspect(){return`color: ${this.color.toString()}`}}}m(Ld,"color");function xy(r){return{add(){this.canvas=r}}}m(xy,"drawon");function Ay(r=1){let t,i=0,o=!1;return{require:["opacity"],add(){t=this.opacity,this.opacity=0},update(){o||(i+=wt(),this.opacity=In(i,0,r,0,t),i>=r&&(this.opacity=t,o=!0))}}}m(Ay,"fadeIn");function Sy(r="intersect"){return{id:"mask",mask:r}}m(Sy,"mask");function _d(r){return{id:"opacity",opacity:r??1,fadeIn(t=1,i=x.k.easings.linear){return x.game.root.tween(0,this.opacity,t,o=>this.opacity=o,i)},fadeOut(t=1,i=x.k.easings.linear){return x.game.root.tween(this.opacity,0,t,o=>this.opacity=o,i)},inspect(){return`opacity: ${gl(this.opacity,1)}`}}}m(_d,"opacity");function Ey(r=1,t=Le(0,0,0),i=1,o="miter",a=10,u="butt"){return{id:"outline",outline:{width:r,color:t,opacity:i,join:o,miterLimit:a,cap:u},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}m(Ey,"outline");var Es,uA=(Es=class{constructor(){H(this,"pos",Q(0));H(this,"vel",Q(0));H(this,"acc",Q(0));H(this,"angle",0);H(this,"angularVelocity",0);H(this,"damping",0);H(this,"t");H(this,"lt",null);H(this,"gc");this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}},m(Es,"Particle"),Es);function ky(r,t){let i=t.lifetime,o=[],a=r.colors||[Ne.WHITE],u=r.opacities||[1],d=r.quads||[new it(0,0,1,1)],g=r.scales||[1],f=r.lifeTime,p=t.direction,v=t.spread,M=r.speed||[0,0],y=r.angle||[0,0],k=r.angularVelocity||[0,0],S=r.acceleration||[Q(0),Q(0)],T=r.damping||[0,0],A=[],C=new Array(r.max),D=0,F=0;for(let E=0;E<r.max;E++){A[E*6+0]=E*4+0,A[E*6+1]=E*4+1,A[E*6+2]=E*4+3,A[E*6+3]=E*4+1,A[E*6+4]=E*4+2,A[E*6+5]=E*4+3;for(let R=0;R<4;R++)C[E*4+R]={pos:new $(0,0),uv:new $(0,0),color:Le(255,255,255),opacity:1};o[E]=new uA}let q=new Qt;function b(E=0){for(;E<r.max;){if(o[E].gc)return E;E++}return null}return m(b,"nextFree"),{id:"particles",emit(E){let R=0;for(let I=0;I<E;I++){if(R=b(R),R==null)return;let K=vt(p-v,p+v),Y=$.fromAngle(K).scale(vt(M[0],M[1])),J=vt(y[0],y[1]),oe=vt(k[0],k[1]),ue=Q(vt(S[0].x,S[1].x),vt(S[0].y,S[1].y)),ve=vt(T[0],T[1]),Ce=f?vt(f[0],f[1]):null,ge=t.shape?t.shape.random():Q(),he=o[R];he.lt=Ce,he.pos=ge,he.vel=Y,he.acc=ue,he.angle=J,he.angularVelocity=oe,he.damping=ve,he.angularVelocity=oe,he.gc=!1}D+=E},update(){if(i!==void 0&&i<=0)return;let E=wt();for(let R of o)if(!R.gc){if(R.t+=E,R.lt&&R.t>=R.lt){R.gc=!0,D--;continue}R.vel=R.vel.add(R.acc.scale(E)).scale(1-R.damping*E),R.pos=R.pos.add(R.vel.scale(E)),R.angle+=R.angularVelocity*E}for(i!==void 0&&(i-=E,i<=0&&q.trigger()),F+=E;D<r.max&&t.rate&&F>t.rate;)this.emit(1),D++,F-=t.rate},draw(){if(!(i!==void 0&&i<=0)){for(let E=0;E<o.length;E++){let R=o[E];if(R.gc)continue;let I=R.progress,K=Math.floor(R.progress*a.length),Y=K<a.length-1?Yt(a[K],a[K+1],In(I,K/a.length,(K+1)/a.length,0,1)):a[K],J=Math.floor(R.progress*u.length),oe=J<u.length-1?Yt(u[J],u[J+1],In(I,J/u.length,(J+1)/u.length,0,1)):u[J],ue=Math.floor(R.progress*d.length),ve=d[ue],Ce=Math.floor(R.progress*g.length),ge=g[Ce],he=Math.cos(R.angle*Math.PI/180),te=Math.sin(R.angle*Math.PI/180),ae=(r.texture?r.texture.width:10)*ve.w/2,re=(r.texture?r.texture.height:10)*ve.h/2,_=E*4,G=C[_];G.pos.x=R.pos.x+-ae*ge*he- -re*ge*te,G.pos.y=R.pos.y+-ae*ge*te+-re*ge*he,G.uv.x=ve.x,G.uv.y=ve.y,G.color.r=Y.r,G.color.g=Y.g,G.color.b=Y.b,G.opacity=oe,G=C[_+1],G.pos.x=R.pos.x+ae*ge*he- -re*ge*te,G.pos.y=R.pos.y+ae*ge*te+-re*ge*he,G.uv.x=ve.x+ve.w,G.uv.y=ve.y,G.color.r=Y.r,G.color.g=Y.g,G.color.b=Y.b,G.opacity=oe,G=C[_+2],G.pos.x=R.pos.x+ae*ge*he-re*ge*te,G.pos.y=R.pos.y+ae*ge*te+re*ge*he,G.uv.x=ve.x+ve.w,G.uv.y=ve.y+ve.h,G.color.r=Y.r,G.color.g=Y.g,G.color.b=Y.b,G.opacity=oe,G=C[_+3],G.pos.x=R.pos.x+-ae*ge*he-re*ge*te,G.pos.y=R.pos.y+-ae*ge*te+re*ge*he,G.uv.x=ve.x,G.uv.y=ve.y+ve.h,G.color.r=Y.r,G.color.g=Y.g,G.color.b=Y.b,G.opacity=oe}cr(C,A,this.fixed,r.texture,this.shader,this.uniform)}},onEnd(E){return q.add(E)},inspect(){return`count: ${D}/${r.max}`}}}m(ky,"particles");function Cy(r,t={}){if(r.length<3)throw new Error(`Polygon's need more than two points, ${r.length} points provided`);return{id:"polygon",pts:r,colors:t.colors,uv:t.uv,tex:t.tex,radius:t.radius,draw(){or(Object.assign(Qr(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:t.fill,triangulate:t.triangulate}))},renderArea(){return new Xt(this.pts)},inspect(){return`polygon: ${this.pts.map(i=>`[${i.x},${i.y}]`).join(",")}`}}}m(Cy,"polygon");function qd(r,t,i){let o;return x.game.root.get("area").forEach(a=>{if(i&&i.some(d=>a.is(d)))return;let u=a.worldArea().raycast(r,t);u&&(o?u.fraction<o.fraction&&(o=u,o.object=a):(o=u,o.object=a))}),o}m(qd,"raycast");function zd(r,t,i={}){return{id:"rect",width:r,height:t,radius:i.radius||0,draw(){sn(Object.assign(Qr(this),{width:this.width,height:this.height,radius:this.radius,fill:i.fill}))},renderArea(){return new Ze(Q(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}m(zd,"rect");function My(r,t){return{id:"shader",shader:r,...typeof t=="function"?{uniform:t(),update(){this.uniform=t()}}:{uniform:t},inspect(){return`shader: ${r}`}}}m(My,"shader");function Ry(r,t){if(!t.tileWidth||!t.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let i=x.game.root.add([Bo(t.pos??Q(0))]),o=r.length,a=0,u=null,d=null,g=null,f=null,p=m(E=>E.x+E.y*a,"tile2Hash"),v=m(E=>Q(Math.floor(E%a),Math.floor(E/a)),"hash2Tile"),M=m(()=>{u=[];for(let E of i.children)y(E)},"createSpatialMap"),y=m(E=>{let R=p(E.tilePos);u[R]?u[R].push(E):u[R]=[E]},"insertIntoSpatialMap"),k=m(E=>{let R=p(E.tilePos);if(u[R]){let I=u[R].indexOf(E);I>=0&&u[R].splice(I,1)}},"removeFromSpatialMap"),S=m(()=>{let E=!1;for(let R of i.children){let I=i.pos2Tile(R.pos);(R.tilePos.x!=I.x||R.tilePos.y!=I.y)&&(E=!0,k(R),R.tilePos.x=I.x,R.tilePos.y=I.y,y(R))}E&&i.trigger("spatialMapChanged")},"updateSpatialMap"),T=m(()=>{let E=i.getSpatialMap(),R=i.numRows()*i.numColumns();d?d.length=R:d=new Array(R),d.fill(1,0,R);for(let I=0;I<E.length;I++){let K=E[I];if(K){let Y=0;for(let J of K)if(J.isObstacle){Y=1/0;break}else Y+=J.cost;d[I]=Y||1}}},"createCostMap"),A=m(()=>{let E=i.getSpatialMap(),R=i.numRows()*i.numColumns();g?g.length=R:g=new Array(R),g.fill(15,0,R);for(let I=0;I<E.length;I++){let K=E[I];if(K){let Y=K.length,J=15;for(let oe=0;oe<Y;oe++)J|=K[oe].edgeMask;g[I]=J}}},"createEdgeMap"),C=m(()=>{let E=i.numRows()*i.numColumns(),R=m((K,Y)=>{let J=[];for(J.push(K);J.length>0;){let oe=J.pop();q(oe).forEach(ue=>{f[ue]<0&&(f[ue]=Y,J.push(ue))})}},"traverse");f?f.length=E:f=new Array(E),f.fill(-1,0,E);let I=0;for(let K=0;K<d.length;K++){if(f[K]>=0){I++;continue}R(K,I),I++}},"createConnectivityMap"),D=m((E,R)=>d[R],"getCost"),F=m((E,R)=>{let I=v(E),K=v(R);return I.dist(K)},"getHeuristic"),q=m((E,R)=>{let I=[],K=Math.floor(E%a),Y=K>0&&g[E]&1&&d[E-1]!==1/0,J=E>=a&&g[E]&2&&d[E-a]!==1/0,oe=K<a-1&&g[E]&4&&d[E+1]!==1/0,ue=E<a*o-a-1&&g[E]&8&&d[E+a]!==1/0;return R?(Y&&(J&&I.push(E-a-1),I.push(E-1),ue&&I.push(E+a-1)),J&&I.push(E-a),oe&&(J&&I.push(E-a+1),I.push(E+1),ue&&I.push(E+a+1)),ue&&I.push(E+a)):(Y&&I.push(E-1),J&&I.push(E-a),oe&&I.push(E+1),ue&&I.push(E+a)),I},"getNeighbours"),b={id:"level",tileWidth(){return t.tileWidth},tileHeight(){return t.tileHeight},spawn(E,...R){let I=Q(...R),K=(()=>{if(typeof E=="string"){if(t.tiles[E]){if(typeof t.tiles[E]!="function")throw new Error("Level symbol def must be a function returning a component list");return t.tiles[E](I)}else if(t.wildcardTile)return t.wildcardTile(E,I)}else{if(Array.isArray(E))return E;throw new Error("Expected a symbol or a component list")}})();if(!K)return null;let Y=!1,J=!1;for(let ue of K)ue.id==="tile"&&(J=!0),ue.id==="pos"&&(Y=!0);Y||K.push(Bo(this.tile2Pos(I))),J||K.push(nf());let oe=i.add(K);return Y&&(oe.tilePosOffset=oe.pos.clone()),oe.tilePos=I,oe.transform=rs(oe),u&&(y(oe),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),oe},numColumns(){return a},numRows(){return o},levelWidth(){return a*this.tileWidth()},levelHeight(){return o*this.tileHeight()},tile2Pos(...E){return Q(...E).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...E){let R=Q(...E);return Q(Math.floor(R.x/this.tileWidth()),Math.floor(R.y/this.tileHeight()))},getSpatialMap(){return u||M(),u},removeFromSpatialMap:k,insertIntoSpatialMap:y,onSpatialMapChanged(E){return this.on("spatialMapChanged",E)},onNavigationMapInvalid(E){return this.on("navigationMapInvalid",E)},getAt(E){u||M();let R=p(E);return u[R]||[]},raycast(E,R){let I=this.toWorld(E),K=this.toWorld(E.add(R)).sub(I),Y=1/this.tileWidth(),J=E.scale(Y),oe=Gm(J,R,ue=>{let ve=this.getAt(ue);if(ve.some(ge=>ge.isObstacle))return!0;let Ce=null;for(let ge of ve)if(ge.has("area")){let he=ge.worldArea().raycast(I,K);he&&(Ce?he.fraction<Ce.fraction&&(Ce=he,Ce.object=ge):(Ce=he,Ce.object=ge))}return Ce&&(Ce.point=this.fromWorld(Ce.point).scale(Y)),Ce||!1},64);return oe&&(oe.point=oe.point.scale(this.tileWidth())),oe},update(){u&&S()},invalidateNavigationMap(){d=null,g=null,f=null},onNavigationMapChanged(E){return this.on("navigationMapChanged",E)},getTilePath(E,R,I={}){var he;if(d||T(),g||A(),f||C(),E.x<0||E.x>=a||E.y<0||E.y>=o||R.x<0||R.x>=a||R.y<0||R.y>=o)return null;let K=p(E),Y=p(R);if(d[Y]===1/0)return null;if(K===Y)return[];if(f[K]!=-1&&f[K]!==f[Y])return null;let J=new wg((te,ae)=>te.cost<ae.cost);J.insert({cost:0,node:K});let oe=new Map;oe.set(K,K);let ue=new Map;for(ue.set(K,0);J.length!==0;){let te=(he=J.remove())==null?void 0:he.node;if(te===Y)break;let ae=q(te,I.allowDiagonals);for(let re of ae){let _=(ue.get(te)||0)+D(te,re)+F(re,Y);(!ue.has(re)||_<ue.get(re))&&(ue.set(re,_),J.insert({cost:_,node:re}),oe.set(re,te))}}let ve=[],Ce=Y,ge=v(Ce);for(ve.push(ge);Ce!==K;){let te=oe.get(Ce);if(te===void 0)throw new Error("Bug in pathfinding algorithm");Ce=te;let ae=v(Ce);ve.push(ae)}return ve.reverse()},getPath(E,R,I={}){let K=this.tileWidth(),Y=this.tileHeight(),J=this.getTilePath(this.pos2Tile(E),this.pos2Tile(R),I);return J?[E,...J.slice(1,-1).map(oe=>oe.scale(K,Y).add(K/2,Y/2)),R]:null}};return i.use(b),i.onNavigationMapInvalid(()=>{i.invalidateNavigationMap(),i.trigger("navigationMapChanged")}),r.forEach((E,R)=>{let I=E.split("");a=Math.max(I.length,a),I.forEach((K,Y)=>{i.spawn(K,Q(Y,R))})}),i}m(Ry,"addLevel");function $t(r,t,i){return x.game.objEvents.registers[r]||(x.game.objEvents.registers[r]=new vg),x.game.objEvents.on(r,(o,...a)=>{o.is(t)&&i(o,...a)})}m($t,"on");var cA=m((r,t,...i)=>{for(let o of x.game.root.children)o.is(t)&&o.trigger(r)},"trigger"),dA=Ke(r=>{let t=x.game.root.add([{fixedUpdate:r}]);return{get paused(){return t.paused},set paused(i){t.paused=i},cancel:m(()=>t.destroy(),"cancel")}},(r,t)=>$t("fixedUpdate",r,t)),fA=Ke(r=>{let t=x.game.root.add([{update:r}]);return{get paused(){return t.paused},set paused(i){t.paused=i},cancel:m(()=>t.destroy(),"cancel")}},(r,t)=>$t("update",r,t)),hA=Ke(r=>{let t=x.game.root.add([{draw:r}]);return{get paused(){return t.hidden},set paused(i){t.hidden=i},cancel:m(()=>t.destroy(),"cancel")}},(r,t)=>$t("draw",r,t)),Py=Ke(r=>x.game.events.on("add",r),(r,t)=>$t("add",r,t)),pA=Ke(r=>x.game.events.on("destroy",r),(r,t)=>$t("destroy",r,t)),mA=Ke(r=>x.game.events.on("use",r),(r,t)=>$t("use",r,t)),gA=Ke(r=>x.game.events.on("unuse",r),(r,t)=>$t("unuse",r,t)),Ty=Ke(r=>x.game.events.on("tag",r),(r,t)=>$t("tag",r,t)),yA=Ke(r=>x.game.events.on("untag",r),(r,t)=>$t("untag",r,t));function Iy(r,t,i){return $t("collide",r,(o,a,u)=>a.is(t)&&i(o,a,u))}m(Iy,"onCollide");function Ny(r,t,i){return $t("collideUpdate",r,(o,a,u)=>a.is(t)&&i(o,a,u))}m(Ny,"onCollideUpdate");function Fy(r,t,i){return $t("collideEnd",r,(o,a,u)=>a.is(t)&&i(o,a,u))}m(Fy,"onCollideEnd");function Go(r,t){x.game.root.get(r,{recursive:!0}).forEach(t),Py(r,t),Ty((i,o)=>{o===r&&t(i)})}m(Go,"forAllCurrentAndFuture");var vA=Ke(r=>x.app.onMousePress(r),(r,t)=>{let i=[];return Go(r,o=>{if(!o.area)throw new Error("onClick() requires the object to have area() component");i.push(o.onClick(()=>t(o)))}),Ai.join(i)});function Dy(r,t){let i=[];return Go(r,o=>{if(!o.area)throw new Error("onHover() requires the object to have area() component");i.push(o.onHover(()=>t(o)))}),Ai.join(i)}m(Dy,"onHover");function by(r,t){let i=[];return Go(r,o=>{if(!o.area)throw new Error("onHoverUpdate() requires the object to have area() component");i.push(o.onHoverUpdate(()=>t(o)))}),Ai.join(i)}m(by,"onHoverUpdate");function By(r,t){let i=[];return Go(r,o=>{if(!o.area)throw new Error("onHoverEnd() requires the object to have area() component");i.push(o.onHoverEnd(()=>t(o)))}),Ai.join(i)}m(By,"onHoverEnd");function jy(r){x.game.events.on("loading",r)}m(jy,"onLoading");function Oy(r){x.app.onResize(r)}m(Oy,"onResize");function Ly(r){x.game.events.on("error",r)}m(Ly,"onError");function Gl(r){x.assets.loaded?r():x.game.events.on("load",r)}m(Gl,"onLoad");function _y(r){if(x.assets.loaded)kd().forEach(t=>r(...t));else return x.game.events.on("loadError",r)}m(_y,"onLoadError");function Ud(...r){x.game.cam.pos=Q(...r)}m(Ud,"setCamPos");function Hd(){return x.game.cam.pos?x.game.cam.pos.clone():Fo()}m(Hd,"getCamPos");function Vd(...r){x.game.cam.scale=Q(...r)}m(Vd,"setCamScale");function Gd(){return x.game.cam.scale.clone()}m(Gd,"getCamScale");function Wd(r){x.game.cam.angle=r}m(Wd,"setCamRot");function Qd(){return x.game.cam.angle}m(Qd,"getCamRot");function qy(){return x.game.cam.transform.clone()}m(qy,"getCamTransform");function Kd(r=Le(255,255,255),t=1){let i=x.game.root.add([zd(kt(),Tt()),Ld(r),_d(1),af()]),o=i.fadeOut(t);return o.onEnd(()=>tf(i)),o}m(Kd,"flash");function zy(){return x.game.cam.transform.clone()}m(zy,"camTransform");function Uy(r=12){x.game.cam.shake+=r}m(Uy,"shake");function El(r){return x.game.cam.transform.multVec2(r)}m(El,"toScreen");function Yd(r){return x.game.cam.transform.invert().multVec2(r)}m(Yd,"toWorld");function Hy(...r){return Si("camPos","setCamPos / getCamPos"),r.length>0&&Ud(...r),Hd()}m(Hy,"camPos");function Vy(...r){return Si("camScale","setCamScale / getCamScale"),r.length>0&&Vd(...r),Gd()}m(Vy,"camScale");function Gy(r){return Si("camRot","setCamRot / getCamRot"),r!==void 0&&Wd(r),Qd()}m(Gy,"camRot");function Wy(r=Le(255,255,255),t=1){return Si("camFlash","flash"),Kd(r,t)}m(Wy,"camFlash");function Wl(r=[]){let t=new Map,i=[],o={},a=new Io,u=[],d=new Set("*"),g=x.globalOpt.tagsAsComponents,f=null,p=!1,v={id:Ox(),hidden:!1,transform:new Hn,children:[],parent:null,set paused(y){if(y!==p){p=y;for(let k of u)k.paused=y}},get paused(){return p},get tags(){return Array.from(d)},add(y){let k=Array.isArray(y)?Wl(y):y;if(k.parent)throw new Error("Cannot add a game obj that already has a parent.");return k.parent=this,k.transform=rs(k),this.children.push(k),k.trigger("add",k),x.game.events.trigger("add",k),k},readd(y){let k=this.children.indexOf(y);return k!==-1&&(this.children.splice(k,1),this.children.push(y)),y},remove(y){let k=this.children.indexOf(y);if(k!==-1){y.parent=null,this.children.splice(k,1);let S=m(T=>{T.trigger("destroy"),x.game.events.trigger("destroy",T),T.children.forEach(A=>S(A))},"trigger");S(y)}},removeAll(y){if(y)this.get(y).forEach(k=>this.remove(k));else for(let k of[...this.children])this.remove(k)},fixedUpdate(){this.paused||(this.children.forEach(y=>y.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(y=>y.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(rn(),this.canvas.bind());let y=x.gfx.fixed;this.fixed&&(x.gfx.fixed=!0),nn(),rt(this.pos),Ps(this.scale),xi(this.angle);let k=this.children.sort((S,T)=>{let A=S.layerIndex??x.game.defaultLayerIndex,C=T.layerIndex??x.game.defaultLayerIndex;return A-C||(S.z??0)-(T.z??0)});if(this.mask){let S={intersect:x.k.drawMasked,subtract:x.k.drawSubtracted}[this.mask];if(!S)throw new Error(`Invalid mask func: "${this.mask}"`);S(()=>{k.forEach(T=>T.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),k.forEach(S=>S.draw());Kt(),x.gfx.fixed=y,this.canvas&&(rn(),this.canvas.unbind())},drawInspect(){this.hidden||(nn(),rt(this.pos),Ps(this.scale),xi(this.angle),this.children.forEach(y=>y.drawInspect()),this.trigger("drawInspect"),Kt())},use(y){var T;if(typeof y=="string")return d.add(y);if(!y||typeof y!="object")throw new Error(`You can only pass a component or a string to .use(), you passed a "${typeof y}"`);let k=[];y.id?(this.unuse(y.id),o[y.id]=[],k=o[y.id],t.set(y.id,y),g&&d.add(y.id)):i.push(y);for(let A in y){if(Mx.has(A))continue;let C=Object.getOwnPropertyDescriptor(y,A);if(C)if(typeof C.value=="function"&&(y[A]=y[A].bind(this)),C.set&&Object.defineProperty(y,A,{set:C.set.bind(this)}),C.get&&Object.defineProperty(y,A,{get:C.get.bind(this)}),Rx.has(A)){let D=A==="add"?()=>{var F;f=m(q=>k.push(q),"onCurCompCleanup"),(F=y[A])==null||F.call(y),f=null}:y[A];k.push(this.on(A,D).cancel)}else if(this[A]===void 0)Object.defineProperty(this,A,{get:m(()=>y[A],"get"),set:m(D=>y[A]=D,"set"),configurable:!0,enumerable:!0}),k.push(()=>delete this[A]);else{let D=(T=t.values().find(F=>F[A]!==void 0))==null?void 0:T.id;throw new Error(`Duplicate component property: "${A}" while adding component "${y.id}"`+(D?` (originally added by "${D}")`:""))}}let S=m(()=>{if(y.require){for(let A of y.require)if(!this.c(A))throw new Error(`Component "${y.id}" requires component "${A}"`)}},"checkDeps");y.destroy&&k.push(y.destroy.bind(this)),this.exists()?(S(),y.add&&(f=m(A=>k.push(A),"onCurCompCleanup"),y.add.call(this),f=null),y.id&&(this.trigger("use",y.id),x.game.events.trigger("use",this,y.id))):y.require&&k.push(this.on("add",S).cancel)},unuse(y){if(t.has(y)){for(let k of t.values())if(k.require&&k.require.includes(y))throw new Error(`Can't unuse. Component "${k.id}" requires component "${y}"`);t.delete(y),this.trigger("unuse",y),x.game.events.trigger("unuse",this,y)}else g&&d.has(y)&&d.delete(y);o[y]&&(o[y].forEach(k=>k()),delete o[y])},c(y){return t.get(y)??null},get(y,k={}){let S=m((A,C)=>k.only==="comps"?A.has(C):k.only==="tags"?A.is(C):A.is(C)||A.has(C),"checkTagsOrComps"),T=k.recursive?this.children.flatMap(m(function A(C){return[C,...C.children.flatMap(A)]},"recurse")):this.children;if(T=T.filter(A=>y?S(A,y):!0),k.liveUpdate){let A=m(D=>k.recursive?this.isAncestorOf(D):D.parent===this,"isChild"),C=[];C.push(x.k.onAdd(D=>{A(D)&&S(D,y)&&T.push(D)})),C.push(x.k.onDestroy(D=>{if(A(D)&&S(D,y)){let F=T.findIndex(q=>q.id===D.id);F!==-1&&T.splice(F,1)}})),this.onDestroy(()=>{for(let D of C)D.cancel()})}return T},query(y){let k=y.hierarchy||"children",S=y.include,T=y.exclude,A=[];switch(k){case"children":A=this.children;break;case"siblings":A=this.parent?this.parent.children.filter(D=>D!==this):[];break;case"ancestors":let C=this.parent;for(;C;)A.push(C),C=C.parent;break;case"descendants":A=this.children.flatMap(m(function D(F){return[F,...F.children.flatMap(D)]},"recurse"));break}if(S&&((y.includeOp||"and")==="and"||!Array.isArray(y.include)?A=A.filter(C=>C.is(S)):A=A.filter(C=>y.include.some(D=>C.is(D)))),T&&((y.includeOp||"and")==="and"||!Array.isArray(y.include)?A=A.filter(C=>!C.is(T)):A=A.filter(C=>!y.exclude.some(D=>C.is(D)))),y.visible===!0&&(A=A.filter(C=>C.visible)),y.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let C=y.distanceOp||"near",D=y.distance*y.distance;C==="near"?A=A.filter(F=>F.pos&&this.pos.sdist(F.pos)<=D):A=A.filter(F=>F.pos&&this.pos.sdist(F.pos)>D)}return y.name&&(A=A.filter(C=>C.name===y.name)),A},isAncestorOf(y){return y.parent?y.parent===this||this.isAncestorOf(y.parent):!1},exists(){return x.game.root.isAncestorOf(this)},is(y,k="and"){return Array.isArray(y)?k==="and"?y.every(S=>d.has(S)):y.some(S=>d.has(S)):d.has(y)},tag(y){if(Array.isArray(y))for(let k of y)d.add(k),this.trigger("tag",k),x.game.events.trigger("tag",this,k);else d.add(y),this.trigger("tag",y),x.game.events.trigger("tag",this,y)},untag(y){if(Array.isArray(y))for(let k of y)d.delete(k),this.trigger("untag",k),x.game.events.trigger("untag",this,k);else d.delete(y),this.trigger("untag",y),x.game.events.trigger("untag",this,y)},has(y,k="and"){return Array.isArray(y)?k==="and"?y.every(S=>t.has(S)):y.some(S=>t.has(S)):t.has(y)},on(y,k){let S=a.on(y,k.bind(this));return f&&f(()=>S.cancel()),S},trigger(y,...k){a.trigger(y,...k),x.game.objEvents.trigger(y,this,...k)},destroy(){this.parent&&this.parent.remove(this)},inspect(){var k;let y={};for(let[S,T]of t)y[S]=((k=T.inspect)==null?void 0:k.call(T))??null;for(let[S,T]of i.entries()){if(T.inspect){y[S]=T.inspect();continue}for(let[A,C]of Object.entries(T))typeof C!="function"&&(y[A]=`${A}: ${C}`)}return y},onAdd(y){return this.on("add",y)},onFixedUpdate(y){return this.on("fixedUpdate",y)},onUpdate(y){return this.on("update",y)},onDraw(y){return this.on("draw",y)},onDestroy(y){return this.on("destroy",y)},onUse(y){return this.on("use",y)},onUnuse(y){return this.on("unuse",y)},clearEvents(){a.clear()}},M=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let y of M)v[y]=(...k)=>{var T,A;let S=(A=(T=x.app)[y])==null?void 0:A.call(T,...k);return u.push(S),v.onDestroy(()=>S.cancel()),v.on("sceneEnter",()=>{var D,F;u.splice(u.indexOf(S),1);let C=(F=(D=x.app)[y])==null?void 0:F.call(D,...k);Ai.replace(S,C),u.push(S)}),S};for(let y of r)v.use(y);return v}m(Wl,"make");var wA=m(()=>({events:new Io,objEvents:new Io,root:Wl([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new $(1),angle:0,shake:0,transform:new Hn}}),"initGame");function Qy(r){x.game.gravity=r?(x.game.gravity||Q(0,1)).unit().scale(r):null}m(Qy,"setGravity");function Ky(){return x.game.gravity?x.game.gravity.len():0}m(Ky,"getGravity");function Yy(r){x.game.gravity=r.unit().scale(x.game.gravity?x.game.gravity.len():1)}m(Yy,"setGravityDirection");function ss(){return x.game.gravity?x.game.gravity.unit():Q(0,1)}m(ss,"getGravityDirection");var xA=mx("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),AA=m(()=>(()=>{let r=new(window.AudioContext||window.webkitAudioContext),t=r.createGain();t.connect(r.destination);let i=new Do(jg(r));return r.decodeAudioData(xA.buffer.slice(0)).then(o=>{i.buf=o}).catch(o=>{console.error("Failed to load burp: ",o)}),{ctx:r,masterNode:t,burpSnd:i}})(),"initAudio");function Xy(r,t={}){let i=new Qt,o=new Audio(r);o.crossOrigin="anonymous",o.loop=!!t.loop,x.audio.ctx.createMediaElementSource(o).connect(x.audio.masterNode);function a(){x.debug.paused||x.app.isHidden()&&!x.globalOpt.backgroundAudio||x.audio.ctx.resume()}m(a,"resumeAudioCtx");function u(){a(),o.play()}return m(u,"play"),t.paused||u(),o.onended=()=>i.trigger(),{play(){u()},seek(d){o.currentTime=d},stop(){o.pause(),this.seek(0)},set loop(d){o.loop=d},get loop(){return o.loop},set paused(d){d?o.pause():u()},get paused(){return o.paused},time(){return o.currentTime},duration(){return o.duration},set volume(d){o.volume=Nn(d,0,1)},get volume(){return o.volume},set speed(d){o.playbackRate=Math.max(d,0)},get speed(){return o.playbackRate},set detune(d){},get detune(){return 0},onEnd(d){return i.add(d)},then(d){return this.onEnd(d)}}}m(Xy,"playMusic");function $y(r,t={}){if(typeof r=="string"&&x.assets.music[r])return Xy(x.assets.music[r],t);let i=x.audio.ctx,o=t.paused??!1,a=i.createBufferSource(),u=new Qt,d=i.createGain(),g=i.createStereoPanner(),f=t.seek??0,p=0,v=0,M=!1;a.loop=!!t.loop,a.detune.value=t.detune??0,a.playbackRate.value=t.speed??1,a.connect(g),a.onended=()=>{var A;S()>=(((A=a.buffer)==null?void 0:A.duration)??Number.POSITIVE_INFINITY)&&u.trigger()},g.pan.value=t.pan??0,g.connect(d),d.connect(x.audio.masterNode),d.gain.value=t.volume??1;let y=m(A=>{a.buffer=A.buf,o||(p=i.currentTime,a.start(0,f),M=!0)},"start"),k=sy(r);k instanceof vn&&k.onLoad(y);let S=m(()=>{if(!a.buffer)return 0;let A=o?v-p:i.currentTime-p,C=a.buffer.duration;return a.loop?A%C:Math.min(A,C)},"getTime"),T=m(A=>{let C=i.createBufferSource();return C.buffer=A.buffer,C.loop=A.loop,C.playbackRate.value=A.playbackRate.value,C.detune.value=A.detune.value,C.onended=A.onended,C.connect(g),C},"cloneNode");return{stop(){this.paused=!0,this.seek(0)},set paused(A){if(o!==A)if(o=A,A)M&&(a.stop(),M=!1),v=i.currentTime;else{a=T(a);let C=v-p;a.start(0,C),M=!0,p=i.currentTime-C,v=0}},get paused(){return o},play(A=0){this.seek(A),this.paused=!1},seek(A){var C;(C=a.buffer)!=null&&C.duration&&(A>a.buffer.duration||(o?(a=T(a),p=v-A):(a.stop(),a=T(a),p=i.currentTime-A,a.start(0,A),M=!0,v=0)))},set speed(A){a.playbackRate.value=A},get speed(){return a.playbackRate.value},set detune(A){a.detune.value=A},get detune(){return a.detune.value},set volume(A){d.gain.value=Math.max(A,0)},get volume(){return d.gain.value},set pan(A){g.pan.value=A},get pan(){return g.pan.value},set loop(A){a.loop=A},get loop(){return a.loop},duration(){var A;return((A=a.buffer)==null?void 0:A.duration)??0},time(){return S()%this.duration()},onEnd(A){return u.add(A)},then(A){return this.onEnd(A)}}}m($y,"play");function Xd(r){return x.k.play(x.audio.burpSnd,r)}m(Xd,"burp");function $d(r){x.audio.masterNode.gain.value=r}m($d,"setVolume");function Zd(){return x.audio.masterNode.gain.value}m(Zd,"getVolume");function Zy(r){return Si("volume","setVolume / getVolume"),r!==void 0&&$d(r),Zd()}m(Zy,"volume");function Jd(){x.app.onHide(()=>{x.globalOpt.backgroundAudio||x.audio.ctx.suspend()}),x.app.onShow(()=>{!x.globalOpt.backgroundAudio&&!x.debug.paused&&x.audio.ctx.resume()}),x.app.onResize(()=>{if(x.app.isFullscreen())return;let r=x.globalOpt.width&&x.globalOpt.height;r&&!x.globalOpt.stretch&&!x.globalOpt.letterbox||(x.canvas.width=x.canvas.offsetWidth*x.pixelDensity,x.canvas.height=x.canvas.offsetHeight*x.pixelDensity,Od(),r||(x.gfx.frameBuffer.free(),x.gfx.frameBuffer=new xl(x.gfx.ggl,x.gfx.ggl.gl.drawingBufferWidth,x.gfx.ggl.gl.drawingBufferHeight),x.gfx.width=x.gfx.ggl.gl.drawingBufferWidth/x.pixelDensity/x.gscale,x.gfx.height=x.gfx.ggl.gl.drawingBufferHeight/x.pixelDensity/x.gscale))}),x.globalOpt.debug!==!1&&(x.app.onKeyPress(x.globalOpt.debugKey??"f1",()=>x.debug.inspect=!x.debug.inspect),x.app.onKeyPress("f2",()=>x.debug.clearLog()),x.app.onKeyPress("f8",()=>x.debug.paused=!x.debug.paused),x.app.onKeyPress("f7",()=>{x.debug.timeScale=gl(Nn(x.debug.timeScale-.2,0,2),1)}),x.app.onKeyPress("f9",()=>{x.debug.timeScale=gl(Nn(x.debug.timeScale+.2,0,2),1)}),x.app.onKeyPress("f10",()=>x.debug.stepFrame())),x.globalOpt.burp&&x.app.onKeyPress("b",()=>Xd())}m(Jd,"initEvents");function Jy(r,t={}){let i=x.game.root.add([Bo(r),of()]),o=(t.speed||1)*5,a=t.scale||1;i.add([kl(x.boomSprite),jo(0),Ml("center"),$c(o,a),...t.comps??[]]);let u=i.add([kl(x.kaSprite),jo(0),Ml("center"),Cl(),...t.comps??[]]);return u.wait(.4/o,()=>u.use($c(o,a))),u.onDestroy(()=>i.destroy()),i}m(Jy,"addKaboom");function ef(r,t){if(x.game.layers)throw Error("Layers can only be assigned once.");let i=r.indexOf(t);if(i==-1)throw Error("The default layer name should be present in the layers list.");x.game.layers=r,x.game.defaultLayerIndex=i}m(ef,"setLayers");function e0(){return x.game.layers}m(e0,"getLayers");function t0(){var r;return((r=x.game.layers)==null?void 0:r[x.game.defaultLayerIndex])??null}m(t0,"getDefaultLayer");function n0(r,t){Si("layers","setLayers"),ef(r,t)}m(n0,"layers");function tf(r){r.destroy()}m(tf,"destroy");function r0(){return x.game.root}m(r0,"getTreeRoot");function i0(r,t){x.game.scenes[r]=t}m(i0,"scene");function s0(r,...t){if(!x.game.scenes[r])throw new Error(`Scene not found: ${r}`);x.game.events.onOnce("frameEnd",()=>{x.game.events.trigger("sceneLeave",r),x.app.events.clear(),x.game.events.clear(),x.game.objEvents.clear(),[...x.game.root.children].forEach(i=>{!i.stay||i.scenesToStay&&!i.scenesToStay.includes(r)?x.game.root.remove(i):i.trigger("sceneEnter",r)}),x.game.root.clearEvents(),Jd(),x.game.cam={pos:null,scale:Q(1),angle:0,shake:0,transform:new Hn},x.game.scenes[r](...t)}),x.game.currentScene=r}m(s0,"go");function o0(r){return x.game.events.on("sceneLeave",r)}m(o0,"onSceneLeave");function a0(){return x.game.currentScene}m(a0,"getSceneName");function kl(r,t={}){let i=null,o=null,a=null,u=new Qt;if(!r)throw new Error("Please pass the resource name or data to sprite()");let d=m((f,p,v,M)=>{let y=Q(1,1);return v&&M?(y.x=v/(f.width*p.w),y.y=M/(f.height*p.h)):v?(y.x=v/(f.width*p.w),y.y=y.x):M&&(y.y=M/(f.height*p.h),y.x=y.y),y},"calcTexScale"),g=m((f,p)=>{if(!p)return;let v=p.frames[0].clone();t.quad&&(v=v.scale(t.quad));let M=d(p.tex,v,t.width,t.height);f.width=p.tex.width*v.w*M.x,f.height=p.tex.height*v.h*M.y,t.anim&&f.play(t.anim),i=p,u.trigger(i)},"setSpriteData");return{id:"sprite",width:0,height:0,frame:t.frame||0,quad:t.quad||new it(0,0,1,1),animSpeed:t.animSpeed??1,flipX:t.flipX??!1,flipY:t.flipY??!1,get sprite(){return r.toString()},set sprite(f){let p=Mo(f);p&&p.onLoad(v=>g(this,v))},get animFrame(){if(!i||!o||a===null)return this.frame;let f=i.anims[o.name];return typeof f=="number"?f:this.frame-Math.min(f.from,f.to)},draw(){if(!i)return;let f=i.frames[this.frame??0];if(!f)throw new Error(`Frame not found: ${this.frame??0}`);if(i.slice9){let{left:p,right:v,top:M,bottom:y}=i.slice9,k=i.tex.width*f.w,S=i.tex.height*f.h,T=this.width-p-v,A=this.height-M-y,C=p/k,D=v/k,F=1-C-D,q=M/S,b=y/S,E=1-q-b,R=[ct(0,0,C,q),ct(C,0,F,q),ct(C+F,0,D,q),ct(0,q,C,E),ct(C,q,F,E),ct(C+F,q,D,E),ct(0,q+E,C,b),ct(C,q+E,F,b),ct(C+F,q+E,D,b),ct(0,0,p,M),ct(p,0,T,M),ct(p+T,0,v,M),ct(0,M,p,A),ct(p,M,T,A),ct(p+T,M,v,A),ct(0,M+A,p,y),ct(p,M+A,T,y),ct(p+T,M+A,v,y)];for(let I=0;I<9;I++){let K=R[I],Y=R[I+9];bo(Object.assign(Qr(this),{pos:Y.pos(),tex:i.tex,quad:f.scale(K),flipX:this.flipX,flipY:this.flipY,tiled:t.tiled,width:Y.w,height:Y.h}))}}else bo(Object.assign(Qr(this),{tex:i.tex,quad:f.scale(this.quad??new it(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:t.tiled,width:this.width,height:this.height}))},add(){let f=Mo(r);f?f.onLoad(p=>g(this,p)):Gl(()=>g(this,Mo(r).data))},update(){if(!i||!o||a===null)return;let f=i.anims[o.name];if(typeof f=="number"){this.frame=f;return}if(f.speed===0)throw new Error("Sprite anim speed cannot be 0");o.timer+=wt()*this.animSpeed,o.timer>=1/o.speed&&(o.timer=0,this.frame+=a,(this.frame<Math.min(f.from,f.to)||this.frame>Math.max(f.from,f.to))&&(o.loop?o.pingpong?(this.frame-=a,a*=-1,this.frame+=a):this.frame=f.from:o.pingpong?a===Math.sign(f.to-f.from)?(this.frame=f.to,a*=-1,this.frame+=a):(this.frame=f.from,o.onEnd(),this.stop()):(this.frame=f.to,o.onEnd(),this.stop())))},play(f,p={}){if(!i){u.add(()=>this.play(f,p));return}let v=i.anims[f];if(v===void 0)throw new Error(`Anim not found: ${f}`);o&&this.stop(),o=typeof v=="number"?{name:f,timer:0,loop:!1,pingpong:!1,speed:0,onEnd:m(()=>{},"onEnd")}:{name:f,timer:0,loop:p.loop??v.loop??!1,pingpong:p.pingpong??v.pingpong??!1,speed:p.speed??v.speed??10,onEnd:p.onEnd??(()=>{})},a=typeof v=="number"?null:v.from<v.to?1:-1,this.frame=typeof v=="number"?v:v.from,this.trigger("animStart",f)},stop(){if(!o)return;let f=o.name;o=null,this.trigger("animEnd",f)},numFrames(){return(i==null?void 0:i.frames.length)??0},getCurAnim(){return o},curAnim(){return o==null?void 0:o.name},getAnim(f){return(i==null?void 0:i.anims[f])??null},hasAnim(f){return!!this.getAnim(f)},onAnimEnd(f){return this.on("animEnd",f)},onAnimStart(f){return this.on("animStart",f)},renderArea(){return new Ze(Q(0),this.width,this.height)},inspect(){return typeof r=="string"?`sprite: "${r}"`:null}}}m(kl,"sprite");function l0(r,t={}){function i(a){var d,g;let u=Gr(Object.assign(Qr(a),{text:a.text+"",size:a.textSize,font:a.font,width:t.width&&a.width,align:a.align,letterSpacing:a.letterSpacing,lineSpacing:a.lineSpacing,transform:a.textTransform,styles:a.textStyles,indentAll:t.indentAll}));return t.width||(a.width=u.width/(((d=a.scale)==null?void 0:d.x)||1)),a.height=u.height/(((g=a.scale)==null?void 0:g.y)||1),u}m(i,"update");let o={id:"text",set text(a){r=a,i(this),this.renderedText=Al(r).text},get text(){return r},textSize:t.size??36,font:t.font,width:t.width??0,height:0,align:t.align,lineSpacing:t.lineSpacing,letterSpacing:t.letterSpacing,textTransform:t.transform,textStyles:t.styles,renderedText:r?Al(r).text:"",add(){Gl(()=>i(this))},draw(){Wr(i(this))},renderArea(){return new Ze(Q(0),this.width,this.height)}};return i(o),o}m(l0,"text");function u0(r,t){return{id:"rect",width:r,height:t,draw(){Ts(Object.assign(Qr(this),{width:this.width,height:this.height}))},renderArea(){return new Ze(Q(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}m(u0,"uvquad");function c0(r={}){let t=null,i=null,o=null,a=null;return{id:"agent",require:["pos","tile"],agentSpeed:r.speed??100,allowDiagonals:r.allowDiagonals??!0,getDistanceToTarget(){return t?this.pos.dist(t):0},getNextLocation(){return i&&o?i[o]:null},getPath(){return i?i.slice():null},getTarget(){return t},isNavigationFinished(){return i?o===null:!0},isTargetReachable(){return i!==null},isTargetReached(){return t?this.pos.eq(t):!0},setTarget(u){t=u,i=this.getLevel().getPath(this.pos,t,{allowDiagonals:this.allowDiagonals}),o=i?0:null,i&&o!==null?(a||(a=this.getLevel().onNavigationMapChanged(()=>{t&&i&&o!==null&&(i=this.getLevel().getPath(this.pos,t,{allowDiagonals:this.allowDiagonals}),i?(o=0,this.trigger("navigationNext",this,i[o])):(o=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>a==null?void 0:a.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,i[o])):this.trigger("navigationEnded",this)},update(){if(t&&i&&o!==null){if(this.pos.sdist(i[o])<2)if(o===i.length-1){this.pos=t.clone(),o=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else o++,this.trigger("navigationNext",this,i[o]);this.moveTo(i[o],this.agentSpeed)}},onNavigationStarted(u){return this.on("navigationStarted",u)},onNavigationNext(u){return this.on("navigationNext",u)},onNavigationEnded(u){return this.on("navigationEnded",u)},onTargetReached(u){return this.on("targetReached",u)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(t),path:JSON.stringify(i)})}}}m(c0,"agent");function d0(r){let t=r.graph;return{id:"pathfinder",require:["pos"],navigateTo(i){var o;return(o=this.graph)==null?void 0:o.getWaypointPath(this.pos,i,r.navigationOpt)},get graph(){if(t)return t;let i=this.parent;for(;i;){if(i.has("pathfinderMap"))return i.graph;i=i.parent}},set graph(i){t=i}}}m(d0,"pathfinder");function f0(r={}){let t=r.waypoints,i=r.speed||100,o=r.endBehavior||"stop",a=0,u=t!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return i},set patrolSpeed(d){i=d},get waypoints(){return t},set waypoints(d){t=d,a=0,u=!1},get nextLocation(){return t?t[a]:void 0},update(){let d=this.nextLocation;if(!(!t||!d||u)&&(this.moveTo(d,i),this.pos.sdist(d)<9))switch(o){case"loop":a=(a+1)%t.length;break;case"ping-pong":a=a+1,a==t.length&&(t.reverse(),a=0);break;case"stop":a=Math.min(a+1,t.length-1),a==t.length-1&&(u=!0,this.trigger("patrolFinished"));break}},onPatrolFinished(d){return this.on("patrolFinished",d)}}}m(f0,"patrol");function h0(r,t={}){let i=typeof r=="function"?r:()=>x.game.root.query(r),o=t.checkFrequency||1,a=typeof t.direction=="number"?$.fromAngle(t.direction):t.direction,u=0;return{id:"sentry",require:["pos"],direction:typeof t.direction=="number"?$.fromAngle(t.direction):t.direction,spotted:[],set directionAngle(d){this.direction=d!==void 0?$.fromAngle(d):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:t.fieldOfView||200,isWithinFieldOfView(d,g,f){let p=(typeof g=="number"?$.fromAngle(g):g)||a,v=f||t.fieldOfView;if(!p||!v||v>=360)return!0;let M=v/2;return d.pos&&p.angleBetween(d.pos.sub(this.pos))<=M},hasLineOfSight(d){let g=qd(this.pos,d.pos.sub(this.pos),t.raycastExclude);return g!=null&&g.object===d},update(){if(u+=wt(),u>o){u-=o;let d=i();if(d.length&&a&&this.fieldOfView&&this.fieldOfView<360){let g=this.fieldOfView/2;d=d.filter(f=>f.pos&&a.angleBetween(f.pos.sub(this.pos))<=g)}d.length&&t.lineOfSight&&(d=d.filter(g=>g.pos&&this.hasLineOfSight(g))),d.length>0&&(this.spotted=d,this.trigger("objectSpotted",d))}},onObjectsSpotted(d){return this.on("objectSpotted",d)}}}m(h0,"sentry");function nf(r={}){let t=Q(0),i=r.isObstacle??!1,o=r.cost??0,a=r.edges??[],u=m(()=>{let g={left:1,top:2,right:4,bottom:8};return a.map(f=>g[f]||0).reduce((f,p)=>f|p,0)},"getEdgeMask"),d=u();return{id:"tile",tilePosOffset:r.offset??Q(0),set tilePos(g){let f=this.getLevel();t=g.clone(),this.pos=Q(this.tilePos.x*f.tileWidth(),this.tilePos.y*f.tileHeight()).add(this.tilePosOffset)},get tilePos(){return t},set isObstacle(g){i!==g&&(i=g,this.getLevel().invalidateNavigationMap())},get isObstacle(){return i},set cost(g){o!==g&&(o=g,this.getLevel().invalidateNavigationMap())},get cost(){return o},set edges(g){a=g,d=u(),this.getLevel().invalidateNavigationMap()},get edges(){return a},get edgeMask(){return d},getLevel(){return this.parent},tileMove(g){let f=this.getLevel();f.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(g),f.insertIntoSpatialMap(this),f.trigger("spatialMapChanged")},moveLeft(){this.tileMove(Q(-1,0))},moveRight(){this.tileMove(Q(1,0))},moveUp(){this.tileMove(Q(0,-1))},moveDown(){this.tileMove(Q(0,1))}}}m(nf,"tile");var ks,rf=(ks=class{constructor(t,i,o){H(this,"name");H(this,"duration");H(this,"loops");H(this,"direction");H(this,"easing");H(this,"interpolation");H(this,"isFinished");H(this,"timing");H(this,"easings");H(this,"relative");this.name=t,this.duration=i.duration,this.loops=i.loops||0,this.direction=i.direction||"forward",this.easing=i.easing||No.linear,this.interpolation=i.interpolation||"linear",this.isFinished=!1,this.timing=i.timing,this.easings=i.easings,this.relative=o}update(t,i){return!0}getLowerKeyIndexAndRelativeTime(t,i,o){let a=i-1,u=t/this.duration;if(this.loops!==0&&u>=this.loops)return[a,0,!0];let d=Math.trunc(u);if(u-=d,(this.direction=="reverse"||this.direction=="ping-pong"&&d&1)&&(u=1-u),o){let g=0;for(;o[g+1]!==void 0&&o[g+1]<u;)g++;return g>=a?[a,0,!0]:[g,(u-o[g])/(o[g+1]-o[g]),!1]}else{let g=Math.floor((i-1)*u);return[g,(u-g/a)*a,!1]}}setValue(t,i,o){if(this.relative)switch(i){case"pos":t.pos=t.base.pos.add(o);break;case"angle":t.angle=t.base.angle+o;break;case"scale":t.scale=t.base.scale.scale(o);break;case"opacity":t.opacity=t.base.opacity*o;break;default:t[i]=o}else t[i]=o}serialize(){let t={duration:this.duration,keys:[]};return this.loops&&(t.loops=this.loops),this.direction!=="forward"&&(t.direction=this.direction),this.easing!=No.linear&&(t.easing=this.easing.name),this.interpolation!=="linear"&&(t.interpolation=this.interpolation),this.timing&&(t.timing=this.timing),this.easings&&(t.easings=this.easings.map(i=>this.easing.name)),t}},m(ks,"AnimateChannel"),ks);function Xc(r,t){return t.add(t.sub(r))}m(Xc,"reflect");var Cs,SA=(Cs=class extends rf{constructor(i,o,a,u){super(i,a,u);H(this,"keys");this.keys=o}update(i,o){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(i,this.name,this.keys[a]);else{let g=this.easings?this.easings[a]:this.easing;this.setValue(i,this.name,Yt(this.keys[a],this.keys[a+1],g(u)))}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},m(Cs,"AnimateChannelNumber"),Cs),Ms,EA=(Ms=class extends rf{constructor(i,o,a,u,d){var g;super(i,a,u);H(this,"keys");H(this,"curves");H(this,"dcurves");if(this.keys=o,this.interpolation==="spline"){this.curves=[],d&&(this.dcurves=[]);for(let f=0;f<this.keys.length-1;f++){let p=this.keys[f],v=f+1,M=this.keys[v],y=f>0?this.keys[f-1]:Xc(M,p),k=v<this.keys.length-1?this.keys[v+1]:Xc(p,M);this.curves.push(To(y,p,M,k)),d&&((g=this.dcurves)==null||g.push(To(y,p,M,k,rg)))}}}update(i,o){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(i,this.name,this.keys[a]);else{let g=this.easings?this.easings[a]:this.easing;switch(this.interpolation){case"linear":this.setValue(i,this.name,this.keys[a].lerp(this.keys[a+1],g(u)));break;case"slerp":this.setValue(i,this.name,this.keys[a].slerp(this.keys[a+1],g(u)));break;case"spline":if(this.curves){this.setValue(i,this.name,this.curves[a](g(u))),this.dcurves&&this.setValue(i,"angle",this.dcurves[a](g(u)).angle());break}}}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(i=>[i.x,i.y])})}},m(Ms,"AnimateChannelVec2"),Ms),Rs,kA=(Rs=class extends rf{constructor(i,o,a,u){super(i,a,u);H(this,"keys");this.keys=o}update(i,o){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation=="none")this.setValue(i,this.name,this.keys[a]);else{let g=this.easings?this.easings[a]:this.easing;this.setValue(i,this.name,this.keys[a].lerp(this.keys[a+1],g(u)))}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},m(Rs,"AnimateChannelColor"),Rs);function p0(r={}){let t=[],i=0,o=!1;return{id:"animate",require:r.followMotion?["rotate"]:void 0,base:{pos:Q(0,0),angle:0,scale:Q(1,1),opacity:1},animation:{paused:!1,seek(a){i=Nn(a,0,this.duration),t.forEach(u=>{u.isFinished=!1}),o=!1},get duration(){return t.reduce((a,u)=>Math.max(u.duration,a),0)}},add(){r.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let a=!0,u;i+=wt();for(let d of t)u=d.update(this,i),u&&!d.isFinished&&(d.isFinished=!0,this.trigger("animateChannelFinished",d.name)),a&&(a=u);a&&!o&&(o=!0,this.trigger("animateFinished"))},animate(a,u,d){o=!1,this.unanimate(a),typeof u[0]=="number"?t.push(new SA(a,u,d,r.relative||!1)):u[0]instanceof $?t.push(new EA(a,u,d,r.relative||!1,a==="pos"&&(r.followMotion||!1))):u[0]instanceof Ne&&t.push(new kA(a,u,d,r.relative||!1))},unanimate(a){let u=t.findIndex(d=>d.name===a);u>=0&&t.splice(u,1)},unanimateAll(){t.splice(0,t.length)},onAnimateFinished(a){return this.on("animateFinished",a)},onAnimateChannelFinished(a){return this.on("animateChannelFinished",a)},serializeAnimationChannels(){return t.reduce((a,u)=>(a[u.name]=u.serialize(),a),{})},serializeAnimationOptions(){let a={};return r.followMotion&&(a.followMotion=!0),r.relative&&(a.relative=!0),a}}}m(p0,"animate");function sf(r,t){let i={name:r.name};return r.has("animate")&&(i.channels=r.serializeAnimationChannels(),Object.assign(i,r.serializeAnimationOptions())),r.children.length>0&&(i.children=r.children.filter(o=>o.has("named")).map(o=>sf(o,o.name))),i}m(sf,"serializeAnimation");function $c(r=2,t=1){let i=0;return{require:["scale"],update(){let o=Math.sin(i*r)*t;o<0&&this.destroy(),this.scale=Q(o),i+=wt()}}}m($c,"boom");function m0(r,t){if(r==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(i=1){this.setHP(r-i),this.trigger("hurt",i)},heal(i=1){let o=r;this.setHP(r+i),this.trigger("heal",r-o)},hp(){return r},maxHP(){return t??null},setMaxHP(i){t=i},setHP(i){r=t?Math.min(t,i):i,r<=0&&this.trigger("death")},onHurt(i){return this.on("hurt",i)},onHeal(i){return this.on("heal",i)},onDeath(i){return this.on("death",i)},inspect(){return`health: ${r}`}}}m(m0,"health");function g0(r,t={}){if(r==null)throw new Error("lifespan() requires time");let i=t.fade??0;return{id:"lifespan",require:["opacity"],add(){x.game.root.wait(r,()=>{this.opacity=this.opacity??1,i>0?x.game.root.tween(this.opacity,0,i,o=>this.opacity=o,No.linear).onEnd(()=>{this.destroy()}):this.destroy()})}}}m(g0,"lifespan");function y0(r){return{id:"named",name:r}}m(y0,"named");function v0(r,t,i){if(!r)throw new Error("state() requires an initial state");let o={};function a(f){o[f]||(o[f]={enter:new Qt,end:new Qt,update:new Qt,draw:new Qt})}m(a,"initStateEvents");function u(f,p,v){return a(p),o[p][f].add(v)}m(u,"on");function d(f,p,...v){a(p),o[p][f].trigger(...v)}m(d,"trigger");let g=!1;return{id:"state",state:r,enterState(f,...p){if(g=!0,t&&!t.includes(f))throw new Error(`State not found: ${f}`);let v=this.state;if(i){if(!(i!=null&&i[v]))return;let M=typeof i[v]=="string"?[i[v]]:i[v];if(!M.includes(f))throw new Error(`Cannot transition state from "${v}" to "${f}". Available transitions: ${M.map(y=>`"${y}"`).join(", ")}`)}d("end",v,...p),this.state=f,d("enter",f,...p),d("enter",`${v} -> ${f}`,...p)},onStateTransition(f,p,v){return u("enter",`${f} -> ${p}`,v)},onStateEnter(f,p){return u("enter",f,p)},onStateUpdate(f,p){return u("update",f,p)},onStateDraw(f,p){return u("draw",f,p)},onStateEnd(f,p){return u("end",f,p)},update(){g||(d("enter",r),g=!0),d("update",this.state)},draw(){d("draw",this.state)},inspect(){return`state: ${this.state}`}}}m(v0,"state");function of(r){return{id:"stay",stay:!0,scenesToStay:r}}m(of,"stay");function w0(r=!0,t){let i,o;return{id:"textInput",hasFocus:r,require:["text"],typedText:"",add(){let a=m(()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")},"flip");i=x.k.onCharInput(u=>{this.hasFocus&&(!t||this.typedText.length<t)&&(x.k.isKeyDown("shift")?this.typedText+=u.toUpperCase():this.typedText+=u,a())}),o=x.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1)),a()})},destroy(){i.cancel(),o.cancel()}}}m(w0,"textInput");function Cl(r=1e3){return{id:"timer",maxLoopsPerFrame:r,loop(t,i,o=-1,a=!1){let u=a?0:t,d=new Qt,g=this.onUpdate(()=>{u+=x.app.state.dt;for(let f=0;u>=t&&f<this.maxLoopsPerFrame;f++){if(o!=-1&&(o--,o<0)){g.cancel(),d.trigger();return}i(),u-=t}});return{get paused(){return g.paused},set paused(f){g.paused=f},cancel:g.cancel,onEnd:d.add,then(f){return d.add(f),this}}},wait(t,i){return this.loop(t,i??(()=>{}),1,!0)},tween(t,i,o,a,u=No.linear){let d=0,g=[],f=this.onUpdate(()=>{d+=x.app.state.dt;let p=Math.min(d/o,1);a(Yt(t,i,u(p))),p===1&&(f.cancel(),a(i),g.forEach(v=>v()))});return{get paused(){return f.paused},set paused(p){f.paused=p},onEnd(p){g.push(p)},then(p){return this.onEnd(p),this},cancel(){f.cancel()},finish(){f.cancel(),a(i),g.forEach(p=>p())}}}}}m(Cl,"timer");var Zc=0;function x0(){return Zc>0}m(x0,"usesArea");function A0(r={}){let t={},i=new Set,o=[];return{id:"area",collisionIgnore:r.collisionIgnore??[],add(){Zc++,this.area.cursor&&o.push(this.onHover(()=>x.app.setCursor(this.area.cursor))),o.push(this.onCollideUpdate((a,u)=>{if(!a.id)throw new Error("area() requires the object to have an id");t[a.id]||this.trigger("collide",a,u),u&&(t[a.id]=u,i.add(a.id))}))},destroy(){Zc--;for(let a of o)a.cancel()},fixedUpdate(){for(let a in t)i.has(Number(a))||(this.trigger("collideEnd",t[a].target),delete t[a]);i.clear()},drawInspect(){let a=this.localArea();nn(),rt(this.area.offset);let u={outline:{width:4/Sd(),color:Le(0,0,255)},anchor:this.anchor,fill:!1,fixed:jr(this)};a instanceof Ze?sn({...u,pos:a.pos,width:a.width*this.area.scale.x,height:a.height*this.area.scale.y}):a instanceof Xt?or({...u,pts:a.pts,scale:this.area.scale}):a instanceof on&&ki({...u,pos:a.center,radius:a.radius}),Kt()},area:{shape:r.shape??null,scale:r.scale?Q(r.scale):Q(1),offset:r.offset??Q(0),cursor:r.cursor??null},isClicked(){return x.app.isMousePressed()&&this.isHovering()},isHovering(){let a=jr(this)?x.k.mousePos():x.k.toWorld(x.k.mousePos());return this.hasPoint(a)},checkCollision(a){if(!a.id)throw new Error("checkCollision() requires the object to have an id");return t[a.id]??null},getCollisions(){return Object.values(t)},isColliding(a){if(!a.id)throw new Error("isColliding() requires the object to have an id");return!!t[a.id]},isOverlapping(a){if(!a.id)throw new Error("isOverlapping() requires the object to have an id");let u=t[a.id];return u&&u.hasOverlap()},onClick(a,u="left"){let d=x.app.onMousePress(u,()=>{this.isHovering()&&a()});return o.push(d),d},onHover(a){let u=!1;return this.onUpdate(()=>{u?u=this.isHovering():this.isHovering()&&(u=!0,a())})},onHoverUpdate(a){return this.onUpdate(()=>{this.isHovering()&&a()})},onHoverEnd(a){let u=!1;return this.onUpdate(()=>{u?this.isHovering()||(u=!1,a()):u=this.isHovering()})},onCollide(a,u){if(typeof a=="function"&&u===void 0)return this.on("collide",a);if(typeof a=="string")return this.onCollide((d,g)=>{d.is(a)&&(u==null||u(d,g))});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(a,u){if(typeof a=="function"&&u===void 0)return this.on("collideUpdate",a);if(typeof a=="string")return this.on("collideUpdate",(d,g)=>d.is(a)&&(u==null?void 0:u(d,g)));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(a,u){if(typeof a=="function"&&u===void 0)return this.on("collideEnd",a);if(typeof a=="string")return this.on("collideEnd",d=>d.is(a)&&(u==null?void 0:u(d)));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(a){return ar(this.worldArea(),a)},resolveCollision(a){let u=this.checkCollision(a);u&&!u.resolved&&(this.pos=this.pos.add(u.displacement),u.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let a=this.localArea();if(!(a instanceof Xt||a instanceof Ze))throw new Error("Only support polygon and rect shapes for now");let u=this.transform.clone().translate(this.area.offset).scale(Q(this.area.scale??1));if(a instanceof Ze){let d=Ei(this.anchor||Ll).add(1,1).scale(-.5).scale(a.width,a.height);u.translate(d)}return a.transform(u)},screenArea(){let a=this.worldArea();return jr(this)?a:a.transform(x.game.cam.transform)},inspect(){var a,u,d,g,f,p,v;return((a=this.area.scale)==null?void 0:a.x)==((u=this.area.scale)==null?void 0:u.y)?`area: ${(g=(d=this.area.scale)==null?void 0:d.x)==null?void 0:g.toFixed(1)}x`:`area: (${(p=(f=this.area.scale)==null?void 0:f.x)==null?void 0:p.toFixed(1)}x, ${(v=this.area.scale.y)==null?void 0:v.toFixed(1)}y)`}}}m(A0,"area");function S0(r={}){let t=null,i=null,o=!1,a=Q(0),u=null,d=null,g;return{id:"body",require:["pos"],vel:Q(0),drag:r.drag??0,jumpForce:r.jumpForce??Tx,gravityScale:r.gravityScale??1,isStatic:r.isStatic??!1,mass:r.mass??1,add(){if(u=this.pos.clone(),d=this.pos.clone(),g=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((f,p)=>{if(!p||!f.has("body")||p.resolved)return;this.trigger("beforePhysicsResolve",p);let v=p.reverse();if(f.trigger("beforePhysicsResolve",v),!(p.resolved||v.resolved)&&!(this.isStatic&&f.isStatic)){if(!this.isStatic&&!f.isStatic){let M=this.mass+f.mass;this.pos=this.pos.add(p.displacement.scale(f.mass/M)),f.pos=f.pos.add(p.displacement.scale(-this.mass/M)),this.transform=rs(this),f.transform=rs(f)}else{let M=!this.isStatic&&f.isStatic?p:p.reverse();M.source.pos=M.source.pos.add(M.displacement),M.source.transform=rs(M.source)}p.resolved=!0,this.trigger("physicsResolve",p),f.trigger("physicsResolve",p.reverse())}}),this.onPhysicsResolve(f=>{if(x.game.gravity)if(f.isBottom()&&this.isFalling()){this.vel=this.vel.reject(x.game.gravity.unit());let p=t;t=f.target,p!=t&&(i=f.target.pos),o?o=!1:p||(this.trigger("ground",t),f.target.trigger("land",this))}else f.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(x.game.gravity.unit()),this.trigger("headbutt",f.target),f.target.trigger("headbutted",this))}))},update(){t&&this.isColliding(t)&&t.exists()&&t.has("body")&&(i&&!t.pos.eq(i)&&r.stickToPlatform!==!1&&this.moveBy(t.pos.sub(i)),i=t.pos);let f=vl();f&&(this.pos.x==g.x&&(this.pos.x=Yt(u.x,d.x,f/yl()),g.x=this.pos.x),this.pos.y==g.y&&(this.pos.y=Yt(u.y,d.y,f/yl()),g.y=this.pos.y))},fixedUpdate(){if(u&&(this.pos.x==g.x&&(this.pos.x=u.x),this.pos.y==g.y&&(this.pos.y=u.y),u=null),x.game.gravity&&!this.isStatic){o&&(t=null,i=null,this.trigger("fallOff"),o=!1),t&&(!this.isColliding(t)||!t.exists()||!t.has("body"))&&(o=!0);let f=this.vel.clone();this.vel=this.vel.add(x.game.gravity.scale(this.gravityScale*wt()));let p=r.maxVelocity??Ix;this.vel.slen()>p*p&&(this.vel=this.vel.unit().scale(p)),f.dot(x.game.gravity)<0&&this.vel.dot(x.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=a.x*wt(),this.vel.y+=a.y*wt(),this.vel.x*=1-this.drag*wt(),this.vel.y*=1-this.drag*wt(),this.move(this.vel),vl()){u=this.pos.clone();let f=this.vel.add(a.scale(wt()));d=this.pos.add(f.scale(wt())),g=this.pos.clone()}a.x=0,a.y=0},onPhysicsResolve(f){return this.on("physicsResolve",f)},onBeforePhysicsResolve(f){return this.on("beforePhysicsResolve",f)},curPlatform(){return t},isGrounded(){return t!==null},isFalling(){return this.vel.dot(ss())>0},isJumping(){return this.vel.dot(ss())<0},applyImpulse(f){this.isStatic||(this.vel=this.vel.add(f))},addForce(f){this.isStatic||(a.x+=f.x/this.mass,a.y+=f.y/this.mass)},jump(f){this.isStatic||(t=null,i=null,this.vel=ss().scale(-f||-this.jumpForce))},onGround(f){return this.on("ground",f)},onFall(f){return this.on("fall",f)},onFallOff(f){return this.on("fallOff",f)},onHeadbutt(f){return this.on("headbutt",f)},onLand(f){return this.on("land",f)},onHeadbutted(f){return this.on("headbutted",f)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}m(S0,"body");function E0(r=2){let t=r;return{id:"doubleJump",require:["body"],numJumps:r,add(){this.onGround(()=>{t=this.numJumps})},doubleJump(i){t<=0||(t<this.numJumps&&this.trigger("doubleJump"),t--,this.jump(i))},onDoubleJump(i){return this.on("doubleJump",i)},inspect(){return`jumpsLeft: ${t}`}}}m(E0,"doubleJump");function k0(r){return{id:"surfaceEffector",require:["area"],speed:r.speed,speedVariation:r.speedVariation??0,forceScale:r.speedVariation??.9,add(){this.onCollideUpdate("body",(t,i)=>{var d;let o=i==null?void 0:i.normal.normal(),a=t.vel.project(o),u=(d=o==null?void 0:o.scale(this.speed))==null?void 0:d.sub(a);t.addForce(u==null?void 0:u.scale(t.mass*this.forceScale))})}}}m(k0,"surfaceEffector");function C0(r){return{id:"areaEffector",require:["area"],useGlobalAngle:r.useGlobalAngle||!1,forceAngle:r.forceAngle,forceMagnitude:r.forceMagnitude,forceVariation:r.forceVariation??0,linearDrag:r.linearDrag??0,add(){this.onCollideUpdate("body",(t,i)=>{if(!t.has("body"))return;let o=$.fromAngle(this.forceAngle).scale(this.forceMagnitude);t.addForce(o),this.linearDrag&&t.addForce(t.vel.scale(-this.linearDrag))})}}}m(C0,"areaEffector");function M0(r){return{id:"pointEffector",require:["area","pos"],forceMagnitude:r.forceMagnitude,forceVariation:r.forceVariation??0,distanceScale:r.distanceScale??1,forceMode:r.forceMode||"inverseLinear",linearDrag:r.linearDrag??0,add(){this.onCollideUpdate("body",(t,i)=>{let o=this.pos.sub(t.pos),a=o.len(),u=a*this.distanceScale/10,d=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/u:1/u**2,g=o.scale(this.forceMagnitude*d/a);t.addForce(g),this.linearDrag&&t.addForce(t.vel.scale(-this.linearDrag))})}}}m(M0,"pointEffector");function R0(r){return{id:"constantForce",require:["body"],force:r.force,update(){this.force&&this.addForce(this.force)}}}m(R0,"constantForce");function P0(r){return{id:"platformEffector",require:["area","body"],surfaceArc:r.surfaceArc??180,useOneWay:r.useOneWay??!1,add(){this.onBeforePhysicsResolve(t=>{let i=t.target.vel,o=ss().scale(-1).angleBetween(i);Math.abs(o)>this.surfaceArc/2&&t.preventResolution()})}}}m(P0,"platformEffector");function T0(r){return{id:"buoyancyEffector",require:["area"],surfaceLevel:r.surfaceLevel,density:r.density??1,linearDrag:r.linearDrag??1,angularDrag:r.angularDrag??.2,flowAngle:r.flowAngle??0,flowMagnitude:r.flowMagnitude??0,flowVariation:r.flowVariation??0,add(){this.onCollideUpdate("body",(t,i)=>{let o=t,a=o.worldArea(),[u,d]=a.cut(Q(-100,this.surfaceLevel),Q(100,this.surfaceLevel));u&&(this.applyBuoyancy(o,u),this.applyDrag(o,u)),this.flowMagnitude&&o.addForce($.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(t,i){let o=this.density*i.area(),a=Q(0,1).scale(-o);t.addForce(a)},applyDrag(t,i){let o=t.vel,a=this.density*this.linearDrag,u=o.scale(-a);t.addForce(u)}}}m(T0,"buoyancyEffector");function Ml(r){if(!r)throw new Error("Please define an anchor");return{id:"anchor",anchor:r,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}m(Ml,"anchor");function af(){return{id:"fixed",fixed:!0}}m(af,"fixed");function I0(r,t){return{id:"follow",require:["pos"],follow:{obj:r,offset:t??Q(0)},add(){r.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){r.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}m(I0,"follow");function N0(r){var i;let t=(i=x.game.layers)==null?void 0:i.indexOf(r);return{id:"layer",get layerIndex(){return t??null},get layer(){var o;return t?((o=x.game.layers)==null?void 0:o[t])??null:null},set layer(o){var a;if(t=(a=x.game.layers)==null?void 0:a.indexOf(o),t==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}m(N0,"layer");function F0(r,t){let i=typeof r=="number"?$.fromAngle(r):r.unit();return{id:"move",require:["pos"],update(){this.move(i.scale(t))}}}m(F0,"move");function D0(r={}){let t=r.distance??Px,i=!1;return{id:"offscreen",require:["pos"],isOffScreen(){let o=this.screenPos();if(!o)return!1;let a=new Ze(Q(0),kt(),Tt());return!qo(a,o)&&a.sdistToPoint(o)>t*t},onExitScreen(o){return this.on("exitView",o)},onEnterScreen(o){return this.on("enterView",o)},update(){this.isOffScreen()?(i||(this.trigger("exitView"),i=!0),r.hide&&(this.hidden=!0),r.pause&&(this.paused=!0),r.destroy&&this.destroy()):(i&&(this.trigger("enterView"),i=!1),r.hide&&(this.hidden=!1),r.pause&&(this.paused=!1))}}}m(D0,"offscreen");function Bo(...r){return{id:"pos",pos:Q(...r),moveBy(...t){this.pos=this.pos.add(Q(...t))},move(...t){this.moveBy(Q(...t).scale(wt()))},moveTo(...t){if(typeof t[0]=="number"&&typeof t[1]=="number")return this.moveTo(Q(t[0],t[1]),t[2]);let i=t[0],o=t[1];if(o===void 0){this.pos=Q(i);return}let a=i.sub(this.pos);if(a.len()<=o*wt()){this.pos=Q(i);return}this.move(a.unit().scale(o))},worldPos(t=null){return t?(this.pos=this.pos.add(this.fromWorld(t)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(t){return this.parent?this.parent.transform.multVec2(this.pos.add(t)):this.pos.add(t)},fromWorld(t){return this.parent?this.parent.transform.invert().multVec2(t).sub(this.pos):t.sub(this.pos)},screenPos(t=null){if(t)return this.pos=this.pos.add(this.fromScreen(t)),null;{let i=this.worldPos();return i?jr(this)?i:El(i):null}},toScreen(t){let i=this.toWorld(t);return jr(this)?i:El(i)},fromScreen(t){return jr(this)?this.fromWorld(t):this.fromWorld(Yd(t))},toOther(t,i){return t.fromWorld(this.toWorld(i))},fromOther(t,i){return t.toOther(this,i)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){ki({color:Le(255,0,0),radius:4/Sd()})}}}m(Bo,"pos");function b0(r){return{id:"rotate",angle:r??0,rotateBy(t){this.angle+=t},rotateTo(t){this.angle=t},inspect(){return`angle: ${Math.round(this.angle)}`}}}m(b0,"rotate");function jo(...r){if(r.length===0)return jo(1);let t=Q(...r);return{id:"scale",set scale(i){if(!(i instanceof $))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");t=Q(i)},get scale(){return t},scaleTo(...i){t=Q(...i)},scaleBy(...i){t=t.scale(Q(...i))},inspect(){return t.x==t.y?`scale: ${t.x.toFixed(1)}x`:`scale: (${t.x.toFixed(1)}x, ${t.y.toFixed(1)}y)`}}}m(jo,"scale");function B0(r){return{id:"z",z:r,inspect(){return`z: ${this.z}`}}}m(B0,"z");var CA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",MA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",RA="3001.0.0",x={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},PA=m((r={tagsAsComponents:!0})=>{x.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),x.k.quit()),x.globalOpt=r;let t=r.root??document.body;t===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let i=r.canvas??t.appendChild(document.createElement("canvas"));x.canvas=i;let o=r.scale??1;x.gscale=o;let a=r.width&&r.height&&!r.stretch&&!r.letterbox;a?(i.width=r.width*o,i.height=r.height*o):(i.width=i.parentElement.offsetWidth,i.height=i.parentElement.offsetHeight);let u=["outline: none","cursor: default"];if(a){let ye=i.width,Me=i.height;u.push(`width: ${ye}px`),u.push(`height: ${Me}px`)}else u.push("width: 100%"),u.push("height: 100%");r.crisp&&(u.push("image-rendering: pixelated"),u.push("image-rendering: crisp-edges")),i.style.cssText=u.join(";");let d=r.pixelDensity||1;x.pixelDensity=d,i.width*=d,i.height*=d,i.tabIndex=0;let g=document.createElement("canvas");g.width=256,g.height=256,x.fontCacheCanvas=g;let f=g.getContext("2d",{willReadFrequently:!0});x.fontCacheC2d=f;let p=Vx({canvas:i,touchToMouse:r.touchToMouse,gamepads:r.gamepads,pixelDensity:r.pixelDensity,maxFPS:r.maxFPS,buttons:r.buttons});x.app=p;let v=[],M=p.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!M)throw new Error("WebGL not supported");let y=M,k=fy(y,{texFilter:r.texFilter}),S=lA(r,k);x.gfx=S;let T=AA();x.audio=T;let A=iA(k,r.spriteAtlasPadding??0);x.assets=A;let C=wA();x.game=C,C.root.use(Cl());function D(ye,Me){let Re=new xl(k,ye,Me);return{clear:m(()=>Re.clear(),"clear"),free:m(()=>Re.free(),"free"),toDataURL:m(()=>Re.toDataURL(),"toDataURL"),toImageData:m(()=>Re.toImageData(),"toImageData"),width:Re.width,height:Re.height,draw:m(qe=>{rn(),Re.bind(),qe(),rn(),Re.unbind()},"draw"),get fb(){return Re}}}m(D,"makeCanvas");function F(){y.clear(y.COLOR_BUFFER_BIT),S.frameBuffer.bind(),y.clear(y.COLOR_BUFFER_BIT),S.bgColor||rr(()=>{Ts({width:kt(),height:Tt(),quad:new it(0,0,kt()/64,Tt()/64),tex:S.bgTex,fixed:!0})}),S.renderer.numDraws=0,S.fixed=!1,S.transformStack.length=0,S.transform=new Hn}m(F,"frameStart");function q(ye,Me){S.postShader=ye,S.postShaderUniform=Me??null}m(q,"usePostEffect");function b(){rn(),S.lastDrawCalls=S.renderer.numDraws,S.frameBuffer.unbind(),y.viewport(0,0,y.drawingBufferWidth,y.drawingBufferHeight);let ye=S.width,Me=S.height;S.width=y.drawingBufferWidth/d,S.height=y.drawingBufferHeight/d,bo({flipY:!0,tex:S.frameBuffer.tex,pos:new $(S.viewport.x,S.viewport.y),width:S.viewport.width,height:S.viewport.height,shader:S.postShader,uniform:typeof S.postShaderUniform=="function"?S.postShaderUniform():S.postShaderUniform,fixed:!0}),rn(),S.width=ye,S.height=Me}m(b,"frameEnd");let E=!1,R={inspect:!1,timeScale:1,showLog:!0,fps:m(()=>p.fps(),"fps"),numFrames:m(()=>p.numFrames(),"numFrames"),stepFrame:ke,drawCalls:m(()=>S.lastDrawCalls,"drawCalls"),clearLog:m(()=>C.logs=[],"clearLog"),log:m((...ye)=>{let Me=r.logMax??8,Re=ye.length>1?ye.concat(" ").join(" "):ye[0];C.logs.unshift({msg:Re,time:p.time()}),C.logs.length>Me&&(C.logs=C.logs.slice(0,Me))},"log"),error:m(ye=>R.log(new Error(ye.toString?ye.toString():ye)),"error"),curRecording:null,numObjects:m(()=>ge("*",{recursive:!0}).length,"numObjects"),get paused(){return E},set paused(ye){E=ye,ye?T.ctx.suspend():T.ctx.resume()}};x.debug=R;function I(ye,Me){try{return JSON.parse(window.localStorage[ye])}catch{return Me?(K(ye,Me),Me):null}}m(I,"getData");function K(ye,Me){window.localStorage[ye]=JSON.stringify(Me)}m(K,"setData");function Y(ye,...Me){let Re=ye(It),qe;typeof Re=="function"?qe=Re(...Me)(It):qe=Re;for(let Je in qe)It[Je]=qe[Je],r.global!==!1&&(window[Je]=qe[Je]);return It}m(Y,"plug");function J(ye){let Me=p.canvas.captureStream(ye),Re=T.ctx.createMediaStreamDestination();T.masterNode.connect(Re);let qe=new MediaRecorder(Me),Je=[];return qe.ondataavailable=De=>{De.data.size>0&&Je.push(De.data)},qe.onerror=()=>{T.masterNode.disconnect(Re),Me.getTracks().forEach(De=>De.stop())},qe.start(),{resume(){qe.resume()},pause(){qe.pause()},stop(){return qe.stop(),T.masterNode.disconnect(Re),Me.getTracks().forEach(De=>De.stop()),new Promise(De=>{qe.onstop=()=>{De(new Blob(Je,{type:"video/mp4"}))}})},download(De="kaboom.mp4"){this.stop().then(st=>Vc(De,st))}}}m(J,"record");function oe(){return document.activeElement===p.canvas}m(oe,"isFocused");let ue=C.root.add.bind(C.root),ve=C.root.readd.bind(C.root),Ce=C.root.removeAll.bind(C.root),ge=C.root.get.bind(C.root),he=C.root.wait.bind(C.root),te=C.root.loop.bind(C.root),ae=C.root.query.bind(C.root),re=C.root.tween.bind(C.root),_=is(null,MA),G=is(null,CA);x.kaSprite=_,x.boomSprite=G;function Ae(){C.root.fixedUpdate()}m(Ae,"fixedUpdateFrame");function ke(){C.root.update()}m(ke,"updateFrame");const un=class un{constructor(Me,Re,qe,Je,De=!1){H(this,"source");H(this,"target");H(this,"normal");H(this,"distance");H(this,"resolved",!1);this.source=Me,this.target=Re,this.normal=qe,this.distance=Je,this.resolved=De}get displacement(){return this.normal.scale(this.distance)}reverse(){return new un(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(C.gravity||Q(0,1))>0}isRight(){return this.displacement.cross(C.gravity||Q(0,1))<0}isTop(){return this.displacement.dot(C.gravity||Q(0,1))>0}isBottom(){return this.displacement.dot(C.gravity||Q(0,1))<0}preventResolution(){this.resolved=!0}};m(un,"Collision");let Pe=un;function Te(){if(!x0())return;let ye={},Me=r.hashGridSize||64,Re=new Hn,qe=[];function Je(De){if(qe.push(Re.clone()),De.pos&&Re.translate(De.pos),De.scale&&Re.scale(De.scale),De.angle&&Re.rotate(De.angle),De.transform=Re.clone(),De.c("area")&&!De.paused){let st=De,Nt=st.worldArea().bbox(),$r=Math.floor(Nt.pos.x/Me),Ci=Math.floor(Nt.pos.y/Me),Zr=Math.ceil((Nt.pos.x+Nt.width)/Me),Jr=Math.ceil((Nt.pos.y+Nt.height)/Me),dr=new Set;for(let Ft=$r;Ft<=Zr;Ft++)for(let Lt=Ci;Lt<=Jr;Lt++)if(!ye[Ft])ye[Ft]={},ye[Ft][Lt]=[st];else if(!ye[Ft][Lt])ye[Ft][Lt]=[st];else{let Wn=ye[Ft][Lt];e:for(let pt of Wn){if(pt.paused||!pt.exists()||dr.has(pt.id))continue;for(let xn of st.collisionIgnore)if(pt.is(xn))continue e;for(let xn of pt.collisionIgnore)if(st.is(xn))continue e;let wn=ug(st.worldArea(),pt.worldArea());if(wn){let xn=new Pe(st,pt,wn.normal,wn.distance);st.trigger("collideUpdate",pt,xn);let fr=xn.reverse();fr.resolved=xn.resolved,pt.trigger("collideUpdate",st,fr)}dr.add(pt.id)}Wn.push(st)}}De.children.forEach(Je),Re=qe.pop()}m(Je,"checkObj"),Je(C.root)}m(Te,"checkFrame");function Be(ye){console.error(ye),T.ctx.suspend();let Me=ye.message??String(ye)??"Unknown error, check console for more info";p.run(()=>{},()=>{F(),rr(()=>{let Re=kt(),qe=Tt(),Je={size:36,width:Re-32*2,letterSpacing:4,lineSpacing:4,font:ml,fixed:!0};sn({width:Re,height:qe,color:Le(0,0,255),fixed:!0});let De=Gr({...Je,text:"Error",pos:Q(32),color:Le(255,128,0),fixed:!0});Wr(De),Yc({...Je,text:Me,pos:Q(32,32+De.height+16),fixed:!0}),Kt(),C.events.trigger("error",ye)}),b()})}m(Be,"handleErr");function Fe(ye){v.push(ye)}m(Fe,"onCleanup");function _e(){C.events.onOnce("frameEnd",()=>{p.quit(),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT);let ye=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS);for(let Me=0;Me<ye;Me++)y.activeTexture(y.TEXTURE0+Me),y.bindTexture(y.TEXTURE_2D,null),y.bindTexture(y.TEXTURE_CUBE_MAP,null);y.bindBuffer(y.ARRAY_BUFFER,null),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,null),y.bindRenderbuffer(y.RENDERBUFFER,null),y.bindFramebuffer(y.FRAMEBUFFER,null),k.destroy(),v.forEach(Me=>Me())})}m(_e,"quit");let lt=!0;p.run(()=>{try{A.loaded&&(R.paused||Ae(),Te())}catch(ye){Be(ye)}},(ye,Me)=>{try{ye(),A.loaded||Hr()===1&&!lt&&(A.loaded=!0,kd().forEach(Re=>C.events.trigger("loadError",...Re)),C.events.trigger("load")),!A.loaded&&r.loadingScreen!==!1||lt?(F(),my(),b()):(R.paused||ke(),Te(),F(),py(),r.debug!==!1&&hy(),b()),lt&&(lt=!1),C.events.trigger("frameEnd"),Me()}catch(Re){Be(Re)}}),Od(),Jd();let It={_k:x,VERSION:RA,loadRoot:Qg,loadProgress:Hr,loadSprite:is,loadSpriteAtlas:Fd,loadSound:oy,loadMusic:ay,loadBitmapFont:ey,loadFont:Zg,loadShader:ry,loadShaderURL:iy,loadAseprite:$g,loadPedit:ty,loadBean:Xg,loadJSON:Kg,load:wl,getSound:Nd,getFont:Pd,getBitmapFont:Td,getSprite:Cd,getShader:Id,getAsset:Yg,Asset:vn,SpriteData:Vr,SoundData:Do,width:kt,height:Tt,center:Fo,dt:wt,fixedDt:yl,restDt:vl,time:p.time,screenshot:p.screenshot,record:J,isFocused:oe,setCursor:p.setCursor,getCursor:p.getCursor,setCursorLocked:p.setCursorLocked,isCursorLocked:p.isCursorLocked,setFullscreen:p.setFullscreen,isFullscreen:p.isFullscreen,isTouchscreen:p.isTouchscreen,onLoad:Gl,onLoadError:_y,onLoading:jy,onResize:Oy,onGamepadConnect:p.onGamepadConnect,onGamepadDisconnect:p.onGamepadDisconnect,onError:Ly,onCleanup:Fe,flash:Kd,setCamPos:Ud,getCamPos:Hd,setCamRot:Wd,getCamRot:Qd,setCamScale:Vd,getCamScale:Gd,getCamTransform:qy,camPos:Hy,camScale:Vy,camFlash:Wy,camRot:Gy,camTransform:zy,shake:Uy,toScreen:El,toWorld:Yd,setGravity:Qy,getGravity:Ky,setGravityDirection:Yy,getGravityDirection:ss,setBackground:qg,getBackground:zg,getGamepads:p.getGamepads,getTreeRoot:r0,add:ue,make:Wl,destroy:tf,destroyAll:Ce,get:ge,query:ae,readd:ve,pos:Bo,scale:jo,rotate:b0,color:Ld,opacity:_d,anchor:Ml,area:A0,sprite:kl,text:l0,polygon:Cy,rect:zd,circle:wy,uvquad:u0,outline:Ey,particles:ky,body:S0,platformEffector:P0,surfaceEffector:k0,areaEffector:C0,pointEffector:M0,buoyancyEffector:T0,constantForce:R0,doubleJump:E0,shader:My,textInput:w0,timer:Cl,fixed:af,stay:of,health:m0,lifespan:g0,named:y0,state:v0,z:B0,layer:N0,move:F0,offscreen:D0,follow:I0,fadeIn:Ay,mask:Sy,drawon:xy,raycast:qd,tile:nf,animate:p0,serializeAnimation:sf,agent:c0,sentry:h0,patrol:f0,pathfinder:d0,trigger:cA,on:$t,onFixedUpdate:dA,onUpdate:fA,onDraw:hA,onAdd:Py,onDestroy:pA,onTag:Ty,onUntag:yA,onUse:mA,onUnuse:gA,onClick:vA,onCollide:Iy,onCollideUpdate:Ny,onCollideEnd:Fy,onHover:Dy,onHoverUpdate:by,onHoverEnd:By,onKeyDown:p.onKeyDown,onKeyPress:p.onKeyPress,onKeyPressRepeat:p.onKeyPressRepeat,onKeyRelease:p.onKeyRelease,onMouseDown:p.onMouseDown,onMousePress:p.onMousePress,onMouseRelease:p.onMouseRelease,onMouseMove:p.onMouseMove,onCharInput:p.onCharInput,onTouchStart:p.onTouchStart,onTouchMove:p.onTouchMove,onTouchEnd:p.onTouchEnd,onScroll:p.onScroll,onHide:p.onHide,onShow:p.onShow,onGamepadButtonDown:p.onGamepadButtonDown,onGamepadButtonPress:p.onGamepadButtonPress,onGamepadButtonRelease:p.onGamepadButtonRelease,onGamepadStick:p.onGamepadStick,onButtonPress:p.onButtonPress,onButtonDown:p.onButtonDown,onButtonRelease:p.onButtonRelease,mousePos:Ed,mouseDeltaPos:p.mouseDeltaPos,isKeyDown:p.isKeyDown,isKeyPressed:p.isKeyPressed,isKeyPressedRepeat:p.isKeyPressedRepeat,isKeyReleased:p.isKeyReleased,isMouseDown:p.isMouseDown,isMousePressed:p.isMousePressed,isMouseReleased:p.isMouseReleased,isMouseMoved:p.isMouseMoved,isGamepadButtonPressed:p.isGamepadButtonPressed,isGamepadButtonDown:p.isGamepadButtonDown,isGamepadButtonReleased:p.isGamepadButtonReleased,getGamepadStick:p.getGamepadStick,isButtonPressed:p.isButtonPressed,isButtonDown:p.isButtonDown,isButtonReleased:p.isButtonReleased,setButton:p.setButton,getButton:p.getButton,pressButton:p.pressButton,releaseButton:p.releaseButton,getLastInputDeviceType:p.getLastInputDeviceType,charInputted:p.charInputted,loop:te,wait:he,play:$y,setVolume:$d,getVolume:Zd,volume:Zy,burp:Xd,audioCtx:T.ctx,Line:ln,Rect:Ze,Circle:on,Ellipse:ur,Point:wx,Polygon:Xt,Vec2:$,Color:Ne,Mat4:Hn,Quad:it,RNG:Rm,rand:vt,randi:od,randSeed:Pm,vec2:Q,rgb:Le,hsl2rgb:gx,quad:ct,choose:Nm,chooseMultiple:Im,shuffle:ad,chance:Tm,lerp:Yt,tween:re,easings:No,map:In,mapc:Mm,wave:sd,deg2rad:dt,rad2deg:Ur,clamp:Nn,evaluateQuadratic:Qm,evaluateQuadraticFirstDerivative:Km,evaluateQuadraticSecondDerivative:Ym,evaluateBezier:Ol,evaluateBezierFirstDerivative:Xm,evaluateBezierSecondDerivative:$m,evaluateCatmullRom:Zm,evaluateCatmullRomFirstDerivative:Jm,curveLengthApproximation:gd,normalizedCurve:eg,hermite:Ds,cardinal:yd,catmullRom:To,bezier:tg,kochanekBartels:ng,easingSteps:lg,easingLinear:og,easingCubicBezier:ag,testLineLine:Nl,testRectRect:ld,testRectLine:Fl,testRectPoint:qo,testCirclePolygon:Uo,testLinePoint:Dl,testLineCircle:Fs,isConvex:pg,triangulate:wd,NavMesh:nA,drawSprite:yy,drawText:Yc,formatText:Gr,drawRect:sn,drawLine:ns,drawLines:Vl,drawTriangle:Bd,drawCircle:ki,drawEllipse:Dd,drawUVQuad:Ts,drawPolygon:or,drawCurve:bd,drawBezier:dy,drawFormattedText:Wr,drawMasked:gy,drawSubtracted:vy,pushTransform:nn,popTransform:Kt,pushTranslate:rt,pushScale:Ps,pushRotate:xi,pushMatrix:Ug,usePostEffect:q,makeCanvas:D,debug:R,scene:i0,getSceneName:a0,go:s0,onSceneLeave:o0,layers:n0,getLayers:e0,setLayers:ef,getDefaultLayer:t0,addLevel:Ry,getData:I,setData:K,download:_l,downloadJSON:Sg,downloadText:Ad,downloadBlob:Vc,plug:Y,ASCII_CHARS:mg,canvas:p.canvas,addKaboom:Jy,LEFT:$.LEFT,RIGHT:$.RIGHT,UP:$.UP,DOWN:$.DOWN,RED:Ne.RED,GREEN:Ne.GREEN,BLUE:Ne.BLUE,YELLOW:Ne.YELLOW,MAGENTA:Ne.MAGENTA,CYAN:Ne.CYAN,WHITE:Ne.WHITE,BLACK:Ne.BLACK,quit:_e,KEvent:Qt,KEventHandler:Io,KEventController:Ai,cancel:m(()=>yg,"cancel")};x.k=It;let Xr=r.plugins;if(Xr&&Xr.forEach(Y),r.global!==!1)for(let ye in It)window[ye]=It[ye];return r.focus!==!1&&p.canvas.focus(),It},"kaplay"),TA=PA;const j=TA({width:1920,height:1080,letterbox:!0,background:[0,0,0],global:!1,buttons:{jump:{keyboard:["space"],mouse:"left"}},touchToMouse:!0,debug:!1});function IA(){j.add([j.text(`
        InfiniteRunnerGame
      `,{font:"mania",size:32})]),j.add([j.text("Press Space/Click/Touch to Start The Game",{font:"mania",size:64}),j.anchor("center"),j.pos(j.center())]),j.onButtonPress("jump",()=>j.go("main-menu"))}function j0(r){const t=j.add([j.sprite("sonic",{anim:"run"}),j.scale(4),j.area(),j.anchor("center"),j.pos(r),j.body({jumpForce:1700}),{ringCollectUI:null,setControls(){j.onButtonPress("jump",()=>{this.isGrounded()&&(this.play("jump"),this.jump(),j.play("jump",{volume:.5}))})},setEvents(){this.onGround(()=>{this.play("run")})}}]);return t.ringCollectUI=t.add([j.text("",{font:"mania",size:24}),j.color(255,255,0),j.anchor("center"),j.pos(30,-10)]),t}function NA(){j.getData("best-score")||j.setData("best-score",0),j.onButtonPress("jump",()=>j.go("game"));const r=1920,t=[j.add([j.sprite("chemical-bg"),j.pos(0,0),j.scale(2),j.opacity(.8)]),j.add([j.sprite("chemical-bg"),j.pos(1920,0),j.scale(2),j.opacity(.8)])],i=[j.add([j.sprite("platforms"),j.pos(0,450),j.scale(4)]),j.add([j.sprite("platforms"),j.pos(384,450),j.scale(4)])];j.add([j.text("SONIC RING RUN",{font:"mania",size:96}),j.anchor("center"),j.pos(j.center().x,200)]),j.add([j.text("Press Space/Click/Touch to Play",{font:"mania",size:32}),j.anchor("center"),j.pos(j.center().x,j.center().y-200)]),j0(j.vec2(200,745)),j.onUpdate(()=>{t[1].pos.x<0&&(t[0].moveTo(t[1].pos.x+r*2,0),t.push(t.shift())),t[0].move(-100,0),t[1].moveTo(t[0].pos.x+r*2,0),i[1].pos.x<0&&(i[0].moveTo(i[1].pos.x+i[1].width*4,450),i.push(i.shift())),i[0].move(-4e3,0),i[1].moveTo(i[0].pos.x+i[1].width*4,450)})}function FA(r){return j.add([j.sprite("motobug",{anim:"run"}),j.area({shape:new j.Rect(j.vec2(-5,0),32,32)}),j.scale(4),j.anchor("center"),j.pos(r),j.offscreen(),"enemy"])}function DA(r){return j.add([j.sprite("ring",{anim:"spin"}),j.area(),j.scale(4),j.anchor("center"),j.pos(r),j.offscreen(),"ring"])}function bA(){const r=j.play("city",{volume:.2,loop:!0});j.setGravity(3100);const t=1920,i=[j.add([j.sprite("chemical-bg"),j.pos(0,0),j.scale(2),j.opacity(.8)]),j.add([j.sprite("chemical-bg"),j.pos(t,0),j.scale(2),j.opacity(.8)])],o=[j.add([j.sprite("platforms"),j.pos(0,450),j.scale(4)]),j.add([j.sprite("platforms"),j.pos(384,450),j.scale(4)])],a=j0(j.vec2(200,745));a.setControls(),a.setEvents();const u=j.add([j.text("Press Space/Click/Touch to Jump!",{font:"mania",size:64}),j.anchor("center"),j.pos(j.center())]),d=j.onButtonPress("jump",()=>{j.destroy(u),d.cancel()}),g=j.add([j.text("SCORE : 0",{font:"mania",size:72}),j.pos(20,20)]);let f=0,p=0;a.onCollide("ring",k=>{j.play("ring",{volume:.5}),j.destroy(k),f++,g.text=`SCORE : ${f}`,a.ringCollectUI.text="+1",j.wait(1,()=>{a.ringCollectUI.text=""})}),a.onCollide("enemy",k=>{if(!a.isGrounded()){j.play("destroy",{volume:.5}),j.play("hyper-ring",{volume:.5}),j.destroy(k),a.play("jump"),a.jump(),p+=1,f+=10*p,g.text=`SCORE : ${f}`,p===1&&(a.ringCollectUI.text=`+${10*p}`),p>1&&(a.ringCollectUI.text=`x${p}`),j.wait(1,()=>{a.ringCollectUI.text=""});return}j.play("hurt",{volume:.5}),j.setData("current-score",f),j.go("gameover",r)});let v=300;j.loop(1,()=>{v+=50});const M=()=>{const k=FA(j.vec2(1950,773));k.onUpdate(()=>{if(v<3e3){k.move(-(v+300),0);return}k.move(-v,0)}),k.onExitScreen(()=>{k.pos.x<0&&j.destroy(k)});const S=j.rand(.5,2.5);j.wait(S,M)};M();const y=()=>{const k=DA(j.vec2(1950,745));k.onUpdate(()=>{k.move(-v,0)}),k.onExitScreen(()=>{k.pos.x<0&&j.destroy(k)});const S=j.rand(.5,3);j.wait(S,y)};y(),j.add([j.rect(1920,300),j.opacity(0),j.area(),j.pos(0,832),j.body({isStatic:!0}),"platform"]),j.onUpdate(()=>{a.isGrounded()&&(p=0),i[1].pos.x<0&&(i[0].moveTo(i[1].pos.x+t*2,0),i.push(i.shift())),i[0].move(-100,0),i[1].moveTo(i[0].pos.x+t*2,0),i[0].moveTo(i[0].pos.x,-a.pos.y/10-50),i[1].moveTo(i[1].pos.x,-a.pos.y/10-50),o[1].pos.x<0&&(o[0].moveTo(o[1].pos.x+o[1].width*4,450),o.push(o.shift())),o[0].move(-v,0),o[1].moveTo(o[0].pos.x+o[1].width*4,450)})}function BA(r){r.paused=!0;let t=j.getData("best-score");const i=j.getData("current-score"),o=["F","E","D","C","B","A","S"],a=[50,80,100,200,300,400,500];let u="F",d="F";for(let p=0;p<a.length;p++)a[p]<i&&(u=o[p]),a[p]<t&&(d=o[p]);t<i&&(j.setData("best-score",i),t=i,d=u),j.add([j.text("GAME OVER",{font:"mania",size:96}),j.anchor("center"),j.pos(j.center().x,j.center().y-300)]),j.add([j.text(`BEST SCORE : ${t}`,{font:"mania",size:64}),j.anchor("center"),j.pos(j.center().x-400,j.center().y-200)]),j.add([j.text(`CURRENT SCORE : ${i}`,{font:"mania",size:64}),j.anchor("center"),j.pos(j.center().x+400,j.center().y-200)]),j.add([j.rect(400,400,{radius:4}),j.color(0,0,0),j.area(),j.anchor("center"),j.outline(6,j.Color.fromArray([255,255,255])),j.pos(j.center().x-400,j.center().y+50)]).add([j.text(d,{font:"mania",size:100}),j.anchor("center")]),j.add([j.rect(400,400,{radius:4}),j.color(0,0,0),j.area(),j.anchor("center"),j.outline(6,j.Color.fromArray([255,255,255])),j.pos(j.center().x+400,j.center().y+50)]).add([j.text(u,{font:"mania",size:100}),j.anchor("center")]),j.wait(1,()=>{j.add([j.text("Press Space/Click/Touch to Play Again",{font:"mania",size:64}),j.anchor("center"),j.pos(j.center().x,j.center().y+350)]),j.onButtonPress("jump",()=>j.go("game"))})}function O0(){return L.useEffect(()=>(j.width=1920,j.height=1080,j.letterbox=!0,j.loadSprite("chemical-bg","graphics/chemical-bg.png"),j.loadSprite("platforms","graphics/platforms.png"),j.loadSprite("sonic","graphics/sonic.png",{sliceX:8,sliceY:2,anims:{run:{from:0,to:7,loop:!0,speed:30},jump:{from:8,to:15,loop:!0,speed:100}}}),j.loadSprite("ring","graphics/ring.png",{sliceX:16,sliceY:1,anims:{spin:{from:0,to:15,loop:!0,speed:30}}}),j.loadSprite("motobug","graphics/motobug.png",{sliceX:5,sliceY:1,anims:{run:{from:0,to:4,loop:!0,speed:8}}}),j.loadFont("mania","fonts/mania.ttf"),j.loadSound("destroy","sounds/Destroy.wav"),j.loadSound("hurt","sounds/Hurt.wav"),j.loadSound("hyper-ring","sounds/HyperRing.wav"),j.loadSound("jump","sounds/Jump.wav"),j.loadSound("ring","sounds/Ring.wav"),j.loadSound("city","sounds/city.mp3"),j.scene("disclaimer",IA),j.scene("main-menu",NA),j.scene("game",bA),j.scene("gameover",BA),j.go("disclaimer"),()=>{j.destroy()}),[]),z.jsx("div",{children:z.jsx("div",{id:"game1"})})}const om=[{id:"game1",name:"Infinite Runner",thumbnail:"game1.jpg",component:O0},{id:"game2",name:"Word Hunt Puzzle",thumbnail:"game2.jpg",component:()=>z.jsx("div",{children:"Word Hunt Placeholder"})},{id:"game3",name:"Tower Builder",thumbnail:"game3.jpg",component:()=>z.jsx("div",{children:"Tower Builder Placeholder"})},{id:"game4",name:"Clicker Game",thumbnail:"game4.jpg",component:()=>z.jsx("div",{children:"Clicker Game Placeholder"})},{id:"game5",name:"Memory Flip Game",thumbnail:"game5.jpg",component:()=>z.jsx("div",{children:"Memory Flip Game Placeholder"})},{id:"game6",name:"Quiz Battle",thumbnail:"game6.jpg",component:()=>z.jsx("div",{children:"Quiz Battle Placeholder"})},{id:"game7",name:"Maze Escape",thumbnail:"game7.jpg",component:()=>z.jsx("div",{children:"Maze Escape Placeholder"})},{id:"game8",name:"Bubble Pop",thumbnail:"game8.jpg",component:()=>z.jsx("div",{children:"Bubble Pop Placeholder"})},{id:"game9",name:"Match-3 Game",thumbnail:"game9.jpg",component:()=>z.jsx("div",{children:"Match-3 Game Placeholder"})},{id:"game10",name:"Quick Reaction Game",thumbnail:"game10.jpg",component:()=>z.jsx("div",{children:"Quick Reaction Game Placeholder"})},{id:"game11",name:"Shape Fitter Game",thumbnail:"game11.jpg",component:()=>z.jsx("div",{children:"Shape Fitter Game Placeholder"})},{id:"game12",name:"Fishing Game",thumbnail:"game12.jpg",component:()=>z.jsx("div",{children:"Fishing Game Placeholder"})},{id:"game13",name:"Dodging Game",thumbnail:"game13.jpg",component:()=>z.jsx("div",{children:"Dodging Game Placeholder"})},{id:"game14",name:"Typing Speed Challenge",thumbnail:"game14.jpg",component:()=>z.jsx("div",{children:"Typing Speed Challenge Placeholder"})},{id:"game15",name:"Digital Board Game",thumbnail:"game15.jpg",component:()=>z.jsx("div",{children:"Digital Board Game Placeholder"})},{id:"game16",name:"Stack the Cards",thumbnail:"game16.jpg",component:()=>z.jsx("div",{children:"Stack the Cards Placeholder"})},{id:"game17",name:"Balloon Shooter",thumbnail:"game17.jpg",component:()=>z.jsx("div",{children:"Balloon Shooter Placeholder"})},{id:"game18",name:"Guess the Drawing",thumbnail:"game18.jpg",component:()=>z.jsx("div",{children:"Guess the Drawing Placeholder"})},{id:"game19",name:"Spot the Difference",thumbnail:"game19.jpg",component:()=>z.jsx("div",{children:"Spot the Difference Placeholder"})},{id:"game20",name:"Mini Golf Challenge",thumbnail:"game20.jpg",component:()=>z.jsx("div",{children:"Mini Golf Challenge Placeholder"})}],jA=()=>z.jsx("div",{children:z.jsxs(xm,{children:[z.jsx(Ot,{path:"/",element:z.jsx("div",{className:el.gameGrid,children:om.map(r=>z.jsxs(Il,{to:`/${r.id}`,className:el.gameCard,children:[z.jsx("div",{className:el.thumbnail,children:z.jsx("img",{src:r.thumbnail,alt:r.name})}),z.jsx("h3",{className:el.gameTitle,children:r.name})]},r.id))})}),om.map(r=>z.jsx(Ot,{path:`/${r.id}`,element:z.jsx(r.component,{})},r.id))]})}),OA=()=>{const r=[{player:"Alice",score:120},{player:"Bob",score:100},{player:"Charlie",score:80}];return z.jsxs("div",{className:"leaderboard-container",children:[z.jsx("h2",{className:"leaderboard-title",children:"Leaderboard"}),z.jsxs("table",{className:"leaderboard-table",children:[z.jsx("thead",{children:z.jsxs("tr",{children:[z.jsx("th",{children:"Player"}),z.jsx("th",{children:"Score"})]})}),z.jsx("tbody",{children:r.map((t,i)=>z.jsxs("tr",{children:[z.jsx("td",{children:t.player}),z.jsx("td",{children:t.score})]},i))})]})]})},LA="_container_1gg2k_25",_A="_puzzle_1gg2k_55",qA="_cell_1gg2k_73",zA="_selected_1gg2k_117",UA="_found_1gg2k_127",HA="_button_1gg2k_137",VA="_words_1gg2k_175",GA="_word_1gg2k_175",Ln={container:LA,puzzle:_A,cell:qA,selected:zA,found:UA,button:HA,words:VA,word:GA},WA="/assets/wordbg-Chx1hckz.jpg",$i=["PUZZLE","GAME","FUN","WORD","SEARCH","FIND","PLAY"],Dr=7,QA=()=>{const[r,t]=L.useState([]),[i,o]=L.useState([]),[a,u]=L.useState(new Set),[d,g]=L.useState(!1),[f,p]=L.useState([]);L.useEffect(()=>{M(),v("./src/components/WordHuntPuzzle/welcome.mp3")},[]);const v=b=>{let E;b==="drag"?E=new Audio("./src/components/WordHuntPuzzle/bell.mp3"):b==="correct"?E=new Audio("./src/components/WordHuntPuzzle/right_high.mp3"):b==="wrong"?E=new Audio("./src/components/WordHuntPuzzle/fail.mp3"):b==="welcome"?E=new Audio("./src/components/WordHuntPuzzle/welcome.mp3"):b==="success"&&(E=new Audio("./src/components/WordHuntPuzzle/drag.mp3")),E&&E.play()},M=()=>{let b=Array(Dr).fill().map(()=>Array(Dr).fill(""));p([]),u(new Set);for(const E of $i)y(E,b);b=T(b),t(b)},y=(b,E)=>{const R=[[0,1],[1,0],[1,1],[-1,1],[0,-1],[-1,0],[-1,-1],[1,-1]];for(let I=0;I<50;I++){const K=R[Math.floor(Math.random()*R.length)],[Y,J]=[Math.floor(Math.random()*Dr),Math.floor(Math.random()*Dr)];if(k(b,Y,J,K,E))return E=S(b,Y,J,K,E),!0}return!1},k=(b,E,R,[I,K],Y)=>{if(E+I*(b.length-1)<0||E+I*(b.length-1)>=Dr||R+K*(b.length-1)<0||R+K*(b.length-1)>=Dr)return!1;for(let J=0;J<b.length;J++){const[oe,ue]=[E+I*J,R+K*J];if(Y[ue][oe]!==""&&Y[ue][oe]!==b[J])return!1}return!0},S=(b,E,R,[I,K],Y)=>{for(let J=0;J<b.length;J++){const[oe,ue]=[E+I*J,R+K*J];Y[ue][oe]=b[J]}return Y},T=b=>{const E="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<Dr;R++)for(let I=0;I<Dr;I++)b[R][I]===""&&(b[R][I]=E[Math.floor(Math.random()*E.length)]);return b},A=b=>{g(!0);const E=parseInt(b.target.dataset.x),R=parseInt(b.target.dataset.y);o([{x:E,y:R}]),v("drag")},C=b=>{if(!d)return;const E=parseInt(b.target.dataset.x),R=parseInt(b.target.dataset.y);if(i.some(K=>K.x===E&&K.y===R))return;const I=i[i.length-1];Math.abs(E-I.x)<=1&&Math.abs(R-I.y)<=1&&(o(K=>[...K,{x:E,y:R}]),v("drag"))},D=()=>{if(!d)return;g(!1);const b=i.map(R=>r[R.y][R.x]).join(""),E=b.split("").reverse().join("");if($i.includes(b)||$i.includes(E)){const R=$i.includes(b)?b:E;F(R),p(I=>[...I,...i]),v("correct")}else v("wrong");o([]),q()},F=b=>{u(E=>new Set(E.add(b)))},q=()=>{a.size===$i.length&&(v("success"),alert("Congratulations! You found all the words!"))};return z.jsxs("div",{className:Ln.container,onMouseUp:D,children:[z.jsx("div",{style:{backgroundImage:`url(${WA})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-1}}),z.jsx("h1",{className:Ln.title,children:"Modern 7x7 Word Puzzle Game"}),z.jsx("button",{className:Ln.button,onClick:M,children:"New Puzzle"}),z.jsx("div",{className:Ln.puzzle,children:r.map((b,E)=>b.map((R,I)=>{const K=i.some(J=>J.x===I&&J.y===E),Y=f.some(J=>J.x===I&&J.y===E);return z.jsx("div",{className:`${Ln.cell} ${K?Ln.selected:""} ${Y?Ln.found:""}`,"data-x":I,"data-y":E,onMouseDown:A,onMouseOver:C,children:R},`${I}-${E}`)}))}),z.jsx("div",{className:Ln.words,children:$i.map(b=>z.jsx("div",{className:`${Ln.word} ${a.has(b)?Ln.found:""}`,children:b},b))})]})},KA="_gameContainer_ns8nx_1",YA="_petContainer_ns8nx_17",XA="_pet_ns8nx_17",$A="_upgradeBtn_ns8nx_61",rl={gameContainer:KA,petContainer:YA,pet:XA,upgradeBtn:$A},ZA="/assets/point-Bv41BI2A.mp3",JA=()=>{const[r,t]=L.useState(1),[i,o]=L.useState(0),[a,u]=L.useState(1),[d,g]=L.useState(5),f=L.useRef(null);L.useEffect(()=>{f.current=new Audio(ZA)},[]);const p=()=>{f.current&&(f.current.currentTime=0,f.current.play()),o(M=>M+1),t(M=>M+.1)},v=()=>{i>=d?(o(M=>M-d),u(M=>M+1),g(Math.round(d*1.8))):alert("You don't have enough clicks for upgrade!")};return L.useEffect(()=>{r>=a*10&&(t(1),u(M=>M+1))},[r,a]),z.jsxs("div",{className:rl.gameContainer,children:[z.jsx("h1",{children:"Digital Pet Clicker"}),z.jsxs("div",{className:rl.petContainer,children:[z.jsxs("h2",{children:["Level: ",a]}),z.jsx("div",{className:rl.pet,style:{width:`${r}em`,height:`${r}em`},onClick:p,children:z.jsx("span",{children:""})})]}),z.jsxs("p",{children:["Clicks: ",i]}),z.jsx("div",{children:z.jsxs("button",{className:rl.upgradeBtn,onClick:v,children:["Upgrade (Cost: ",d," clicks)"]})})]})},e2="_gameContainer_3mbyu_1",t2="_scoreContainer_3mbyu_11",n2="_cardsContainer_3mbyu_23",r2="_card_3mbyu_23",i2="_flipped_3mbyu_65",s2="_cardInner_3mbyu_73",o2="_cardFront_3mbyu_93",a2="_cardBack_3mbyu_93",l2="_matched_3mbyu_129",u2="_successModal_3mbyu_177",c2="_successContent_3mbyu_203",d2="_flyIconsContainer_3mbyu_269",f2="_flyIcon_3mbyu_269",Et={gameContainer:e2,scoreContainer:t2,cardsContainer:n2,card:r2,flipped:i2,cardInner:s2,cardFront:o2,cardBack:a2,matched:l2,successModal:u2,successContent:c2,flyIconsContainer:d2,flyIcon:f2},il=["","","","","","","",""],h2=()=>{const[r,t]=L.useState([]),[i,o]=L.useState([]),[a,u]=L.useState([]),[d,g]=L.useState(0),[f,p]=L.useState(0),[v,M]=L.useState(!1),[y,k]=L.useState(!1),[S,T]=L.useState(0);L.useEffect(()=>{const q=[...il,...il].sort(()=>Math.random()-.5).map((b,E)=>({id:E,emoji:b,isFlipped:!1,isMatched:!1}));t(q),M(!0)},[]),L.useEffect(()=>{let F;return v&&(F=setInterval(()=>{p(q=>q+1)},1e3)),()=>clearInterval(F)},[v]),L.useEffect(()=>{a.length===r.length&&r.length!==0&&(M(!1),k(!0),A("gameComplete"))},[a,r]);const A=F=>{let q;F==="cardFlip"?q=new Audio("src/components/MemoryFlip/welcome.mp3"):F==="matchFound"?q=new Audio("src/components/MemoryFlip/right_med.mp3"):F==="gameComplete"&&(q=new Audio("src/components/MemoryFlip/cheer.mp3")),q&&q.play()},C=F=>{if(y||i.length===2||F.isFlipped||F.isMatched)return;const q=r.map(b=>b.id===F.id?{...b,isFlipped:!0}:b);t(q),o([...i,F]),g(b=>b+1),A("cardFlip")};L.useEffect(()=>{if(i.length===2){const[F,q]=i;F.emoji===q.emoji?setTimeout(()=>{u(b=>[...b,F,q]),o([]),T(b=>b+10),A("matchFound")},500):setTimeout(()=>{const b=r.map(E=>i.some(R=>R.id===E.id)?{...E,isFlipped:!1}:E);t(b),o([]),A("wrongMatch")},1e3)}},[i,r]);const D=()=>{const q=[...il,...il].sort(()=>Math.random()-.5).map((b,E)=>({id:E,emoji:b,isFlipped:!1,isMatched:!1}));t(q),o([]),u([]),g(0),p(0),M(!0),k(!1),T(0)};return z.jsxs("div",{className:Et.gameContainer,children:[z.jsx("h1",{children:"Emoji Memory Game"}),z.jsxs("div",{className:Et.scoreContainer,children:[z.jsxs("p",{children:["Moves: ",d]}),z.jsxs("p",{children:["Score: ",S]})]}),z.jsxs("div",{children:["Time: ",f," sec"]}),y&&z.jsx("div",{className:Et.successModal,children:z.jsxs("div",{className:Et.successContent,children:[z.jsx("h2",{children:"You Won!"}),z.jsxs("p",{children:["Time taken: ",f," sec"]}),z.jsxs("p",{children:["Score: ",S]}),z.jsxs("div",{className:Et.flyIconsContainer,children:[z.jsx("div",{className:Et.flyIcon,children:""}),z.jsx("div",{className:Et.flyIcon,children:""}),z.jsx("div",{className:Et.flyIcon,children:""}),z.jsx("div",{className:Et.flyIcon,children:""}),z.jsx("div",{className:Et.flyIcon,children:""})]}),z.jsx("button",{onClick:D,children:"Play Again"})]})}),!y&&z.jsx("div",{className:Et.cardsContainer,children:r.map(F=>z.jsx("div",{className:`${Et.card} ${F.isFlipped?Et.flipped:""} ${F.isMatched?Et.matched:""}`,onClick:()=>C(F),children:z.jsxs("div",{className:Et.cardInner,children:[z.jsx("div",{className:Et.cardFront,children:F.isFlipped||F.isMatched?F.emoji:""}),z.jsx("div",{className:Et.cardBack,children:""})]})},F.id))})]})},p2="_gameContainer_4h4ly_1",m2="_gameOverContainer_4h4ly_17",g2="_quizContainer_4h4ly_55",y2="_optionsContainer_4h4ly_75",v2="_optionBtn_4h4ly_91",w2="_correct_4h4ly_123",x2="_incorrect_4h4ly_131",pi={gameContainer:p2,gameOverContainer:m2,quizContainer:g2,optionsContainer:y2,optionBtn:v2,correct:w2,incorrect:x2},A2="/assets/right_high-DHwCaLWa.mp3",S2="/assets/neg-BBt6lRwL.mp3",E2="/assets/theme-Dh-IaIkE.mp3",Zi=[{question:"What is the capital of France?",options:["Berlin","Paris","Madrid","Rome"],correctAnswer:"Paris"},{question:"What is the largest planet in our solar system?",options:["Mars","Earth","Jupiter","Saturn"],correctAnswer:"Jupiter"},{question:"Who painted the Mona Lisa?",options:["Vincent van Gogh","Pablo Picasso","Leonardo da Vinci","Michelangelo"],correctAnswer:"Leonardo da Vinci"},{question:"What is the chemical symbol for water?",options:["H2O","CO2","NaCl","O2"],correctAnswer:"H2O"},{question:"Which country is known as the Land of the Rising Sun?",options:["China","South Korea","Japan","Vietnam"],correctAnswer:"Japan"}],k2=()=>{var b;const[r,t]=L.useState(0),[i,o]=L.useState(""),[a,u]=L.useState(0),[d,g]=L.useState(10),[f,p]=L.useState(!1),[v,M]=L.useState(!1),[y,k]=L.useState(!1),S=L.useRef(null),T=L.useRef(null),A=L.useRef(null);L.useEffect(()=>{S.current=new Audio(A2),T.current=new Audio(S2),A.current=new Audio(E2)},[]),L.useEffect(()=>{let E;return f&&(d===0&&D(),E=setInterval(()=>{g(R=>R-1)},1e3)),()=>clearInterval(E)},[f,d]),L.useEffect(()=>{r>=Zi.length&&(p(!1),M(!0))},[r]),L.useEffect(()=>{v&&A.current.play()},[v]);const C=E=>{v||(o(E),p(!1),E===Zi[r].correctAnswer?(u(R=>R+1),k(!0),S.current.play()):(k(!1),T.current.play()),setTimeout(()=>{D()},1500))},D=()=>{v||(g(10),o(""),k(!1),r<Zi.length&&(t(r+1),p(!0)))},F=()=>{t(0),o(""),u(0),g(10),p(!0),M(!1)},q=Zi[r];return z.jsxs("div",{className:pi.gameContainer,children:[z.jsx("h1",{children:"Quiz Battle"}),v?z.jsxs("div",{className:pi.gameOverContainer,children:[z.jsx("h2",{children:"Game Over"}),z.jsxs("p",{children:["Your Score: ",a," / ",Zi.length]}),z.jsx("button",{onClick:F,children:"Play Again"})]}):z.jsxs("div",{className:pi.quizContainer,children:[z.jsx("h2",{children:q==null?void 0:q.question}),z.jsx("div",{className:pi.optionsContainer,children:(b=q==null?void 0:q.options)==null?void 0:b.map(E=>z.jsx("button",{className:`${pi.optionBtn} ${i===E?y?pi.correct:pi.incorrect:""}`,onClick:()=>C(E),disabled:i!=="",children:E},E))}),z.jsxs("p",{children:["Time left: ",d," sec"]}),z.jsxs("p",{children:["Score: ",a," / ",Zi.length]})]})]})},C2="_gameContainer_1x8m0_1",M2="_board_1x8m0_17",R2="_emoji_1x8m0_37",P2="_sparkle_1x8m0_73",T2="_button_1x8m0_99",Ao={gameContainer:C2,board:M2,emoji:R2,sparkle:P2,button:T2},I2="/assets/right_med-ZlBkOsbh.mp3",N2="/assets/negative-CYQBJcD1.mp3",F2="/assets/succes-D0ZaF_zX.mp3",Rl=["","","","","","","","","",""],Eo=8,ko=8,am=()=>{const r=[];for(let t=0;t<Eo;t++){r[t]=[];for(let i=0;i<ko;i++)r[t][i]={type:Rl[Math.floor(Math.random()*Rl.length)],sparkle:!1}}return r},D2=()=>{const[r,t]=L.useState(am()),[i,o]=L.useState(0),a=L.useRef(null),u=L.useRef(null),d=L.useRef(null),g=L.useRef(null),f=L.useRef(null);L.useEffect(()=>{d.current=new Audio(I2),g.current=new Audio(N2),f.current=new Audio(F2)},[]),L.useEffect(()=>{T()},[r]),L.useEffect(()=>{i>=10&&f.current.play()},[i]);const p=(q,b,E)=>{u.current={row:b,col:E},q.dataTransfer.setData("emoji",JSON.stringify({row:b,col:E}))},v=(q,b,E)=>{q.preventDefault();const R=JSON.parse(q.dataTransfer.getData("emoji"));S(R.row,R.col,b,E),u.current=null},M=q=>{q.preventDefault()},y=q=>q.map(b=>b.map(E=>({...E}))),k=(q,b,E)=>{const R=E[q][b];if(!R||!R.type)return!1;let I=1,K=b-1;for(;K>=0&&E[q][K].type===R.type;)I++,K--;let Y=b+1;for(;Y<ko&&E[q][Y].type===R.type;)I++,Y++;if(I>=3)return!0;I=1;let J=q-1;for(;J>=0&&E[J][b].type===R.type;)I++,J--;let oe=q+1;for(;oe<Eo&&E[oe][b].type===R.type;)I++,oe++;return I>=3},S=(q,b,E,R)=>{if(q===E&&b===R)return;const I=y(r),K=I[q][b];I[q][b]=I[E][R],I[E][R]=K,k(q,b,I)||k(E,R,I)?t(I):(g.current.play(),t(r))},T=()=>{let q=y(r),b=!1;for(let E=0;E<Eo;E++)for(let R=0;R<ko;R++){const I=A(E,R,q),K=C(E,R,q);I.length>=3&&(I.forEach(Y=>{q[Y.row][Y.col].type=null,q[Y.row][Y.col].sparkle=!0}),b=!0),K.length>=3&&(K.forEach(Y=>{q[Y.row][Y.col].type=null,q[Y.row][Y.col].sparkle=!0}),b=!0)}if(b){d.current.play(),o(R=>R+1);const E=D(q);t(E)}},A=(q,b,E)=>{var K,Y,J,oe;const R=(Y=(K=E[q])==null?void 0:K[b])==null?void 0:Y.type;if(!R)return[];const I=[];for(let ue=b;ue<ko&&((oe=(J=E[q])==null?void 0:J[ue])==null?void 0:oe.type)===R;ue++)I.push({row:q,col:ue});return I},C=(q,b,E)=>{var K,Y,J,oe;const R=(Y=(K=E[q])==null?void 0:K[b])==null?void 0:Y.type;if(!R)return[];const I=[];for(let ue=q;ue<Eo&&((oe=(J=E[ue])==null?void 0:J[b])==null?void 0:oe.type)===R;ue++)I.push({row:ue,col:b});return I},D=q=>{const b=y(q);for(let E=0;E<ko;E++)for(let R=Eo-1;R>=0;R--)if(b[R][E].type===null){for(let I=R-1;I>=0;I--)if(b[I][E].type!==null){b[R][E]={...b[I][E]},b[I][E]={type:null,sparkle:!1};break}b[R][E].type===null&&(b[R][E]={type:Rl[Math.floor(Math.random()*Rl.length)],sparkle:!1})}return b},F=()=>{t(am()),o(0)};return z.jsxs("div",{className:Ao.gameContainer,children:[z.jsx("h1",{children:"Match 3 Game"}),z.jsxs("p",{children:["Score: ",i]}),z.jsx("div",{ref:a,className:Ao.board,children:r.map((q,b)=>q.map((E,R)=>z.jsx("div",{className:`${Ao.emoji} ${E.sparkle?Ao.sparkle:""}`,draggable:"true",onDragStart:I=>p(I,b,R),onDrop:I=>v(I,b,R),onDragOver:M,style:{opacity:E.type==null?.1:1},children:E.type},`${b}-${R}`)))}),z.jsx("button",{onClick:F,className:Ao.button,children:"Reset Game"})]})},b2="_container_15swo_7",B2="_info_15swo_29",j2="_time_15swo_53",O2="_points_15swo_63",L2="_wall_15swo_75",_2="_dot_15swo_111",q2="_active_15swo_141",z2="_start_15swo_181",U2="_end_15swo_251",H2="_score_15swo_277",_n={container:b2,info:B2,time:j2,points:O2,wall:L2,dot:_2,active:q2,start:z2,end:U2,score:H2},V2="/assets/pop-Dyitq3tD.mp3",lm=new Audio(V2),G2=()=>{const[r,t]=L.useState(0),[i,o]=L.useState(30),[a,u]=L.useState(null),[d,g]=L.useState(!1),[f,p]=L.useState(!1),[v,M]=L.useState(null),y=L.useRef(null),k=["","","","","","","","","",""],S=()=>{t(0),o(30),p(!1),g(!0),u(Math.floor(Math.random()*101))};L.useEffect(()=>(d&&(y.current=setInterval(()=>{o(C=>C<=1?(clearInterval(y.current),p(!0),g(!1),0):C-1)},1e3)),()=>clearInterval(y.current)),[d]);const T=C=>{if(d&&C===a){lm.currentTime=0,lm.play().catch(()=>{}),t(q=>q+1);const D=k[Math.floor(Math.random()*k.length)];M({index:C,emoji:D}),setTimeout(()=>{M(null)},500);let F;do F=Math.floor(Math.random()*101);while(F===a);u(F)}},A=C=>`00:${C<10?`0${C}`:C}`;return z.jsxs("div",{className:_n.container,children:[z.jsxs("div",{className:_n.info,children:[z.jsx("div",{className:_n.time,children:A(i)}),z.jsx("div",{className:_n.points,children:r})]}),z.jsxs("div",{className:_n.wall,children:[Array.from({length:101}).map((C,D)=>z.jsx("div",{className:`${_n.dot} ${D===a?_n.active:""}`,onClick:()=>T(D),children:v&&v.index===D?v.emoji:""},D)),!d&&!f&&z.jsx("div",{className:_n.start,children:z.jsx("button",{onClick:S,children:"START GAME!"})}),f&&z.jsxs("div",{className:_n.end,children:[z.jsxs("div",{className:_n.score,children:["Game over!",z.jsx("br",{}),"You scored ",r," points!"]}),z.jsx("button",{onClick:S,children:"Play again!"})]})]})]})},W2="_game_13s3d_1",Q2="_gameBoard_13s3d_29",K2="_square_13s3d_43",Y2="_gameInfo_13s3d_77",sl={game:W2,gameBoard:Q2,square:K2,gameInfo:Y2},X2="/assets/high-CeQ3nJzL.mp3",$2="/assets/low-B-NS1GAi.mp3",Z2=()=>{const[r,t]=L.useState(Array(9).fill(null)),[i,o]=L.useState(!0),[a,u]=L.useState(null),d=L.useRef(new Audio(X2)),g=L.useRef(new Audio($2));L.useEffect(()=>{const k=(S=>{const T=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let A=0;A<T.length;A++){const[C,D,F]=T[A];if(S[C]&&S[C]===S[D]&&S[C]===S[F])return S[C]}return null})(r);u(k)},[r]);const f=y=>{if(a||r[y])return;const k=[...r];k[y]=i?"X":"O",t(k),i?d.current.play():g.current.play(),o(!i)},p=y=>z.jsx("button",{className:sl.square,onClick:()=>f(y),children:r[y]}),v=()=>{t(Array(9).fill(null)),o(!0),u(null)};let M;return a?M=`Winner: ${a}`:r.every(y=>y!==null)?M="It's a draw!":M=`Next player: ${i?"X":"O"}`,z.jsxs("div",{className:sl.game,children:[z.jsx("h1",{className:"heading-tic",children:"Tic Tok Game"}),z.jsx("div",{className:sl.gameBoard,children:Array(9).fill().map((y,k)=>p(k))}),z.jsxs("div",{className:sl.gameInfo,children:[z.jsx("div",{children:M}),a||r.every(y=>y!==null)?z.jsx("button",{onClick:v,children:"Play Again"}):null]})]})},J2="_gameContainer_neecz_3",eS="_title_neecz_29",tS="_score_neecz_43",nS="_challengeContainer_neecz_55",rS="_challengeText_neecz_77",iS="_code_neecz_87",sS="_input_neecz_105",oS="_typingSpeed_neecz_137",aS="_gameOverContainer_neecz_149",lS="_gameOverTitle_neecz_169",uS="_gameOverText_neecz_179",cS="_button_neecz_191",yn={gameContainer:J2,title:eS,score:tS,challengeContainer:nS,challengeText:rS,code:iS,input:sS,typingSpeed:oS,gameOverContainer:aS,gameOverTitle:lS,gameOverText:uS,button:cS},dS="/assets/type-D6IFHkCI.mp3",jc=()=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let i=0;i<10;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t},fS=()=>{const[r,t]=L.useState(jc()),[i,o]=L.useState(""),[a,u]=L.useState(null),[d,g]=L.useState(null),[f,p]=L.useState(0),[v,M]=L.useState(!1),y=L.useRef(null),k=L.useRef(null);L.useEffect(()=>{k.current=new Audio(dS)},[]),L.useEffect(()=>{v?y.current.disabled=!0:y.current.disabled=!1},[v]);const S=C=>{const D=C.target.value;o(D),a||u(performance.now()),k.current&&(k.current.currentTime=0,k.current.play()),D===r&&T()},T=()=>{if(a){const D=(performance.now()-a)/1e3,F=Math.round(r.length/5/D*60);g(F),p(q=>q+1),t(jc()),o(""),u(null)}},A=()=>{M(!1),t(jc()),o(""),g(null),p(0),u(null)};return L.useEffect(()=>{f>=20&&M(!0)},[f]),z.jsxs("div",{className:yn.gameContainer,children:[z.jsx("h1",{className:yn.title,children:"Space Repair Typing Challenge"}),z.jsxs("p",{className:yn.score,children:["Score: ",f]}),z.jsxs("div",{className:yn.challengeContainer,children:[z.jsxs("p",{className:yn.challengeText,children:["Type this code:"," ",z.jsx("span",{className:yn.code,children:r})]}),z.jsx("input",{ref:y,type:"text",className:yn.input,value:i,onChange:S,placeholder:"Type here to repair..."}),d!==null&&z.jsxs("p",{className:yn.typingSpeed,children:["Typing Speed: ",d," words/min"]})]}),v&&z.jsxs("div",{className:yn.gameOverContainer,children:[z.jsx("h2",{className:yn.gameOverTitle,children:"Mission Success!"}),z.jsx("p",{className:yn.gameOverText,children:"Time to go back to base!"}),z.jsx("button",{onClick:A,className:yn.button,children:"Restart Mission"})]})]})},hS="_entorno_7knjt_1",pS="_fondo_7knjt_11",ol={entorno:hS,fondo:pS},mS="/assets/media_win-D4F5D_Qr.mp3",gS="/assets/1-O3YtiZkF.png",yS="/assets/2-DoJaGZJ8.png",vS="/assets/3-D078NseF.png",wS="/assets/4-yxKMMRSB.png",xS="/assets/5-B-qaNmMA.png",AS="/assets/6-CZC93Yp5.png",SS="/assets/7-CWjCtQUp.png",ES="/assets/8-DEu4UPVu.png",kS="/assets/9-Bu2ggcIQ.png",CS=()=>{const[r,t]=L.useState([{id:0,x:0,y:0,width:134,height:163,imageUrl:gS},{id:1,x:0,y:0,width:192,height:134,imageUrl:yS},{id:2,x:0,y:0,width:134,height:163,imageUrl:vS},{id:3,x:0,y:0,width:163,height:134,imageUrl:wS},{id:4,x:0,y:0,width:134,height:192,imageUrl:xS},{id:5,x:0,y:0,width:163,height:134,imageUrl:AS},{id:6,x:0,y:0,width:134,height:163,imageUrl:SS},{id:7,x:0,y:0,width:192,height:134,imageUrl:ES},{id:8,x:0,y:0,width:134,height:163,imageUrl:kS}]),[i,o]=L.useState(null),[a,u]=L.useState(0),[d,g]=L.useState(0),[f,p]=L.useState(!1),v=L.useRef(null),M=L.useRef([{x:200,y:100},{x:304,y:100},{x:466,y:100},{x:200,y:233},{x:333,y:204},{x:437,y:233},{x:200,y:337},{x:304,y:366},{x:466,y:337}]).current;L.useEffect(()=>{t(D=>D.map(F=>({...F,x:Math.floor(Math.random()*10)+1,y:Math.floor(Math.random()*409)+1})))},[]),L.useEffect(()=>{f&&(v.current.play(),p(!1))},[f]);const y=(D,F)=>{o(F),u(D.clientX-F.x),g(D.clientY-F.y)},k=D=>{if(!i)return;const F=D.clientX-a,q=D.clientY-d,b=r.map(E=>E.id===i.id?{...E,x:F,y:q}:E);t(b),T(b,i)},S=()=>{o(null),A()},T=(D,F)=>{const q=D.findIndex(R=>R.id===F.id);if(q===-1)return;const b=D[q],E=M[b.id];if(Math.abs(b.x-E.x)<15&&Math.abs(b.y-E.y)<15){const R=D.map((I,K)=>I.id===F.id?{...I,x:E.x,y:E.y}:I);t(R)}},A=()=>{let D=0;r.forEach(F=>{const q=M[F.id];F.x===q.x&&F.y===q.y&&D++}),D===r.length&&p(!0)},C=D=>{const F=r.filter(q=>q.id!==D.id);t([...F,D])};return z.jsx(z.Fragment,{children:z.jsxs("div",{className:"guess",children:[z.jsx("h1",{className:"drawing",children:"Guess The Drawing"}),z.jsx("audio",{id:"win",src:mS,ref:v}),z.jsxs("svg",{width:"600",height:"600",id:"entorno",className:ol.entorno,onMouseMove:k,onMouseUp:S,children:[z.jsx("g",{id:"fondo",className:ol.fondo,children:z.jsx("image",{xlinkHref:"https://raw.githubusercontent.com/NestorPlasencia/pikachu-puzzle/master//pikachu.png",width:"400",height:"400",x:"200",y:"100"})}),r.map(D=>z.jsx("g",{id:D.id,className:ol.padre,onMouseDown:()=>C(D),children:z.jsx("image",{xlinkHref:D.imageUrl,className:ol.movil,width:D.width,height:D.height,x:D.x,y:D.y,onMouseDown:F=>y(F,D)})},D.id))]})]})})},MS="_nav_6k5la_1",RS="_navHeader_6k5la_10",PS="_navLink_6k5la_16",Oc={nav:MS,navHeader:RS,navLink:PS},TS=()=>z.jsx(tx,{children:z.jsx(IS,{})}),IS=()=>{const t=Kr().pathname==="/game1";return z.jsxs("div",{children:[z.jsxs("nav",{className:Oc.nav,children:[z.jsx(Il,{to:"/",className:Oc.navHeader,children:"Game Hub"}),z.jsx("div",{className:"flex space-x-4",children:z.jsx(km,{to:"/leaderboard",className:Oc.navLink,children:"Leaderboard"})})]}),z.jsxs(xm,{children:[z.jsx(Ot,{path:"/",element:z.jsx(jA,{})}),z.jsx(Ot,{path:"/leaderboard",element:z.jsx(OA,{})}),z.jsx(Ot,{path:"/game1",element:z.jsx(O0,{})}),z.jsx(Ot,{path:"/game2",element:z.jsx(QA,{})}),z.jsx(Ot,{path:"/game4",element:z.jsx(JA,{})}),z.jsx(Ot,{path:"/game5",element:z.jsx(h2,{})}),z.jsx(Ot,{path:"/game6",element:z.jsx(k2,{})}),z.jsx(Ot,{path:"/game9",element:z.jsx(D2,{})}),z.jsx(Ot,{path:"/game10",element:z.jsx(G2,{})}),z.jsx(Ot,{path:"/game11",element:z.jsx(Z2,{})}),z.jsx(Ot,{path:"/game14",element:z.jsx(fS,{})}),z.jsx(Ot,{path:"/game18",element:z.jsx(CS,{})})]}),z.jsx("style",{children:`
          Canvas
           {
            display: ${t?"block":"none"} !important;
          }
        `})]})};z1.createRoot(document.getElementById("root")).render(z.jsx(L.StrictMode,{children:z.jsx(TS,{})}));
