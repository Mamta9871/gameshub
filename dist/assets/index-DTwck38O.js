var K1=Object.defineProperty;var Y1=(n,e,i)=>e in n?K1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var W=(n,e,i)=>Y1(n,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();var ok=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bc={exports:{}},ko={},Fc={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Z1(){if(Yp)return Fe;Yp=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=E&&q[E]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function k(q,Q,Re){this.props=q,this.context=Q,this.refs=_,this.updater=Re||x}k.prototype.isReactComponent={},k.prototype.setState=function(q,Q){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Q,"setState")},k.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function A(){}A.prototype=k.prototype;function M(q,Q,Re){this.props=q,this.context=Q,this.refs=_,this.updater=Re||x}var P=M.prototype=new A;P.constructor=M,w(P,k.prototype),P.isPureReactComponent=!0;var D=Array.isArray,F=Object.prototype.hasOwnProperty,b={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function B(q,Q,Re){var Te,Ne={},Le=null,ze=null;if(Q!=null)for(Te in Q.ref!==void 0&&(ze=Q.ref),Q.key!==void 0&&(Le=""+Q.key),Q)F.call(Q,Te)&&!R.hasOwnProperty(Te)&&(Ne[Te]=Q[Te]);var Be=arguments.length-2;if(Be===1)Ne.children=Re;else if(1<Be){for(var Ve=Array(Be),st=0;st<Be;st++)Ve[st]=arguments[st+2];Ne.children=Ve}if(q&&q.defaultProps)for(Te in Be=q.defaultProps,Be)Ne[Te]===void 0&&(Ne[Te]=Be[Te]);return{$$typeof:n,type:q,key:Le,ref:ze,props:Ne,_owner:b.current}}function H(q,Q){return{$$typeof:n,type:q.type,key:Q,ref:q.ref,props:q.props,_owner:q._owner}}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function ee(q){var Q={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Re){return Q[Re]})}var ue=/\/+/g;function ye(q,Q){return typeof q=="object"&&q!==null&&q.key!=null?ee(""+q.key):Q.toString(36)}function ke(q,Q,Re,Te,Ne){var Le=typeof q;(Le==="undefined"||Le==="boolean")&&(q=null);var ze=!1;if(q===null)ze=!0;else switch(Le){case"string":case"number":ze=!0;break;case"object":switch(q.$$typeof){case n:case e:ze=!0}}if(ze)return ze=q,Ne=Ne(ze),q=Te===""?"."+ye(ze,0):Te,D(Ne)?(Re="",q!=null&&(Re=q.replace(ue,"$&/")+"/"),ke(Ne,Q,Re,"",function(st){return st})):Ne!=null&&(U(Ne)&&(Ne=H(Ne,Re+(!Ne.key||ze&&ze.key===Ne.key?"":(""+Ne.key).replace(ue,"$&/")+"/")+q)),Q.push(Ne)),1;if(ze=0,Te=Te===""?".":Te+":",D(q))for(var Be=0;Be<q.length;Be++){Le=q[Be];var Ve=Te+ye(Le,Be);ze+=ke(Le,Q,Re,Ve,Ne)}else if(Ve=y(q),typeof Ve=="function")for(q=Ve.call(q),Be=0;!(Le=q.next()).done;)Le=Le.value,Ve=Te+ye(Le,Be++),ze+=ke(Le,Q,Re,Ve,Ne);else if(Le==="object")throw Q=String(q),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return ze}function Ce(q,Q,Re){if(q==null)return q;var Te=[],Ne=0;return ke(q,Te,"","",function(Le){return Q.call(Re,Le,Ne++)}),Te}function Ae(q){if(q._status===-1){var Q=q._result;Q=Q(),Q.then(function(Re){(q._status===0||q._status===-1)&&(q._status=1,q._result=Re)},function(Re){(q._status===0||q._status===-1)&&(q._status=2,q._result=Re)}),q._status===-1&&(q._status=0,q._result=Q)}if(q._status===1)return q._result.default;throw q._result}var ve={current:null},ne={transition:null},fe={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:ne,ReactCurrentOwner:b};function se(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:Ce,forEach:function(q,Q,Re){Ce(q,function(){Q.apply(this,arguments)},Re)},count:function(q){var Q=0;return Ce(q,function(){Q++}),Q},toArray:function(q){return Ce(q,function(Q){return Q})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Fe.Component=k,Fe.Fragment=i,Fe.Profiler=a,Fe.PureComponent=M,Fe.StrictMode=o,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Fe.act=se,Fe.cloneElement=function(q,Q,Re){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Te=w({},q.props),Ne=q.key,Le=q.ref,ze=q._owner;if(Q!=null){if(Q.ref!==void 0&&(Le=Q.ref,ze=b.current),Q.key!==void 0&&(Ne=""+Q.key),q.type&&q.type.defaultProps)var Be=q.type.defaultProps;for(Ve in Q)F.call(Q,Ve)&&!R.hasOwnProperty(Ve)&&(Te[Ve]=Q[Ve]===void 0&&Be!==void 0?Be[Ve]:Q[Ve])}var Ve=arguments.length-2;if(Ve===1)Te.children=Re;else if(1<Ve){Be=Array(Ve);for(var st=0;st<Ve;st++)Be[st]=arguments[st+2];Te.children=Be}return{$$typeof:n,type:q.type,key:Ne,ref:Le,props:Te,_owner:ze}},Fe.createContext=function(q){return q={$$typeof:f,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:u,_context:q},q.Consumer=q},Fe.createElement=B,Fe.createFactory=function(q){var Q=B.bind(null,q);return Q.type=q,Q},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(q){return{$$typeof:h,render:q}},Fe.isValidElement=U,Fe.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:Ae}},Fe.memo=function(q,Q){return{$$typeof:p,type:q,compare:Q===void 0?null:Q}},Fe.startTransition=function(q){var Q=ne.transition;ne.transition={};try{q()}finally{ne.transition=Q}},Fe.unstable_act=se,Fe.useCallback=function(q,Q){return ve.current.useCallback(q,Q)},Fe.useContext=function(q){return ve.current.useContext(q)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(q){return ve.current.useDeferredValue(q)},Fe.useEffect=function(q,Q){return ve.current.useEffect(q,Q)},Fe.useId=function(){return ve.current.useId()},Fe.useImperativeHandle=function(q,Q,Re){return ve.current.useImperativeHandle(q,Q,Re)},Fe.useInsertionEffect=function(q,Q){return ve.current.useInsertionEffect(q,Q)},Fe.useLayoutEffect=function(q,Q){return ve.current.useLayoutEffect(q,Q)},Fe.useMemo=function(q,Q){return ve.current.useMemo(q,Q)},Fe.useReducer=function(q,Q,Re){return ve.current.useReducer(q,Q,Re)},Fe.useRef=function(q){return ve.current.useRef(q)},Fe.useState=function(q){return ve.current.useState(q)},Fe.useSyncExternalStore=function(q,Q,Re){return ve.current.useSyncExternalStore(q,Q,Re)},Fe.useTransition=function(){return ve.current.useTransition()},Fe.version="18.3.1",Fe}var Xp;function cd(){return Xp||(Xp=1,Fc.exports=Z1()),Fc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function J1(){if(Zp)return ko;Zp=1;var n=cd(),e=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,d,p){var v,E={},y=null,x=null;p!==void 0&&(y=""+p),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(x=d.ref);for(v in d)o.call(d,v)&&!u.hasOwnProperty(v)&&(E[v]=d[v]);if(h&&h.defaultProps)for(v in d=h.defaultProps,d)E[v]===void 0&&(E[v]=d[v]);return{$$typeof:e,type:h,key:y,ref:x,props:E,_owner:a.current}}return ko.Fragment=i,ko.jsx=f,ko.jsxs=f,ko}var Jp;function ew(){return Jp||(Jp=1,Bc.exports=J1()),Bc.exports}var T=ew(),I=cd();const pr=X1(I);var rl={},Oc={exports:{}},Zt={},qc={exports:{}},zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function tw(){return em||(em=1,function(n){function e(ne,fe){var se=ne.length;ne.push(fe);e:for(;0<se;){var q=se-1>>>1,Q=ne[q];if(0<a(Q,fe))ne[q]=fe,ne[se]=Q,se=q;else break e}}function i(ne){return ne.length===0?null:ne[0]}function o(ne){if(ne.length===0)return null;var fe=ne[0],se=ne.pop();if(se!==fe){ne[0]=se;e:for(var q=0,Q=ne.length,Re=Q>>>1;q<Re;){var Te=2*(q+1)-1,Ne=ne[Te],Le=Te+1,ze=ne[Le];if(0>a(Ne,se))Le<Q&&0>a(ze,Ne)?(ne[q]=ze,ne[Le]=se,q=Le):(ne[q]=Ne,ne[Te]=se,q=Te);else if(Le<Q&&0>a(ze,se))ne[q]=ze,ne[Le]=se,q=Le;else break e}}return fe}function a(ne,fe){var se=ne.sortIndex-fe.sortIndex;return se!==0?se:ne.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var d=[],p=[],v=1,E=null,y=3,x=!1,w=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ne){for(var fe=i(p);fe!==null;){if(fe.callback===null)o(p);else if(fe.startTime<=ne)o(p),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=i(p)}}function D(ne){if(_=!1,P(ne),!w)if(i(d)!==null)w=!0,Ae(F);else{var fe=i(p);fe!==null&&ve(D,fe.startTime-ne)}}function F(ne,fe){w=!1,_&&(_=!1,A(B),B=-1),x=!0;var se=y;try{for(P(fe),E=i(d);E!==null&&(!(E.expirationTime>fe)||ne&&!ee());){var q=E.callback;if(typeof q=="function"){E.callback=null,y=E.priorityLevel;var Q=q(E.expirationTime<=fe);fe=n.unstable_now(),typeof Q=="function"?E.callback=Q:E===i(d)&&o(d),P(fe)}else o(d);E=i(d)}if(E!==null)var Re=!0;else{var Te=i(p);Te!==null&&ve(D,Te.startTime-fe),Re=!1}return Re}finally{E=null,y=se,x=!1}}var b=!1,R=null,B=-1,H=5,U=-1;function ee(){return!(n.unstable_now()-U<H)}function ue(){if(R!==null){var ne=n.unstable_now();U=ne;var fe=!0;try{fe=R(!0,ne)}finally{fe?ye():(b=!1,R=null)}}else b=!1}var ye;if(typeof M=="function")ye=function(){M(ue)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ce=ke.port2;ke.port1.onmessage=ue,ye=function(){Ce.postMessage(null)}}else ye=function(){k(ue,0)};function Ae(ne){R=ne,b||(b=!0,ye())}function ve(ne,fe){B=k(function(){ne(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){w||x||(w=!0,Ae(F))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return i(d)},n.unstable_next=function(ne){switch(y){case 1:case 2:case 3:var fe=3;break;default:fe=y}var se=y;y=fe;try{return ne()}finally{y=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var se=y;y=ne;try{return fe()}finally{y=se}},n.unstable_scheduleCallback=function(ne,fe,se){var q=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?q+se:q):se=q,ne){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=se+Q,ne={id:v++,callback:fe,priorityLevel:ne,startTime:se,expirationTime:Q,sortIndex:-1},se>q?(ne.sortIndex=se,e(p,ne),i(d)===null&&ne===i(p)&&(_?(A(B),B=-1):_=!0,ve(D,se-q))):(ne.sortIndex=Q,e(d,ne),w||x||(w=!0,Ae(F))),ne},n.unstable_shouldYield=ee,n.unstable_wrapCallback=function(ne){var fe=y;return function(){var se=y;y=fe;try{return ne.apply(this,arguments)}finally{y=se}}}}(zc)),zc}var tm;function nw(){return tm||(tm=1,qc.exports=tw()),qc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function rw(){if(nm)return Zt;nm=1;var n=cd(),e=nw();function i(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)o.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function y(t){return d.call(E,t)?!0:d.call(v,t)?!1:p.test(t)?E[t]=!0:(v[t]=!0,!1)}function x(t,r,s,l){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w(t,r,s,l){if(r===null||typeof r>"u"||x(t,r,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function _(t,r,s,l,c,m,S){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=S}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){k[t]=new _(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];k[r]=new _(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){k[t]=new _(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){k[t]=new _(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){k[t]=new _(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){k[t]=new _(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){k[t]=new _(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){k[t]=new _(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){k[t]=new _(t,5,!1,t.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function M(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(A,M);k[r]=new _(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(A,M);k[r]=new _(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(A,M);k[r]=new _(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){k[t]=new _(t,1,!1,t.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){k[t]=new _(t,1,!1,t.toLowerCase(),null,!0,!0)});function P(t,r,s,l){var c=k.hasOwnProperty(r)?k[r]:null;(c!==null?c.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(w(r,s,c,l)&&(s=null),l||c===null?y(r)&&(s===null?t.removeAttribute(r):t.setAttribute(r,""+s)):c.mustUseProperty?t[c.propertyName]=s===null?c.type===3?!1:"":s:(r=c.attributeName,l=c.attributeNamespace,s===null?t.removeAttribute(r):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,l?t.setAttributeNS(l,r,s):t.setAttribute(r,s))))}var D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),b=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),ee=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),ne=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,q;function Q(t){if(q===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);q=r&&r[1]||""}return`
`+q+t}var Re=!1;function Te(t,r){if(!t||Re)return"";Re=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(K){var l=K}Reflect.construct(t,[],r)}else{try{r.call()}catch(K){l=K}t.call(r.prototype)}else{try{throw Error()}catch(K){l=K}t()}}catch(K){if(K&&l&&typeof K.stack=="string"){for(var c=K.stack.split(`
`),m=l.stack.split(`
`),S=c.length-1,j=m.length-1;1<=S&&0<=j&&c[S]!==m[j];)j--;for(;1<=S&&0<=j;S--,j--)if(c[S]!==m[j]){if(S!==1||j!==1)do if(S--,j--,0>j||c[S]!==m[j]){var L=`
`+c[S].replace(" at new "," at ");return t.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",t.displayName)),L}while(1<=S&&0<=j);break}}}finally{Re=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Q(t):""}function Ne(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=Te(t.type,!1),t;case 11:return t=Te(t.type.render,!1),t;case 1:return t=Te(t.type,!0),t;default:return""}}function Le(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case b:return"Portal";case H:return"Profiler";case B:return"StrictMode";case ye:return"Suspense";case ke:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ee:return(t.displayName||"Context")+".Consumer";case U:return(t._context.displayName||"Context")+".Provider";case ue:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ce:return r=t.displayName||null,r!==null?r:Le(t.type)||"Memo";case Ae:r=t._payload,t=t._init;try{return Le(t(r))}catch{}}return null}function ze(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(r);case 8:return r===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Be(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ve(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function st(t){var r=Ve(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,m=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Tt(t){t._valueTracker||(t._valueTracker=st(t))}function nr(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=Ve(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function zt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ee(t,r){var s=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function _e(t,r){var s=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;s=Be(r.value!=null?r.value:s),t._wrapperState={initialChecked:l,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ie(t,r){r=r.checked,r!=null&&P(t,"checked",r,!1)}function We(t,r){Ie(t,r);var s=Be(r.value),l=r.type;if(s!=null)l==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Oe(t,r.type,s):r.hasOwnProperty("defaultValue")&&Oe(t,r.type,Be(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ke(t,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,s||r===t.value||(t.value=r),t.defaultValue=r}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Oe(t,r,s){(r!=="number"||zt(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Je=Array.isArray;function _t(t,r,s,l){if(t=t.options,r){r={};for(var c=0;c<s.length;c++)r["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=r.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Be(s),r=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function rr(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(i(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cr(t,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(i(92));if(Je(s)){if(1<s.length)throw Error(i(93));s=s[0]}r=s}r==null&&(r=""),s=r}t._wrapperState={initialValue:Be(s)}}function yn(t,r){var s=Be(r.value),l=Be(r.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),r.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),l!=null&&(t.defaultValue=""+l)}function Un(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Pn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Pn(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var V,ce=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,l,c){MSApp.execUnsafeLocalFunction(function(){return t(r,s,l,c)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(V=V||document.createElement("div"),V.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=V.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function te(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];Object.keys(ae).forEach(function(t){pe.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ae[r]=ae[t]})});function be(t,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||ae.hasOwnProperty(t)&&ae[t]?(""+r).trim():r+"px"}function wt(t,r){t=t.style;for(var s in r)if(r.hasOwnProperty(s)){var l=s.indexOf("--")===0,c=be(s,r[s],l);s==="float"&&(s="cssFloat"),l?t.setProperty(s,c):t[s]=c}}var Rn=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,r){if(r){if(Rn[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(i(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(i(61))}if(r.style!=null&&typeof r.style!="object")throw Error(i(62))}}function Tn(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ot=null;function ci(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,ir=null,sr=null;function Xo(t){if(t=lo(t)){if(typeof br!="function")throw Error(i(280));var r=t.stateNode;r&&(r=va(r),br(t.stateNode,t.type,r))}}function Us(t){ir?sr?sr.push(t):sr=[t]:ir=t}function Hs(){if(ir){var t=ir,r=sr;if(sr=ir=null,Xo(t),r)for(t=0;t<r.length;t++)Xo(r[t])}}function N(t,r){return t(r)}function X(){}var J=!1;function he(t,r,s){if(J)return t(r,s);J=!0;try{return N(t,r,s)}finally{J=!1,(ir!==null||sr!==null)&&(X(),Hs())}}function je(t,r){var s=t.stateNode;if(s===null)return null;var l=va(s);if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var Ye=!1;if(h)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){Ye=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{Ye=!1}function ht(t,r,s,l,c,m,S,j,L){var K=Array.prototype.slice.call(arguments,3);try{r.apply(s,K)}catch(ie){this.onError(ie)}}var Ut=!1,Ht=null,Wt=!1,nu=null,nv={onError:function(t){Ut=!0,Ht=t}};function rv(t,r,s,l,c,m,S,j,L){Ut=!1,Ht=null,ht.apply(nv,arguments)}function iv(t,r,s,l,c,m,S,j,L){if(rv.apply(this,arguments),Ut){if(Ut){var K=Ht;Ut=!1,Ht=null}else throw Error(i(198));Wt||(Wt=!0,nu=K)}}function di(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function wf(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function xf(t){if(di(t)!==t)throw Error(i(188))}function sv(t){var r=t.alternate;if(!r){if(r=di(t),r===null)throw Error(i(188));return r!==t?null:t}for(var s=t,l=r;;){var c=s.return;if(c===null)break;var m=c.alternate;if(m===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===m.child){for(m=c.child;m;){if(m===s)return xf(c),t;if(m===l)return xf(c),r;m=m.sibling}throw Error(i(188))}if(s.return!==l.return)s=c,l=m;else{for(var S=!1,j=c.child;j;){if(j===s){S=!0,s=c,l=m;break}if(j===l){S=!0,l=c,s=m;break}j=j.sibling}if(!S){for(j=m.child;j;){if(j===s){S=!0,s=m,l=c;break}if(j===l){S=!0,l=m,s=c;break}j=j.sibling}if(!S)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:r}function Sf(t){return t=sv(t),t!==null?Af(t):null}function Af(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Af(t);if(r!==null)return r;t=t.sibling}return null}var Ef=e.unstable_scheduleCallback,kf=e.unstable_cancelCallback,ov=e.unstable_shouldYield,av=e.unstable_requestPaint,yt=e.unstable_now,lv=e.unstable_getCurrentPriorityLevel,ru=e.unstable_ImmediatePriority,Cf=e.unstable_UserBlockingPriority,Zo=e.unstable_NormalPriority,uv=e.unstable_LowPriority,bf=e.unstable_IdlePriority,Jo=null,Hn=null;function cv(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Jo,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:hv,dv=Math.log,fv=Math.LN2;function hv(t){return t>>>=0,t===0?32:31-(dv(t)/fv|0)|0}var ea=64,ta=4194304;function Gs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function na(t,r){var s=t.pendingLanes;if(s===0)return 0;var l=0,c=t.suspendedLanes,m=t.pingedLanes,S=s&268435455;if(S!==0){var j=S&~c;j!==0?l=Gs(j):(m&=S,m!==0&&(l=Gs(m)))}else S=s&~c,S!==0?l=Gs(S):m!==0&&(l=Gs(m));if(l===0)return 0;if(r!==0&&r!==l&&!(r&c)&&(c=l&-l,m=r&-r,c>=m||c===16&&(m&4194240)!==0))return r;if(l&4&&(l|=s&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=l;0<r;)s=31-_n(r),c=1<<s,l|=t[s],r&=~c;return l}function pv(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,m=t.pendingLanes;0<m;){var S=31-_n(m),j=1<<S,L=c[S];L===-1?(!(j&s)||j&l)&&(c[S]=pv(j,r)):L<=r&&(t.expiredLanes|=j),m&=~j}}function iu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mf(){var t=ea;return ea<<=1,!(ea&4194240)&&(ea=64),t}function su(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Vs(t,r,s){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-_n(r),t[r]=s}function gv(t,r){var s=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<s;){var c=31-_n(s),m=1<<c;r[c]=0,l[c]=-1,t[c]=-1,s&=~m}}function ou(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-_n(s),c=1<<l;c&r|t[l]&r&&(t[l]|=r),s&=~c}}var Qe=0;function Pf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rf,au,Tf,_f,jf,lu=!1,ra=[],Mr=null,Pr=null,Rr=null,Ws=new Map,$s=new Map,Tr=[],yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Df(t,r){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Ws.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(r.pointerId)}}function Qs(t,r,s,l,c,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[c]},r!==null&&(r=lo(r),r!==null&&au(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function vv(t,r,s,l,c){switch(r){case"focusin":return Mr=Qs(Mr,t,r,s,l,c),!0;case"dragenter":return Pr=Qs(Pr,t,r,s,l,c),!0;case"mouseover":return Rr=Qs(Rr,t,r,s,l,c),!0;case"pointerover":var m=c.pointerId;return Ws.set(m,Qs(Ws.get(m)||null,t,r,s,l,c)),!0;case"gotpointercapture":return m=c.pointerId,$s.set(m,Qs($s.get(m)||null,t,r,s,l,c)),!0}return!1}function If(t){var r=fi(t.target);if(r!==null){var s=di(r);if(s!==null){if(r=s.tag,r===13){if(r=wf(s),r!==null){t.blockedOn=r,jf(t.priority,function(){Tf(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ia(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=cu(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ot=l,s.target.dispatchEvent(l),ot=null}else return r=lo(s),r!==null&&au(r),t.blockedOn=s,!1;r.shift()}return!0}function Nf(t,r,s){ia(t)&&s.delete(r)}function wv(){lu=!1,Mr!==null&&ia(Mr)&&(Mr=null),Pr!==null&&ia(Pr)&&(Pr=null),Rr!==null&&ia(Rr)&&(Rr=null),Ws.forEach(Nf),$s.forEach(Nf)}function Ks(t,r){t.blockedOn===r&&(t.blockedOn=null,lu||(lu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wv)))}function Ys(t){function r(c){return Ks(c,t)}if(0<ra.length){Ks(ra[0],t);for(var s=1;s<ra.length;s++){var l=ra[s];l.blockedOn===t&&(l.blockedOn=null)}}for(Mr!==null&&Ks(Mr,t),Pr!==null&&Ks(Pr,t),Rr!==null&&Ks(Rr,t),Ws.forEach(r),$s.forEach(r),s=0;s<Tr.length;s++)l=Tr[s],l.blockedOn===t&&(l.blockedOn=null);for(;0<Tr.length&&(s=Tr[0],s.blockedOn===null);)If(s),s.blockedOn===null&&Tr.shift()}var Li=D.ReactCurrentBatchConfig,sa=!0;function xv(t,r,s,l){var c=Qe,m=Li.transition;Li.transition=null;try{Qe=1,uu(t,r,s,l)}finally{Qe=c,Li.transition=m}}function Sv(t,r,s,l){var c=Qe,m=Li.transition;Li.transition=null;try{Qe=4,uu(t,r,s,l)}finally{Qe=c,Li.transition=m}}function uu(t,r,s,l){if(sa){var c=cu(t,r,s,l);if(c===null)Mu(t,r,l,oa,s),Df(t,l);else if(vv(c,t,r,s,l))l.stopPropagation();else if(Df(t,l),r&4&&-1<yv.indexOf(t)){for(;c!==null;){var m=lo(c);if(m!==null&&Rf(m),m=cu(t,r,s,l),m===null&&Mu(t,r,l,oa,s),m===c)break;c=m}c!==null&&l.stopPropagation()}else Mu(t,r,l,null,s)}}var oa=null;function cu(t,r,s,l){if(oa=null,t=ci(l),t=fi(t),t!==null)if(r=di(t),r===null)t=null;else if(s=r.tag,s===13){if(t=wf(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return oa=t,null}function Lf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lv()){case ru:return 1;case Cf:return 4;case Zo:case uv:return 16;case bf:return 536870912;default:return 16}default:return 16}}var _r=null,du=null,aa=null;function Bf(){if(aa)return aa;var t,r=du,s=r.length,l,c="value"in _r?_r.value:_r.textContent,m=c.length;for(t=0;t<s&&r[t]===c[t];t++);var S=s-t;for(l=1;l<=S&&r[s-l]===c[m-l];l++);return aa=c.slice(t,1<l?1-l:void 0)}function la(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ua(){return!0}function Ff(){return!1}function an(t){function r(s,l,c,m,S){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(s=t[j],this[j]=s?s(m):m[j]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ua:Ff,this.isPropagationStopped=Ff,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),r}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fu=an(Bi),Xs=se({},Bi,{view:0,detail:0}),Av=an(Xs),hu,pu,Zs,ca=se({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zs&&(Zs&&t.type==="mousemove"?(hu=t.screenX-Zs.screenX,pu=t.screenY-Zs.screenY):pu=hu=0,Zs=t),hu)},movementY:function(t){return"movementY"in t?t.movementY:pu}}),Of=an(ca),Ev=se({},ca,{dataTransfer:0}),kv=an(Ev),Cv=se({},Xs,{relatedTarget:0}),mu=an(Cv),bv=se({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mv=an(bv),Pv=se({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rv=an(Pv),Tv=se({},Bi,{data:0}),qf=an(Tv),_v={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iv(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Dv[t])?!!r[t]:!1}function gu(){return Iv}var Nv=se({},Xs,{key:function(t){if(t.key){var r=_v[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lv=an(Nv),Bv=se({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zf=an(Bv),Fv=se({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),Ov=an(Fv),qv=se({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),zv=an(qv),Uv=se({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hv=an(Uv),Gv=[9,13,27,32],yu=h&&"CompositionEvent"in window,Js=null;h&&"documentMode"in document&&(Js=document.documentMode);var Vv=h&&"TextEvent"in window&&!Js,Uf=h&&(!yu||Js&&8<Js&&11>=Js),Hf=" ",Gf=!1;function Vf(t,r){switch(t){case"keyup":return Gv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function Wv(t,r){switch(t){case"compositionend":return Wf(r);case"keypress":return r.which!==32?null:(Gf=!0,Hf);case"textInput":return t=r.data,t===Hf&&Gf?null:t;default:return null}}function $v(t,r){if(Fi)return t==="compositionend"||!yu&&Vf(t,r)?(t=Bf(),aa=du=_r=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Uf&&r.locale!=="ko"?null:r.data;default:return null}}var Qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $f(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Qv[t.type]:r==="textarea"}function Qf(t,r,s,l){Us(l),r=ma(r,"onChange"),0<r.length&&(s=new fu("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var eo=null,to=null;function Kv(t){fh(t,0)}function da(t){var r=Hi(t);if(nr(r))return t}function Yv(t,r){if(t==="change")return r}var Kf=!1;if(h){var vu;if(h){var wu="oninput"in document;if(!wu){var Yf=document.createElement("div");Yf.setAttribute("oninput","return;"),wu=typeof Yf.oninput=="function"}vu=wu}else vu=!1;Kf=vu&&(!document.documentMode||9<document.documentMode)}function Xf(){eo&&(eo.detachEvent("onpropertychange",Zf),to=eo=null)}function Zf(t){if(t.propertyName==="value"&&da(to)){var r=[];Qf(r,to,t,ci(t)),he(Kv,r)}}function Xv(t,r,s){t==="focusin"?(Xf(),eo=r,to=s,eo.attachEvent("onpropertychange",Zf)):t==="focusout"&&Xf()}function Zv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return da(to)}function Jv(t,r){if(t==="click")return da(r)}function e1(t,r){if(t==="input"||t==="change")return da(r)}function t1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var jn=typeof Object.is=="function"?Object.is:t1;function no(t,r){if(jn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!d.call(r,c)||!jn(t[c],r[c]))return!1}return!0}function Jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eh(t,r){var s=Jf(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Jf(s)}}function th(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?th(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function nh(){for(var t=window,r=zt();r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=zt(t.document)}return r}function xu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function n1(t){var r=nh(),s=t.focusedElem,l=t.selectionRange;if(r!==s&&s&&s.ownerDocument&&th(s.ownerDocument.documentElement,s)){if(l!==null&&xu(s)){if(r=l.start,t=l.end,t===void 0&&(t=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(t,s.value.length);else if(t=(r=s.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var c=s.textContent.length,m=Math.min(l.start,c);l=l.end===void 0?m:Math.min(l.end,c),!t.extend&&m>l&&(c=l,l=m,m=c),c=eh(s,m);var S=eh(s,l);c&&S&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==S.node||t.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(c.node,c.offset),t.removeAllRanges(),m>l?(t.addRange(r),t.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),t.addRange(r)))}}for(r=[],t=s;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)t=r[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r1=h&&"documentMode"in document&&11>=document.documentMode,Oi=null,Su=null,ro=null,Au=!1;function rh(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Au||Oi==null||Oi!==zt(l)||(l=Oi,"selectionStart"in l&&xu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ro&&no(ro,l)||(ro=l,l=ma(Su,"onSelect"),0<l.length&&(r=new fu("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Oi)))}function fa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var qi={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionend:fa("Transition","TransitionEnd")},Eu={},ih={};h&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function ha(t){if(Eu[t])return Eu[t];if(!qi[t])return t;var r=qi[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in ih)return Eu[t]=r[s];return t}var sh=ha("animationend"),oh=ha("animationiteration"),ah=ha("animationstart"),lh=ha("transitionend"),uh=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(t,r){uh.set(t,r),u(r,[t])}for(var ku=0;ku<ch.length;ku++){var Cu=ch[ku],i1=Cu.toLowerCase(),s1=Cu[0].toUpperCase()+Cu.slice(1);jr(i1,"on"+s1)}jr(sh,"onAnimationEnd"),jr(oh,"onAnimationIteration"),jr(ah,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(lh,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("cancel close invalid load scroll toggle".split(" ").concat(io));function dh(t,r,s){var l=t.type||"unknown-event";t.currentTarget=s,iv(l,r,void 0,t),t.currentTarget=null}function fh(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var S=l.length-1;0<=S;S--){var j=l[S],L=j.instance,K=j.currentTarget;if(j=j.listener,L!==m&&c.isPropagationStopped())break e;dh(c,j,K),m=L}else for(S=0;S<l.length;S++){if(j=l[S],L=j.instance,K=j.currentTarget,j=j.listener,L!==m&&c.isPropagationStopped())break e;dh(c,j,K),m=L}}}if(Wt)throw t=nu,Wt=!1,nu=null,t}function et(t,r){var s=r[Du];s===void 0&&(s=r[Du]=new Set);var l=t+"__bubble";s.has(l)||(hh(r,t,2,!1),s.add(l))}function bu(t,r,s){var l=0;r&&(l|=4),hh(s,t,l,r)}var pa="_reactListening"+Math.random().toString(36).slice(2);function so(t){if(!t[pa]){t[pa]=!0,o.forEach(function(s){s!=="selectionchange"&&(o1.has(s)||bu(s,!1,t),bu(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[pa]||(r[pa]=!0,bu("selectionchange",!1,r))}}function hh(t,r,s,l){switch(Lf(r)){case 1:var c=xv;break;case 4:c=Sv;break;default:c=uu}s=c.bind(null,r,s,t),c=void 0,!Ye||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(r,s,{capture:!0,passive:c}):t.addEventListener(r,s,!0):c!==void 0?t.addEventListener(r,s,{passive:c}):t.addEventListener(r,s,!1)}function Mu(t,r,s,l,c){var m=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var j=l.stateNode.containerInfo;if(j===c||j.nodeType===8&&j.parentNode===c)break;if(S===4)for(S=l.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===c||L.nodeType===8&&L.parentNode===c))return;S=S.return}for(;j!==null;){if(S=fi(j),S===null)return;if(L=S.tag,L===5||L===6){l=m=S;continue e}j=j.parentNode}}l=l.return}he(function(){var K=m,ie=ci(s),oe=[];e:{var re=uh.get(t);if(re!==void 0){var me=fu,we=t;switch(t){case"keypress":if(la(s)===0)break e;case"keydown":case"keyup":me=Lv;break;case"focusin":we="focus",me=mu;break;case"focusout":we="blur",me=mu;break;case"beforeblur":case"afterblur":me=mu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Ov;break;case sh:case oh:case ah:me=Mv;break;case lh:me=zv;break;case"scroll":me=Av;break;case"wheel":me=Hv;break;case"copy":case"cut":case"paste":me=Rv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=zf}var xe=(r&4)!==0,vt=!xe&&t==="scroll",G=xe?re!==null?re+"Capture":null:re;xe=[];for(var z=K,$;z!==null;){$=z;var le=$.stateNode;if($.tag===5&&le!==null&&($=le,G!==null&&(le=je(z,G),le!=null&&xe.push(oo(z,le,$)))),vt)break;z=z.return}0<xe.length&&(re=new me(re,we,null,s,ie),oe.push({event:re,listeners:xe}))}}if(!(r&7)){e:{if(re=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",re&&s!==ot&&(we=s.relatedTarget||s.fromElement)&&(fi(we)||we[or]))break e;if((me||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,me?(we=s.relatedTarget||s.toElement,me=K,we=we?fi(we):null,we!==null&&(vt=di(we),we!==vt||we.tag!==5&&we.tag!==6)&&(we=null)):(me=null,we=K),me!==we)){if(xe=Of,le="onMouseLeave",G="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(xe=zf,le="onPointerLeave",G="onPointerEnter",z="pointer"),vt=me==null?re:Hi(me),$=we==null?re:Hi(we),re=new xe(le,z+"leave",me,s,ie),re.target=vt,re.relatedTarget=$,le=null,fi(ie)===K&&(xe=new xe(G,z+"enter",we,s,ie),xe.target=$,xe.relatedTarget=vt,le=xe),vt=le,me&&we)t:{for(xe=me,G=we,z=0,$=xe;$;$=zi($))z++;for($=0,le=G;le;le=zi(le))$++;for(;0<z-$;)xe=zi(xe),z--;for(;0<$-z;)G=zi(G),$--;for(;z--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=zi(xe),G=zi(G)}xe=null}else xe=null;me!==null&&ph(oe,re,me,xe,!1),we!==null&&vt!==null&&ph(oe,vt,we,xe,!0)}}e:{if(re=K?Hi(K):window,me=re.nodeName&&re.nodeName.toLowerCase(),me==="select"||me==="input"&&re.type==="file")var Se=Yv;else if($f(re))if(Kf)Se=e1;else{Se=Zv;var Me=Xv}else(me=re.nodeName)&&me.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Se=Jv);if(Se&&(Se=Se(t,K))){Qf(oe,Se,s,ie);break e}Me&&Me(t,re,K),t==="focusout"&&(Me=re._wrapperState)&&Me.controlled&&re.type==="number"&&Oe(re,"number",re.value)}switch(Me=K?Hi(K):window,t){case"focusin":($f(Me)||Me.contentEditable==="true")&&(Oi=Me,Su=K,ro=null);break;case"focusout":ro=Su=Oi=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,rh(oe,s,ie);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":rh(oe,s,ie)}var Pe;if(yu)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Fi?Vf(t,s)&&(De="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(De="onCompositionStart");De&&(Uf&&s.locale!=="ko"&&(Fi||De!=="onCompositionStart"?De==="onCompositionEnd"&&Fi&&(Pe=Bf()):(_r=ie,du="value"in _r?_r.value:_r.textContent,Fi=!0)),Me=ma(K,De),0<Me.length&&(De=new qf(De,t,null,s,ie),oe.push({event:De,listeners:Me}),Pe?De.data=Pe:(Pe=Wf(s),Pe!==null&&(De.data=Pe)))),(Pe=Vv?Wv(t,s):$v(t,s))&&(K=ma(K,"onBeforeInput"),0<K.length&&(ie=new qf("onBeforeInput","beforeinput",null,s,ie),oe.push({event:ie,listeners:K}),ie.data=Pe))}fh(oe,r)})}function oo(t,r,s){return{instance:t,listener:r,currentTarget:s}}function ma(t,r){for(var s=r+"Capture",l=[];t!==null;){var c=t,m=c.stateNode;c.tag===5&&m!==null&&(c=m,m=je(t,s),m!=null&&l.unshift(oo(t,m,c)),m=je(t,r),m!=null&&l.push(oo(t,m,c))),t=t.return}return l}function zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ph(t,r,s,l,c){for(var m=r._reactName,S=[];s!==null&&s!==l;){var j=s,L=j.alternate,K=j.stateNode;if(L!==null&&L===l)break;j.tag===5&&K!==null&&(j=K,c?(L=je(s,m),L!=null&&S.unshift(oo(s,L,j))):c||(L=je(s,m),L!=null&&S.push(oo(s,L,j)))),s=s.return}S.length!==0&&t.push({event:r,listeners:S})}var a1=/\r\n?/g,l1=/\u0000|\uFFFD/g;function mh(t){return(typeof t=="string"?t:""+t).replace(a1,`
`).replace(l1,"")}function ga(t,r,s){if(r=mh(r),mh(t)!==r&&s)throw Error(i(425))}function ya(){}var Pu=null,Ru=null;function Tu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var _u=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,gh=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof gh<"u"?function(t){return gh.resolve(null).then(t).catch(d1)}:_u;function d1(t){setTimeout(function(){throw t})}function ju(t,r){var s=r,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(l===0){t.removeChild(c),Ys(r);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=c}while(s);Ys(r)}function Dr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function yh(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Ui,ao="__reactProps$"+Ui,or="__reactContainer$"+Ui,Du="__reactEvents$"+Ui,f1="__reactListeners$"+Ui,h1="__reactHandles$"+Ui;function fi(t){var r=t[Gn];if(r)return r;for(var s=t.parentNode;s;){if(r=s[or]||s[Gn]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=yh(t);t!==null;){if(s=t[Gn])return s;t=yh(t)}return r}t=s,s=t.parentNode}return null}function lo(t){return t=t[Gn]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function va(t){return t[ao]||null}var Iu=[],Gi=-1;function Ir(t){return{current:t}}function tt(t){0>Gi||(t.current=Iu[Gi],Iu[Gi]=null,Gi--)}function Ze(t,r){Gi++,Iu[Gi]=t.current,t.current=r}var Nr={},Lt=Ir(Nr),$t=Ir(!1),hi=Nr;function Vi(t,r){var s=t.type.contextTypes;if(!s)return Nr;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var c={},m;for(m in s)c[m]=r[m];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=c),c}function Qt(t){return t=t.childContextTypes,t!=null}function wa(){tt($t),tt(Lt)}function vh(t,r,s){if(Lt.current!==Nr)throw Error(i(168));Ze(Lt,r),Ze($t,s)}function wh(t,r,s){var l=t.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var c in l)if(!(c in r))throw Error(i(108,ze(t)||"Unknown",c));return se({},s,l)}function xa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nr,hi=Lt.current,Ze(Lt,t),Ze($t,$t.current),!0}function xh(t,r,s){var l=t.stateNode;if(!l)throw Error(i(169));s?(t=wh(t,r,hi),l.__reactInternalMemoizedMergedChildContext=t,tt($t),tt(Lt),Ze(Lt,t)):tt($t),Ze($t,s)}var ar=null,Sa=!1,Nu=!1;function Sh(t){ar===null?ar=[t]:ar.push(t)}function p1(t){Sa=!0,Sh(t)}function Lr(){if(!Nu&&ar!==null){Nu=!0;var t=0,r=Qe;try{var s=ar;for(Qe=1;t<s.length;t++){var l=s[t];do l=l(!0);while(l!==null)}ar=null,Sa=!1}catch(c){throw ar!==null&&(ar=ar.slice(t+1)),Ef(ru,Lr),c}finally{Qe=r,Nu=!1}}return null}var Wi=[],$i=0,Aa=null,Ea=0,vn=[],wn=0,pi=null,lr=1,ur="";function mi(t,r){Wi[$i++]=Ea,Wi[$i++]=Aa,Aa=t,Ea=r}function Ah(t,r,s){vn[wn++]=lr,vn[wn++]=ur,vn[wn++]=pi,pi=t;var l=lr;t=ur;var c=32-_n(l)-1;l&=~(1<<c),s+=1;var m=32-_n(r)+c;if(30<m){var S=c-c%5;m=(l&(1<<S)-1).toString(32),l>>=S,c-=S,lr=1<<32-_n(r)+c|s<<c|l,ur=m+t}else lr=1<<m|s<<c|l,ur=t}function Lu(t){t.return!==null&&(mi(t,1),Ah(t,1,0))}function Bu(t){for(;t===Aa;)Aa=Wi[--$i],Wi[$i]=null,Ea=Wi[--$i],Wi[$i]=null;for(;t===pi;)pi=vn[--wn],vn[wn]=null,ur=vn[--wn],vn[wn]=null,lr=vn[--wn],vn[wn]=null}var ln=null,un=null,rt=!1,Dn=null;function Eh(t,r){var s=En(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=t,r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)}function kh(t,r){switch(t.tag){case 5:var s=t.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,ln=t,un=Dr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,ln=t,un=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=pi!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=En(18,null,null,0),s.stateNode=r,s.return=t,t.child=s,ln=t,un=null,!0):!1;default:return!1}}function Fu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ou(t){if(rt){var r=un;if(r){var s=r;if(!kh(t,r)){if(Fu(t))throw Error(i(418));r=Dr(s.nextSibling);var l=ln;r&&kh(t,r)?Eh(l,s):(t.flags=t.flags&-4097|2,rt=!1,ln=t)}}else{if(Fu(t))throw Error(i(418));t.flags=t.flags&-4097|2,rt=!1,ln=t}}}function Ch(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function ka(t){if(t!==ln)return!1;if(!rt)return Ch(t),rt=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Tu(t.type,t.memoizedProps)),r&&(r=un)){if(Fu(t))throw bh(),Error(i(418));for(;r;)Eh(t,r),r=Dr(r.nextSibling)}if(Ch(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(r===0){un=Dr(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}t=t.nextSibling}un=null}}else un=ln?Dr(t.stateNode.nextSibling):null;return!0}function bh(){for(var t=un;t;)t=Dr(t.nextSibling)}function Qi(){un=ln=null,rt=!1}function qu(t){Dn===null?Dn=[t]:Dn.push(t)}var m1=D.ReactCurrentBatchConfig;function uo(t,r,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(i(309));var l=s.stateNode}if(!l)throw Error(i(147,t));var c=l,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(S){var j=c.refs;S===null?delete j[m]:j[m]=S},r._stringRef=m,r)}if(typeof t!="string")throw Error(i(284));if(!s._owner)throw Error(i(290,t))}return t}function Ca(t,r){throw t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Mh(t){var r=t._init;return r(t._payload)}function Ph(t){function r(G,z){if(t){var $=G.deletions;$===null?(G.deletions=[z],G.flags|=16):$.push(z)}}function s(G,z){if(!t)return null;for(;z!==null;)r(G,z),z=z.sibling;return null}function l(G,z){for(G=new Map;z!==null;)z.key!==null?G.set(z.key,z):G.set(z.index,z),z=z.sibling;return G}function c(G,z){return G=Gr(G,z),G.index=0,G.sibling=null,G}function m(G,z,$){return G.index=$,t?($=G.alternate,$!==null?($=$.index,$<z?(G.flags|=2,z):$):(G.flags|=2,z)):(G.flags|=1048576,z)}function S(G){return t&&G.alternate===null&&(G.flags|=2),G}function j(G,z,$,le){return z===null||z.tag!==6?(z=_c($,G.mode,le),z.return=G,z):(z=c(z,$),z.return=G,z)}function L(G,z,$,le){var Se=$.type;return Se===R?ie(G,z,$.props.children,le,$.key):z!==null&&(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ae&&Mh(Se)===z.type)?(le=c(z,$.props),le.ref=uo(G,z,$),le.return=G,le):(le=Ka($.type,$.key,$.props,null,G.mode,le),le.ref=uo(G,z,$),le.return=G,le)}function K(G,z,$,le){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=jc($,G.mode,le),z.return=G,z):(z=c(z,$.children||[]),z.return=G,z)}function ie(G,z,$,le,Se){return z===null||z.tag!==7?(z=Ei($,G.mode,le,Se),z.return=G,z):(z=c(z,$),z.return=G,z)}function oe(G,z,$){if(typeof z=="string"&&z!==""||typeof z=="number")return z=_c(""+z,G.mode,$),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case F:return $=Ka(z.type,z.key,z.props,null,G.mode,$),$.ref=uo(G,null,z),$.return=G,$;case b:return z=jc(z,G.mode,$),z.return=G,z;case Ae:var le=z._init;return oe(G,le(z._payload),$)}if(Je(z)||fe(z))return z=Ei(z,G.mode,$,null),z.return=G,z;Ca(G,z)}return null}function re(G,z,$,le){var Se=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return Se!==null?null:j(G,z,""+$,le);if(typeof $=="object"&&$!==null){switch($.$$typeof){case F:return $.key===Se?L(G,z,$,le):null;case b:return $.key===Se?K(G,z,$,le):null;case Ae:return Se=$._init,re(G,z,Se($._payload),le)}if(Je($)||fe($))return Se!==null?null:ie(G,z,$,le,null);Ca(G,$)}return null}function me(G,z,$,le,Se){if(typeof le=="string"&&le!==""||typeof le=="number")return G=G.get($)||null,j(z,G,""+le,Se);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case F:return G=G.get(le.key===null?$:le.key)||null,L(z,G,le,Se);case b:return G=G.get(le.key===null?$:le.key)||null,K(z,G,le,Se);case Ae:var Me=le._init;return me(G,z,$,Me(le._payload),Se)}if(Je(le)||fe(le))return G=G.get($)||null,ie(z,G,le,Se,null);Ca(z,le)}return null}function we(G,z,$,le){for(var Se=null,Me=null,Pe=z,De=z=0,Mt=null;Pe!==null&&De<$.length;De++){Pe.index>De?(Mt=Pe,Pe=null):Mt=Pe.sibling;var He=re(G,Pe,$[De],le);if(He===null){Pe===null&&(Pe=Mt);break}t&&Pe&&He.alternate===null&&r(G,Pe),z=m(He,z,De),Me===null?Se=He:Me.sibling=He,Me=He,Pe=Mt}if(De===$.length)return s(G,Pe),rt&&mi(G,De),Se;if(Pe===null){for(;De<$.length;De++)Pe=oe(G,$[De],le),Pe!==null&&(z=m(Pe,z,De),Me===null?Se=Pe:Me.sibling=Pe,Me=Pe);return rt&&mi(G,De),Se}for(Pe=l(G,Pe);De<$.length;De++)Mt=me(Pe,G,De,$[De],le),Mt!==null&&(t&&Mt.alternate!==null&&Pe.delete(Mt.key===null?De:Mt.key),z=m(Mt,z,De),Me===null?Se=Mt:Me.sibling=Mt,Me=Mt);return t&&Pe.forEach(function(Vr){return r(G,Vr)}),rt&&mi(G,De),Se}function xe(G,z,$,le){var Se=fe($);if(typeof Se!="function")throw Error(i(150));if($=Se.call($),$==null)throw Error(i(151));for(var Me=Se=null,Pe=z,De=z=0,Mt=null,He=$.next();Pe!==null&&!He.done;De++,He=$.next()){Pe.index>De?(Mt=Pe,Pe=null):Mt=Pe.sibling;var Vr=re(G,Pe,He.value,le);if(Vr===null){Pe===null&&(Pe=Mt);break}t&&Pe&&Vr.alternate===null&&r(G,Pe),z=m(Vr,z,De),Me===null?Se=Vr:Me.sibling=Vr,Me=Vr,Pe=Mt}if(He.done)return s(G,Pe),rt&&mi(G,De),Se;if(Pe===null){for(;!He.done;De++,He=$.next())He=oe(G,He.value,le),He!==null&&(z=m(He,z,De),Me===null?Se=He:Me.sibling=He,Me=He);return rt&&mi(G,De),Se}for(Pe=l(G,Pe);!He.done;De++,He=$.next())He=me(Pe,G,De,He.value,le),He!==null&&(t&&He.alternate!==null&&Pe.delete(He.key===null?De:He.key),z=m(He,z,De),Me===null?Se=He:Me.sibling=He,Me=He);return t&&Pe.forEach(function(Q1){return r(G,Q1)}),rt&&mi(G,De),Se}function vt(G,z,$,le){if(typeof $=="object"&&$!==null&&$.type===R&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case F:e:{for(var Se=$.key,Me=z;Me!==null;){if(Me.key===Se){if(Se=$.type,Se===R){if(Me.tag===7){s(G,Me.sibling),z=c(Me,$.props.children),z.return=G,G=z;break e}}else if(Me.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ae&&Mh(Se)===Me.type){s(G,Me.sibling),z=c(Me,$.props),z.ref=uo(G,Me,$),z.return=G,G=z;break e}s(G,Me);break}else r(G,Me);Me=Me.sibling}$.type===R?(z=Ei($.props.children,G.mode,le,$.key),z.return=G,G=z):(le=Ka($.type,$.key,$.props,null,G.mode,le),le.ref=uo(G,z,$),le.return=G,G=le)}return S(G);case b:e:{for(Me=$.key;z!==null;){if(z.key===Me)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){s(G,z.sibling),z=c(z,$.children||[]),z.return=G,G=z;break e}else{s(G,z);break}else r(G,z);z=z.sibling}z=jc($,G.mode,le),z.return=G,G=z}return S(G);case Ae:return Me=$._init,vt(G,z,Me($._payload),le)}if(Je($))return we(G,z,$,le);if(fe($))return xe(G,z,$,le);Ca(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,z!==null&&z.tag===6?(s(G,z.sibling),z=c(z,$),z.return=G,G=z):(s(G,z),z=_c($,G.mode,le),z.return=G,G=z),S(G)):s(G,z)}return vt}var Ki=Ph(!0),Rh=Ph(!1),ba=Ir(null),Ma=null,Yi=null,zu=null;function Uu(){zu=Yi=Ma=null}function Hu(t){var r=ba.current;tt(ba),t._currentValue=r}function Gu(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Xi(t,r){Ma=t,zu=Yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Kt=!0),t.firstContext=null)}function xn(t){var r=t._currentValue;if(zu!==t)if(t={context:t,memoizedValue:r,next:null},Yi===null){if(Ma===null)throw Error(i(308));Yi=t,Ma.dependencies={lanes:0,firstContext:t}}else Yi=Yi.next=t;return r}var gi=null;function Vu(t){gi===null?gi=[t]:gi.push(t)}function Th(t,r,s,l){var c=r.interleaved;return c===null?(s.next=s,Vu(r)):(s.next=c.next,c.next=s),r.interleaved=s,cr(t,l)}function cr(t,r){t.lanes|=r;var s=t.alternate;for(s!==null&&(s.lanes|=r),s=t,t=t.return;t!==null;)t.childLanes|=r,s=t.alternate,s!==null&&(s.childLanes|=r),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Br=!1;function Wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _h(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Fr(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Ue&2){var c=l.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),l.pending=r,cr(t,s)}return c=l.interleaved,c===null?(r.next=r,Vu(l)):(r.next=c.next,c.next=r),l.interleaved=r,cr(t,s)}function Pa(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,ou(t,s)}}function jh(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var S={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};m===null?c=m=S:m=m.next=S,s=s.next}while(s!==null);m===null?c=m=r:m=m.next=r}else c=m=r;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:m,shared:l.shared,effects:l.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}function Ra(t,r,s,l){var c=t.updateQueue;Br=!1;var m=c.firstBaseUpdate,S=c.lastBaseUpdate,j=c.shared.pending;if(j!==null){c.shared.pending=null;var L=j,K=L.next;L.next=null,S===null?m=K:S.next=K,S=L;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==S&&(j===null?ie.firstBaseUpdate=K:j.next=K,ie.lastBaseUpdate=L))}if(m!==null){var oe=c.baseState;S=0,ie=K=L=null,j=m;do{var re=j.lane,me=j.eventTime;if((l&re)===re){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var we=t,xe=j;switch(re=r,me=s,xe.tag){case 1:if(we=xe.payload,typeof we=="function"){oe=we.call(me,oe,re);break e}oe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=xe.payload,re=typeof we=="function"?we.call(me,oe,re):we,re==null)break e;oe=se({},oe,re);break e;case 2:Br=!0}}j.callback!==null&&j.lane!==0&&(t.flags|=64,re=c.effects,re===null?c.effects=[j]:re.push(j))}else me={eventTime:me,lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(K=ie=me,L=oe):ie=ie.next=me,S|=re;if(j=j.next,j===null){if(j=c.shared.pending,j===null)break;re=j,j=re.next,re.next=null,c.lastBaseUpdate=re,c.shared.pending=null}}while(!0);if(ie===null&&(L=oe),c.baseState=L,c.firstBaseUpdate=K,c.lastBaseUpdate=ie,r=c.shared.interleaved,r!==null){c=r;do S|=c.lane,c=c.next;while(c!==r)}else m===null&&(c.shared.lanes=0);wi|=S,t.lanes=S,t.memoizedState=oe}}function Dh(t,r,s){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var l=t[r],c=l.callback;if(c!==null){if(l.callback=null,l=s,typeof c!="function")throw Error(i(191,c));c.call(l)}}}var co={},Vn=Ir(co),fo=Ir(co),ho=Ir(co);function yi(t){if(t===co)throw Error(i(174));return t}function $u(t,r){switch(Ze(ho,r),Ze(fo,t),Ze(Vn,co),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:jt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=jt(r,t)}tt(Vn),Ze(Vn,r)}function Zi(){tt(Vn),tt(fo),tt(ho)}function Ih(t){yi(ho.current);var r=yi(Vn.current),s=jt(r,t.type);r!==s&&(Ze(fo,t),Ze(Vn,s))}function Qu(t){fo.current===t&&(tt(Vn),tt(fo))}var at=Ir(0);function Ta(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ku=[];function Yu(){for(var t=0;t<Ku.length;t++)Ku[t]._workInProgressVersionPrimary=null;Ku.length=0}var _a=D.ReactCurrentDispatcher,Xu=D.ReactCurrentBatchConfig,vi=0,lt=null,Et=null,Ct=null,ja=!1,po=!1,mo=0,g1=0;function Bt(){throw Error(i(321))}function Zu(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!jn(t[s],r[s]))return!1;return!0}function Ju(t,r,s,l,c,m){if(vi=m,lt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,_a.current=t===null||t.memoizedState===null?x1:S1,t=s(l,c),po){m=0;do{if(po=!1,mo=0,25<=m)throw Error(i(301));m+=1,Ct=Et=null,r.updateQueue=null,_a.current=A1,t=s(l,c)}while(po)}if(_a.current=Na,r=Et!==null&&Et.next!==null,vi=0,Ct=Et=lt=null,ja=!1,r)throw Error(i(300));return t}function ec(){var t=mo!==0;return mo=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?lt.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Sn(){if(Et===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var r=Ct===null?lt.memoizedState:Ct.next;if(r!==null)Ct=r,Et=t;else{if(t===null)throw Error(i(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ct===null?lt.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function go(t,r){return typeof r=="function"?r(t):r}function tc(t){var r=Sn(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var l=Et,c=l.baseQueue,m=s.pending;if(m!==null){if(c!==null){var S=c.next;c.next=m.next,m.next=S}l.baseQueue=c=m,s.pending=null}if(c!==null){m=c.next,l=l.baseState;var j=S=null,L=null,K=m;do{var ie=K.lane;if((vi&ie)===ie)L!==null&&(L=L.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),l=K.hasEagerState?K.eagerState:t(l,K.action);else{var oe={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};L===null?(j=L=oe,S=l):L=L.next=oe,lt.lanes|=ie,wi|=ie}K=K.next}while(K!==null&&K!==m);L===null?S=l:L.next=j,jn(l,r.memoizedState)||(Kt=!0),r.memoizedState=l,r.baseState=S,r.baseQueue=L,s.lastRenderedState=l}if(t=s.interleaved,t!==null){c=t;do m=c.lane,lt.lanes|=m,wi|=m,c=c.next;while(c!==t)}else c===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function nc(t){var r=Sn(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,m=r.memoizedState;if(c!==null){s.pending=null;var S=c=c.next;do m=t(m,S.action),S=S.next;while(S!==c);jn(m,r.memoizedState)||(Kt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),s.lastRenderedState=m}return[m,l]}function Nh(){}function Lh(t,r){var s=lt,l=Sn(),c=r(),m=!jn(l.memoizedState,c);if(m&&(l.memoizedState=c,Kt=!0),l=l.queue,rc(Oh.bind(null,s,l,t),[t]),l.getSnapshot!==r||m||Ct!==null&&Ct.memoizedState.tag&1){if(s.flags|=2048,yo(9,Fh.bind(null,s,l,c,r),void 0,null),bt===null)throw Error(i(349));vi&30||Bh(s,r,c)}return c}function Bh(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=lt.updateQueue,r===null?(r={lastEffect:null,stores:null},lt.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Fh(t,r,s,l){r.value=s,r.getSnapshot=l,qh(r)&&zh(t)}function Oh(t,r,s){return s(function(){qh(r)&&zh(t)})}function qh(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!jn(t,s)}catch{return!0}}function zh(t){var r=cr(t,1);r!==null&&Bn(r,t,1,-1)}function Uh(t){var r=Wn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:t},r.queue=t,t=t.dispatch=w1.bind(null,lt,t),[r.memoizedState,t]}function yo(t,r,s,l){return t={tag:t,create:r,destroy:s,deps:l,next:null},r=lt.updateQueue,r===null?(r={lastEffect:null,stores:null},lt.updateQueue=r,r.lastEffect=t.next=t):(s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t)),t}function Hh(){return Sn().memoizedState}function Da(t,r,s,l){var c=Wn();lt.flags|=t,c.memoizedState=yo(1|r,s,void 0,l===void 0?null:l)}function Ia(t,r,s,l){var c=Sn();l=l===void 0?null:l;var m=void 0;if(Et!==null){var S=Et.memoizedState;if(m=S.destroy,l!==null&&Zu(l,S.deps)){c.memoizedState=yo(r,s,m,l);return}}lt.flags|=t,c.memoizedState=yo(1|r,s,m,l)}function Gh(t,r){return Da(8390656,8,t,r)}function rc(t,r){return Ia(2048,8,t,r)}function Vh(t,r){return Ia(4,2,t,r)}function Wh(t,r){return Ia(4,4,t,r)}function $h(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Qh(t,r,s){return s=s!=null?s.concat([t]):null,Ia(4,4,$h.bind(null,r,t),s)}function ic(){}function Kh(t,r){var s=Sn();r=r===void 0?null:r;var l=s.memoizedState;return l!==null&&r!==null&&Zu(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function Yh(t,r){var s=Sn();r=r===void 0?null:r;var l=s.memoizedState;return l!==null&&r!==null&&Zu(r,l[1])?l[0]:(t=t(),s.memoizedState=[t,r],t)}function Xh(t,r,s){return vi&21?(jn(s,r)||(s=Mf(),lt.lanes|=s,wi|=s,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=s)}function y1(t,r){var s=Qe;Qe=s!==0&&4>s?s:4,t(!0);var l=Xu.transition;Xu.transition={};try{t(!1),r()}finally{Qe=s,Xu.transition=l}}function Zh(){return Sn().memoizedState}function v1(t,r,s){var l=Ur(t);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Jh(t))ep(r,s);else if(s=Th(t,r,s,l),s!==null){var c=Vt();Bn(s,t,l,c),tp(s,r,l)}}function w1(t,r,s){var l=Ur(t),c={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Jh(t))ep(r,c);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var S=r.lastRenderedState,j=m(S,s);if(c.hasEagerState=!0,c.eagerState=j,jn(j,S)){var L=r.interleaved;L===null?(c.next=c,Vu(r)):(c.next=L.next,L.next=c),r.interleaved=c;return}}catch{}finally{}s=Th(t,r,c,l),s!==null&&(c=Vt(),Bn(s,t,l,c),tp(s,r,l))}}function Jh(t){var r=t.alternate;return t===lt||r!==null&&r===lt}function ep(t,r){po=ja=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function tp(t,r,s){if(s&4194240){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,ou(t,s)}}var Na={readContext:xn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},x1={readContext:xn,useCallback:function(t,r){return Wn().memoizedState=[t,r===void 0?null:r],t},useContext:xn,useEffect:Gh,useImperativeHandle:function(t,r,s){return s=s!=null?s.concat([t]):null,Da(4194308,4,$h.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Da(4194308,4,t,r)},useInsertionEffect:function(t,r){return Da(4,2,t,r)},useMemo:function(t,r){var s=Wn();return r=r===void 0?null:r,t=t(),s.memoizedState=[t,r],t},useReducer:function(t,r,s){var l=Wn();return r=s!==void 0?s(r):r,l.memoizedState=l.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},l.queue=t,t=t.dispatch=v1.bind(null,lt,t),[l.memoizedState,t]},useRef:function(t){var r=Wn();return t={current:t},r.memoizedState=t},useState:Uh,useDebugValue:ic,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=Uh(!1),r=t[0];return t=y1.bind(null,t[1]),Wn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,s){var l=lt,c=Wn();if(rt){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),bt===null)throw Error(i(349));vi&30||Bh(l,r,s)}c.memoizedState=s;var m={value:s,getSnapshot:r};return c.queue=m,Gh(Oh.bind(null,l,m,t),[t]),l.flags|=2048,yo(9,Fh.bind(null,l,m,s,r),void 0,null),s},useId:function(){var t=Wn(),r=bt.identifierPrefix;if(rt){var s=ur,l=lr;s=(l&~(1<<32-_n(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=mo++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=g1++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},S1={readContext:xn,useCallback:Kh,useContext:xn,useEffect:rc,useImperativeHandle:Qh,useInsertionEffect:Vh,useLayoutEffect:Wh,useMemo:Yh,useReducer:tc,useRef:Hh,useState:function(){return tc(go)},useDebugValue:ic,useDeferredValue:function(t){var r=Sn();return Xh(r,Et.memoizedState,t)},useTransition:function(){var t=tc(go)[0],r=Sn().memoizedState;return[t,r]},useMutableSource:Nh,useSyncExternalStore:Lh,useId:Zh,unstable_isNewReconciler:!1},A1={readContext:xn,useCallback:Kh,useContext:xn,useEffect:rc,useImperativeHandle:Qh,useInsertionEffect:Vh,useLayoutEffect:Wh,useMemo:Yh,useReducer:nc,useRef:Hh,useState:function(){return nc(go)},useDebugValue:ic,useDeferredValue:function(t){var r=Sn();return Et===null?r.memoizedState=t:Xh(r,Et.memoizedState,t)},useTransition:function(){var t=nc(go)[0],r=Sn().memoizedState;return[t,r]},useMutableSource:Nh,useSyncExternalStore:Lh,useId:Zh,unstable_isNewReconciler:!1};function In(t,r){if(t&&t.defaultProps){r=se({},r),t=t.defaultProps;for(var s in t)r[s]===void 0&&(r[s]=t[s]);return r}return r}function sc(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:se({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var La={isMounted:function(t){return(t=t._reactInternals)?di(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Vt(),c=Ur(t),m=dr(l,c);m.payload=r,s!=null&&(m.callback=s),r=Fr(t,m,c),r!==null&&(Bn(r,t,c,l),Pa(r,t,c))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Vt(),c=Ur(t),m=dr(l,c);m.tag=1,m.payload=r,s!=null&&(m.callback=s),r=Fr(t,m,c),r!==null&&(Bn(r,t,c,l),Pa(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Vt(),l=Ur(t),c=dr(s,l);c.tag=2,r!=null&&(c.callback=r),r=Fr(t,c,l),r!==null&&(Bn(r,t,l,s),Pa(r,t,l))}};function np(t,r,s,l,c,m,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,S):r.prototype&&r.prototype.isPureReactComponent?!no(s,l)||!no(c,m):!0}function rp(t,r,s){var l=!1,c=Nr,m=r.contextType;return typeof m=="object"&&m!==null?m=xn(m):(c=Qt(r)?hi:Lt.current,l=r.contextTypes,m=(l=l!=null)?Vi(t,c):Nr),r=new r(s,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=La,t.stateNode=r,r._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=m),r}function ip(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&La.enqueueReplaceState(r,r.state,null)}function oc(t,r,s,l){var c=t.stateNode;c.props=s,c.state=t.memoizedState,c.refs={},Wu(t);var m=r.contextType;typeof m=="object"&&m!==null?c.context=xn(m):(m=Qt(r)?hi:Lt.current,c.context=Vi(t,m)),c.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(sc(t,r,m,s),c.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&La.enqueueReplaceState(c,c.state,null),Ra(t,s,c,l),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function Ji(t,r){try{var s="",l=r;do s+=Ne(l),l=l.return;while(l);var c=s}catch(m){c=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:c,digest:null}}function ac(t,r,s){return{value:t,source:null,stack:s??null,digest:r??null}}function lc(t,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var E1=typeof WeakMap=="function"?WeakMap:Map;function sp(t,r,s){s=dr(-1,s),s.tag=3,s.payload={element:null};var l=r.value;return s.callback=function(){Ha||(Ha=!0,Ec=l),lc(t,r)},s}function op(t,r,s){s=dr(-1,s),s.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var c=r.value;s.payload=function(){return l(c)},s.callback=function(){lc(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(s.callback=function(){lc(t,r),typeof l!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var S=r.stack;this.componentDidCatch(r.value,{componentStack:S!==null?S:""})}),s}function ap(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new E1;var c=new Set;l.set(r,c)}else c=l.get(r),c===void 0&&(c=new Set,l.set(r,c));c.has(s)||(c.add(s),t=B1.bind(null,t,r,s),r.then(t,t))}function lp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function up(t,r,s,l,c){return t.mode&1?(t.flags|=65536,t.lanes=c,t):(t===r?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=dr(-1,1),r.tag=2,Fr(s,r,1))),s.lanes|=1),t)}var k1=D.ReactCurrentOwner,Kt=!1;function Gt(t,r,s,l){r.child=t===null?Rh(r,null,s,l):Ki(r,t.child,s,l)}function cp(t,r,s,l,c){s=s.render;var m=r.ref;return Xi(r,c),l=Ju(t,r,s,l,m,c),s=ec(),t!==null&&!Kt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,fr(t,r,c)):(rt&&s&&Lu(r),r.flags|=1,Gt(t,r,l,c),r.child)}function dp(t,r,s,l,c){if(t===null){var m=s.type;return typeof m=="function"&&!Tc(m)&&m.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=m,fp(t,r,m,l,c)):(t=Ka(s.type,null,l,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!(t.lanes&c)){var S=m.memoizedProps;if(s=s.compare,s=s!==null?s:no,s(S,l)&&t.ref===r.ref)return fr(t,r,c)}return r.flags|=1,t=Gr(m,l),t.ref=r.ref,t.return=r,r.child=t}function fp(t,r,s,l,c){if(t!==null){var m=t.memoizedProps;if(no(m,l)&&t.ref===r.ref)if(Kt=!1,r.pendingProps=l=m,(t.lanes&c)!==0)t.flags&131072&&(Kt=!0);else return r.lanes=t.lanes,fr(t,r,c)}return uc(t,r,s,l,c)}function hp(t,r,s){var l=r.pendingProps,c=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ts,cn),cn|=s;else{if(!(s&1073741824))return t=m!==null?m.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ze(ts,cn),cn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=m!==null?m.baseLanes:s,Ze(ts,cn),cn|=l}else m!==null?(l=m.baseLanes|s,r.memoizedState=null):l=s,Ze(ts,cn),cn|=l;return Gt(t,r,c,s),r.child}function pp(t,r){var s=r.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function uc(t,r,s,l,c){var m=Qt(s)?hi:Lt.current;return m=Vi(r,m),Xi(r,c),s=Ju(t,r,s,l,m,c),l=ec(),t!==null&&!Kt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,fr(t,r,c)):(rt&&l&&Lu(r),r.flags|=1,Gt(t,r,s,c),r.child)}function mp(t,r,s,l,c){if(Qt(s)){var m=!0;xa(r)}else m=!1;if(Xi(r,c),r.stateNode===null)Fa(t,r),rp(r,s,l),oc(r,s,l,c),l=!0;else if(t===null){var S=r.stateNode,j=r.memoizedProps;S.props=j;var L=S.context,K=s.contextType;typeof K=="object"&&K!==null?K=xn(K):(K=Qt(s)?hi:Lt.current,K=Vi(r,K));var ie=s.getDerivedStateFromProps,oe=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function";oe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==l||L!==K)&&ip(r,S,l,K),Br=!1;var re=r.memoizedState;S.state=re,Ra(r,l,S,c),L=r.memoizedState,j!==l||re!==L||$t.current||Br?(typeof ie=="function"&&(sc(r,s,ie,l),L=r.memoizedState),(j=Br||np(r,s,j,l,re,L,K))?(oe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(r.flags|=4194308)):(typeof S.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=L),S.props=l,S.state=L,S.context=K,l=j):(typeof S.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{S=r.stateNode,_h(t,r),j=r.memoizedProps,K=r.type===r.elementType?j:In(r.type,j),S.props=K,oe=r.pendingProps,re=S.context,L=s.contextType,typeof L=="object"&&L!==null?L=xn(L):(L=Qt(s)?hi:Lt.current,L=Vi(r,L));var me=s.getDerivedStateFromProps;(ie=typeof me=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==oe||re!==L)&&ip(r,S,l,L),Br=!1,re=r.memoizedState,S.state=re,Ra(r,l,S,c);var we=r.memoizedState;j!==oe||re!==we||$t.current||Br?(typeof me=="function"&&(sc(r,s,me,l),we=r.memoizedState),(K=Br||np(r,s,K,l,re,we,L)||!1)?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(l,we,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(l,we,L)),typeof S.componentDidUpdate=="function"&&(r.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof S.componentDidUpdate!="function"||j===t.memoizedProps&&re===t.memoizedState||(r.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&re===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=we),S.props=l,S.state=we,S.context=L,l=K):(typeof S.componentDidUpdate!="function"||j===t.memoizedProps&&re===t.memoizedState||(r.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&re===t.memoizedState||(r.flags|=1024),l=!1)}return cc(t,r,s,l,m,c)}function cc(t,r,s,l,c,m){pp(t,r);var S=(r.flags&128)!==0;if(!l&&!S)return c&&xh(r,s,!1),fr(t,r,m);l=r.stateNode,k1.current=r;var j=S&&typeof s.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,t!==null&&S?(r.child=Ki(r,t.child,null,m),r.child=Ki(r,null,j,m)):Gt(t,r,j,m),r.memoizedState=l.state,c&&xh(r,s,!0),r.child}function gp(t){var r=t.stateNode;r.pendingContext?vh(t,r.pendingContext,r.pendingContext!==r.context):r.context&&vh(t,r.context,!1),$u(t,r.containerInfo)}function yp(t,r,s,l,c){return Qi(),qu(c),r.flags|=256,Gt(t,r,s,l),r.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function vp(t,r,s){var l=r.pendingProps,c=at.current,m=!1,S=(r.flags&128)!==0,j;if((j=S)||(j=t!==null&&t.memoizedState===null?!1:(c&2)!==0),j?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),Ze(at,c&1),t===null)return Ou(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(S=l.children,t=l.fallback,m?(l=r.mode,m=r.child,S={mode:"hidden",children:S},!(l&1)&&m!==null?(m.childLanes=0,m.pendingProps=S):m=Ya(S,l,0,null),t=Ei(t,l,s,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=fc(s),r.memoizedState=dc,t):hc(r,S));if(c=t.memoizedState,c!==null&&(j=c.dehydrated,j!==null))return C1(t,r,S,l,j,c,s);if(m){m=l.fallback,S=r.mode,c=t.child,j=c.sibling;var L={mode:"hidden",children:l.children};return!(S&1)&&r.child!==c?(l=r.child,l.childLanes=0,l.pendingProps=L,r.deletions=null):(l=Gr(c,L),l.subtreeFlags=c.subtreeFlags&14680064),j!==null?m=Gr(j,m):(m=Ei(m,S,s,null),m.flags|=2),m.return=r,l.return=r,l.sibling=m,r.child=l,l=m,m=r.child,S=t.child.memoizedState,S=S===null?fc(s):{baseLanes:S.baseLanes|s,cachePool:null,transitions:S.transitions},m.memoizedState=S,m.childLanes=t.childLanes&~s,r.memoizedState=dc,l}return m=t.child,t=m.sibling,l=Gr(m,{mode:"visible",children:l.children}),!(r.mode&1)&&(l.lanes=s),l.return=r,l.sibling=null,t!==null&&(s=r.deletions,s===null?(r.deletions=[t],r.flags|=16):s.push(t)),r.child=l,r.memoizedState=null,l}function hc(t,r){return r=Ya({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Ba(t,r,s,l){return l!==null&&qu(l),Ki(r,t.child,null,s),t=hc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function C1(t,r,s,l,c,m,S){if(s)return r.flags&256?(r.flags&=-257,l=ac(Error(i(422))),Ba(t,r,S,l)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=l.fallback,c=r.mode,l=Ya({mode:"visible",children:l.children},c,0,null),m=Ei(m,c,S,null),m.flags|=2,l.return=r,m.return=r,l.sibling=m,r.child=l,r.mode&1&&Ki(r,t.child,null,S),r.child.memoizedState=fc(S),r.memoizedState=dc,m);if(!(r.mode&1))return Ba(t,r,S,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var j=l.dgst;return l=j,m=Error(i(419)),l=ac(m,l,void 0),Ba(t,r,S,l)}if(j=(S&t.childLanes)!==0,Kt||j){if(l=bt,l!==null){switch(S&-S){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(l.suspendedLanes|S)?0:c,c!==0&&c!==m.retryLane&&(m.retryLane=c,cr(t,c),Bn(l,t,c,-1))}return Rc(),l=ac(Error(i(421))),Ba(t,r,S,l)}return c.data==="$?"?(r.flags|=128,r.child=t.child,r=F1.bind(null,t),c._reactRetry=r,null):(t=m.treeContext,un=Dr(c.nextSibling),ln=r,rt=!0,Dn=null,t!==null&&(vn[wn++]=lr,vn[wn++]=ur,vn[wn++]=pi,lr=t.id,ur=t.overflow,pi=r),r=hc(r,l.children),r.flags|=4096,r)}function wp(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Gu(t.return,r,s)}function pc(t,r,s,l,c){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=c)}function xp(t,r,s){var l=r.pendingProps,c=l.revealOrder,m=l.tail;if(Gt(t,r,l.children,s),l=at.current,l&2)l=l&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wp(t,s,r);else if(t.tag===19)wp(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(Ze(at,l),!(r.mode&1))r.memoizedState=null;else switch(c){case"forwards":for(s=r.child,c=null;s!==null;)t=s.alternate,t!==null&&Ta(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=r.child,r.child=null):(c=s.sibling,s.sibling=null),pc(r,!1,c,s,m);break;case"backwards":for(s=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&Ta(t)===null){r.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}pc(r,!0,s,null,m);break;case"together":pc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fa(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),wi|=r.lanes,!(s&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,s=Gr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Gr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function b1(t,r,s){switch(r.tag){case 3:gp(r),Qi();break;case 5:Ih(r);break;case 1:Qt(r.type)&&xa(r);break;case 4:$u(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,c=r.memoizedProps.value;Ze(ba,l._currentValue),l._currentValue=c;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(Ze(at,at.current&1),r.flags|=128,null):s&r.child.childLanes?vp(t,r,s):(Ze(at,at.current&1),t=fr(t,r,s),t!==null?t.sibling:null);Ze(at,at.current&1);break;case 19:if(l=(s&r.childLanes)!==0,t.flags&128){if(l)return xp(t,r,s);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ze(at,at.current),l)break;return null;case 22:case 23:return r.lanes=0,hp(t,r,s)}return fr(t,r,s)}var Sp,mc,Ap,Ep;Sp=function(t,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},mc=function(){},Ap=function(t,r,s,l){var c=t.memoizedProps;if(c!==l){t=r.stateNode,yi(Vn.current);var m=null;switch(s){case"input":c=Ee(t,c),l=Ee(t,l),m=[];break;case"select":c=se({},c,{value:void 0}),l=se({},l,{value:void 0}),m=[];break;case"textarea":c=rr(t,c),l=rr(t,l),m=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=ya)}on(s,l);var S;s=null;for(K in c)if(!l.hasOwnProperty(K)&&c.hasOwnProperty(K)&&c[K]!=null)if(K==="style"){var j=c[K];for(S in j)j.hasOwnProperty(S)&&(s||(s={}),s[S]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(a.hasOwnProperty(K)?m||(m=[]):(m=m||[]).push(K,null));for(K in l){var L=l[K];if(j=c!=null?c[K]:void 0,l.hasOwnProperty(K)&&L!==j&&(L!=null||j!=null))if(K==="style")if(j){for(S in j)!j.hasOwnProperty(S)||L&&L.hasOwnProperty(S)||(s||(s={}),s[S]="");for(S in L)L.hasOwnProperty(S)&&j[S]!==L[S]&&(s||(s={}),s[S]=L[S])}else s||(m||(m=[]),m.push(K,s)),s=L;else K==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,j=j?j.__html:void 0,L!=null&&j!==L&&(m=m||[]).push(K,L)):K==="children"?typeof L!="string"&&typeof L!="number"||(m=m||[]).push(K,""+L):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(a.hasOwnProperty(K)?(L!=null&&K==="onScroll"&&et("scroll",t),m||j===L||(m=[])):(m=m||[]).push(K,L))}s&&(m=m||[]).push("style",s);var K=m;(r.updateQueue=K)&&(r.flags|=4)}},Ep=function(t,r,s,l){s!==l&&(r.flags|=4)};function vo(t,r){if(!rt)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ft(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function M1(t,r,s){var l=r.pendingProps;switch(Bu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(r),null;case 1:return Qt(r.type)&&wa(),Ft(r),null;case 3:return l=r.stateNode,Zi(),tt($t),tt(Lt),Yu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(ka(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Dn!==null&&(bc(Dn),Dn=null))),mc(t,r),Ft(r),null;case 5:Qu(r);var c=yi(ho.current);if(s=r.type,t!==null&&r.stateNode!=null)Ap(t,r,s,l,c),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(i(166));return Ft(r),null}if(t=yi(Vn.current),ka(r)){l=r.stateNode,s=r.type;var m=r.memoizedProps;switch(l[Gn]=r,l[ao]=m,t=(r.mode&1)!==0,s){case"dialog":et("cancel",l),et("close",l);break;case"iframe":case"object":case"embed":et("load",l);break;case"video":case"audio":for(c=0;c<io.length;c++)et(io[c],l);break;case"source":et("error",l);break;case"img":case"image":case"link":et("error",l),et("load",l);break;case"details":et("toggle",l);break;case"input":_e(l,m),et("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!m.multiple},et("invalid",l);break;case"textarea":Cr(l,m),et("invalid",l)}on(s,m),c=null;for(var S in m)if(m.hasOwnProperty(S)){var j=m[S];S==="children"?typeof j=="string"?l.textContent!==j&&(m.suppressHydrationWarning!==!0&&ga(l.textContent,j,t),c=["children",j]):typeof j=="number"&&l.textContent!==""+j&&(m.suppressHydrationWarning!==!0&&ga(l.textContent,j,t),c=["children",""+j]):a.hasOwnProperty(S)&&j!=null&&S==="onScroll"&&et("scroll",l)}switch(s){case"input":Tt(l),Ke(l,m,!0);break;case"textarea":Tt(l),Un(l);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(l.onclick=ya)}l=c,r.updateQueue=l,l!==null&&(r.flags|=4)}else{S=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pn(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=S.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=S.createElement(s,{is:l.is}):(t=S.createElement(s),s==="select"&&(S=t,l.multiple?S.multiple=!0:l.size&&(S.size=l.size))):t=S.createElementNS(t,s),t[Gn]=r,t[ao]=l,Sp(t,r,!1,!1),r.stateNode=t;e:{switch(S=Tn(s,l),s){case"dialog":et("cancel",t),et("close",t),c=l;break;case"iframe":case"object":case"embed":et("load",t),c=l;break;case"video":case"audio":for(c=0;c<io.length;c++)et(io[c],t);c=l;break;case"source":et("error",t),c=l;break;case"img":case"image":case"link":et("error",t),et("load",t),c=l;break;case"details":et("toggle",t),c=l;break;case"input":_e(t,l),c=Ee(t,l),et("invalid",t);break;case"option":c=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},c=se({},l,{value:void 0}),et("invalid",t);break;case"textarea":Cr(t,l),c=rr(t,l),et("invalid",t);break;default:c=l}on(s,c),j=c;for(m in j)if(j.hasOwnProperty(m)){var L=j[m];m==="style"?wt(t,L):m==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&ce(t,L)):m==="children"?typeof L=="string"?(s!=="textarea"||L!=="")&&te(t,L):typeof L=="number"&&te(t,""+L):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?L!=null&&m==="onScroll"&&et("scroll",t):L!=null&&P(t,m,L,S))}switch(s){case"input":Tt(t),Ke(t,l,!1);break;case"textarea":Tt(t),Un(t);break;case"option":l.value!=null&&t.setAttribute("value",""+Be(l.value));break;case"select":t.multiple=!!l.multiple,m=l.value,m!=null?_t(t,!!l.multiple,m,!1):l.defaultValue!=null&&_t(t,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=ya)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ft(r),null;case 6:if(t&&r.stateNode!=null)Ep(t,r,t.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(s=yi(ho.current),yi(Vn.current),ka(r)){if(l=r.stateNode,s=r.memoizedProps,l[Gn]=r,(m=l.nodeValue!==s)&&(t=ln,t!==null))switch(t.tag){case 3:ga(l.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ga(l.nodeValue,s,(t.mode&1)!==0)}m&&(r.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Gn]=r,r.stateNode=l}return Ft(r),null;case 13:if(tt(at),l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&un!==null&&r.mode&1&&!(r.flags&128))bh(),Qi(),r.flags|=98560,m=!1;else if(m=ka(r),l!==null&&l.dehydrated!==null){if(t===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Gn]=r}else Qi(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Ft(r),m=!1}else Dn!==null&&(bc(Dn),Dn=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(r.child.flags|=8192,r.mode&1&&(t===null||at.current&1?kt===0&&(kt=3):Rc())),r.updateQueue!==null&&(r.flags|=4),Ft(r),null);case 4:return Zi(),mc(t,r),t===null&&so(r.stateNode.containerInfo),Ft(r),null;case 10:return Hu(r.type._context),Ft(r),null;case 17:return Qt(r.type)&&wa(),Ft(r),null;case 19:if(tt(at),m=r.memoizedState,m===null)return Ft(r),null;if(l=(r.flags&128)!==0,S=m.rendering,S===null)if(l)vo(m,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(S=Ta(t),S!==null){for(r.flags|=128,vo(m,!1),l=S.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=s,s=r.child;s!==null;)m=s,t=l,m.flags&=14680066,S=m.alternate,S===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=S.childLanes,m.lanes=S.lanes,m.child=S.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=S.memoizedProps,m.memoizedState=S.memoizedState,m.updateQueue=S.updateQueue,m.type=S.type,t=S.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Ze(at,at.current&1|2),r.child}t=t.sibling}m.tail!==null&&yt()>ns&&(r.flags|=128,l=!0,vo(m,!1),r.lanes=4194304)}else{if(!l)if(t=Ta(S),t!==null){if(r.flags|=128,l=!0,s=t.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),vo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!rt)return Ft(r),null}else 2*yt()-m.renderingStartTime>ns&&s!==1073741824&&(r.flags|=128,l=!0,vo(m,!1),r.lanes=4194304);m.isBackwards?(S.sibling=r.child,r.child=S):(s=m.last,s!==null?s.sibling=S:r.child=S,m.last=S)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=yt(),r.sibling=null,s=at.current,Ze(at,l?s&1|2:s&1),r):(Ft(r),null);case 22:case 23:return Pc(),l=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(r.flags|=8192),l&&r.mode&1?cn&1073741824&&(Ft(r),r.subtreeFlags&6&&(r.flags|=8192)):Ft(r),null;case 24:return null;case 25:return null}throw Error(i(156,r.tag))}function P1(t,r){switch(Bu(r),r.tag){case 1:return Qt(r.type)&&wa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Zi(),tt($t),tt(Lt),Yu(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Qu(r),null;case 13:if(tt(at),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Qi()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return tt(at),null;case 4:return Zi(),null;case 10:return Hu(r.type._context),null;case 22:case 23:return Pc(),null;case 24:return null;default:return null}}var Oa=!1,Ot=!1,R1=typeof WeakSet=="function"?WeakSet:Set,ge=null;function es(t,r){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){pt(t,r,l)}else s.current=null}function gc(t,r,s){try{s()}catch(l){pt(t,r,l)}}var kp=!1;function T1(t,r){if(Pu=sa,t=nh(),xu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var S=0,j=-1,L=-1,K=0,ie=0,oe=t,re=null;t:for(;;){for(var me;oe!==s||c!==0&&oe.nodeType!==3||(j=S+c),oe!==m||l!==0&&oe.nodeType!==3||(L=S+l),oe.nodeType===3&&(S+=oe.nodeValue.length),(me=oe.firstChild)!==null;)re=oe,oe=me;for(;;){if(oe===t)break t;if(re===s&&++K===c&&(j=S),re===m&&++ie===l&&(L=S),(me=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=me}s=j===-1||L===-1?null:{start:j,end:L}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ru={focusedElem:t,selectionRange:s},sa=!1,ge=r;ge!==null;)if(r=ge,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ge=t;else for(;ge!==null;){r=ge;try{var we=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var xe=we.memoizedProps,vt=we.memoizedState,G=r.stateNode,z=G.getSnapshotBeforeUpdate(r.elementType===r.type?xe:In(r.type,xe),vt);G.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var $=r.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(le){pt(r,r.return,le)}if(t=r.sibling,t!==null){t.return=r.return,ge=t;break}ge=r.return}return we=kp,kp=!1,we}function wo(t,r,s){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&t)===t){var m=c.destroy;c.destroy=void 0,m!==void 0&&gc(r,s,m)}c=c.next}while(c!==l)}}function qa(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var l=s.create;s.destroy=l()}s=s.next}while(s!==r)}}function yc(t){var r=t.ref;if(r!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof r=="function"?r(t):r.current=t}}function Cp(t){var r=t.alternate;r!==null&&(t.alternate=null,Cp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Gn],delete r[ao],delete r[Du],delete r[f1],delete r[h1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bp(t){return t.tag===5||t.tag===3||t.tag===4}function Mp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=ya));else if(l!==4&&(t=t.child,t!==null))for(vc(t,r,s),t=t.sibling;t!==null;)vc(t,r,s),t=t.sibling}function wc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(wc(t,r,s),t=t.sibling;t!==null;)wc(t,r,s),t=t.sibling}var Dt=null,Nn=!1;function Or(t,r,s){for(s=s.child;s!==null;)Pp(t,r,s),s=s.sibling}function Pp(t,r,s){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Jo,s)}catch{}switch(s.tag){case 5:Ot||es(s,r);case 6:var l=Dt,c=Nn;Dt=null,Or(t,r,s),Dt=l,Nn=c,Dt!==null&&(Nn?(t=Dt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Dt.removeChild(s.stateNode));break;case 18:Dt!==null&&(Nn?(t=Dt,s=s.stateNode,t.nodeType===8?ju(t.parentNode,s):t.nodeType===1&&ju(t,s),Ys(t)):ju(Dt,s.stateNode));break;case 4:l=Dt,c=Nn,Dt=s.stateNode.containerInfo,Nn=!0,Or(t,r,s),Dt=l,Nn=c;break;case 0:case 11:case 14:case 15:if(!Ot&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var m=c,S=m.destroy;m=m.tag,S!==void 0&&(m&2||m&4)&&gc(s,r,S),c=c.next}while(c!==l)}Or(t,r,s);break;case 1:if(!Ot&&(es(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(j){pt(s,r,j)}Or(t,r,s);break;case 21:Or(t,r,s);break;case 22:s.mode&1?(Ot=(l=Ot)||s.memoizedState!==null,Or(t,r,s),Ot=l):Or(t,r,s);break;default:Or(t,r,s)}}function Rp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new R1),r.forEach(function(l){var c=O1.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}}function Ln(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];try{var m=t,S=r,j=S;e:for(;j!==null;){switch(j.tag){case 5:Dt=j.stateNode,Nn=!1;break e;case 3:Dt=j.stateNode.containerInfo,Nn=!0;break e;case 4:Dt=j.stateNode.containerInfo,Nn=!0;break e}j=j.return}if(Dt===null)throw Error(i(160));Pp(m,S,c),Dt=null,Nn=!1;var L=c.alternate;L!==null&&(L.return=null),c.return=null}catch(K){pt(c,r,K)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Tp(r,t),r=r.sibling}function Tp(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(r,t),$n(t),l&4){try{wo(3,t,t.return),qa(3,t)}catch(xe){pt(t,t.return,xe)}try{wo(5,t,t.return)}catch(xe){pt(t,t.return,xe)}}break;case 1:Ln(r,t),$n(t),l&512&&s!==null&&es(s,s.return);break;case 5:if(Ln(r,t),$n(t),l&512&&s!==null&&es(s,s.return),t.flags&32){var c=t.stateNode;try{te(c,"")}catch(xe){pt(t,t.return,xe)}}if(l&4&&(c=t.stateNode,c!=null)){var m=t.memoizedProps,S=s!==null?s.memoizedProps:m,j=t.type,L=t.updateQueue;if(t.updateQueue=null,L!==null)try{j==="input"&&m.type==="radio"&&m.name!=null&&Ie(c,m),Tn(j,S);var K=Tn(j,m);for(S=0;S<L.length;S+=2){var ie=L[S],oe=L[S+1];ie==="style"?wt(c,oe):ie==="dangerouslySetInnerHTML"?ce(c,oe):ie==="children"?te(c,oe):P(c,ie,oe,K)}switch(j){case"input":We(c,m);break;case"textarea":yn(c,m);break;case"select":var re=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!m.multiple;var me=m.value;me!=null?_t(c,!!m.multiple,me,!1):re!==!!m.multiple&&(m.defaultValue!=null?_t(c,!!m.multiple,m.defaultValue,!0):_t(c,!!m.multiple,m.multiple?[]:"",!1))}c[ao]=m}catch(xe){pt(t,t.return,xe)}}break;case 6:if(Ln(r,t),$n(t),l&4){if(t.stateNode===null)throw Error(i(162));c=t.stateNode,m=t.memoizedProps;try{c.nodeValue=m}catch(xe){pt(t,t.return,xe)}}break;case 3:if(Ln(r,t),$n(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ys(r.containerInfo)}catch(xe){pt(t,t.return,xe)}break;case 4:Ln(r,t),$n(t);break;case 13:Ln(r,t),$n(t),c=t.child,c.flags&8192&&(m=c.memoizedState!==null,c.stateNode.isHidden=m,!m||c.alternate!==null&&c.alternate.memoizedState!==null||(Ac=yt())),l&4&&Rp(t);break;case 22:if(ie=s!==null&&s.memoizedState!==null,t.mode&1?(Ot=(K=Ot)||ie,Ln(r,t),Ot=K):Ln(r,t),$n(t),l&8192){if(K=t.memoizedState!==null,(t.stateNode.isHidden=K)&&!ie&&t.mode&1)for(ge=t,ie=t.child;ie!==null;){for(oe=ge=ie;ge!==null;){switch(re=ge,me=re.child,re.tag){case 0:case 11:case 14:case 15:wo(4,re,re.return);break;case 1:es(re,re.return);var we=re.stateNode;if(typeof we.componentWillUnmount=="function"){l=re,s=re.return;try{r=l,we.props=r.memoizedProps,we.state=r.memoizedState,we.componentWillUnmount()}catch(xe){pt(l,s,xe)}}break;case 5:es(re,re.return);break;case 22:if(re.memoizedState!==null){Dp(oe);continue}}me!==null?(me.return=re,ge=me):Dp(oe)}ie=ie.sibling}e:for(ie=null,oe=t;;){if(oe.tag===5){if(ie===null){ie=oe;try{c=oe.stateNode,K?(m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(j=oe.stateNode,L=oe.memoizedProps.style,S=L!=null&&L.hasOwnProperty("display")?L.display:null,j.style.display=be("display",S))}catch(xe){pt(t,t.return,xe)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(xe){pt(t,t.return,xe)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===t)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===t)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===t)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Ln(r,t),$n(t),l&4&&Rp(t);break;case 21:break;default:Ln(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var s=t.return;s!==null;){if(bp(s)){var l=s;break e}s=s.return}throw Error(i(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(te(c,""),l.flags&=-33);var m=Mp(t);wc(t,m,c);break;case 3:case 4:var S=l.stateNode.containerInfo,j=Mp(t);vc(t,j,S);break;default:throw Error(i(161))}}catch(L){pt(t,t.return,L)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function _1(t,r,s){ge=t,_p(t)}function _p(t,r,s){for(var l=(t.mode&1)!==0;ge!==null;){var c=ge,m=c.child;if(c.tag===22&&l){var S=c.memoizedState!==null||Oa;if(!S){var j=c.alternate,L=j!==null&&j.memoizedState!==null||Ot;j=Oa;var K=Ot;if(Oa=S,(Ot=L)&&!K)for(ge=c;ge!==null;)S=ge,L=S.child,S.tag===22&&S.memoizedState!==null?Ip(c):L!==null?(L.return=S,ge=L):Ip(c);for(;m!==null;)ge=m,_p(m),m=m.sibling;ge=c,Oa=j,Ot=K}jp(t)}else c.subtreeFlags&8772&&m!==null?(m.return=c,ge=m):jp(t)}}function jp(t){for(;ge!==null;){var r=ge;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ot||qa(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!Ot)if(s===null)l.componentDidMount();else{var c=r.elementType===r.type?s.memoizedProps:In(r.type,s.memoizedProps);l.componentDidUpdate(c,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Dh(r,m,l);break;case 3:var S=r.updateQueue;if(S!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}Dh(r,S,s)}break;case 5:var j=r.stateNode;if(s===null&&r.flags&4){s=j;var L=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&s.focus();break;case"img":L.src&&(s.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var K=r.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&Ys(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Ot||r.flags&512&&yc(r)}catch(re){pt(r,r.return,re)}}if(r===t){ge=null;break}if(s=r.sibling,s!==null){s.return=r.return,ge=s;break}ge=r.return}}function Dp(t){for(;ge!==null;){var r=ge;if(r===t){ge=null;break}var s=r.sibling;if(s!==null){s.return=r.return,ge=s;break}ge=r.return}}function Ip(t){for(;ge!==null;){var r=ge;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{qa(4,r)}catch(L){pt(r,s,L)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var c=r.return;try{l.componentDidMount()}catch(L){pt(r,c,L)}}var m=r.return;try{yc(r)}catch(L){pt(r,m,L)}break;case 5:var S=r.return;try{yc(r)}catch(L){pt(r,S,L)}}}catch(L){pt(r,r.return,L)}if(r===t){ge=null;break}var j=r.sibling;if(j!==null){j.return=r.return,ge=j;break}ge=r.return}}var j1=Math.ceil,za=D.ReactCurrentDispatcher,xc=D.ReactCurrentOwner,An=D.ReactCurrentBatchConfig,Ue=0,bt=null,xt=null,It=0,cn=0,ts=Ir(0),kt=0,xo=null,wi=0,Ua=0,Sc=0,So=null,Yt=null,Ac=0,ns=1/0,hr=null,Ha=!1,Ec=null,qr=null,Ga=!1,zr=null,Va=0,Ao=0,kc=null,Wa=-1,$a=0;function Vt(){return Ue&6?yt():Wa!==-1?Wa:Wa=yt()}function Ur(t){return t.mode&1?Ue&2&&It!==0?It&-It:m1.transition!==null?($a===0&&($a=Mf()),$a):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:Lf(t.type)),t):1}function Bn(t,r,s,l){if(50<Ao)throw Ao=0,kc=null,Error(i(185));Vs(t,s,l),(!(Ue&2)||t!==bt)&&(t===bt&&(!(Ue&2)&&(Ua|=s),kt===4&&Hr(t,It)),Xt(t,l),s===1&&Ue===0&&!(r.mode&1)&&(ns=yt()+500,Sa&&Lr()))}function Xt(t,r){var s=t.callbackNode;mv(t,r);var l=na(t,t===bt?It:0);if(l===0)s!==null&&kf(s),t.callbackNode=null,t.callbackPriority=0;else if(r=l&-l,t.callbackPriority!==r){if(s!=null&&kf(s),r===1)t.tag===0?p1(Lp.bind(null,t)):Sh(Lp.bind(null,t)),c1(function(){!(Ue&6)&&Lr()}),s=null;else{switch(Pf(l)){case 1:s=ru;break;case 4:s=Cf;break;case 16:s=Zo;break;case 536870912:s=bf;break;default:s=Zo}s=Gp(s,Np.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function Np(t,r){if(Wa=-1,$a=0,Ue&6)throw Error(i(327));var s=t.callbackNode;if(rs()&&t.callbackNode!==s)return null;var l=na(t,t===bt?It:0);if(l===0)return null;if(l&30||l&t.expiredLanes||r)r=Qa(t,l);else{r=l;var c=Ue;Ue|=2;var m=Fp();(bt!==t||It!==r)&&(hr=null,ns=yt()+500,Si(t,r));do try{N1();break}catch(j){Bp(t,j)}while(!0);Uu(),za.current=m,Ue=c,xt!==null?r=0:(bt=null,It=0,r=kt)}if(r!==0){if(r===2&&(c=iu(t),c!==0&&(l=c,r=Cc(t,c))),r===1)throw s=xo,Si(t,0),Hr(t,l),Xt(t,yt()),s;if(r===6)Hr(t,l);else{if(c=t.current.alternate,!(l&30)&&!D1(c)&&(r=Qa(t,l),r===2&&(m=iu(t),m!==0&&(l=m,r=Cc(t,m))),r===1))throw s=xo,Si(t,0),Hr(t,l),Xt(t,yt()),s;switch(t.finishedWork=c,t.finishedLanes=l,r){case 0:case 1:throw Error(i(345));case 2:Ai(t,Yt,hr);break;case 3:if(Hr(t,l),(l&130023424)===l&&(r=Ac+500-yt(),10<r)){if(na(t,0)!==0)break;if(c=t.suspendedLanes,(c&l)!==l){Vt(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=_u(Ai.bind(null,t,Yt,hr),r);break}Ai(t,Yt,hr);break;case 4:if(Hr(t,l),(l&4194240)===l)break;for(r=t.eventTimes,c=-1;0<l;){var S=31-_n(l);m=1<<S,S=r[S],S>c&&(c=S),l&=~m}if(l=c,l=yt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*j1(l/1960))-l,10<l){t.timeoutHandle=_u(Ai.bind(null,t,Yt,hr),l);break}Ai(t,Yt,hr);break;case 5:Ai(t,Yt,hr);break;default:throw Error(i(329))}}}return Xt(t,yt()),t.callbackNode===s?Np.bind(null,t):null}function Cc(t,r){var s=So;return t.current.memoizedState.isDehydrated&&(Si(t,r).flags|=256),t=Qa(t,r),t!==2&&(r=Yt,Yt=s,r!==null&&bc(r)),t}function bc(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function D1(t){for(var r=t;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var c=s[l],m=c.getSnapshot;c=c.value;try{if(!jn(m(),c))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Hr(t,r){for(r&=~Sc,r&=~Ua,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var s=31-_n(r),l=1<<s;t[s]=-1,r&=~l}}function Lp(t){if(Ue&6)throw Error(i(327));rs();var r=na(t,0);if(!(r&1))return Xt(t,yt()),null;var s=Qa(t,r);if(t.tag!==0&&s===2){var l=iu(t);l!==0&&(r=l,s=Cc(t,l))}if(s===1)throw s=xo,Si(t,0),Hr(t,r),Xt(t,yt()),s;if(s===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ai(t,Yt,hr),Xt(t,yt()),null}function Mc(t,r){var s=Ue;Ue|=1;try{return t(r)}finally{Ue=s,Ue===0&&(ns=yt()+500,Sa&&Lr())}}function xi(t){zr!==null&&zr.tag===0&&!(Ue&6)&&rs();var r=Ue;Ue|=1;var s=An.transition,l=Qe;try{if(An.transition=null,Qe=1,t)return t()}finally{Qe=l,An.transition=s,Ue=r,!(Ue&6)&&Lr()}}function Pc(){cn=ts.current,tt(ts)}function Si(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,u1(s)),xt!==null)for(s=xt.return;s!==null;){var l=s;switch(Bu(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&wa();break;case 3:Zi(),tt($t),tt(Lt),Yu();break;case 5:Qu(l);break;case 4:Zi();break;case 13:tt(at);break;case 19:tt(at);break;case 10:Hu(l.type._context);break;case 22:case 23:Pc()}s=s.return}if(bt=t,xt=t=Gr(t.current,null),It=cn=r,kt=0,xo=null,Sc=Ua=wi=0,Yt=So=null,gi!==null){for(r=0;r<gi.length;r++)if(s=gi[r],l=s.interleaved,l!==null){s.interleaved=null;var c=l.next,m=s.pending;if(m!==null){var S=m.next;m.next=c,l.next=S}s.pending=l}gi=null}return t}function Bp(t,r){do{var s=xt;try{if(Uu(),_a.current=Na,ja){for(var l=lt.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}ja=!1}if(vi=0,Ct=Et=lt=null,po=!1,mo=0,xc.current=null,s===null||s.return===null){kt=1,xo=r,xt=null;break}e:{var m=t,S=s.return,j=s,L=r;if(r=It,j.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=L,ie=j,oe=ie.tag;if(!(ie.mode&1)&&(oe===0||oe===11||oe===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=lp(S);if(me!==null){me.flags&=-257,up(me,S,j,m,r),me.mode&1&&ap(m,K,r),r=me,L=K;var we=r.updateQueue;if(we===null){var xe=new Set;xe.add(L),r.updateQueue=xe}else we.add(L);break e}else{if(!(r&1)){ap(m,K,r),Rc();break e}L=Error(i(426))}}else if(rt&&j.mode&1){var vt=lp(S);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),up(vt,S,j,m,r),qu(Ji(L,j));break e}}m=L=Ji(L,j),kt!==4&&(kt=2),So===null?So=[m]:So.push(m),m=S;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var G=sp(m,L,r);jh(m,G);break e;case 1:j=L;var z=m.type,$=m.stateNode;if(!(m.flags&128)&&(typeof z.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(qr===null||!qr.has($)))){m.flags|=65536,r&=-r,m.lanes|=r;var le=op(m,j,r);jh(m,le);break e}}m=m.return}while(m!==null)}qp(s)}catch(Se){r=Se,xt===s&&s!==null&&(xt=s=s.return);continue}break}while(!0)}function Fp(){var t=za.current;return za.current=Na,t===null?Na:t}function Rc(){(kt===0||kt===3||kt===2)&&(kt=4),bt===null||!(wi&268435455)&&!(Ua&268435455)||Hr(bt,It)}function Qa(t,r){var s=Ue;Ue|=2;var l=Fp();(bt!==t||It!==r)&&(hr=null,Si(t,r));do try{I1();break}catch(c){Bp(t,c)}while(!0);if(Uu(),Ue=s,za.current=l,xt!==null)throw Error(i(261));return bt=null,It=0,kt}function I1(){for(;xt!==null;)Op(xt)}function N1(){for(;xt!==null&&!ov();)Op(xt)}function Op(t){var r=Hp(t.alternate,t,cn);t.memoizedProps=t.pendingProps,r===null?qp(t):xt=r,xc.current=null}function qp(t){var r=t;do{var s=r.alternate;if(t=r.return,r.flags&32768){if(s=P1(s,r),s!==null){s.flags&=32767,xt=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,xt=null;return}}else if(s=M1(s,r,cn),s!==null){xt=s;return}if(r=r.sibling,r!==null){xt=r;return}xt=r=t}while(r!==null);kt===0&&(kt=5)}function Ai(t,r,s){var l=Qe,c=An.transition;try{An.transition=null,Qe=1,L1(t,r,s,l)}finally{An.transition=c,Qe=l}return null}function L1(t,r,s,l){do rs();while(zr!==null);if(Ue&6)throw Error(i(327));s=t.finishedWork;var c=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var m=s.lanes|s.childLanes;if(gv(t,m),t===bt&&(xt=bt=null,It=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ga||(Ga=!0,Gp(Zo,function(){return rs(),null})),m=(s.flags&15990)!==0,s.subtreeFlags&15990||m){m=An.transition,An.transition=null;var S=Qe;Qe=1;var j=Ue;Ue|=4,xc.current=null,T1(t,s),Tp(s,t),n1(Ru),sa=!!Pu,Ru=Pu=null,t.current=s,_1(s),av(),Ue=j,Qe=S,An.transition=m}else t.current=s;if(Ga&&(Ga=!1,zr=t,Va=c),m=t.pendingLanes,m===0&&(qr=null),cv(s.stateNode),Xt(t,yt()),r!==null)for(l=t.onRecoverableError,s=0;s<r.length;s++)c=r[s],l(c.value,{componentStack:c.stack,digest:c.digest});if(Ha)throw Ha=!1,t=Ec,Ec=null,t;return Va&1&&t.tag!==0&&rs(),m=t.pendingLanes,m&1?t===kc?Ao++:(Ao=0,kc=t):Ao=0,Lr(),null}function rs(){if(zr!==null){var t=Pf(Va),r=An.transition,s=Qe;try{if(An.transition=null,Qe=16>t?16:t,zr===null)var l=!1;else{if(t=zr,zr=null,Va=0,Ue&6)throw Error(i(331));var c=Ue;for(Ue|=4,ge=t.current;ge!==null;){var m=ge,S=m.child;if(ge.flags&16){var j=m.deletions;if(j!==null){for(var L=0;L<j.length;L++){var K=j[L];for(ge=K;ge!==null;){var ie=ge;switch(ie.tag){case 0:case 11:case 15:wo(8,ie,m)}var oe=ie.child;if(oe!==null)oe.return=ie,ge=oe;else for(;ge!==null;){ie=ge;var re=ie.sibling,me=ie.return;if(Cp(ie),ie===K){ge=null;break}if(re!==null){re.return=me,ge=re;break}ge=me}}}var we=m.alternate;if(we!==null){var xe=we.child;if(xe!==null){we.child=null;do{var vt=xe.sibling;xe.sibling=null,xe=vt}while(xe!==null)}}ge=m}}if(m.subtreeFlags&2064&&S!==null)S.return=m,ge=S;else e:for(;ge!==null;){if(m=ge,m.flags&2048)switch(m.tag){case 0:case 11:case 15:wo(9,m,m.return)}var G=m.sibling;if(G!==null){G.return=m.return,ge=G;break e}ge=m.return}}var z=t.current;for(ge=z;ge!==null;){S=ge;var $=S.child;if(S.subtreeFlags&2064&&$!==null)$.return=S,ge=$;else e:for(S=z;ge!==null;){if(j=ge,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:qa(9,j)}}catch(Se){pt(j,j.return,Se)}if(j===S){ge=null;break e}var le=j.sibling;if(le!==null){le.return=j.return,ge=le;break e}ge=j.return}}if(Ue=c,Lr(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Jo,t)}catch{}l=!0}return l}finally{Qe=s,An.transition=r}}return!1}function zp(t,r,s){r=Ji(s,r),r=sp(t,r,1),t=Fr(t,r,1),r=Vt(),t!==null&&(Vs(t,1,r),Xt(t,r))}function pt(t,r,s){if(t.tag===3)zp(t,t,s);else for(;r!==null;){if(r.tag===3){zp(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){t=Ji(s,t),t=op(r,t,1),r=Fr(r,t,1),t=Vt(),r!==null&&(Vs(r,1,t),Xt(r,t));break}}r=r.return}}function B1(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),r=Vt(),t.pingedLanes|=t.suspendedLanes&s,bt===t&&(It&s)===s&&(kt===4||kt===3&&(It&130023424)===It&&500>yt()-Ac?Si(t,0):Sc|=s),Xt(t,r)}function Up(t,r){r===0&&(t.mode&1?(r=ta,ta<<=1,!(ta&130023424)&&(ta=4194304)):r=1);var s=Vt();t=cr(t,r),t!==null&&(Vs(t,r,s),Xt(t,s))}function F1(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Up(t,s)}function O1(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(r),Up(t,s)}var Hp;Hp=function(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps||$t.current)Kt=!0;else{if(!(t.lanes&s)&&!(r.flags&128))return Kt=!1,b1(t,r,s);Kt=!!(t.flags&131072)}else Kt=!1,rt&&r.flags&1048576&&Ah(r,Ea,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;Fa(t,r),t=r.pendingProps;var c=Vi(r,Lt.current);Xi(r,s),c=Ju(null,r,l,t,c,s);var m=ec();return r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Qt(l)?(m=!0,xa(r)):m=!1,r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Wu(r),c.updater=La,r.stateNode=c,c._reactInternals=r,oc(r,l,t,s),r=cc(null,r,l,!0,m,s)):(r.tag=0,rt&&m&&Lu(r),Gt(null,r,c,s),r=r.child),r;case 16:l=r.elementType;e:{switch(Fa(t,r),t=r.pendingProps,c=l._init,l=c(l._payload),r.type=l,c=r.tag=z1(l),t=In(l,t),c){case 0:r=uc(null,r,l,t,s);break e;case 1:r=mp(null,r,l,t,s);break e;case 11:r=cp(null,r,l,t,s);break e;case 14:r=dp(null,r,l,In(l.type,t),s);break e}throw Error(i(306,l,""))}return r;case 0:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:In(l,c),uc(t,r,l,c,s);case 1:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:In(l,c),mp(t,r,l,c,s);case 3:e:{if(gp(r),t===null)throw Error(i(387));l=r.pendingProps,m=r.memoizedState,c=m.element,_h(t,r),Ra(r,l,null,s);var S=r.memoizedState;if(l=S.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){c=Ji(Error(i(423)),r),r=yp(t,r,l,s,c);break e}else if(l!==c){c=Ji(Error(i(424)),r),r=yp(t,r,l,s,c);break e}else for(un=Dr(r.stateNode.containerInfo.firstChild),ln=r,rt=!0,Dn=null,s=Rh(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Qi(),l===c){r=fr(t,r,s);break e}Gt(t,r,l,s)}r=r.child}return r;case 5:return Ih(r),t===null&&Ou(r),l=r.type,c=r.pendingProps,m=t!==null?t.memoizedProps:null,S=c.children,Tu(l,c)?S=null:m!==null&&Tu(l,m)&&(r.flags|=32),pp(t,r),Gt(t,r,S,s),r.child;case 6:return t===null&&Ou(r),null;case 13:return vp(t,r,s);case 4:return $u(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ki(r,null,l,s):Gt(t,r,l,s),r.child;case 11:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:In(l,c),cp(t,r,l,c,s);case 7:return Gt(t,r,r.pendingProps,s),r.child;case 8:return Gt(t,r,r.pendingProps.children,s),r.child;case 12:return Gt(t,r,r.pendingProps.children,s),r.child;case 10:e:{if(l=r.type._context,c=r.pendingProps,m=r.memoizedProps,S=c.value,Ze(ba,l._currentValue),l._currentValue=S,m!==null)if(jn(m.value,S)){if(m.children===c.children&&!$t.current){r=fr(t,r,s);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var j=m.dependencies;if(j!==null){S=m.child;for(var L=j.firstContext;L!==null;){if(L.context===l){if(m.tag===1){L=dr(-1,s&-s),L.tag=2;var K=m.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?L.next=L:(L.next=ie.next,ie.next=L),K.pending=L}}m.lanes|=s,L=m.alternate,L!==null&&(L.lanes|=s),Gu(m.return,s,r),j.lanes|=s;break}L=L.next}}else if(m.tag===10)S=m.type===r.type?null:m.child;else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=s,j=S.alternate,j!==null&&(j.lanes|=s),Gu(S,s,r),S=m.sibling}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}Gt(t,r,c.children,s),r=r.child}return r;case 9:return c=r.type,l=r.pendingProps.children,Xi(r,s),c=xn(c),l=l(c),r.flags|=1,Gt(t,r,l,s),r.child;case 14:return l=r.type,c=In(l,r.pendingProps),c=In(l.type,c),dp(t,r,l,c,s);case 15:return fp(t,r,r.type,r.pendingProps,s);case 17:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:In(l,c),Fa(t,r),r.tag=1,Qt(l)?(t=!0,xa(r)):t=!1,Xi(r,s),rp(r,l,c),oc(r,l,c,s),cc(null,r,l,!0,t,s);case 19:return xp(t,r,s);case 22:return hp(t,r,s)}throw Error(i(156,r.tag))};function Gp(t,r){return Ef(t,r)}function q1(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,s,l){return new q1(t,r,s,l)}function Tc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function z1(t){if(typeof t=="function")return Tc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ue)return 11;if(t===Ce)return 14}return 2}function Gr(t,r){var s=t.alternate;return s===null?(s=En(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Ka(t,r,s,l,c,m){var S=2;if(l=t,typeof t=="function")Tc(t)&&(S=1);else if(typeof t=="string")S=5;else e:switch(t){case R:return Ei(s.children,c,m,r);case B:S=8,c|=8;break;case H:return t=En(12,s,r,c|2),t.elementType=H,t.lanes=m,t;case ye:return t=En(13,s,r,c),t.elementType=ye,t.lanes=m,t;case ke:return t=En(19,s,r,c),t.elementType=ke,t.lanes=m,t;case ve:return Ya(s,c,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:S=10;break e;case ee:S=9;break e;case ue:S=11;break e;case Ce:S=14;break e;case Ae:S=16,l=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return r=En(S,s,r,c),r.elementType=t,r.type=l,r.lanes=m,r}function Ei(t,r,s,l){return t=En(7,t,l,r),t.lanes=s,t}function Ya(t,r,s,l){return t=En(22,t,l,r),t.elementType=ve,t.lanes=s,t.stateNode={isHidden:!1},t}function _c(t,r,s){return t=En(6,t,null,r),t.lanes=s,t}function jc(t,r,s){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function U1(t,r,s,l,c){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Dc(t,r,s,l,c,m,S,j,L){return t=new U1(t,r,s,j,L),r===1?(r=1,m===!0&&(r|=8)):r=0,m=En(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wu(m),t}function H1(t,r,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:l==null?null:""+l,children:t,containerInfo:r,implementation:s}}function Vp(t){if(!t)return Nr;t=t._reactInternals;e:{if(di(t)!==t||t.tag!==1)throw Error(i(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(i(171))}if(t.tag===1){var s=t.type;if(Qt(s))return wh(t,s,r)}return r}function Wp(t,r,s,l,c,m,S,j,L){return t=Dc(s,l,!0,t,c,m,S,j,L),t.context=Vp(null),s=t.current,l=Vt(),c=Ur(s),m=dr(l,c),m.callback=r??null,Fr(s,m,c),t.current.lanes=c,Vs(t,c,l),Xt(t,l),t}function Xa(t,r,s,l){var c=r.current,m=Vt(),S=Ur(c);return s=Vp(s),r.context===null?r.context=s:r.pendingContext=s,r=dr(m,S),r.payload={element:t},l=l===void 0?null:l,l!==null&&(r.callback=l),t=Fr(c,r,S),t!==null&&(Bn(t,c,S,m),Pa(t,c,S)),S}function Za(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $p(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Ic(t,r){$p(t,r),(t=t.alternate)&&$p(t,r)}function G1(){return null}var Qp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nc(t){this._internalRoot=t}Ja.prototype.render=Nc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));Xa(t,r,null,null)},Ja.prototype.unmount=Nc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;xi(function(){Xa(null,t,null,null)}),r[or]=null}};function Ja(t){this._internalRoot=t}Ja.prototype.unstable_scheduleHydration=function(t){if(t){var r=_f();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Tr.length&&r!==0&&r<Tr[s].priority;s++);Tr.splice(s,0,t),s===0&&If(t)}};function Lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function el(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kp(){}function V1(t,r,s,l,c){if(c){if(typeof l=="function"){var m=l;l=function(){var K=Za(S);m.call(K)}}var S=Wp(r,l,t,0,null,!1,!1,"",Kp);return t._reactRootContainer=S,t[or]=S.current,so(t.nodeType===8?t.parentNode:t),xi(),S}for(;c=t.lastChild;)t.removeChild(c);if(typeof l=="function"){var j=l;l=function(){var K=Za(L);j.call(K)}}var L=Dc(t,0,!1,null,null,!1,!1,"",Kp);return t._reactRootContainer=L,t[or]=L.current,so(t.nodeType===8?t.parentNode:t),xi(function(){Xa(r,L,s,l)}),L}function tl(t,r,s,l,c){var m=s._reactRootContainer;if(m){var S=m;if(typeof c=="function"){var j=c;c=function(){var L=Za(S);j.call(L)}}Xa(r,S,t,c)}else S=V1(s,r,t,c,l);return Za(S)}Rf=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var s=Gs(r.pendingLanes);s!==0&&(ou(r,s|1),Xt(r,yt()),!(Ue&6)&&(ns=yt()+500,Lr()))}break;case 13:xi(function(){var l=cr(t,1);if(l!==null){var c=Vt();Bn(l,t,1,c)}}),Ic(t,1)}},au=function(t){if(t.tag===13){var r=cr(t,134217728);if(r!==null){var s=Vt();Bn(r,t,134217728,s)}Ic(t,134217728)}},Tf=function(t){if(t.tag===13){var r=Ur(t),s=cr(t,r);if(s!==null){var l=Vt();Bn(s,t,r,l)}Ic(t,r)}},_f=function(){return Qe},jf=function(t,r){var s=Qe;try{return Qe=t,r()}finally{Qe=s}},br=function(t,r,s){switch(r){case"input":if(We(t,s),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var c=va(l);if(!c)throw Error(i(90));nr(l),We(l,c)}}}break;case"textarea":yn(t,s);break;case"select":r=s.value,r!=null&&_t(t,!!s.multiple,r,!1)}},N=Mc,X=xi;var W1={usingClientEntryPoint:!1,Events:[lo,Hi,va,Us,Hs,Mc]},Eo={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$1={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sf(t),t===null?null:t.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||G1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Jo=nl.inject($1),Hn=nl}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W1,Zt.createPortal=function(t,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lc(r))throw Error(i(200));return H1(t,r,null,s)},Zt.createRoot=function(t,r){if(!Lc(t))throw Error(i(299));var s=!1,l="",c=Qp;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),r=Dc(t,1,!1,null,null,s,!1,l,c),t[or]=r.current,so(t.nodeType===8?t.parentNode:t),new Nc(r)},Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=Sf(r),t=t===null?null:t.stateNode,t},Zt.flushSync=function(t){return xi(t)},Zt.hydrate=function(t,r,s){if(!el(r))throw Error(i(200));return tl(null,t,r,!0,s)},Zt.hydrateRoot=function(t,r,s){if(!Lc(t))throw Error(i(405));var l=s!=null&&s.hydratedSources||null,c=!1,m="",S=Qp;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),r=Wp(r,null,t,1,s??null,c,!1,m,S),t[or]=r.current,so(t),l)for(t=0;t<l.length;t++)s=l[t],c=s._getVersion,c=c(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,c]:r.mutableSourceEagerHydrationData.push(s,c);return new Ja(r)},Zt.render=function(t,r,s){if(!el(r))throw Error(i(200));return tl(null,t,r,!1,s)},Zt.unmountComponentAtNode=function(t){if(!el(t))throw Error(i(40));return t._reactRootContainer?(xi(function(){tl(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1},Zt.unstable_batchedUpdates=Mc,Zt.unstable_renderSubtreeIntoContainer=function(t,r,s,l){if(!el(s))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return tl(t,r,s,!1,l)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var rm;function iw(){if(rm)return Oc.exports;rm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Oc.exports=rw(),Oc.exports}var im;function sw(){if(im)return rl;im=1;var n=iw();return rl.createRoot=n.createRoot,rl.hydrateRoot=n.hydrateRoot,rl}var ow=sw(),Co={},sm;function aw(){if(sm)return Co;sm=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.parse=f,Co.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function f(y,x){const w=new u,_=y.length;if(_<2)return w;const k=(x==null?void 0:x.decode)||v;let A=0;do{const M=y.indexOf("=",A);if(M===-1)break;const P=y.indexOf(";",A),D=P===-1?_:P;if(M>D){A=y.lastIndexOf(";",M-1)+1;continue}const F=h(y,A,M),b=d(y,M,F),R=y.slice(F,b);if(w[R]===void 0){let B=h(y,M+1,D),H=d(y,D,B);const U=k(y.slice(B,H));w[R]=U}A=D+1}while(A<_);return w}function h(y,x,w){do{const _=y.charCodeAt(x);if(_!==32&&_!==9)return x}while(++x<w);return w}function d(y,x,w){for(;x>w;){const _=y.charCodeAt(--x);if(_!==32&&_!==9)return x+1}return w}function p(y,x,w){const _=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const k=_(x);if(!e.test(k))throw new TypeError(`argument val is invalid: ${x}`);let A=y+"="+k;if(!w)return A;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);A+="; Max-Age="+w.maxAge}if(w.domain){if(!i.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);A+="; Domain="+w.domain}if(w.path){if(!o.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);A+="; Path="+w.path}if(w.expires){if(!E(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);A+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(A+="; HttpOnly"),w.secure&&(A+="; Secure"),w.partitioned&&(A+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return A}function v(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function E(y){return a.call(y)==="[object Date]"}return Co}aw();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var om="popstate";function lw(n={}){function e(o,a){let{pathname:u,search:f,hash:h}=o.location;return Kc("",{pathname:u,search:f,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(o,a){return typeof a=="string"?a:jo(a)}return cw(e,i,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function er(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uw(){return Math.random().toString(36).substring(2,10)}function am(n,e){return{usr:n.state,key:n.key,idx:e}}function Kc(n,e,i=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fs(e):e,state:i,key:e&&e.key||o||uw()}}function jo({pathname:n="/",search:e="",hash:i=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Fs(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substring(i),n=n.substring(0,i));let o=n.indexOf("?");o>=0&&(e.search=n.substring(o),n=n.substring(0,o)),n&&(e.pathname=n)}return e}function cw(n,e,i,o={}){let{window:a=document.defaultView,v5Compat:u=!1}=o,f=a.history,h="POP",d=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function E(){h="POP";let k=v(),A=k==null?null:k-p;p=k,d&&d({action:h,location:_.location,delta:A})}function y(k,A){h="PUSH";let M=Kc(_.location,k,A);p=v()+1;let P=am(M,p),D=_.createHref(M);try{f.pushState(P,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(D)}u&&d&&d({action:h,location:_.location,delta:1})}function x(k,A){h="REPLACE";let M=Kc(_.location,k,A);p=v();let P=am(M,p),D=_.createHref(M);f.replaceState(P,"",D),u&&d&&d({action:h,location:_.location,delta:0})}function w(k){let A=a.location.origin!=="null"?a.location.origin:a.location.href,M=typeof k=="string"?k:jo(k);return M=M.replace(/ $/,"%20"),ct(A,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,A)}let _={get action(){return h},get location(){return n(a,f)},listen(k){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(om,E),d=k,()=>{a.removeEventListener(om,E),d=null}},createHref(k){return e(a,k)},createURL:w,encodeLocation(k){let A=w(k);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:x,go(k){return f.go(k)}};return _}function Cm(n,e,i="/"){return dw(n,e,i,!1)}function dw(n,e,i,o){let a=typeof e=="string"?Fs(e):e,u=ti(a.pathname||"/",i);if(u==null)return null;let f=bm(n);fw(f);let h=null;for(let d=0;h==null&&d<f.length;++d){let p=Ew(u);h=Sw(f[d],p,o)}return h}function bm(n,e=[],i=[],o=""){let a=(u,f,h)=>{let d={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};d.relativePath.startsWith("/")&&(ct(d.relativePath.startsWith(o),`Absolute route path "${d.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(o.length));let p=wr([o,d.relativePath]),v=i.concat(d);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),bm(u.children,e,v,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:ww(p,u.index),routesMeta:v})};return n.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))a(u,f);else for(let d of Mm(u.path))a(u,f,d)}),e}function Mm(n){let e=n.split("/");if(e.length===0)return[];let[i,...o]=e,a=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return a?[u,""]:[u];let f=Mm(o.join("/")),h=[];return h.push(...f.map(d=>d===""?u:[u,d].join("/"))),a&&h.push(...f),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function fw(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:xw(e.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var hw=/^:[\w-]+$/,pw=3,mw=2,gw=1,yw=10,vw=-2,lm=n=>n==="*";function ww(n,e){let i=n.split("/"),o=i.length;return i.some(lm)&&(o+=vw),e&&(o+=mw),i.filter(a=>!lm(a)).reduce((a,u)=>a+(hw.test(u)?pw:u===""?gw:yw),o)}function xw(n,e){return n.length===e.length&&n.slice(0,-1).every((o,a)=>o===e[a])?n[n.length-1]-e[e.length-1]:0}function Sw(n,e,i=!1){let{routesMeta:o}=n,a={},u="/",f=[];for(let h=0;h<o.length;++h){let d=o[h],p=h===o.length-1,v=u==="/"?e:e.slice(u.length)||"/",E=Sl({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),y=d.route;if(!E&&p&&i&&!o[o.length-1].route.index&&(E=Sl({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!E)return null;Object.assign(a,E.params),f.push({params:a,pathname:wr([u,E.pathname]),pathnameBase:Mw(wr([u,E.pathnameBase])),route:y}),E.pathnameBase!=="/"&&(u=wr([u,E.pathnameBase]))}return f}function Sl(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,o]=Aw(n.path,n.caseSensitive,n.end),a=e.match(i);if(!a)return null;let u=a[0],f=u.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:o.reduce((p,{paramName:v,isOptional:E},y)=>{if(v==="*"){let w=h[y]||"";f=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const x=h[y];return E&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:n}}function Aw(n,e=!1,i=!0){er(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,d)=>(o.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function Ew(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ti(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,o=n.charAt(i);return o&&o!=="/"?null:n.slice(i)||"/"}function kw(n,e="/"){let{pathname:i,search:o="",hash:a=""}=typeof n=="string"?Fs(n):n;return{pathname:i?i.startsWith("/")?i:Cw(i,e):e,search:Pw(o),hash:Rw(a)}}function Cw(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function Uc(n,e,i,o){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bw(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Pm(n){let e=bw(n);return e.map((i,o)=>o===e.length-1?i.pathname:i.pathnameBase)}function Rm(n,e,i,o=!1){let a;typeof n=="string"?a=Fs(n):(a={...n},ct(!a.pathname||!a.pathname.includes("?"),Uc("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),Uc("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),Uc("#","search","hash",a)));let u=n===""||a.pathname==="",f=u?"/":a.pathname,h;if(f==null)h=i;else{let E=e.length-1;if(!o&&f.startsWith("..")){let y=f.split("/");for(;y[0]==="..";)y.shift(),E-=1;a.pathname=y.join("/")}h=E>=0?e[E]:"/"}let d=kw(a,h),p=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&i.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}var wr=n=>n.join("/").replace(/\/\/+/g,"/"),Mw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Pw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Rw=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Tw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Tm=["POST","PUT","PATCH","DELETE"];new Set(Tm);var _w=["GET",...Tm];new Set(_w);var Os=I.createContext(null);Os.displayName="DataRouter";var Bl=I.createContext(null);Bl.displayName="DataRouterState";var _m=I.createContext({isTransitioning:!1});_m.displayName="ViewTransition";var jw=I.createContext(new Map);jw.displayName="Fetchers";var Dw=I.createContext(null);Dw.displayName="Await";var tr=I.createContext(null);tr.displayName="Navigation";var Uo=I.createContext(null);Uo.displayName="Location";var Ar=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var dd=I.createContext(null);dd.displayName="RouteError";function Iw(n,{relative:e}={}){ct(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=I.useContext(tr),{hash:a,pathname:u,search:f}=Go(n,{relative:e}),h=u;return i!=="/"&&(h=u==="/"?i:wr([i,u])),o.createHref({pathname:h,search:f,hash:a})}function Ho(){return I.useContext(Uo)!=null}function li(){return ct(Ho(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Uo).location}var jm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dm(n){I.useContext(tr).static||I.useLayoutEffect(n)}function Nw(){let{isDataRoute:n}=I.useContext(Ar);return n?Qw():Lw()}function Lw(){ct(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Os),{basename:e,navigator:i}=I.useContext(tr),{matches:o}=I.useContext(Ar),{pathname:a}=li(),u=JSON.stringify(Pm(o)),f=I.useRef(!1);return Dm(()=>{f.current=!0}),I.useCallback((d,p={})=>{if(er(f.current,jm),!f.current)return;if(typeof d=="number"){i.go(d);return}let v=Rm(d,JSON.parse(u),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:wr([e,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[e,i,u,a,n])}I.createContext(null);function Go(n,{relative:e}={}){let{matches:i}=I.useContext(Ar),{pathname:o}=li(),a=JSON.stringify(Pm(i));return I.useMemo(()=>Rm(n,JSON.parse(a),o,e==="path"),[n,a,o,e])}function Bw(n,e){return Im(n,e)}function Im(n,e,i,o){var M;ct(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:u}=I.useContext(tr),{matches:f}=I.useContext(Ar),h=f[f.length-1],d=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let P=E&&E.path||"";Nm(p,!E||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=li(),x;if(e){let P=typeof e=="string"?Fs(e):e;ct(v==="/"||((M=P.pathname)==null?void 0:M.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${P.pathname}" was given in the \`location\` prop.`),x=P}else x=y;let w=x.pathname||"/",_=w;if(v!=="/"){let P=v.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=!u&&i&&i.matches&&i.matches.length>0?i.matches:Cm(n,{pathname:_});er(E||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),er(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Uw(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:wr([v,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?v:wr([v,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),f,i,o);return e&&A?I.createElement(Uo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},A):A}function Fw(){let n=$w(),e=Tw(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),i?I.createElement("pre",{style:a},i):null,f)}var Ow=I.createElement(Fw,null),qw=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?I.createElement(Ar.Provider,{value:this.props.routeContext},I.createElement(dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zw({routeContext:n,match:e,children:i}){let o=I.useContext(Os);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ar.Provider,{value:n},i)}function Uw(n,e=[],i=null,o=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let a=n,u=i==null?void 0:i.errors;if(u!=null){let d=a.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let f=!1,h=-1;if(i)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:v,errors:E}=i,y=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||y){f=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,v)=>{let E,y=!1,x=null,w=null;i&&(E=u&&p.route.id?u[p.route.id]:void 0,x=p.route.errorElement||Ow,f&&(h<0&&v===0?(Nm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):h===v&&(y=!0,w=p.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,v+1)),k=()=>{let A;return E?A=x:y?A=w:p.route.Component?A=I.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=d,I.createElement(zw,{match:p,routeContext:{outlet:d,matches:_,isDataRoute:i!=null},children:A})};return i&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?I.createElement(qw,{location:i.location,revalidation:i.revalidation,component:x,error:E,children:k(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):k()},null)}function fd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hw(n){let e=I.useContext(Os);return ct(e,fd(n)),e}function Gw(n){let e=I.useContext(Bl);return ct(e,fd(n)),e}function Vw(n){let e=I.useContext(Ar);return ct(e,fd(n)),e}function hd(n){let e=Vw(n),i=e.matches[e.matches.length-1];return ct(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function Ww(){return hd("useRouteId")}function $w(){var o;let n=I.useContext(dd),e=Gw("useRouteError"),i=hd("useRouteError");return n!==void 0?n:(o=e.errors)==null?void 0:o[i]}function Qw(){let{router:n}=Hw("useNavigate"),e=hd("useNavigate"),i=I.useRef(!1);return Dm(()=>{i.current=!0}),I.useCallback(async(a,u={})=>{er(i.current,jm),i.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...u}))},[n,e])}var um={};function Nm(n,e,i){!e&&!um[n]&&(um[n]=!0,er(!1,i))}I.memo(Kw);function Kw({routes:n,future:e,state:i}){return Im(n,void 0,i,e)}function ut(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yw({basename:n="/",children:e=null,location:i,navigationType:o="POP",navigator:a,static:u=!1}){ct(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:f,navigator:a,static:u,future:{}}),[f,a,u]);typeof i=="string"&&(i=Fs(i));let{pathname:d="/",search:p="",hash:v="",state:E=null,key:y="default"}=i,x=I.useMemo(()=>{let w=ti(d,f);return w==null?null:{location:{pathname:w,search:p,hash:v,state:E,key:y},navigationType:o}},[f,d,p,v,E,y,o]);return er(x!=null,`<Router basename="${f}"> is not able to match the URL "${d}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:I.createElement(tr.Provider,{value:h},I.createElement(Uo.Provider,{children:e,value:x}))}function Lm({children:n,location:e}){return Bw(Yc(n),e)}function Yc(n,e=[]){let i=[];return I.Children.forEach(n,(o,a)=>{if(!I.isValidElement(o))return;let u=[...e,a];if(o.type===I.Fragment){i.push.apply(i,Yc(o.props.children,u));return}ct(o.type===ut,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!o.props.index||!o.props.children,"An index route cannot have child routes.");let f={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Yc(o.props.children,u)),i.push(f)}),i}var hl="get",pl="application/x-www-form-urlencoded";function Fl(n){return n!=null&&typeof n.tagName=="string"}function Xw(n){return Fl(n)&&n.tagName.toLowerCase()==="button"}function Zw(n){return Fl(n)&&n.tagName.toLowerCase()==="form"}function Jw(n){return Fl(n)&&n.tagName.toLowerCase()==="input"}function ex(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tx(n,e){return n.button===0&&(!e||e==="_self")&&!ex(n)}var il=null;function nx(){if(il===null)try{new FormData(document.createElement("form"),0),il=!1}catch{il=!0}return il}var rx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hc(n){return n!=null&&!rx.has(n)?(er(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pl}"`),null):n}function ix(n,e){let i,o,a,u,f;if(Zw(n)){let h=n.getAttribute("action");o=h?ti(h,e):null,i=n.getAttribute("method")||hl,a=Hc(n.getAttribute("enctype"))||pl,u=new FormData(n)}else if(Xw(n)||Jw(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(o=d?ti(d,e):null,i=n.getAttribute("formmethod")||h.getAttribute("method")||hl,a=Hc(n.getAttribute("formenctype"))||Hc(h.getAttribute("enctype"))||pl,u=new FormData(h,n),!nx()){let{name:p,type:v,value:E}=n;if(v==="image"){let y=p?`${p}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else p&&u.append(p,E)}}else{if(Fl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=hl,o=null,a=pl,f=n}return u&&a==="text/plain"&&(f=u,u=void 0),{action:o,method:i.toLowerCase(),encType:a,formData:u,body:f}}function pd(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function sx(n,e){if(n.id in e)return e[n.id];try{let i=await import(n.module);return e[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ox(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ax(n,e,i){let o=await Promise.all(n.map(async a=>{let u=e.routes[a.route.id];if(u){let f=await sx(u,i);return f.links?f.links():[]}return[]}));return dx(o.flat(1).filter(ox).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function cm(n,e,i,o,a,u){let f=(d,p)=>i[p]?d.route.id!==i[p].route.id:!0,h=(d,p)=>{var v;return i[p].pathname!==d.pathname||((v=i[p].route.path)==null?void 0:v.endsWith("*"))&&i[p].params["*"]!==d.params["*"]};return u==="assets"?e.filter((d,p)=>f(d,p)||h(d,p)):u==="data"?e.filter((d,p)=>{var E;let v=o.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(f(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=i[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function lx(n,e){return ux(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function ux(n){return[...new Set(n)]}function cx(n){let e={},i=Object.keys(n).sort();for(let o of i)e[o]=n[o];return e}function dx(n,e){let i=new Set;return new Set(e),n.reduce((o,a)=>{let u=JSON.stringify(cx(a));return i.has(u)||(i.add(u),o.push({key:u,link:a})),o},[])}function fx(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function hx(){let n=I.useContext(Os);return pd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function px(){let n=I.useContext(Bl);return pd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var md=I.createContext(void 0);md.displayName="FrameworkContext";function Bm(){let n=I.useContext(md);return pd(n,"You must render this element inside a <HydratedRouter> element"),n}function mx(n,e){let i=I.useContext(md),[o,a]=I.useState(!1),[u,f]=I.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:v,onTouchStart:E}=e,y=I.useRef(null);I.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let _=A=>{A.forEach(M=>{f(M.isIntersecting)})},k=new IntersectionObserver(_,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[n]),I.useEffect(()=>{if(o){let _=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(_)}}},[o]);let x=()=>{a(!0)},w=()=>{a(!1),f(!1)};return i?n!=="intent"?[u,y,{}]:[u,y,{onFocus:bo(h,x),onBlur:bo(d,w),onMouseEnter:bo(p,x),onMouseLeave:bo(v,w),onTouchStart:bo(E,x)}]:[!1,y,{}]}function bo(n,e){return i=>{n&&n(i),i.defaultPrevented||e(i)}}function gx({page:n,...e}){let{router:i}=hx(),o=I.useMemo(()=>Cm(i.routes,n,i.basename),[i.routes,n,i.basename]);return o?I.createElement(vx,{page:n,matches:o,...e}):null}function yx(n){let{manifest:e,routeModules:i}=Bm(),[o,a]=I.useState([]);return I.useEffect(()=>{let u=!1;return ax(n,e,i).then(f=>{u||a(f)}),()=>{u=!0}},[n,e,i]),o}function vx({page:n,matches:e,...i}){let o=li(),{manifest:a,routeModules:u}=Bm(),{loaderData:f,matches:h}=px(),d=I.useMemo(()=>cm(n,e,h,a,o,"data"),[n,e,h,a,o]),p=I.useMemo(()=>cm(n,e,h,a,o,"assets"),[n,e,h,a,o]),v=I.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let x=new Set,w=!1;if(e.forEach(k=>{var M;let A=a.routes[k.route.id];!A||!A.hasLoader||(!d.some(P=>P.route.id===k.route.id)&&k.route.id in f&&((M=u[k.route.id])!=null&&M.shouldRevalidate)||A.hasClientLoader?w=!0:x.add(k.route.id))}),x.size===0)return[];let _=fx(n);return w&&x.size>0&&_.searchParams.set("_routes",e.filter(k=>x.has(k.route.id)).map(k=>k.route.id).join(",")),[_.pathname+_.search]},[f,o,a,d,e,n,u]),E=I.useMemo(()=>lx(p,a),[p,a]),y=yx(p);return I.createElement(I.Fragment,null,v.map(x=>I.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...i})),E.map(x=>I.createElement("link",{key:x,rel:"modulepreload",href:x,...i})),y.map(({key:x,link:w})=>I.createElement("link",{key:x,...w})))}function wx(...n){return e=>{n.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Fm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fm&&(window.__reactRouterVersion="7.1.5")}catch{}function xx({basename:n,children:e,window:i}){let o=I.useRef();o.current==null&&(o.current=lw({window:i,v5Compat:!0}));let a=o.current,[u,f]=I.useState({action:a.action,location:a.location}),h=I.useCallback(d=>{I.startTransition(()=>f(d))},[f]);return I.useLayoutEffect(()=>a.listen(h),[a,h]),I.createElement(Yw,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:a})}var Om=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ol=I.forwardRef(function({onClick:e,discover:i="render",prefetch:o="none",relative:a,reloadDocument:u,replace:f,state:h,target:d,to:p,preventScrollReset:v,viewTransition:E,...y},x){let{basename:w}=I.useContext(tr),_=typeof p=="string"&&Om.test(p),k,A=!1;if(typeof p=="string"&&_&&(k=p,Fm))try{let H=new URL(window.location.href),U=p.startsWith("//")?new URL(H.protocol+p):new URL(p),ee=ti(U.pathname,w);U.origin===H.origin&&ee!=null?p=ee+U.search+U.hash:A=!0}catch{er(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Iw(p,{relative:a}),[P,D,F]=mx(o,y),b=Ex(p,{replace:f,state:h,target:d,preventScrollReset:v,relative:a,viewTransition:E});function R(H){e&&e(H),H.defaultPrevented||b(H)}let B=I.createElement("a",{...y,...F,href:k||M,onClick:A||u?e:R,ref:wx(x,D),target:d,"data-discover":!_&&i==="render"?"true":void 0});return P&&!_?I.createElement(I.Fragment,null,B,I.createElement(gx,{page:M})):B});Ol.displayName="Link";var qm=I.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:o="",end:a=!1,style:u,to:f,viewTransition:h,children:d,...p},v){let E=Go(f,{relative:p.relative}),y=li(),x=I.useContext(Bl),{navigator:w,basename:_}=I.useContext(tr),k=x!=null&&Px(E)&&h===!0,A=w.encodeLocation?w.encodeLocation(E).pathname:E.pathname,M=y.pathname,P=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(M=M.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&_&&(P=ti(P,_)||P);const D=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let F=M===A||!a&&M.startsWith(A)&&M.charAt(D)==="/",b=P!=null&&(P===A||!a&&P.startsWith(A)&&P.charAt(A.length)==="/"),R={isActive:F,isPending:b,isTransitioning:k},B=F?e:void 0,H;typeof o=="function"?H=o(R):H=[o,F?"active":null,b?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(R):u;return I.createElement(Ol,{...p,"aria-current":B,className:H,ref:v,style:U,to:f,viewTransition:h},typeof d=="function"?d(R):d)});qm.displayName="NavLink";var Sx=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:i,reloadDocument:o,replace:a,state:u,method:f=hl,action:h,onSubmit:d,relative:p,preventScrollReset:v,viewTransition:E,...y},x)=>{let w=bx(),_=Mx(h,{relative:p}),k=f.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&Om.test(h),M=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let D=P.nativeEvent.submitter,F=(D==null?void 0:D.getAttribute("formmethod"))||f;w(D||P.currentTarget,{fetcherKey:e,method:F,navigate:i,replace:a,state:u,relative:p,preventScrollReset:v,viewTransition:E})};return I.createElement("form",{ref:x,method:k,action:_,onSubmit:o?d:M,...y,"data-discover":!A&&n==="render"?"true":void 0})});Sx.displayName="Form";function Ax(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zm(n){let e=I.useContext(Os);return ct(e,Ax(n)),e}function Ex(n,{target:e,replace:i,state:o,preventScrollReset:a,relative:u,viewTransition:f}={}){let h=Nw(),d=li(),p=Go(n,{relative:u});return I.useCallback(v=>{if(tx(v,e)){v.preventDefault();let E=i!==void 0?i:jo(d)===jo(p);h(n,{replace:E,state:o,preventScrollReset:a,relative:u,viewTransition:f})}},[d,h,p,i,o,e,n,a,u,f])}var kx=0,Cx=()=>`__${String(++kx)}__`;function bx(){let{router:n}=zm("useSubmit"),{basename:e}=I.useContext(tr),i=Ww();return I.useCallback(async(o,a={})=>{let{action:u,method:f,encType:h,formData:d,body:p}=ix(o,e);if(a.navigate===!1){let v=a.fetcherKey||Cx();await n.fetch(v,i,a.action||u,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||f,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||f,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:i,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,i])}function Mx(n,{relative:e}={}){let{basename:i}=I.useContext(tr),o=I.useContext(Ar);ct(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),u={...Go(n||".",{relative:e})},f=li();if(n==null){u.search=f.search;let h=new URLSearchParams(u.search),d=h.getAll("index");if(d.some(v=>v==="")){h.delete("index"),d.filter(E=>E).forEach(E=>h.append("index",E));let v=h.toString();u.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:wr([i,u.pathname])),jo(u)}function Px(n,e={}){let i=I.useContext(_m);ct(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=zm("useViewTransitionState"),a=Go(n,{relative:e.relative});if(!i.isTransitioning)return!1;let u=ti(i.currentLocation.pathname,o)||i.currentLocation.pathname,f=ti(i.nextLocation.pathname,o)||i.nextLocation.pathname;return Sl(a.pathname,f)!=null||Sl(a.pathname,u)!=null}new TextEncoder;const Rx="_gameGrid_7dvw9_1",Tx="_gameCard_7dvw9_21",_x="_thumbnail_7dvw9_55",jx="_gameTitle_7dvw9_89",sl={gameGrid:Rx,gameCard:Tx,thumbnail:_x,gameTitle:jx};var Dx=Object.defineProperty,g=(n,e)=>Dx(n,"name",{value:e,configurable:!0}),Ix=(()=>{for(var n=new Uint8Array(128),e=0;e<64;e++)n[e<26?e+65:e<52?e+71:e<62?e-4:e*4-205]=e;return i=>{for(var o=i.length,a=new Uint8Array((o-(i[o-1]=="=")-(i[o-2]=="="))*3/4|0),u=0,f=0;u<o;){var h=n[i.charCodeAt(u++)],d=n[i.charCodeAt(u++)],p=n[i.charCodeAt(u++)],v=n[i.charCodeAt(u++)];a[f++]=h<<2|d>>4,a[f++]=d<<4|p>>2,a[f++]=p<<6|v}return a}})(),Ge,qe=(Ge=class{constructor(e,i,o){W(this,"r",255);W(this,"g",255);W(this,"b",255);this.r=zn(e,0,255),this.g=zn(i,0,255),this.b=zn(o,0,255)}static fromArray(e){return new Ge(e[0],e[1],e[2])}static fromHex(e){if(typeof e=="number")return new Ge(e>>16&255,e>>8&255,e>>0&255);if(typeof e=="string"){let i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!i)throw new Error("Invalid hex color format");return new Ge(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(e,i,o){if(i==0)return new Ge(255*o,255*o,255*o);let a=g((v,E,y)=>(y<0&&(y+=1),y>1&&(y-=1),y<1/6?v+(E-v)*6*y:y<1/2?E:y<2/3?v+(E-v)*(2/3-y)*6:v),"hue2rgb"),u=o<.5?o*(1+i):o+i-o*i,f=2*o-u,h=a(f,u,e+1/3),d=a(f,u,e),p=a(f,u,e-1/3);return new Ge(Math.round(h*255),Math.round(d*255),Math.round(p*255))}clone(){return new Ge(this.r,this.g,this.b)}lighten(e){return new Ge(this.r+e,this.g+e,this.b+e)}darken(e){return this.lighten(-e)}invert(){return new Ge(255-this.r,255-this.g,255-this.b)}mult(e){return new Ge(this.r*e.r/255,this.g*e.g/255,this.b*e.b/255)}lerp(e,i){return new Ge(nn(this.r,e.r,i),nn(this.g,e.g,i),nn(this.b,e.b,i))}toHSL(){let e=this.r/255,i=this.g/255,o=this.b/255,a=Math.max(e,i,o),u=Math.min(e,i,o),f=(a+u)/2,h=f,d=f;if(a==u)f=h=0;else{let p=a-u;switch(h=d>.5?p/(2-a-u):p/(a+u),a){case e:f=(i-o)/p+(i<o?6:0);break;case i:f=(o-e)/p+2;break;case o:f=(e-i)/p+4;break}f/=6}return[f,h,d]}eq(e){return this.r===e.r&&this.g===e.g&&this.b===e.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}},g(Ge,"Color"),W(Ge,"RED",new Ge(255,0,0)),W(Ge,"GREEN",new Ge(0,255,0)),W(Ge,"BLUE",new Ge(0,0,255)),W(Ge,"YELLOW",new Ge(255,255,0)),W(Ge,"MAGENTA",new Ge(255,0,255)),W(Ge,"CYAN",new Ge(0,255,255)),W(Ge,"WHITE",new Ge(255,255,255)),W(Ge,"BLACK",new Ge(0,0,0)),Ge);function $e(...n){if(n.length===0)return new qe(255,255,255);if(n.length===1){if(n[0]instanceof qe)return n[0].clone();if(typeof n[0]=="string")return qe.fromHex(n[0]);if(Array.isArray(n[0])&&n[0].length===3)return qe.fromArray(n[0])}else if(n.length===2){if(n[0]instanceof qe)return n[0].clone()}else if(n.length===3||n.length===4)return new qe(n[0],n[1],n[2]);throw new Error("Invalid color arguments")}g($e,"rgb");var Nx=g((n,e,i)=>qe.fromHSL(n,e,i),"hsl2rgb");function At(n){return n*Math.PI/180}g(At,"deg2rad");function ni(n){return n*180/Math.PI}g(ni,"rad2deg");function zn(n,e,i){return e>i?zn(n,i,e):Math.min(Math.max(n,e),i)}g(zn,"clamp");function nn(n,e,i){if(typeof n=="number"&&typeof e=="number")return n+(e-n)*i;if(n instanceof Z&&e instanceof Z||n instanceof qe&&e instanceof qe)return n.lerp(e,i);throw new Error(`Bad value for lerp(): ${n}, ${e}. Only number, Vec2 and Color is supported.`)}g(nn,"lerp");function qn(n,e,i,o,a){return o+(n-e)/(i-e)*(a-o)}g(qn,"map");function Um(n,e,i,o,a){return zn(qn(n,e,i,o,a),o,a)}g(Um,"mapc");var Xe,Z=(Xe=class{constructor(e=0,i=e){W(this,"x",0);W(this,"y",0);this.x=e,this.y=i}static fromAngle(e){let i=At(e);return new Xe(Math.cos(i),Math.sin(i))}static fromArray(e){return new Xe(e[0],e[1])}clone(){return new Xe(this.x,this.y)}add(...e){let i=Y(...e);return new Xe(this.x+i.x,this.y+i.y)}sub(...e){let i=Y(...e);return new Xe(this.x-i.x,this.y-i.y)}scale(...e){let i=Y(...e);return new Xe(this.x*i.x,this.y*i.y)}dist(...e){let i=Y(...e);return this.sub(i).len()}sdist(...e){let i=Y(...e);return this.sub(i).slen()}static sdist(e,i){let o=e.x-i.x,a=e.y-i.y;return o*o+a*a}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let e=this.len();return e===0?new Xe(0):this.scale(1/e)}normal(){return new Xe(this.y,-this.x)}reflect(e){return this.sub(e.scale(2*this.dot(e)))}project(e){return e.scale(e.dot(this)/e.len())}reject(e){return this.sub(this.project(e))}dot(e){return this.x*e.x+this.y*e.y}static dot(e,i){return e.x*e.x+e.y*e.y}cross(e){return this.x*e.y-this.y*e.x}static cross(e,i){return e.x*i.y-e.y*i.x}angle(...e){let i=Y(...e);return ni(Math.atan2(this.y-i.y,this.x-i.x))}angleBetween(...e){let i=Y(...e);return ni(Math.atan2(this.cross(i),this.dot(i)))}lerp(e,i){return new Xe(nn(this.x,e.x,i),nn(this.y,e.y,i))}slerp(e,i){let o=this.dot(e),a=this.cross(e),u=Math.atan2(a,o);return this.scale(Math.sin((1-i)*u)).add(e.scale(Math.sin(i*u))).scale(1/a)}isZero(){return this.x===0&&this.y===0}toFixed(e){return new Xe(Number(this.x.toFixed(e)),Number(this.y.toFixed(e)))}transform(e){return e.multVec2(this)}eq(e){return this.x===e.x&&this.y===e.y}bbox(){return new dt(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}},g(Xe,"Vec2"),W(Xe,"ZERO",new Xe(0,0)),W(Xe,"ONE",new Xe(1,1)),W(Xe,"LEFT",new Xe(-1,0)),W(Xe,"RIGHT",new Xe(1,0)),W(Xe,"UP",new Xe(0,-1)),W(Xe,"DOWN",new Xe(0,1)),Xe);function Y(...n){if(n.length===1){if(n[0]instanceof Z)return new Z(n[0].x,n[0].y);if(Array.isArray(n[0])&&n[0].length===2)return new Z(...n[0])}return new Z(...n)}g(Y,"vec2");var Xr,gt=(Xr=class{constructor(e,i,o,a){W(this,"x",0);W(this,"y",0);W(this,"w",1);W(this,"h",1);this.x=e,this.y=i,this.w=o,this.h=a}scale(e){return new Xr(this.x+this.w*e.x,this.y+this.h*e.y,this.w*e.w,this.h*e.h)}pos(){return new Z(this.x,this.y)}clone(){return new Xr(this.x,this.y,this.w,this.h)}eq(e){return this.x===e.x&&this.y===e.y&&this.w===e.w&&this.h===e.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}},g(Xr,"Quad"),Xr);function St(n,e,i,o){return new gt(n,e,i,o)}g(St,"quad");var Fn,Al=(Fn=class{constructor(e,i,o,a){W(this,"a");W(this,"b");W(this,"c");W(this,"d");this.a=e,this.b=i,this.c=o,this.d=a}mul(e){return new Fn(this.a*e.a+this.b*e.c,this.a*e.b+this.b*e.d,this.c*e.a+this.d*e.c,this.c*e.b+this.d*e.d)}transform(e){return Y(this.a*e.x+this.b*e.y,this.c*e.x+this.d*e.y)}get inverse(){let e=this.det;return new Fn(this.d/e,-this.b/e,-this.c/e,this.a/e)}get transpose(){return new Fn(this.a,this.c,this.b,this.d)}get eigenvalues(){let e=this.trace/2,i=this.det,o=e+Math.sqrt(e*e-i),a=e-Math.sqrt(e*e-i);return[o,a]}eigenvectors(e,i){return this.c!=0?[[e-this.d,this.c],[i-this.d,this.c]]:this.b!=0?[[this.b,e-this.a],[this.b,i-this.a]]:Math.abs(this.transform(Y(1,0)).x-e)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(e){let i=Math.cos(e),o=Math.sin(e);return new Fn(i,o,-o,i)}static scale(e,i){return new Fn(e,0,0,i)}},g(Fn,"Mat2"),Fn),Yn,Ro=(Yn=class{constructor(e,i,o,a,u,f,h,d,p){W(this,"m11");W(this,"m12");W(this,"m13");W(this,"m21");W(this,"m22");W(this,"m23");W(this,"m31");W(this,"m32");W(this,"m33");this.m11=e,this.m12=i,this.m13=o,this.m21=a,this.m22=u,this.m23=f,this.m31=h,this.m32=d,this.m33=p}static fromMat2(e){return new Yn(e.a,e.b,0,e.c,e.d,0,0,0,1)}toMat2(){return new Al(this.m11,this.m12,this.m21,this.m22)}mul(e){return new Yn(this.m11*e.m11+this.m12*e.m21+this.m13*e.m31,this.m11*e.m12+this.m12*e.m22+this.m13*e.m32,this.m11*e.m13+this.m12*e.m23+this.m13*e.m33,this.m21*e.m11+this.m22*e.m21+this.m23*e.m31,this.m21*e.m12+this.m22*e.m22+this.m23*e.m32,this.m21*e.m13+this.m22*e.m23+this.m23*e.m33,this.m31*e.m11+this.m32*e.m21+this.m33*e.m31,this.m31*e.m12+this.m32*e.m22+this.m33*e.m32,this.m31*e.m13+this.m32*e.m23+this.m33*e.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(e){let i=Math.cos(e),o=Math.sin(e),a=this.m11,u=this.m12;return this.m11=i*this.m11+o*this.m21,this.m12=i*this.m12+o*this.m22,this.m21=i*this.m21-o*a,this.m22=i*this.m22-o*u,this}scale(e,i){return this.m11*=e,this.m12*=e,this.m21*=i,this.m22*=i,this}get inverse(){let e=this.det;return new Yn((this.m22*this.m33-this.m23*this.m32)/e,(this.m13*this.m32-this.m12*this.m33)/e,(this.m12*this.m23-this.m13*this.m22)/e,(this.m23*this.m31-this.m21*this.m33)/e,(this.m11*this.m33-this.m13*this.m31)/e,(this.m13*this.m21-this.m11*this.m23)/e,(this.m21*this.m32-this.m22*this.m31)/e,(this.m12*this.m31-this.m11*this.m32)/e,(this.m11*this.m22-this.m12*this.m21)/e)}get transpose(){return new Yn(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},g(Yn,"Mat3"),Yn),Jt,Jn=(Jt=class{constructor(e){W(this,"m",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);e&&(this.m=e)}static translate(e){return new Jt([1,0,0,0,0,1,0,0,0,0,1,0,e.x,e.y,0,1])}static scale(e){return new Jt([e.x,0,0,0,0,e.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(e){e=At(-e);let i=Math.cos(e),o=Math.sin(e);return new Jt([1,0,0,0,0,i,-o,0,0,o,i,0,0,0,0,1])}static rotateY(e){e=At(-e);let i=Math.cos(e),o=Math.sin(e);return new Jt([i,0,o,0,0,1,0,0,-o,0,i,0,0,0,0,1])}static rotateZ(e){e=At(-e);let i=Math.cos(e),o=Math.sin(e);return new Jt([i,-o,0,0,o,i,0,0,0,0,1,0,0,0,0,1])}translate(e){return this.m[12]+=this.m[0]*e.x+this.m[4]*e.y,this.m[13]+=this.m[1]*e.x+this.m[5]*e.y,this.m[14]+=this.m[2]*e.x+this.m[6]*e.y,this.m[15]+=this.m[3]*e.x+this.m[7]*e.y,this}scale(e){return this.m[0]*=e.x,this.m[4]*=e.y,this.m[1]*=e.x,this.m[5]*=e.y,this.m[2]*=e.x,this.m[6]*=e.y,this.m[3]*=e.x,this.m[7]*=e.y,this}rotate(e){e=At(-e);let i=Math.cos(e),o=Math.sin(e),a=this.m[0],u=this.m[1],f=this.m[4],h=this.m[5];return this.m[0]=a*i+u*o,this.m[1]=-a*o+u*i,this.m[4]=f*i+h*o,this.m[5]=-f*o+h*i,this}mult(e){let i=[];for(let o=0;o<4;o++)for(let a=0;a<4;a++)i[o*4+a]=this.m[0*4+a]*e.m[o*4+0]+this.m[1*4+a]*e.m[o*4+1]+this.m[2*4+a]*e.m[o*4+2]+this.m[3*4+a]*e.m[o*4+3];return new Jt(i)}multVec2(e){return new Z(e.x*this.m[0]+e.y*this.m[4]+this.m[12],e.x*this.m[1]+e.y*this.m[5]+this.m[13])}getTranslation(){return new Z(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let e=this.m[0]*this.m[5]-this.m[1]*this.m[4],i=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new Z(i,e/i)}else if(this.m[4]!=0||this.m[5]!=0){let e=this.m[0]*this.m[5]-this.m[1]*this.m[4],i=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new Z(e/i,i)}else return new Z(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let e=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return ni(this.m[1]>0?Math.acos(this.m[0]/e):-Math.acos(this.m[0]/e))}else if(this.m[4]!=0||this.m[5]!=0){let e=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return ni(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/e):-Math.acos(this.m[4]/e)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let e=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new Z(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(e*e),0)}else if(this.m[4]!=0||this.m[5]!=0){let e=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new Z(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(e*e))}else return new Z(0,0)}invert(){let e=[],i=this.m[10]*this.m[15]-this.m[14]*this.m[11],o=this.m[9]*this.m[15]-this.m[13]*this.m[11],a=this.m[9]*this.m[14]-this.m[13]*this.m[10],u=this.m[8]*this.m[15]-this.m[12]*this.m[11],f=this.m[8]*this.m[14]-this.m[12]*this.m[10],h=this.m[8]*this.m[13]-this.m[12]*this.m[9],d=this.m[6]*this.m[15]-this.m[14]*this.m[7],p=this.m[5]*this.m[15]-this.m[13]*this.m[7],v=this.m[5]*this.m[14]-this.m[13]*this.m[6],E=this.m[4]*this.m[15]-this.m[12]*this.m[7],y=this.m[4]*this.m[14]-this.m[12]*this.m[6],x=this.m[5]*this.m[15]-this.m[13]*this.m[7],w=this.m[4]*this.m[13]-this.m[12]*this.m[5],_=this.m[6]*this.m[11]-this.m[10]*this.m[7],k=this.m[5]*this.m[11]-this.m[9]*this.m[7],A=this.m[5]*this.m[10]-this.m[9]*this.m[6],M=this.m[4]*this.m[11]-this.m[8]*this.m[7],P=this.m[4]*this.m[10]-this.m[8]*this.m[6],D=this.m[4]*this.m[9]-this.m[8]*this.m[5];e[0]=this.m[5]*i-this.m[6]*o+this.m[7]*a,e[4]=-(this.m[4]*i-this.m[6]*u+this.m[7]*f),e[8]=this.m[4]*o-this.m[5]*u+this.m[7]*h,e[12]=-(this.m[4]*a-this.m[5]*f+this.m[6]*h),e[1]=-(this.m[1]*i-this.m[2]*o+this.m[3]*a),e[5]=this.m[0]*i-this.m[2]*u+this.m[3]*f,e[9]=-(this.m[0]*o-this.m[1]*u+this.m[3]*h),e[13]=this.m[0]*a-this.m[1]*f+this.m[2]*h,e[2]=this.m[1]*d-this.m[2]*p+this.m[3]*v,e[6]=-(this.m[0]*d-this.m[2]*E+this.m[3]*y),e[10]=this.m[0]*x-this.m[1]*E+this.m[3]*w,e[14]=-(this.m[0]*v-this.m[1]*y+this.m[2]*w),e[3]=-(this.m[1]*_-this.m[2]*k+this.m[3]*A),e[7]=this.m[0]*_-this.m[2]*M+this.m[3]*P,e[11]=-(this.m[0]*k-this.m[1]*M+this.m[3]*D),e[15]=this.m[0]*A-this.m[1]*P+this.m[2]*D;let F=this.m[0]*e[0]+this.m[1]*e[4]+this.m[2]*e[8]+this.m[3]*e[12];for(let b=0;b<4;b++)for(let R=0;R<4;R++)e[b*4+R]*=1/F;return new Jt(e)}clone(){return new Jt([...this.m])}toString(){return this.m.toString()}},g(Jt,"Mat4"),Jt);function gd(n,e,i,o=a=>-Math.cos(a)){return n+(o(i)+1)/2*(e-n)}g(gd,"wave");var Lx=1103515245,Bx=12345,dm=2147483648,ps,Hm=(ps=class{constructor(e){W(this,"seed");this.seed=e}gen(){return this.seed=(Lx*this.seed+Bx)%dm,this.seed/dm}genNumber(e,i){return e+this.gen()*(i-e)}genVec2(e,i){return new Z(this.genNumber(e.x,i.x),this.genNumber(e.y,i.y))}genColor(e,i){return new qe(this.genNumber(e.r,i.r),this.genNumber(e.g,i.g),this.genNumber(e.b,i.b))}genAny(...e){if(e.length===0)return this.gen();if(e.length===1){if(typeof e[0]=="number")return this.genNumber(0,e[0]);if(e[0]instanceof Z)return this.genVec2(Y(0,0),e[0]);if(e[0]instanceof qe)return this.genColor($e(0,0,0),e[0])}else if(e.length===2){if(typeof e[0]=="number"&&typeof e[1]=="number")return this.genNumber(e[0],e[1]);if(e[0]instanceof Z&&e[1]instanceof Z)return this.genVec2(e[0],e[1]);if(e[0]instanceof qe&&e[1]instanceof qe)return this.genColor(e[0],e[1])}throw new Error("More than 2 arguments not supported")}},g(ps,"RNG"),ps),Xc=new Hm(Date.now());function Gm(n){return n!=null&&(Xc.seed=n),Xc.seed}g(Gm,"randSeed");function Pt(...n){return Xc.genAny(...n)}g(Pt,"rand");function yd(...n){return Math.floor(Pt(...n.length>0?n:[2]))}g(yd,"randi");function Vm(n){return Pt()<=n}g(Vm,"chance");function vd(n){for(let e=n.length-1;e>0;e--){let i=Math.floor(Math.random()*(e+1));[n[e],n[i]]=[n[i],n[e]]}return n}g(vd,"shuffle");function Wm(n,e){return n.length<=e?n.slice():vd(n.slice()).slice(0,e)}g(Wm,"chooseMultiple");function $m(n){return n[yd(n.length)]}g($m,"choose");function wd(n,e){return n.pos.x+n.width>e.pos.x&&n.pos.x<e.pos.x+e.width&&n.pos.y+n.height>e.pos.y&&n.pos.y<e.pos.y+e.height}g(wd,"testRectRect");function Qm(n,e){if(n.p1.x===n.p2.x&&n.p1.y===n.p2.y||e.p1.x===e.p2.x&&e.p1.y===e.p2.y)return null;let i=(e.p2.y-e.p1.y)*(n.p2.x-n.p1.x)-(e.p2.x-e.p1.x)*(n.p2.y-n.p1.y);if(i===0)return null;let o=((e.p2.x-e.p1.x)*(n.p1.y-e.p1.y)-(e.p2.y-e.p1.y)*(n.p1.x-e.p1.x))/i,a=((n.p2.x-n.p1.x)*(n.p1.y-e.p1.y)-(n.p2.y-n.p1.y)*(n.p1.x-e.p1.x))/i;return o<0||o>1||a<0||a>1?null:o}g(Qm,"testLineLineT");function ql(n,e){let i=Qm(n,e);return i?Y(n.p1.x+i*(n.p2.x-n.p1.x),n.p1.y+i*(n.p2.y-n.p1.y)):null}g(ql,"testLineLine");function zl(n,e){let i=e.p2.sub(e.p1),o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;if(i.x!=0){let u=(n.pos.x-e.p1.x)/i.x,f=(n.pos.x+n.width-e.p1.x)/i.x;o=Math.max(o,Math.min(u,f)),a=Math.min(a,Math.max(u,f))}if(i.y!=0){let u=(n.pos.y-e.p1.y)/i.y,f=(n.pos.y+n.height-e.p1.y)/i.y;o=Math.max(o,Math.min(u,f)),a=Math.min(a,Math.max(u,f))}return a>=o&&a>=0&&o<=1}g(zl,"testRectLine");function Vo(n,e){return e.x>n.pos.x&&e.x<n.pos.x+n.width&&e.y>n.pos.y&&e.y<n.pos.y+n.height}g(Vo,"testRectPoint");function xd(n,e){let i=Math.max(n.pos.x,Math.min(e.center.x,n.pos.x+n.width)),o=Math.max(n.pos.y,Math.min(e.center.y,n.pos.y+n.height));return Y(i,o).sdist(e.center)<=e.radius*e.radius}g(xd,"testRectCircle");function Sd(n,e){return Ad(e,new rn(n.points()))}g(Sd,"testRectPolygon");function Ul(n,e){let i=e.sub(n.p1),o=n.p2.sub(n.p1);if(Math.abs(i.cross(o))>Number.EPSILON)return!1;let a=i.dot(o)/o.dot(o);return a>=0&&a<=1}g(Ul,"testLinePoint");function qs(n,e){let i=n.p2.sub(n.p1),o=i.dot(i),a=n.p1.sub(e.center),u=2*i.dot(a),f=a.dot(a)-e.radius*e.radius,h=u*u-4*o*f;if(o<=Number.EPSILON||h<0)return!1;if(h==0){let d=-u/(2*o);if(d>=0&&d<=1)return!0}else{let d=(-u+Math.sqrt(h))/(2*o),p=(-u-Math.sqrt(h))/(2*o);if(d>=0&&d<=1||p>=0&&p<=1)return!0}return Wo(e,n.p1)}g(qs,"testLineCircle");function Hl(n,e){if(Sr(e,n.p1)||Sr(e,n.p2))return!0;for(let i=0;i<e.pts.length;i++){let o=e.pts[i],a=e.pts[(i+1)%e.pts.length];if(ql(n,new gn(o,a)))return!0}return!1}g(Hl,"testLinePolygon");function Wo(n,e){return n.center.sdist(e)<n.radius*n.radius}g(Wo,"testCirclePoint");function Km(n,e){return n.center.sdist(e.center)<(n.radius+e.radius)*(n.radius+e.radius)}g(Km,"testCircleCircle");function $o(n,e){let i=e.pts[e.pts.length-1];for(let o of e.pts){if(qs(new gn(i,o),n))return!0;i=o}return Wo(n,e.pts[0])?!0:Sr(e,n.center)}g($o,"testCirclePolygon");function Ad(n,e){for(let i=0;i<n.pts.length;i++)if(Hl(new gn(n.pts[i],n.pts[(i+1)%n.pts.length]),e))return!0;return!!(n.pts.some(i=>Sr(e,i))||e.pts.some(i=>Sr(n,i)))}g(Ad,"testPolygonPolygon");function Sr(n,e){let i=!1,o=n.pts;for(let a=0,u=o.length-1;a<o.length;u=a++)o[a].y>e.y!=o[u].y>e.y&&e.x<(o[u].x-o[a].x)*(e.y-o[a].y)/(o[u].y-o[a].y)+o[a].x&&(i=!i);return i}g(Sr,"testPolygonPoint");function Gl(n,e){e=e.sub(n.center);let i=At(n.angle),o=Math.cos(i),a=Math.sin(i),u=e.x*o+e.y*a,f=-e.x*a+e.y*o;return u*u/(n.radiusX*n.radiusX)+f*f/(n.radiusY*n.radiusY)<1}g(Gl,"testEllipsePoint");function Do(n,e){let i=e.center.sub(n.center),o=At(n.angle),a=Math.cos(o),u=Math.sin(o),f=i.x*a+i.y*u,h=-i.x*u+i.y*a;return Gl(new Er(Y(),n.radiusX+e.radius,n.radiusY+e.radius,0),Y(f,h))}g(Do,"testEllipseCircle");function Ed(n,e){let i=n.toMat2().inverse;return e=new gn(i.transform(e.p1.sub(n.center)),i.transform(e.p2.sub(n.center))),qs(e,new pn(Y(),1))}g(Ed,"testEllipseLine");function Ym(n,e){if(n.radiusX===n.radiusY)return Do(e,new pn(n.center,n.radiusX));if(e.radiusX===e.radiusY)return Do(n,new pn(e.center,e.radiusX));let i=new Ro(1/n.radiusX**2,0,0,0,1/n.radiusY**2,0,0,0,-1),o=new Ro(1/e.radiusX**2,0,0,0,1/e.radiusY**2,0,0,0,-1),a=n.center.x,u=n.center.y,f=e.center.x,h=e.center.y,d=At(n.angle),p=At(e.angle),v=new Ro(Math.cos(d),-Math.sin(d),a,Math.sin(d),Math.cos(d),u,0,0,1),E=new Ro(Math.cos(p),-Math.sin(p),f,Math.sin(p),Math.cos(p),h,0,0,1),y=v.inverse,x=E.inverse,w=y.transpose.mul(i).mul(y),_=x.transpose.mul(o).mul(x),k=w.m11,A=w.m12,M=w.m13,P=w.m21,D=w.m22,F=w.m23,b=w.m31,R=w.m32,B=w.m33,H=_.m11,U=_.m12,ee=_.m13,ue=_.m21,ye=_.m22,ke=_.m23,Ce=_.m31,Ae=_.m32,ve=_.m33,ne=k*D*B-k*F*R-A*P*B+A*F*b+M*P*R-M*D*b,fe=(k*D*ve-k*F*Ae-k*R*ke+k*B*ye-A*P*ve+A*F*Ce+A*b*ke-A*B*ue+M*P*Ae-M*D*Ce-M*b*ye+M*R*ue+P*R*ee-P*B*U-D*b*ee+D*B*H+F*b*U-F*R*H)/ne,se=(k*ye*ve-k*ke*Ae-A*ue*ve+A*ke*Ce+M*ue*Ae-M*ye*Ce-P*U*ve+P*ee*Ae+D*H*ve-D*ee*Ce-F*H*Ae+F*U*Ce+b*U*ke-b*ee*ye-R*H*ke+R*ee*ue+B*H*ye-B*U*ue)/ne,q=(H*ye*ve-H*ke*Ae-U*ue*ve+U*ke*Ce+ee*ue*Ae-ee*ye*Ce)/ne;if(fe>=0){let Q=-3*se+fe**2,Re=3*fe*q+se*fe**2-4*se**2,Te=-27*q**2+18*q*fe*se+fe**2*se**2-4*fe**3*q-4*se**3;return!(Q>0&&Re<0&&Te>0)}else{let Q=-3*se+fe**2,Re=-27*q**2+18*q*fe*se+fe**2*se**2-4*fe**3*q-4*se**3;return!(Q>0&&Re>0)}}g(Ym,"testEllipseEllipse");function kd(n,e){return Vl(n,new rn(e.points()))}g(kd,"testEllipseRect");function Vl(n,e){let i=n.toMat2().inverse;return e=new rn(e.pts.map(o=>i.transform(o.sub(n.center)))),$o(new pn(Y(),1),e)}g(Vl,"testEllipsePolygon");function Xm(n,e){return n.x===e.x&&n.y===e.y}g(Xm,"testPointPoint");function Zm(n,e){return e instanceof Z?Xm(e,n.pt):e instanceof pn?Wo(e,n.pt):e instanceof gn?Ul(e,n.pt):e instanceof dt?Vo(e,n.pt):e instanceof rn?Sr(e,n.pt):e instanceof Er?Gl(e,n.pt):!1}g(Zm,"testPointShape");function Jm(n,e){return e instanceof Z?Ul(n,e):e instanceof pn?qs(n,e):e instanceof gn?ql(n,e)!=null:e instanceof dt?zl(e,n):e instanceof rn?Hl(n,e):e instanceof Er?Ed(e,n):!1}g(Jm,"testLineShape");function eg(n,e){return e instanceof Z?Wo(n,e):e instanceof pn?Km(n,e):e instanceof gn?qs(e,n):e instanceof dt?xd(e,n):e instanceof rn?$o(n,e):e instanceof Er?Do(e,n):!1}g(eg,"testCircleShape");function tg(n,e){return e instanceof Z?Vo(n,e):e instanceof pn?xd(n,e):e instanceof gn?zl(n,e):e instanceof dt?wd(n,e):e instanceof rn?Sd(n,e):e instanceof Er?kd(e,n):!1}g(tg,"testRectShape");function ng(n,e){return e instanceof Z?Sr(n,e):e instanceof pn?$o(e,n):e instanceof gn?Hl(e,n):e instanceof dt?Sd(e,n):e instanceof rn?Ad(e,n):e instanceof Er?Vl(e,n):!1}g(ng,"testPolygonShape");function rg(n,e){return e instanceof Z?Gl(n,e):e instanceof pn?Do(n,e):e instanceof gn?Ed(n,e):e instanceof dt?kd(n,e):e instanceof rn?Vl(n,e):e instanceof Er?Ym(e,n):!1}g(rg,"testEllipseShape");function Cd(n,e,i){let o=n,a=i.p1,u=i.p2,f=e,h=u.sub(a),d=f.cross(h);if(Math.abs(d)<Number.EPSILON)return null;let p=a.sub(o),v=p.cross(h)/d;if(v<=0||v>=1)return null;let E=p.cross(f)/d;if(E<=0||E>=1)return null;let y=h.normal().unit();return e.dot(y)>0&&(y.x*=-1,y.y*=-1),{point:o.add(f.scale(v)),normal:y,fraction:v}}g(Cd,"raycastLine");function ig(n,e,i){let o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,u;if(n.x!=0){let f=(i.pos.x-n.x)/e.x,h=(i.pos.x+i.width-n.x)/e.x;u=Y(-Math.sign(e.x),0),o=Math.max(o,Math.min(f,h)),a=Math.min(a,Math.max(f,h))}if(n.y!=0){let f=(i.pos.y-n.y)/e.y,h=(i.pos.y+i.height-n.y)/e.y;Math.min(f,h)>o&&(u=Y(0,-Math.sign(e.y))),o=Math.max(o,Math.min(f,h)),a=Math.min(a,Math.max(f,h))}return a>=o&&o>=0&&o<=1?{point:n.add(e.scale(o)),normal:u,fraction:o}:null}g(ig,"raycastRect");function bd(n,e,i){let o=n,a=i.center,u=e,f=u.dot(u),h=o.sub(a),d=2*u.dot(h),p=h.dot(h)-i.radius*i.radius,v=d*d-4*f*p;if(f<=Number.EPSILON||v<0)return null;if(v==0){let E=-d/(2*f);if(E>=0&&E<=1){let y=o.add(u.scale(E));return{point:y,normal:y.sub(a),fraction:E}}}else{let E=(-d+Math.sqrt(v))/(2*f),y=(-d-Math.sqrt(v))/(2*f),x=null;if(E>=0&&E<=1&&(x=E),y>=0&&y<=1&&(x=Math.min(y,x??y)),x!=null){let w=o.add(u.scale(x));return{point:w,normal:w.sub(a).unit(),fraction:x}}}return null}g(bd,"raycastCircle");function sg(n,e,i){let o=i.pts,a=null,u=o[o.length-1];for(let f=0;f<o.length;f++){let h=o[f],d=Cd(n,e,new gn(u,h));d&&(!a||a.fraction>d.fraction)&&(a=d),u=h}return a}g(sg,"raycastPolygon");function og(n,e,i){let o=i.toMat2(),a=o.inverse,u=a.transform(n.sub(i.center)),f=a.transform(e),h=bd(u,f,new pn(Y(),1));if(h){let d=Al.rotation(At(-i.angle)),p=Al.scale(i.radiusX,i.radiusY).transform(h.point),v=o.transform(h.point).add(i.center),E=v.dist(n)/e.len();return{point:v,normal:d.transform(Y(i.radiusY**2*p.x,i.radiusX**2*p.y)).unit(),fraction:E}}return h}g(og,"raycastEllipse");function ag(n,e,i,o=64){let a=n,u=e.len(),f=e.scale(1/u),h=0,d=Y(Math.floor(n.x),Math.floor(n.y)),p=Y(f.x>0?1:-1,f.y>0?1:-1),v=Y(Math.abs(1/f.x),Math.abs(1/f.y)),E=Y(p.x>0?d.x+1-n.x:n.x-d.x,p.y>0?d.y+1-n.y:n.y-d.y),y=Y(v.x<1/0?v.x*E.x:1/0,v.y<1/0?v.y*E.y:1/0),x=-1;for(;h<=o;){let w=i(d);if(w===!0)return{point:a.add(f.scale(h)),normal:Y(x===0?-p.x:0,x===1?-p.y:0),fraction:h/u,gridPos:d};if(w)return w;y.x<y.y?(d.x+=p.x,h=y.x,y.x+=v.x,x=0):(d.y+=p.y,h=y.y,y.y+=v.y,x=1)}return null}g(ag,"raycastGrid");var Zr,Fx=(Zr=class{constructor(e){W(this,"pt");this.pt=e.clone()}transform(e){return new Zr(e.multVec2(this.pt))}bbox(){return new dt(this.pt,0,0)}area(){return 0}clone(){return new Zr(this.pt)}collides(e){return Zm(this,e)}contains(e){return this.pt.eq(e)}raycast(e,i){return null}random(){return this.pt.clone()}},g(Zr,"Point"),Zr),Jr,gn=(Jr=class{constructor(e,i){W(this,"p1");W(this,"p2");this.p1=e.clone(),this.p2=i.clone()}transform(e){return new Jr(e.multVec2(this.p1),e.multVec2(this.p2))}bbox(){return dt.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new Jr(this.p1,this.p2)}collides(e){return Jm(this,e)}contains(e){return this.collides(e)}raycast(e,i){return Cd(e,i,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(Pt(1)))}},g(Jr,"Line"),Jr),ei,dt=(ei=class{constructor(e,i,o){W(this,"pos");W(this,"width");W(this,"height");this.pos=e.clone(),this.width=i,this.height=o}static fromPoints(e,i){return new ei(e.clone(),i.x-e.x,i.y-e.y)}center(){return new Z(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(e){return new rn(this.points().map(i=>e.multVec2(i)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new ei(this.pos.clone(),this.width,this.height)}distToPoint(e){return Math.sqrt(this.sdistToPoint(e))}sdistToPoint(e){let i=this.pos,o=this.pos.add(this.width,this.height),a=Math.max(i.x-e.x,0,e.x-o.x),u=Math.max(i.y-e.y,0,e.y-o.y);return a*a+u*u}collides(e){return tg(this,e)}contains(e){return this.collides(e)}raycast(e,i){return ig(e,i,this)}random(){return this.pos.add(Pt(this.width),Pt(this.height))}},g(ei,"Rect"),ei),Mi,pn=(Mi=class{constructor(e,i){W(this,"center");W(this,"radius");this.center=e.clone(),this.radius=i}transform(e){return new Er(this.center,this.radius,this.radius).transform(e)}bbox(){return dt.fromPoints(this.center.sub(Y(this.radius)),this.center.add(Y(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new Mi(this.center,this.radius)}collides(e){return eg(this,e)}contains(e){return this.collides(e)}raycast(e,i){return bd(e,i,this)}random(){return this.center.add(Z.fromAngle(Pt(360)).scale(Pt(this.radius)))}},g(Mi,"Circle"),Mi),On,Er=(On=class{constructor(e,i,o,a=0){W(this,"center");W(this,"radiusX");W(this,"radiusY");W(this,"angle");this.center=e.clone(),this.radiusX=i,this.radiusY=o,this.angle=a}static fromMat2(e){let i=e.inverse,o=i.transpose.mul(i),[a,u]=o.eigenvalues,[f,h]=o.eigenvectors(a,u),[d,p]=[1/Math.sqrt(a),1/Math.sqrt(u)];return d>p?new On(Y(),d,p,ni(Math.atan2(-f[1],f[0]))):new On(Y(),p,d,ni(Math.atan2(-h[1],h[0])))}toMat2(){let e=At(this.angle),i=Math.cos(e),o=Math.sin(e);return new Al(i*this.radiusX,-o*this.radiusY,o*this.radiusX,i*this.radiusY)}transform(e){if(this.angle==0&&e.getRotation()==0)return new On(e.multVec2(this.center),e.m[0]*this.radiusX,e.m[5]*this.radiusY);{let i=this.toMat2(),o=e.getRotation(),a=e.getScale();i=Ro.fromMat2(i).scale(a.x,a.y).rotate(o).toMat2();let u=On.fromMat2(i);return u.center=e.multVec2(this.center),u}}bbox(){if(this.angle==0)return dt.fromPoints(this.center.sub(Y(this.radiusX,this.radiusY)),this.center.add(Y(this.radiusX,this.radiusY)));{let e=At(this.angle),i=Math.cos(e),o=Math.sin(e),a=this.radiusX*i,u=this.radiusX*o,f=this.radiusY*o,h=this.radiusY*i,d=Math.sqrt(a*a+f*f),p=Math.sqrt(u*u+h*h);return dt.fromPoints(this.center.sub(Y(d,p)),this.center.add(Y(d,p)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new On(this.center,this.radiusX,this.radiusY,this.angle)}collides(e){return rg(this,e)}contains(e){e=e.sub(this.center);let i=At(this.angle),o=Math.cos(i),a=Math.sin(i),u=e.x*o+e.y*a,f=-e.x*a+e.y*o;return u*u/(this.radiusX*this.radiusX)+f*f/(this.radiusY*this.radiusY)<1}raycast(e,i){return og(e,i,this)}random(){return this.center}},g(On,"Ellipse"),On);function lg(n,e,i,o){let a=e.sub(n),u=o.sub(i),f=a.cross(u);return f<1e-5&&f>-1e-5||(f=i.sub(n).cross(u)/f,f<0||f>1)?null:n.add(a.scale(f))}g(lg,"segmentLineIntersection");var Xn,rn=(Xn=class{constructor(e){W(this,"pts");if(e.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=e}transform(e){return new Xn(this.pts.map(i=>e.multVec2(i)))}bbox(){let e=Y(Number.MAX_VALUE),i=Y(-Number.MAX_VALUE);for(let o of this.pts)e.x=Math.min(e.x,o.x),i.x=Math.max(i.x,o.x),e.y=Math.min(e.y,o.y),i.y=Math.max(i.y,o.y);return dt.fromPoints(e,i)}area(){let e=0,i=this.pts.length;for(let o=0;o<i;o++){let a=this.pts[o],u=this.pts[(o+1)%i];e+=a.x*u.y*.5,e-=u.x*a.y*.5}return Math.abs(e)}clone(){return new Xn(this.pts.map(e=>e.clone()))}collides(e){return ng(this,e)}contains(e){return this.collides(e)}raycast(e,i){return sg(e,i,this)}random(){return Y()}cut(e,i){new gn(e,i);let o=[],a=[],u=i.sub(e),f=this.pts[this.pts.length-1],h=f.sub(e),d=u.cross(h)>0;return this.pts.forEach(p=>{h=p.sub(e);let v=u.cross(h)>0;if(d!=v){let E=lg(f,p,e,i);o.push(E),a.push(E),d=v}(v?o:a).push(p),f=p}),[o.length?new Xn(o):null,a.length?new Xn(a):null]}},g(Xn,"Polygon"),Xn);function ug(n,e,i,o){let a=o*o,u=1-o,f=u*u;return n.scale(f).add(e.scale(2*u*o)).add(i.scale(a))}g(ug,"evaluateQuadratic");function cg(n,e,i,o){let a=1-o;return e.sub(n).scale(2*a).add(i.sub(e).scale(2*o))}g(cg,"evaluateQuadraticFirstDerivative");function dg(n,e,i,o){return i.sub(e.scale(2)).add(n).scale(2)}g(dg,"evaluateQuadraticSecondDerivative");function Wl(n,e,i,o,a){let u=a*a,f=u*a,h=1-a,d=h*h,p=d*h;return n.scale(p).add(e.scale(3*d*a)).add(i.scale(3*h*u)).add(o.scale(f))}g(Wl,"evaluateBezier");function fg(n,e,i,o,a){let u=a*a,f=1-a,h=f*f;return e.sub(n).scale(3*h).add(i.sub(e).scale(6*f*a)).add(o.sub(i).scale(3*u))}g(fg,"evaluateBezierFirstDerivative");function hg(n,e,i,o,a){let u=1-a;return i.sub(e.scale(2)).add(n).scale(6*u).add(o.sub(i.scale(2)).add(e).scale(6*a))}g(hg,"evaluateBezierSecondDerivative");function pg(n,e,i,o,a){let u=.5*(((-a+2)*a-1)*a),f=.5*((3*a-5)*a*a+2),h=.5*(((-3*a+4)*a+1)*a),d=.5*((a-1)*a*a);return n.scale(u).add(e.scale(f)).add(i.scale(h)).add(o.scale(d))}g(pg,"evaluateCatmullRom");function mg(n,e,i,o,a){let u=.5*((-3*a+4)*a-1),f=.5*((9*a-10)*a),h=.5*((-9*a+8)*a+1),d=.5*((3*a-2)*a);return n.scale(u).add(e.scale(f)).add(i.scale(h)).add(o.scale(d))}g(mg,"evaluateCatmullRomFirstDerivative");function gg(n){let e=Md(n),i=e(1);return o=>{let a=o*i,u=e(a,!0);return n(u)}}g(gg,"normalizedCurve");function Md(n,e=10,i=10){let o=[0],a=[0],u=1/(e-1)/i,f=0,h=n(0),d=0;for(let p=1;p<e;p++){for(let v=0;v<i;v++){d+=u;let E=n(d),y=E.dist(h);f+=y,h=E}o[p]=f,a[p]=d}return a[e-1]=1,(p,v=!1)=>{if(v){let E=p;if(E<=0)return 0;if(E>=f)return 1;let y=0;for(;o[y+1]<E;)y++;let x=a[y],w=a[y+1],_=o[y],k=o[y+1],A=(E-_)/(k-_);return x+(w-x)*A}else{if(p<=0)return 0;if(p>=1)return o[e-1];let E=0;for(;a[E+1]<p;)E++;let y=a[E],x=a[E+1],w=o[E],_=o[E+1],k=(p-y)/(x-y);return w+(_-w)*k}}}g(Md,"curveLengthApproximation");function zs(n,e,i,o){let a=2*n+e-2*o+i,u=-3*n+3*o-2*e-i,f=e,h=n;return d=>{let p=d*d,v=p*d;return a*v+u*p+f*d+h}}g(zs,"hermite");function Pd(n,e,i,o,a,u=zs){let f=u(e.x,(1-a)*(i.x-n.x),(1-a)*(o.x-e.x),i.x),h=u(e.y,(1-a)*(i.y-n.y),(1-a)*(o.y-e.y),i.y);return d=>new Z(f(d),h(d))}g(Pd,"cardinal");function Io(n,e,i,o,a=zs){return Pd(n,e,i,o,.5,a)}g(Io,"catmullRom");function yg(n,e,i,o,a=zs){return Io(o.add(n.sub(e).scale(6)),n,o,n.add(o.sub(i).scale(6)),a)}g(yg,"bezier");function vg(n,e,i,o,a,u,f,h=zs){let d=h(e.x,.5*(1-a)*(1+f)*(1+u)*(e.x-n.x)+.5*(1-a)*(1-f)*(1-u)*(i.x-e.x),.5*(1-a)*(1+f)*(1-u)*(i.x-e.x)+.5*(1-a)*(1-f)*(1+u)*(o.x-i.x),i.x),p=h(e.y,.5*(1-a)*(1+f)*(1+u)*(e.y-n.y)+.5*(1-a)*(1-f)*(1-u)*(i.y-e.y),.5*(1-a)*(1+f)*(1-u)*(i.y-e.y)+.5*(1-a)*(1-f)*(1+u)*(o.y-i.y),i.y);return v=>new Z(d(v),p(v))}g(vg,"kochanekBartels");function wg(n,e,i,o){let a=2*n+e-2*o+i,u=-3*n+3*o-2*e+i,f=e;return h=>{let d=h*h;return 3*a*d+2*u*h+f}}g(wg,"hermiteFirstDerivative");function as(n){return 0<=n&&n<=1}g(as,"inZeroOneDomain");function ml(n,e){return Math.abs(n-e)<=Number.EPSILON}g(ml,"approximately");function ls(n){return n<0?-Math.pow(-n,1/3):Math.pow(n,1/3)}g(ls,"cubeRoot");function xg(n,e,i,o){let a=3*n-6*e+3*i,u=-3*n+3*e,f=n,h=-n+3*e-3*i+o;if(ml(h,0)){if(ml(a,0))return ml(u,0)?[]:[-f/u].filter(as);let k=Math.sqrt(u*u-4*a*f),A=2*a;return[(k-u)/A,(-u-k)/A].filter(as)}a/=h,u/=h,f/=h;let d=(3*u-a*a)/3,p=d/3,v=(2*a*a*a-9*a*u+27*f)/27,E=v/2,y=E*E+p*p*p;if(y<0){let k=-d/3,A=k*k*k,M=Math.sqrt(A),P=-v/(2*M),D=P<-1?-1:P>1?1:P,F=Math.acos(D),b=2*ls(M),R=b*Math.cos(F/3)-a/3,B=b*Math.cos((F+2*Math.PI)/3)-a/3,H=b*Math.cos((F+4*Math.PI)/3)-a/3;return[R,B,H].filter(as)}if(y===0){let k=E<0?ls(-E):-ls(E),A=2*k-a/3,M=-k-a/3;return[A,M].filter(as)}let x=Math.sqrt(y),w=ls(x-E),_=ls(x+E);return[w-_-a/3].filter(as)}g(xg,"getCubicRoots");function Sg(n,e,i,o,a){let u=xg(n.x-a,e.x-a,i.x-a,o.x-a);return u.length>0?Wl(n,e,i,o,u[0]).y:NaN}g(Sg,"cubicBezierYforX");function Ag(n){if(!n||n.length==0)throw new Error("Need at least one point for easingLinear.");let e=n.length;return i=>{if(i<=0||n.length==1||i<=n[0].x)return n[0].y;for(let o=0;o<e;o++)if(n[o].x>=i)return qn(i,n[o-1].x,n[o].x,n[o-1].y,n[o].y);return n[n.length-1].y}}g(Ag,"easingLinear");function Eg(n,e){return i=>Sg(Y(0,0),n,e,Y(1,1),i)}g(Eg,"easingCubicBezier");function kg(n,e="jump-end"){let i=1/n,o=e=="jump-start"||e=="jump-both",a=e=="jump-end"||e=="jump-both",u=1/(n+(a?1:0)),f=o?u:0;return h=>{let d=Math.floor(h/i);return f+d*u}}g(kg,"easingSteps");function Cg(n,e){let i=Number.MAX_VALUE,o={normal:Y(0),distance:0};for(let a of[n,e])for(let u=0;u<a.pts.length;u++){let f=a.pts[u],h=a.pts[(u+1)%a.pts.length].sub(f).normal().unit(),d=Number.MAX_VALUE,p=-Number.MAX_VALUE;for(let x=0;x<n.pts.length;x++){let w=n.pts[x].dot(h);d=Math.min(d,w),p=Math.max(p,w)}let v=Number.MAX_VALUE,E=-Number.MAX_VALUE;for(let x=0;x<e.pts.length;x++){let w=e.pts[x].dot(h);v=Math.min(v,w),E=Math.max(E,w)}let y=Math.min(p,E)-Math.max(d,v);if(y<0)return null;if(y<Math.abs(i)){let x=E-d,w=v-p;i=Math.abs(x)<Math.abs(w)?x:w,o.normal=h,o.distance=i}}return o}g(Cg,"sat");function Rd(n,e,i){return(e.x-n.x)*(i.y-n.y)-(e.y-n.y)*(i.x-n.x)>=0}g(Rd,"isOrientedCcw");function bg(n){let e=0,i=n[n.length-1];for(let o=0;o<n.length;o++)e+=(n[o].x-i.x)*(n[o].y+i.y),i=n[o];return e<0}g(bg,"isOrientedCcwPolygon");function gl(n,e,i,o){let a=o.x-i.x,u=o.y-i.y,f=a*(n.y-i.y)-u*(n.x-i.x),h=a*(e.y-i.y)-u*(e.x-i.x);return f*h>=0}g(gl,"onSameSide");function Mg(n,e,i,o){return gl(n,e,i,o)&&gl(n,i,e,o)&&gl(n,o,e,i)}g(Mg,"pointInTriangle");function Pg(n,e,i,o){for(let a of n)if(a!==e&&a!==i&&a!==o&&Mg(a,e,i,o))return!0;return!1}g(Pg,"someInTriangle");function Rg(n,e,i,o){return Rd(n,e,i)&&!Pg(o,n,e,i)}g(Rg,"isEar");function Td(n){if(n.length<3)return[];if(n.length==3)return[n];let e=[],i=[],o=0;for(let E=0;E<n.length;E++){let y=n[o],x=n[E];(x.x<y.x||x.x==y.x&&x.y<y.y)&&(o=o),e[E]=E+1,i[E]=E-1}e[e.length-1]=0,i[0]=i.length-1,bg(n)||([e,i]=[i,e]);let a=[];for(let E=0;E<n.length;++E)Rd(n[i[E]],n[E],n[e[E]])||a.push(n[E]);let u=[],f=n.length,h=1,d=0,p,v;for(;f>3;){p=e[h],v=i[h];let E=n[v],y=n[h],x=n[p];if(Rg(E,y,x,a))u.push([E,y,x]),e[v]=p,i[p]=v,a.splice(a.indexOf(y),1),--f,d=0;else if(++d>f)return[];h=p}return p=e[h],v=i[h],u.push([n[v],n[h],n[p]]),u}g(Td,"triangulate");function Tg(n){if(n.length<3)return!1;let e=n.length-2,i=n.length-1,o=0,a=n[i].sub(n[e]),u=n[o].sub(n[i]),f=a.cross(u);for(;o+1<n.length;)if(e=i,i=o,o++,a=n[i].sub(n[e]),u=n[o].sub(n[i]),a.cross(u)*f<0)return!1;return!0}g(Tg,"isConvex");var _g=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",$l="topleft",Ox="monospace",El="monospace",Zc="linear",_d=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],qx=_d.reduce((n,e)=>n+e.size,0),jg=2048,zx=jg*4*qx,Ux=jg*6,Hx=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,Gx=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	vec4 texColor = texture2D(u_tex, v_uv);
	return vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,Jc=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,ed=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,Vx=new Set(["id","require"]),Wx=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),$x=200,Qx=640,Kx=65536,Dg=Symbol.for("kaplay.cancel"),ms,Ig=(ms=class extends Map{constructor(){super(...arguments);W(this,"lastID",0)}push(i){let o=this.lastID;return this.set(o,i),this.lastID++,o}pushd(i){let o=this.push(i);return()=>this.delete(o)}},g(ms,"Registry"),ms),Pi,ji=(Pi=class{constructor(e){W(this,"paused",!1);W(this,"cancel");this.cancel=e}static join(e){let i=new Pi(()=>e.forEach(o=>o.cancel()));return Object.defineProperty(i,"paused",{get:g(()=>e[0].paused,"get"),set:g(o=>e.forEach(a=>a.paused=o),"set")}),i.paused=!1,i}static replace(e,i){return e.cancel=()=>i.cancel(),i.paused=e.paused,Object.defineProperty(e,"paused",{get:g(()=>i.paused,"get"),set:g(o=>i.paused=o,"set")}),e}},g(Pi,"KEventController"),Pi),gs,en=(gs=class{constructor(){W(this,"cancellers",new WeakMap);W(this,"handlers",new Ig)}add(e){function i(...u){if(!a.paused)return e(...u)}g(i,"handler");let o=this.handlers.pushd(i),a=new ji(o);return this.cancellers.set(i,o),a}addOnce(e){let i=this.add((...o)=>{i.cancel(),e(...o)});return i}next(){return new Promise(e=>this.addOnce(e))}trigger(...e){this.handlers.forEach(i=>{let o=i(...e),a;o===Dg&&(a=this.cancellers.get(i))&&a()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},g(gs,"KEvent"),gs),ys,No=(ys=class{constructor(){W(this,"handlers",{});W(this,"registers",{})}on(e,i){return this.handlers[e]||(this.handlers[e]=new en),this.handlers[e].add(i)}onOnce(e,i){let o=this.on(e,(...a)=>{o.cancel(),i(...a)});return o}next(e){return new Promise(i=>{this.onOnce(e,(...o)=>i(o[0]))})}trigger(e,...i){this.handlers[e]&&this.handlers[e].trigger(...i)}remove(e){delete this.handlers[e]}clear(){this.handlers={}}numListeners(e){var i;return((i=this.handlers[e])==null?void 0:i.numListeners())??0}},g(ys,"KEventHandler"),ys),Yx=g(n=>n[0]instanceof qe,"arrayIsColor"),Xx=g(n=>n[0]instanceof Z,"arrayIsVec2"),Zx=g(n=>typeof n[0]=="number","arrayIsNumber"),vs,Ng=(vs=class{constructor(e=(i,o)=>i<o){W(this,"_items");W(this,"_compareFn");this._compareFn=e,this._items=[]}insert(e){this._items.push(e),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let e=this._items[0],i=this._items.pop();return this._items.length!==0&&(this._items[0]=i,this.moveDown(0)),e}clear(){this._items.splice(0,this._items.length)}moveUp(e){for(;e>0;){let i=Math.floor((e-1)/2);if(!this._compareFn(this._items[e],this._items[i])&&this._items[e]>=this._items[i])break;this.swap(e,i),e=i}}moveDown(e){for(;e<Math.floor(this._items.length/2);){let i=2*e+1;if(i<this._items.length-1&&!this._compareFn(this._items[i],this._items[i+1])&&++i,this._compareFn(this._items[e],this._items[i]))break;this.swap(e,i),e=i}}swap(e,i){[this._items[e],this._items[i]]=[this._items[i],this._items[e]]}get length(){return this._items.length}},g(vs,"BinaryHeap"),vs);function Lg(n){let e=window.atob(n),i=e.length,o=new Uint8Array(i);for(let a=0;a<i;a++)o[a]=e.charCodeAt(a);return o.buffer}g(Lg,"base64ToArrayBuffer");function Bg(n){return Lg(n.split(",")[1])}g(Bg,"dataURLToArrayBuffer");function Ql(n,e){let i=document.createElement("a");i.href=e,i.download=n,i.click()}g(Ql,"download");function jd(n,e){Ql(n,"data:text/plain;charset=utf-8,"+e)}g(jd,"downloadText");function Fg(n,e){jd(n,JSON.stringify(e))}g(Fg,"downloadJSON");function td(n,e){let i=URL.createObjectURL(e);Ql(n,i),URL.revokeObjectURL(i)}g(td,"downloadBlob");var Og=g(n=>n.match(/^data:\w+\/\w+;base64,.+/),"isDataURL"),Jx=g(n=>n.split(".").slice(0,-1).join("."),"getFileName");function Kl(n,e){if(n===e)return!0;let i=typeof n,o=typeof e;if(i!==o)return!1;if(i==="object"&&o==="object"&&n!==null&&e!==null){if(Array.isArray(n)!==Array.isArray(e))return!1;let a=Object.keys(n),u=Object.keys(e);if(a.length!==u.length)return!1;for(let f of a){let h=n[f],d=e[f];if(!Kl(h,d))return!1}return!0}return!1}g(Kl,"deepEq");var fm=new Set,eS=g(n=>n instanceof Error?n.message:String(n),"getErrorMessage");function qg(n){fm.has(n)||(fm.add(n),console.warn(n))}g(qg,"warn");function Di(n,e){qg(`${n} is deprecated. Use ${e} instead.`)}g(Di,"deprecateMsg");function kl(n,e){return Number(n.toFixed(e))}g(kl,"toFixed");function it(n,e){return(...i)=>{let o=i.length;if(o===n.length)return n(...i);if(o===e.length)return e(...i)}}g(it,"overload2");var tS=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function zg(n){if(typeof n!="string")throw new TypeError("string cannot be undefined or null");let e=[],i=0,o=0;for(;i<n.length;){if(o+=Ug(i+o,n),Kg(n[i+o])&&o++,Wg(n[i+o])&&o++,$g(n[i+o])&&o++,Yg(n[i+o])){o++;continue}e.push(n.substring(i,i+o)),i+=o,o=0}return e}g(zg,"runes");function Ug(n,e){let i=e[n];if(!Hg(i)||n===e.length-1)return 1;let o=i+e[n+1],a=e.substring(n+2,n+5);return nd(o)&&nd(a)?4:Gg(o)&&Qg(a)?e.slice(n).indexOf(String.fromCodePoint(917631))+2:Vg(a)?4:2}g(Ug,"nextUnits");function Hg(n){return n&&ui(n[0].charCodeAt(0),55296,56319)}g(Hg,"isFirstOfSurrogatePair");function nd(n){return ui(Yl(n),127462,127487)}g(nd,"isRegionalIndicator");function Gg(n){return ui(Yl(n),127988,127988)}g(Gg,"isSubdivisionFlag");function Vg(n){return ui(Yl(n),127995,127999)}g(Vg,"isFitzpatrickModifier");function Wg(n){return typeof n=="string"&&ui(n.charCodeAt(0),65024,65039)}g(Wg,"isVariationSelector");function $g(n){return typeof n=="string"&&ui(n.charCodeAt(0),8400,8447)}g($g,"isDiacriticalMark");function Qg(n){let e=n.codePointAt(0);return typeof n=="string"&&typeof e=="number"&&ui(e,917504,917631)}g(Qg,"isSupplementarySpecialpurposePlane");function Kg(n){return typeof n=="string"&&tS.includes(n.charCodeAt(0))}g(Kg,"isGrapheme");function Yg(n){return typeof n=="string"&&n.charCodeAt(0)===8205}g(Yg,"isZeroWidthJoiner");function Yl(n){let e=n.charCodeAt(0)-55296,i=n.charCodeAt(1)-56320;return(e<<10)+i+65536}g(Yl,"codePointFromSurrogatePair");function ui(n,e,i){return n>=e&&n<=i}g(ui,"betweenInclusive");var kn=g((n,e)=>Array.isArray(n)?n==null?void 0:n.includes(e):n===e,"isEqOrIncludes"),Qn=g((n,e)=>Array.isArray(e)?e.some(i=>n.has(i)):n.has(e),"setHasOrIncludes"),ol=g((n,e,i)=>{var o;n.has(e)?(o=n.get(e))==null||o.push(i):n.set(e,[i])},"mapAddOrPush"),nS=(()=>{let n=0;return()=>n++})(),rS={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}},iS=g(()=>bi.lastInputDevice,"getLastInputDeviceType"),sS=g(()=>{let n=bi.buttons;for(let e in n){let i=n[e].keyboard&&[n[e].keyboard].flat(),o=n[e].keyboardCode&&[n[e].keyboardCode].flat(),a=n[e].gamepad&&[n[e].gamepad].flat(),u=n[e].mouse&&[n[e].mouse].flat();i&&i.forEach(f=>{ol(bi.buttonsByKey,f,e)}),o&&o.forEach(f=>{ol(bi.buttonsByKeyCode,f,e)}),a&&a.forEach(f=>{ol(bi.buttonsByGamepad,f,e)}),u&&u.forEach(f=>{ol(bi.buttonsByMouse,f,e)})}},"parseButtonBindings"),ws,To=(ws=class{constructor(){W(this,"pressed",new Set([]));W(this,"pressedRepeat",new Set([]));W(this,"released",new Set([]));W(this,"down",new Set([]))}update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(e){this.pressed.add(e),this.pressedRepeat.add(e),this.down.add(e)}pressRepeat(e){this.pressedRepeat.add(e)}release(e){this.down.delete(e),this.pressed.delete(e),this.released.add(e)}},g(ws,"ButtonState"),ws),xs,oS=(xs=class{constructor(){W(this,"buttonState",new To);W(this,"stickState",new Map)}},g(xs,"GamepadState"),xs),Ss,aS=(Ss=class{constructor(){W(this,"dts",[]);W(this,"timer",0);W(this,"fps",0)}tick(e){this.dts.push(e),this.timer+=e,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((i,o)=>i+o)/this.dts.length)),this.dts=[])}},g(Ss,"FPSCounter"),Ss),bi,hm=rS,lS=g(n=>{let e=n.buttons??{};return{canvas:n.canvas,buttons:e,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new aS,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new Z(0),mouseDeltaPos:new Z(0),keyState:new To,mouseState:new To,mergedGamepadState:new oS,gamepadStates:new Map,lastInputDevice:null,buttonState:new To,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:n.canvas.offsetWidth,lastHeight:n.canvas.offsetHeight,events:new No}},"initAppState"),uS=g(n=>{if(!n.canvas)throw new Error("Please provide a canvas");let e=lS(n);bi=e,sS();function i(){return e.dt*e.timeScale}g(i,"dt");function o(){return e.fixedDt*e.timeScale}g(o,"fixedDt");function a(){return e.restDt*e.timeScale}g(a,"restDt");function u(){return e.isHidden}g(u,"isHidden");function f(){return e.time}g(f,"time");function h(){return e.fpsCounter.fps}g(h,"fps");function d(){return e.numFrames}g(d,"numFrames");function p(){return e.canvas.toDataURL()}g(p,"screenshot");function v(N){e.canvas.style.cursor=N}g(v,"setCursor");function E(){return e.canvas.style.cursor}g(E,"getCursor");function y(N){if(N)try{let X=e.canvas.requestPointerLock();X.catch&&X.catch(J=>console.error(J))}catch(X){console.error(X)}else document.exitPointerLock()}g(y,"setCursorLocked");function x(){return!!document.pointerLockElement}g(x,"isCursorLocked");function w(N){N.requestFullscreen?N.requestFullscreen():N.webkitRequestFullscreen&&N.webkitRequestFullscreen()}g(w,"enterFullscreen");function _(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}g(_,"exitFullscreen");function k(N=!0){N?w(e.canvas):_()}g(k,"setFullscreen");function A(){return document.fullscreenElement===e.canvas||document.webkitFullscreenElement===e.canvas}g(A,"isFullscreen");function M(){e.stopped=!0;let N=Object.entries(ot),X=Object.entries(ci),J=Object.entries(br);for(let[he,je]of N)e.canvas.removeEventListener(he,je);for(let[he,je]of X)document.removeEventListener(he,je);for(let[he,je]of J)window.removeEventListener(he,je);Hs.disconnect()}g(M,"quit");function P(N,X){e.loopID!==null&&cancelAnimationFrame(e.loopID);let J=0,he=0,je=g(Ye=>{if(e.stopped)return;if(document.visibilityState!=="visible"){e.loopID=requestAnimationFrame(je);return}let ft=Ye/1e3,ht=Math.min(ft-e.realTime,.25),Ut=n.maxFPS?1/n.maxFPS:0;if(e.realTime=ft,he+=ht,he>Ut){if(!e.skipTime){for(J+=he,e.dt=e.fixedDt,e.restDt=0;J>e.fixedDt;)J-=e.fixedDt,J<e.fixedDt&&(e.restDt=J),N();e.restDt=J,e.dt=he,e.time+=i(),e.fpsCounter.tick(e.dt)}he=0,e.skipTime=!1,e.numFrames++,X(be,wt)}e.loopID=requestAnimationFrame(je)},"frame");je(0)}g(P,"run");function D(){return"ontouchstart"in window||navigator.maxTouchPoints>0}g(D,"isTouchscreen");function F(){return e.mousePos.clone()}g(F,"mousePos");function b(){return e.mouseDeltaPos.clone()}g(b,"mouseDeltaPos");function R(N="left"){return e.mouseState.pressed.has(N)}g(R,"isMousePressed");function B(N="left"){return e.mouseState.down.has(N)}g(B,"isMouseDown");function H(N="left"){return e.mouseState.released.has(N)}g(H,"isMouseReleased");function U(){return e.isMouseMoved}g(U,"isMouseMoved");function ee(N){return N===void 0?e.keyState.pressed.size>0:Qn(e.keyState.pressed,N)}g(ee,"isKeyPressed");function ue(N){return N===void 0?e.keyState.pressedRepeat.size>0:Qn(e.keyState.pressedRepeat,N)}g(ue,"isKeyPressedRepeat");function ye(N){return N===void 0?e.keyState.down.size>0:Qn(e.keyState.down,N)}g(ye,"isKeyDown");function ke(N){return N===void 0?e.keyState.released.size>0:Qn(e.keyState.released,N)}g(ke,"isKeyReleased");function Ce(N){return N===void 0?e.mergedGamepadState.buttonState.pressed.size>0:Qn(e.mergedGamepadState.buttonState.pressed,N)}g(Ce,"isGamepadButtonPressed");function Ae(N){return N===void 0?e.mergedGamepadState.buttonState.down.size>0:Qn(e.mergedGamepadState.buttonState.down,N)}g(Ae,"isGamepadButtonDown");function ve(N){return N===void 0?e.mergedGamepadState.buttonState.released.size>0:Qn(e.mergedGamepadState.buttonState.released,N)}g(ve,"isGamepadButtonReleased");function ne(N){return N===void 0?e.buttonState.pressed.size>0:Qn(e.buttonState.pressed,N)}g(ne,"isButtonPressed");function fe(N){return N===void 0?e.buttonState.down.size>0:Qn(e.buttonState.down,N)}g(fe,"isButtonDown");function se(N){return N===void 0?e.buttonState.released.size>0:Qn(e.buttonState.released,N)}g(se,"isButtonReleased");function q(N){var X;return(X=e.buttons)==null?void 0:X[N]}g(q,"getButton");function Q(N,X){e.buttons[N]={...e.buttons[N],...X}}g(Q,"setButton");function Re(N){e.buttonState.press(N),e.events.trigger("buttonPress",N)}g(Re,"pressButton");function Te(N){e.buttonState.release(N),e.events.trigger("buttonRelease",N)}g(Te,"releaseButton");function Ne(N){return e.events.on("resize",N)}g(Ne,"onResize");let Le=it(N=>e.events.on("keyDown",N),(N,X)=>e.events.on("keyDown",J=>kn(N,J)&&X(J))),ze=it(N=>e.events.on("keyPress",X=>N(X)),(N,X)=>e.events.on("keyPress",J=>kn(N,J)&&X(J))),Be=it(N=>e.events.on("keyPressRepeat",N),(N,X)=>e.events.on("keyPressRepeat",J=>kn(N,J)&&X(J))),Ve=it(N=>e.events.on("keyRelease",N),(N,X)=>e.events.on("keyRelease",J=>kn(N,J)&&X(J))),st=it(N=>e.events.on("mouseDown",X=>N(X)),(N,X)=>e.events.on("mouseDown",J=>kn(N,J)&&X(J))),Tt=it(N=>e.events.on("mousePress",X=>N(X)),(N,X)=>e.events.on("mousePress",J=>kn(N,J)&&X(J))),nr=it(N=>e.events.on("mouseRelease",X=>N(X)),(N,X)=>e.events.on("mouseRelease",J=>J===N&&X(J)));function zt(N){return e.events.on("mouseMove",()=>N(F(),b()))}g(zt,"onMouseMove");function Ee(N){return e.events.on("charInput",N)}g(Ee,"onCharInput");function _e(N){return e.events.on("touchStart",N)}g(_e,"onTouchStart");function Ie(N){return e.events.on("touchMove",N)}g(Ie,"onTouchMove");function We(N){return e.events.on("touchEnd",N)}g(We,"onTouchEnd");function Ke(N){return e.events.on("scroll",N)}g(Ke,"onScroll");function Oe(N){return e.events.on("hide",N)}g(Oe,"onHide");function Je(N){return e.events.on("show",N)}g(Je,"onShow");let _t=it(N=>e.events.on("gamepadButtonPress",(X,J)=>N(X,J)),(N,X)=>e.events.on("gamepadButtonPress",(J,he)=>kn(N,J)&&X(J,he))),rr=it(N=>e.events.on("gamepadButtonDown",(X,J)=>N(X,J)),(N,X)=>e.events.on("gamepadButtonDown",(J,he)=>kn(N,J)&&X(J,he))),Cr=it(N=>e.events.on("gamepadButtonRelease",(X,J)=>N(X,J)),(N,X)=>e.events.on("gamepadButtonRelease",(J,he)=>kn(N,J)&&X(J,he)));function yn(N,X){return e.events.on("gamepadStick",(J,he,je)=>J===N&&X(he,je))}g(yn,"onGamepadStick");function Un(N){e.events.on("gamepadConnect",N)}g(Un,"onGamepadConnect");function Pn(N){e.events.on("gamepadDisconnect",N)}g(Pn,"onGamepadDisconnect");function jt(N){return e.mergedGamepadState.stickState.get(N)||new Z(0)}g(jt,"getGamepadStick");function V(){return[...e.charInputted]}g(V,"charInputted");function ce(){return[...e.gamepads]}g(ce,"getGamepads");let te=it(N=>e.events.on("buttonPress",X=>N(X)),(N,X)=>e.events.on("buttonPress",J=>kn(N,J)&&X(J))),ae=it(N=>e.events.on("buttonDown",X=>N(X)),(N,X)=>e.events.on("buttonDown",J=>kn(N,J)&&X(J))),pe=it(N=>e.events.on("buttonRelease",X=>N(X)),(N,X)=>e.events.on("buttonRelease",J=>kn(N,J)&&X(J)));function be(){e.events.trigger("input"),e.keyState.down.forEach(N=>e.events.trigger("keyDown",N)),e.mouseState.down.forEach(N=>e.events.trigger("mouseDown",N)),e.buttonState.down.forEach(N=>{e.events.trigger("buttonDown",N)}),Tn()}g(be,"processInput");function wt(){e.keyState.update(),e.mouseState.update(),e.buttonState.update(),e.mergedGamepadState.buttonState.update(),e.mergedGamepadState.stickState.forEach((N,X)=>{e.mergedGamepadState.stickState.set(X,new Z(0))}),e.charInputted=[],e.isMouseMoved=!1,e.mouseDeltaPos=new Z(0),e.gamepadStates.forEach(N=>{N.buttonState.update(),N.stickState.forEach((X,J)=>{N.stickState.set(J,new Z(0))})})}g(wt,"resetInput");function Rn(N){let X={index:N.index,isPressed:g(J=>{var he;return((he=e.gamepadStates.get(N.index))==null?void 0:he.buttonState.pressed.has(J))||!1},"isPressed"),isDown:g(J=>{var he;return((he=e.gamepadStates.get(N.index))==null?void 0:he.buttonState.down.has(J))||!1},"isDown"),isReleased:g(J=>{var he;return((he=e.gamepadStates.get(N.index))==null?void 0:he.buttonState.released.has(J))||!1},"isReleased"),getStick:g(J=>{var he;return((he=e.gamepadStates.get(N.index))==null?void 0:he.stickState.get(J))||Y()},"getStick")};return e.gamepads.push(X),e.gamepadStates.set(N.index,{buttonState:new To,stickState:new Map([["left",new Z(0)],["right",new Z(0)]])}),X}g(Rn,"registerGamepad");function on(N){e.gamepads=e.gamepads.filter(X=>X.index!==N.index),e.gamepadStates.delete(N.index)}g(on,"removeGamepad");function Tn(){var N,X;for(let J of navigator.getGamepads())J&&!e.gamepadStates.has(J.index)&&Rn(J);for(let J of e.gamepads){let he=navigator.getGamepads()[J.index];if(!he)continue;let je=(n.gamepads??{})[he.id]||hm[he.id]||hm.default,Ye=e.gamepadStates.get(J.index);if(Ye){for(let ft=0;ft<he.buttons.length;ft++){let ht=je.buttons[ft],Ut=he.buttons[ft],Ht=e.buttonsByGamepad.has(ht);if(Ut.pressed){if(Ye.buttonState.down.has(ht)){e.events.trigger("gamepadButtonDown",ht,J);continue}e.lastInputDevice="gamepad",Ht&&((N=e.buttonsByGamepad.get(ht))==null||N.forEach(Wt=>{e.buttonState.press(Wt),e.events.trigger("buttonPress",Wt)})),e.mergedGamepadState.buttonState.press(ht),Ye.buttonState.press(ht),e.events.trigger("gamepadButtonPress",ht,J)}else Ye.buttonState.down.has(ht)&&(Ht&&((X=e.buttonsByGamepad.get(ht))==null||X.forEach(Wt=>{e.buttonState.release(Wt),e.events.trigger("buttonRelease",Wt)})),e.mergedGamepadState.buttonState.release(ht),Ye.buttonState.release(ht),e.events.trigger("gamepadButtonRelease",ht,J))}for(let ft in je.sticks){let ht=je.sticks[ft];if(!ht)continue;let Ut=new Z(he.axes[ht.x],he.axes[ht.y]);Ye.stickState.set(ft,Ut),e.mergedGamepadState.stickState.set(ft,Ut),e.events.trigger("gamepadStick",ft,Ut,J)}}}}g(Tn,"processGamepad");let ot={},ci={},br={},ir=n.pixelDensity||1;ot.mousemove=N=>{let X=new Z(N.offsetX,N.offsetY),J=new Z(N.movementX,N.movementY);if(A()){let he=e.canvas.width/ir,je=e.canvas.height/ir,Ye=window.innerWidth,ft=window.innerHeight,ht=Ye/ft,Ut=he/je;if(ht>Ut){let Ht=ft/je,Wt=(Ye-he*Ht)/2;X.x=qn(N.offsetX-Wt,0,he*Ht,0,he),X.y=qn(N.offsetY,0,je*Ht,0,je)}else{let Ht=Ye/he,Wt=(ft-je*Ht)/2;X.x=qn(N.offsetX,0,he*Ht,0,he),X.y=qn(N.offsetY-Wt,0,je*Ht,0,je)}}e.events.onOnce("input",()=>{e.isMouseMoved=!0,e.mousePos=X,e.mouseDeltaPos=J,e.events.trigger("mouseMove")})};let sr=["left","middle","right","back","forward"];ot.mousedown=N=>{e.events.onOnce("input",()=>{var J;let X=sr[N.button];X&&(e.lastInputDevice="mouse",e.buttonsByMouse.has(X)&&((J=e.buttonsByMouse.get(X))==null||J.forEach(he=>{e.buttonState.press(he),e.events.trigger("buttonPress",he)})),e.mouseState.press(X),e.events.trigger("mousePress",X))})},ot.mouseup=N=>{e.events.onOnce("input",()=>{var J;let X=sr[N.button];X&&(e.buttonsByMouse.has(X)&&((J=e.buttonsByMouse.get(X))==null||J.forEach(he=>{e.buttonState.release(he),e.events.trigger("buttonRelease",he)})),e.mouseState.release(X),e.events.trigger("mouseRelease",X))})};let Xo=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),Us={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};ot.keydown=N=>{Xo.has(N.key)&&N.preventDefault(),e.events.onOnce("input",()=>{var he,je;let X=Us[N.key]||N.key.toLowerCase(),J=N.code;if(X===void 0)throw new Error(`Unknown key: ${N.key}`);X.length===1?(e.events.trigger("charInput",X),e.charInputted.push(X)):X==="space"&&(e.events.trigger("charInput"," "),e.charInputted.push(" ")),N.repeat?(e.keyState.pressRepeat(X),e.events.trigger("keyPressRepeat",X)):(e.lastInputDevice="keyboard",e.buttonsByKey.has(X)&&((he=e.buttonsByKey.get(X))==null||he.forEach(Ye=>{e.buttonState.press(Ye),e.events.trigger("buttonPress",Ye)})),e.buttonsByKeyCode.has(J)&&((je=e.buttonsByKeyCode.get(J))==null||je.forEach(Ye=>{e.buttonState.press(Ye),e.events.trigger("buttonPress",Ye)})),e.keyState.press(X),e.events.trigger("keyPressRepeat",X),e.events.trigger("keyPress",X))})},ot.keyup=N=>{e.events.onOnce("input",()=>{var he,je;let X=Us[N.key]||N.key.toLowerCase(),J=N.code;e.buttonsByKey.has(X)&&((he=e.buttonsByKey.get(X))==null||he.forEach(Ye=>{e.buttonState.release(Ye),e.events.trigger("buttonRelease",Ye)})),e.buttonsByKeyCode.has(J)&&((je=e.buttonsByKeyCode.get(J))==null||je.forEach(Ye=>{e.buttonState.release(Ye),e.events.trigger("buttonRelease",Ye)})),e.keyState.release(X),e.events.trigger("keyRelease",X)})},ot.touchstart=N=>{N.preventDefault(),e.events.onOnce("input",()=>{var he;let X=[...N.changedTouches],J=e.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(e.mousePos=new Z(X[0].clientX-J.x,X[0].clientY-J.y),e.lastInputDevice="mouse",e.buttonsByMouse.has("left")&&((he=e.buttonsByMouse.get("left"))==null||he.forEach(je=>{e.buttonState.press(je),e.events.trigger("buttonPress",je)})),e.mouseState.press("left"),e.events.trigger("mousePress","left")),X.forEach(je=>{e.events.trigger("touchStart",new Z(je.clientX-J.x,je.clientY-J.y),je)})})},ot.touchmove=N=>{N.preventDefault(),e.events.onOnce("input",()=>{let X=[...N.changedTouches],J=e.canvas.getBoundingClientRect();if(n.touchToMouse!==!1){let he=e.mousePos;e.mousePos=new Z(X[0].clientX-J.x,X[0].clientY-J.y),e.mouseDeltaPos=e.mousePos.sub(he),e.events.trigger("mouseMove")}X.forEach(he=>{e.events.trigger("touchMove",new Z(he.clientX-J.x,he.clientY-J.y),he)})})},ot.touchend=N=>{e.events.onOnce("input",()=>{var he;let X=[...N.changedTouches],J=e.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(e.mousePos=new Z(X[0].clientX-J.x,X[0].clientY-J.y),e.mouseDeltaPos=new Z(0,0),e.buttonsByMouse.has("left")&&((he=e.buttonsByMouse.get("left"))==null||he.forEach(je=>{e.buttonState.release(je),e.events.trigger("buttonRelease",je)})),e.mouseState.release("left"),e.events.trigger("mouseRelease","left")),X.forEach(je=>{e.events.trigger("touchEnd",new Z(je.clientX-J.x,je.clientY-J.y),je)})})},ot.touchcancel=N=>{e.events.onOnce("input",()=>{let X=[...N.changedTouches],J=e.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(e.mousePos=new Z(X[0].clientX-J.x,X[0].clientY-J.y),e.mouseState.release("left"),e.events.trigger("mouseRelease","left")),X.forEach(he=>{e.events.trigger("touchEnd",new Z(he.clientX-J.x,he.clientY-J.y),he)})})},ot.wheel=N=>{N.preventDefault(),e.events.onOnce("input",()=>{e.events.trigger("scroll",new Z(N.deltaX,N.deltaY))})},ot.contextmenu=N=>N.preventDefault(),ci.visibilitychange=()=>{document.visibilityState==="visible"?(e.skipTime=!0,e.isHidden=!1,e.events.trigger("show")):(e.isHidden=!0,e.events.trigger("hide"))},br.gamepadconnected=N=>{let X=Rn(N.gamepad);e.events.onOnce("input",()=>{e.events.trigger("gamepadConnect",X)})},br.gamepaddisconnected=N=>{let X=ce().filter(J=>J.index===N.gamepad.index)[0];on(N.gamepad),e.events.onOnce("input",()=>{e.events.trigger("gamepadDisconnect",X)})};for(let[N,X]of Object.entries(ot))e.canvas.addEventListener(N,X);for(let[N,X]of Object.entries(ci))document.addEventListener(N,X);for(let[N,X]of Object.entries(br))window.addEventListener(N,X);let Hs=new ResizeObserver(N=>{for(let X of N)if(X.target===e.canvas){if(e.lastWidth===e.canvas.offsetWidth&&e.lastHeight===e.canvas.offsetHeight)return;e.lastWidth=e.canvas.offsetWidth,e.lastHeight=e.canvas.offsetHeight,e.events.onOnce("input",()=>{e.events.trigger("resize")})}});return Hs.observe(e.canvas),{state:e,dt:i,fixedDt:o,restDt:a,time:f,run:P,canvas:e.canvas,fps:h,numFrames:d,quit:M,isHidden:u,setFullscreen:k,isFullscreen:A,setCursor:v,screenshot:p,getGamepads:ce,getCursor:E,setCursorLocked:y,isCursorLocked:x,isTouchscreen:D,mousePos:F,mouseDeltaPos:b,isKeyDown:ye,isKeyPressed:ee,isKeyPressedRepeat:ue,isKeyReleased:ke,isMouseDown:B,isMousePressed:R,isMouseReleased:H,isMouseMoved:U,isGamepadButtonPressed:Ce,isGamepadButtonDown:Ae,isGamepadButtonReleased:ve,getGamepadStick:jt,isButtonPressed:ne,isButtonDown:fe,isButtonReleased:se,setButton:Q,getButton:q,pressButton:Re,releaseButton:Te,charInputted:V,onResize:Ne,onKeyDown:Le,onKeyPress:ze,onKeyPressRepeat:Be,onKeyRelease:Ve,onMouseDown:st,onMousePress:Tt,onMouseRelease:nr,onMouseMove:zt,onCharInput:Ee,onTouchStart:_e,onTouchMove:Ie,onTouchEnd:We,onScroll:Ke,onHide:Oe,onShow:Je,onGamepadButtonDown:rr,onGamepadButtonPress:_t,onGamepadButtonRelease:Cr,onGamepadStick:yn,onGamepadConnect:Un,onGamepadDisconnect:Pn,onButtonPress:te,onButtonDown:ae,onButtonRelease:pe,getLastInputDeviceType:iS,events:e.events}},"initApp");function Rt(){return C.app.dt()}g(Rt,"dt");function Cl(){return C.app.fixedDt()}g(Cl,"fixedDt");function bl(){return C.app.restDt()}g(bl,"restDt");var cS=new Z(-1,-1),dS=new Z(0,-1),fS=new Z(1,-1),hS=new Z(-1,0),pS=new Z(0,0),mS=new Z(1,0),gS=new Z(-1,1),yS=new Z(0,1),vS=new Z(1,1);function Ii(n){switch(n){case"topleft":return cS;case"top":return dS;case"topright":return fS;case"left":return hS;case"center":return pS;case"right":return mS;case"botleft":return gS;case"bot":return yS;case"botright":return vS;default:return n}}g(Ii,"anchorPt");function Xg(n){switch(n){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}g(Xg,"alignPt");function Zg(n){return n.createBuffer(1,1,44100)}g(Zg,"createEmptyAudioBuffer");var al=2.5949095,pm=1.70158+1,mm=2*Math.PI/3,gm=2*Math.PI/4.5,yl={linear:g(n=>n,"linear"),easeInSine:g(n=>1-Math.cos(n*Math.PI/2),"easeInSine"),easeOutSine:g(n=>Math.sin(n*Math.PI/2),"easeOutSine"),easeInOutSine:g(n=>-(Math.cos(Math.PI*n)-1)/2,"easeInOutSine"),easeInQuad:g(n=>n*n,"easeInQuad"),easeOutQuad:g(n=>1-(1-n)*(1-n),"easeOutQuad"),easeInOutQuad:g(n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,"easeInOutQuad"),easeInCubic:g(n=>n*n*n,"easeInCubic"),easeOutCubic:g(n=>1-Math.pow(1-n,3),"easeOutCubic"),easeInOutCubic:g(n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,"easeInOutCubic"),easeInQuart:g(n=>n*n*n*n,"easeInQuart"),easeOutQuart:g(n=>1-Math.pow(1-n,4),"easeOutQuart"),easeInOutQuart:g(n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,"easeInOutQuart"),easeInQuint:g(n=>n*n*n*n*n,"easeInQuint"),easeOutQuint:g(n=>1-Math.pow(1-n,5),"easeOutQuint"),easeInOutQuint:g(n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,"easeInOutQuint"),easeInExpo:g(n=>n===0?0:Math.pow(2,10*n-10),"easeInExpo"),easeOutExpo:g(n=>n===1?1:1-Math.pow(2,-10*n),"easeOutExpo"),easeInOutExpo:g(n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,"easeInOutExpo"),easeInCirc:g(n=>1-Math.sqrt(1-Math.pow(n,2)),"easeInCirc"),easeOutCirc:g(n=>Math.sqrt(1-Math.pow(n-1,2)),"easeOutCirc"),easeInOutCirc:g(n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,"easeInOutCirc"),easeInBack:g(n=>pm*n*n*n-1.70158*n*n,"easeInBack"),easeOutBack:g(n=>1+pm*Math.pow(n-1,3)+1.70158*Math.pow(n-1,2),"easeOutBack"),easeInOutBack:g(n=>n<.5?Math.pow(2*n,2)*((al+1)*2*n-al)/2:(Math.pow(2*n-2,2)*((al+1)*(n*2-2)+al)+2)/2,"easeInOutBack"),easeInElastic:g(n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*mm),"easeInElastic"),easeOutElastic:g(n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*mm)+1,"easeOutElastic"),easeInOutElastic:g(n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*gm))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*gm)/2+1,"easeInOutElastic"),easeInBounce:g(n=>1-yl.easeOutBounce(1-n),"easeInBounce"),easeOutBounce:g(n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,"easeOutBounce"),easeInOutBounce:g(n=>n<.5?(1-yl.easeOutBounce(1-2*n))/2:(1+yl.easeOutBounce(2*n-1))/2,"easeInOutBounce")},Lo=yl;function Jg(n,e,i){let o=[],a=e;for(o.push(a);a!==n;){if(a=i.get(a),a==null)return null;o.push(a)}return o.reverse()}g(Jg,"buildPath");function ey(n,e,i){var f;let o=new Ng((h,d)=>h.cost<d.cost);o.insert({cost:0,node:e});let a=new Map;a.set(e,e);let u=new Map;for(u.set(e,0);o.length!==0;){let h=(f=o.remove())==null?void 0:f.node;if(h===i)break;let d=n.getNeighbours(h);for(let p of d){let v=(u.get(h)||0)+n.getCost(h,p)+n.getHeuristic(p,i);(!u.has(p)||v<u.get(p))&&(u.set(p,v),o.insert({cost:v,node:p}),a.set(p,h))}}return Jg(e,i,a)}g(ey,"aStarSearch");var As,wS=(As=class{constructor(e,i,o){W(this,"a");W(this,"b");W(this,"polygon");this.a=e,this.b=i,this.polygon=new WeakRef(o)}isLeft(e,i){return(this.b.x-this.a.x)*(i-this.a.y)-(e-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},g(As,"NavEdge"),As),Es,xS=(Es=class{constructor(e){W(this,"_edges");W(this,"_centroid");W(this,"_id");this._id=e}get id(){return this._id}set edges(e){this._edges=e;let i=0,o=0,a=0;for(let u of this._edges){u.polygon=new WeakRef(this);let f=u.a.x*u.b.y-u.a.y*u.b.x;i+=(u.a.x+u.b.x)*f,o+=(u.a.y+u.b.y)*f,a+=f}a/=2,this._centroid=Y(i/(6*a),o/(6*a))}get edges(){return this._edges}get centroid(){return this._centroid}contains(e){let i=!1;for(let o of this.edges)o.b.y>e.y!=o.a.y>e.y&&e.x<(o.a.x-o.b.x)*(e.y-o.b.y)/(o.a.y-o.b.y)+o.b.x&&(i=!i);return i}},g(Es,"NavPolygon"),Es),ks,SS=(ks=class{constructor(){W(this,"_polygons");W(this,"_pointCache");W(this,"_edgeCache");this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(e){let i=this._pointCache[`${e.x}_${e.y}`];return i||(i=e.clone(),this._pointCache[`${e.x}_${e.y}`]=i,i)}_addEdge(e){let i=`${e.a.x}_${e.a.y}-${e.b.x}_${e.b.y}`;return this._edgeCache[i]=e,e}_findEdge(e,i){let o=`${e.x}_${e.y}-${i.x}_${i.y}`;return this._edgeCache[o]}_findCommonEdge(e,i){for(let o of e.edges){let a=this._findEdge(o.b,o.a);if(a&&a.polygon.deref().id===i.id)return a}return null}addPolygon(e){let i=new xS(this._polygons.length),o=e.map((a,u)=>new wS(a,e[(u+1)%e.length],i));i.edges=o,this._polygons.push(i);for(let a of i.edges)this._addEdge(a);return i}addRect(e,i){let o=this._addPoint(e),a=this._addPoint(e.add(i.x,0)),u=this._addPoint(e.add(i)),f=this._addPoint(e.add(0,i.y));return this.addPolygon([o,a,u,f])}_getLocation(e){for(let i of this._polygons)if(i.contains(e))return i;return null}getNeighbours(e){let i=[];for(let o of this._polygons[e].edges){let a=this._findEdge(o.b,o.a);if(a){let u=a.polygon.deref();u&&i.push(u.id)}}return i}getCost(e,i){return 1}getHeuristic(e,i){let o=this._polygons[e],a=this._polygons[i],u=o.centroid.x-a.centroid.x,f=o.centroid.y-a.centroid.y;return Math.sqrt(u*u+f*f)}getPath(e,i){return e===void 0||i===void 0?[]:e===i?[e,i]:ey(this,e,i)}getWaypointPath(e,i,o){let a=(o==null?void 0:o.type)||"centroids",u=this._getLocation(e),f=this._getLocation(i);if(u===void 0||f===void 0)return[];let h=this.getPath(u.id,f.id);if(!h)return[];if(a==="edges"){let d=[];for(let p=1;p<h.length;p++){let v=this._polygons[h[p-1]],E=this._polygons[h[p]],y=this._findCommonEdge(v,E);d.push(y.middle.add(E.centroid.sub(y.middle).unit().scale(4)))}return[e,...d,i]}else return[e,...h.slice(1,-1).map(d=>this._polygons[d].centroid),i]}},g(ks,"NavMesh"),ks);function ds(n){let e=new Jn;return n.pos&&e.translate(n.pos),n.scale&&e.scale(n.scale),n.angle&&e.rotate(n.angle),n.parent?e.mult(n.parent.transform):e}g(ds,"calcTransform");function ty(n){return new Z(n.x/Nt()*2-1,-n.y/qt()*2+1)}g(ty,"screen2ndc");function us(n,e,i,o,a,u=1){o=At(o%360),a=At(a%360),a<=o&&(a+=Math.PI*2);let f=[],h=Math.ceil((a-o)/At(8)*u),d=(a-o)/h,p=Y(Math.cos(o),Math.sin(o)),v=Y(Math.cos(d),Math.sin(d));for(let E=0;E<=h;E++)f.push(n.add(e*p.x,i*p.y)),p=Y(p.x*v.x-p.y*v.y,p.x*v.y+p.y*v.x);return f}g(us,"getArcPts");function ny(...n){let e=$e(...n),i=n[3]??1;C.gfx.bgColor=e,C.gfx.bgAlpha=i,C.gfx.ggl.gl.clearColor(e.r/255,e.g/255,e.b/255,i)}g(ny,"setBackground");function ry(){var n,e;return((e=(n=C.gfx.bgColor)==null?void 0:n.clone)==null?void 0:e.call(n))??null}g(ry,"getBackground");function mt(...n){if(n[0]===void 0)return;let e=Y(...n);e.x===0&&e.y===0||C.gfx.transform.translate(e)}g(mt,"pushTranslate");function dn(){C.gfx.transformStack.push(C.gfx.transform.clone())}g(dn,"pushTransform");function iy(n){C.gfx.transform=n.clone()}g(iy,"pushMatrix");function Ls(...n){if(n[0]===void 0)return;let e=Y(...n);e.x===1&&e.y===1||C.gfx.transform.scale(e)}g(Ls,"pushScale");function _i(n){n&&C.gfx.transform.rotate(n)}g(_i,"pushRotate");function tn(){C.gfx.transformStack.length>0&&(C.gfx.transform=C.gfx.transformStack.pop())}g(tn,"popTransform");function fn(){C.gfx.renderer.flush()}g(fn,"flush");function Nt(){return C.gfx.width}g(Nt,"width");function qt(){return C.gfx.height}g(qt,"height");function Dd(){return(C.gfx.viewport.width+C.gfx.viewport.height)/(C.gfx.width+C.gfx.height)}g(Dd,"getViewportScale");function sy(n){return new Z(n.x*C.gfx.viewport.width/C.gfx.width,n.y*C.gfx.viewport.height/C.gfx.height)}g(sy,"contentToView");function oy(n){return new Z((n.x-C.gfx.viewport.x)*Nt()/C.gfx.viewport.width,(n.y-C.gfx.viewport.y)*qt()/C.gfx.viewport.height)}g(oy,"windowToContent");function Id(){return oy(C.app.mousePos())}g(Id,"mousePos");function Bo(){return Y(Nt()/2,qt()/2)}g(Bo,"center");var Cs,AS=(Cs=class{constructor(e,i,o,a){W(this,"lastTextureId",0);W(this,"textures",[]);W(this,"bigTextures",[]);W(this,"texturesPosition",new Map);W(this,"canvas");W(this,"c2d");W(this,"x",0);W(this,"y",0);W(this,"curHeight",0);W(this,"gfx");W(this,"padding");this.gfx=e,this.canvas=document.createElement("canvas"),this.canvas.width=i,this.canvas.height=o,this.textures=[Kr.fromImage(e,this.canvas)],this.bigTextures=[],this.padding=a;let u=this.canvas.getContext("2d");if(!u)throw new Error("Failed to get 2d context");this.c2d=u}add(e){let i=e.width+this.padding*2,o=e.height+this.padding*2;if(i>this.canvas.width||o>this.canvas.height){let f=Kr.fromImage(this.gfx,e);return this.bigTextures.push(f),[f,new gt(0,0,1,1),0]}this.x+i>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+o>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Kr.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let a=this.textures[this.textures.length-1],u=new Z(this.x+this.padding,this.y+this.padding);return this.x+=i,o>this.curHeight&&(this.curHeight=o),e instanceof ImageData?this.c2d.putImageData(e,u.x,u.y):this.c2d.drawImage(e,u.x,u.y),a.update(this.canvas),this.texturesPosition.set(this.lastTextureId,{position:u,size:new Z(e.width,e.height),texture:a}),this.lastTextureId++,[a,new gt(u.x/this.canvas.width,u.y/this.canvas.height,e.width/this.canvas.width,e.height/this.canvas.height),this.lastTextureId-1]}free(){for(let e of this.textures)e.free();for(let e of this.bigTextures)e.free()}},g(Cs,"TexPacker"),Cs);function mn(n){return typeof n!="string"||Og(n)?n:C.assets.urlPrefix+n}g(mn,"fixURL");var Ri,Mn=(Ri=class{constructor(e){W(this,"loaded",!1);W(this,"data",null);W(this,"error",null);W(this,"onLoadEvents",new en);W(this,"onErrorEvents",new en);W(this,"onFinishEvents",new en);e.then(i=>{this.loaded=!0,this.data=i,this.onLoadEvents.trigger(i)}).catch(i=>{if(this.error=i,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(i);else throw i}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(e){let i=new Ri(Promise.resolve(e));return i.data=e,i.loaded=!0,i}onLoad(e){return this.loaded&&this.data?e(this.data):this.onLoadEvents.add(e),this}onError(e){return this.loaded&&this.error?e(this.error):this.onErrorEvents.add(e),this}onFinish(e){return this.loaded?e():this.onFinishEvents.add(e),this}then(e){return this.onLoad(e)}catch(e){return this.onError(e)}finally(e){return this.onFinish(e)}},g(Ri,"Asset"),Ri),bs,is=(bs=class{constructor(){W(this,"assets",new Map);W(this,"lastUID",0)}add(e,i){let o=e??this.lastUID+++"",a=new Mn(i);return this.assets.set(o,a),a}addLoaded(e,i){let o=e??this.lastUID+++"",a=Mn.loaded(i);return this.assets.set(o,a),a}get(e){return this.assets.get(e)}progress(){if(this.assets.size===0)return 1;let e=0;return this.assets.forEach(i=>{i.loaded&&e++}),e/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(e=>this.assets.get(e).error!==null).map(e=>[e,this.assets.get(e)])}},g(bs,"AssetBucket"),bs);function Xl(n){return fetch(n).then(e=>{if(!e.ok)throw new Error(`Failed to fetch "${n}"`);return e})}g(Xl,"fetchURL");function Qo(n){return Xl(n).then(e=>e.json())}g(Qo,"fetchJSON");function ay(n){return Xl(n).then(e=>e.text())}g(ay,"fetchText");function ly(n){return Xl(n).then(e=>e.arrayBuffer())}g(ly,"fetchArrayBuffer");function uy(n){return n!==void 0&&(C.assets.urlPrefix=n),C.assets.urlPrefix}g(uy,"loadRoot");function cy(n,e){return C.assets.custom.add(n,Qo(mn(e)))}g(cy,"loadJSON");function Ko(n){let e=new Image;return e.crossOrigin="anonymous",e.src=n,new Promise((i,o)=>{e.onload=()=>i(e),e.onerror=()=>o(new Error(`Failed to load image from "${n}"`))})}g(Ko,"loadImg");function ri(){let n=[C.assets.sprites,C.assets.sounds,C.assets.shaders,C.assets.fonts,C.assets.bitmapFonts,C.assets.custom];return n.reduce((e,i)=>e+i.progress(),0)/n.length}g(ri,"loadProgress");function Nd(){return[C.assets.sprites,C.assets.sounds,C.assets.shaders,C.assets.fonts,C.assets.bitmapFonts,C.assets.custom].reduce((n,e)=>n.concat(e.getFailedAssets()),[])}g(Nd,"getFailedAssets");function dy(n){return C.assets.custom.get(n)??null}g(dy,"getAsset");function Ml(n){return C.assets.custom.add(null,n)}g(Ml,"load");var ES=g((n,e)=>({urlPrefix:"",sprites:new is,fonts:new is,bitmapFonts:new is,sounds:new is,shaders:new is,custom:new is,music:{},packer:new AS(n,2048,2048,e),loaded:!1}),"initAssets"),kS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",Zn,ii=(Zn=class{constructor(e,i,o={},a=null){W(this,"tex");W(this,"frames",[new gt(0,0,1,1)]);W(this,"anims",{});W(this,"slice9",null);this.tex=e,i&&(this.frames=i),this.anims=o,this.slice9=a}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(e,i={}){return typeof e=="string"?Zn.fromURL(e,i):Promise.resolve(Zn.fromImage(e,i))}static fromImage(e,i={}){let[o,a]=C.assets.packer.add(e),u=i.frames?i.frames.map(f=>new gt(a.x+f.x*a.w,a.y+f.y*a.h,f.w*a.w,f.h*a.h)):Bd(i.sliceX||1,i.sliceY||1,a.x,a.y,a.w,a.h);return new Zn(o,u,i.anims,i.slice9)}static fromURL(e,i={}){return Ko(e).then(o=>Zn.fromImage(o,i))}},g(Zn,"SpriteData"),Zn);function _o(n){if(typeof n=="string"){let e=Ld(n);if(e)return e;if(ri()<1)return null;throw new Error(`Sprite not found: ${n}`)}else{if(n instanceof ii)return Mn.loaded(n);if(n instanceof Mn)return n;throw new Error(`Invalid sprite: ${n}`)}}g(_o,"resolveSprite");function Ld(n){return C.assets.sprites.get(n)??null}g(Ld,"getSprite");function fs(n,e,i={sliceX:1,sliceY:1,anims:{}}){return e=mn(e),Array.isArray(e)?e.some(o=>typeof o=="string")?C.assets.sprites.add(n,Promise.all(e.map(o=>typeof o=="string"?Ko(o):Promise.resolve(o))).then(o=>rd(o,i))):C.assets.sprites.addLoaded(n,rd(e,i)):typeof e=="string"?C.assets.sprites.add(n,ii.from(e,i)):C.assets.sprites.addLoaded(n,ii.fromImage(e,i))}g(fs,"loadSprite");function Bd(n=1,e=1,i=0,o=0,a=1,u=1){let f=[],h=a/n,d=u/e;for(let p=0;p<e;p++)for(let v=0;v<n;v++)f.push(new gt(i+v*h,o+p*d,h,d));return f}g(Bd,"slice");function rd(n,e={}){let i=document.createElement("canvas"),o=n[0].width,a=n[0].height;i.width=o*n.length,i.height=a;let u=i.getContext("2d");if(!u)throw new Error("Failed to create canvas context");n.forEach((h,d)=>{h instanceof ImageData?u.putImageData(h,d*o,0):u.drawImage(h,d*o,0)});let f=u.getImageData(0,0,n.length*o,a);return ii.fromImage(f,{...e,sliceX:n.length,sliceY:1})}g(rd,"createSpriteSheet");function fy(n="bean"){return fs(n,kS)}g(fy,"loadBean");function hy(n,e,i){e=mn(e),i=mn(i),typeof e=="string"&&!i&&(i=Jx(e)+".json");let o=typeof i=="string"?Qo(i):Promise.resolve(i);return C.assets.sprites.add(n,o.then(a=>{let u=a.meta.size,f=a.frames.map(d=>new gt(d.frame.x/u.w,d.frame.y/u.h,d.frame.w/u.w,d.frame.h/u.h)),h={};for(let d of a.meta.frameTags)d.from===d.to?h[d.name]=d.from:h[d.name]={from:d.from,to:d.to,speed:10,loop:!0,pingpong:d.direction==="pingpong"};return ii.from(e,{frames:f,anims:h})}))}g(hy,"loadAseprite");var Ms,vl=(Ms=class{constructor(e,i={}){W(this,"fontface");W(this,"filter",Zc);W(this,"outline",null);W(this,"size",64);if(this.fontface=e,this.filter=i.filter??Zc,this.size=i.size??64,this.size>256)throw new Error("Max font size: 256");i.outline&&(this.outline={width:1,color:$e(0,0,0)},typeof i.outline=="number"?this.outline.width=i.outline:typeof i.outline=="object"&&(i.outline.width&&(this.outline.width=i.outline.width),i.outline.color&&(this.outline.color=i.outline.color)))}},g(Ms,"FontData"),Ms);function Fd(n){if(!n)return Fd(C.globalOpt.font??Ox);if(typeof n=="string"){let e=qd(n),i=Od(n);if(e)return e.data??e;if(i)return i.data??i;if(document.fonts.check(`64px ${n}`))return n;if(ri()<1)return null;throw new Error(`Font not found: ${n}`)}else if(n instanceof Mn)return n.data?n.data:n;return n}g(Fd,"resolveFont");function Od(n){return C.assets.fonts.get(n)??null}g(Od,"getFont");function py(n,e,i={}){let o=mn(e),a=new FontFace(n,typeof e=="string"?`url(${o})`:o);return document.fonts.add(a),C.assets.fonts.add(n,a.load().catch(u=>{throw new Error(`Failed to load font from "${o}": ${u}`)}).then(u=>new vl(u,i)))}g(py,"loadFont");function my(n,e,i,o){let a=n.width/e,u={},f=o.split("").entries();for(let[h,d]of f)u[d]=new gt(h%a*e,Math.floor(h/a)*i,e,i);return{tex:n,map:u,size:i}}g(my,"makeFont");function qd(n){return C.assets.bitmapFonts.get(n)??null}g(qd,"getBitmapFont");function gy(n,e,i,o,a={}){let u=mn(e);return C.assets.bitmapFonts.add(n,Ko(u).then(f=>my(Kr.fromImage(C.gfx.ggl,f,a),i,o,a.chars??_g)))}g(gy,"loadBitmapFont");function yy(n,e){return e=mn(e),C.assets.sprites.add(n,new Promise(async i=>{let o=typeof e=="string"?await Qo(e):e,a=await Promise.all(o.frames.map(Ko)),u=document.createElement("canvas");u.width=o.width,u.height=o.height*o.frames.length;let f=u.getContext("2d");if(!f)throw new Error("Failed to create canvas context");a.forEach((d,p)=>{f.drawImage(d,0,p*o.height)});let h=await fs(null,u,{sliceY:o.frames.length,anims:o.anims});i(h)}))}g(yy,"loadPedit");var Ps,CS=(Ps=class{constructor(e,i,o,a){W(this,"ctx");W(this,"glProgram");this.ctx=e,e.onDestroy(()=>this.free());let u=e.gl,f=u.createShader(u.VERTEX_SHADER),h=u.createShader(u.FRAGMENT_SHADER);if(!f||!h)throw new Error("Failed to create shader");u.shaderSource(f,i),u.shaderSource(h,o),u.compileShader(f),u.compileShader(h);let d=u.createProgram();if(this.glProgram=d,u.attachShader(d,f),u.attachShader(d,h),a.forEach((p,v)=>u.bindAttribLocation(d,v,p)),u.linkProgram(d),!u.getProgramParameter(d,u.LINK_STATUS)){let p=u.getShaderInfoLog(f);if(p)throw new Error("VERTEX SHADER "+p);let v=u.getShaderInfoLog(h);if(v)throw new Error("FRAGMENT SHADER "+v)}u.deleteShader(f),u.deleteShader(h)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(e){let i=this.ctx.gl;for(let o in e){let a=e[o],u=i.getUniformLocation(this.glProgram,o);if(typeof a=="number")i.uniform1f(u,a);else if(a instanceof Jn)i.uniformMatrix4fv(u,!1,new Float32Array(a.m));else if(a instanceof qe)i.uniform3f(u,a.r,a.g,a.b);else if(a instanceof Z)i.uniform2f(u,a.x,a.y);else if(Array.isArray(a))a[0],Zx(a)?i.uniform1fv(u,a):Xx(a)?i.uniform2fv(u,a.map(f=>[f.x,f.y]).flat()):Yx(a)&&i.uniform3fv(u,a.map(f=>[f.r,f.g,f.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}},g(Ps,"Shader"),Ps);function Zl(n,e=Jc,i=ed){let o=Hx.replace("{{user}}",e??Jc),a=Gx.replace("{{user}}",i??ed);try{return new CS(n,o,a,_d.map(u=>u.name))}catch(u){let f=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,h=eS(u).match(f);if(!(h!=null&&h.groups))throw u;let d=Number(h.groups.line)-14,p=h.groups.msg.trim(),v=h.groups.type.toLowerCase();throw new Error(`${v} shader line ${d}: ${p}`)}}g(Zl,"makeShader");function vy(n){if(!n)return C.gfx.defShader;if(typeof n=="string"){let e=zd(n);if(e)return e.data??e;if(ri()<1)return null;throw new Error(`Shader not found: ${n}`)}else if(n instanceof Mn)return n.data?n.data:n;return n}g(vy,"resolveShader");function zd(n){return C.assets.shaders.get(n)??null}g(zd,"getShader");function wy(n,e,i){return C.assets.shaders.addLoaded(n,Zl(C.gfx.ggl,e,i))}g(wy,"loadShader");function xy(n,e,i){e=mn(e),i=mn(i);let o=g(u=>u?ay(u):Promise.resolve(null),"resolveUrl"),a=Promise.all([o(e),o(i)]).then(([u,f])=>Zl(C.gfx.ggl,u,f));return C.assets.shaders.add(n,a)}g(xy,"loadShaderURL");var vr,Fo=(vr=class{constructor(e){W(this,"buf");this.buf=e}static fromArrayBuffer(e){return new Promise((i,o)=>C.audio.ctx.decodeAudioData(e,i,o)).then(i=>new vr(i))}static fromURL(e){return Og(e)?vr.fromArrayBuffer(Bg(e)):ly(e).then(i=>vr.fromArrayBuffer(i))}},g(vr,"SoundData"),vr);function Sy(n){if(typeof n=="string"){let e=Ud(n);if(e)return e;if(ri()<1)return null;throw new Error(`Sound not found: ${n}`)}else{if(n instanceof Fo)return Mn.loaded(n);if(n instanceof Mn)return n;throw new Error(`Invalid sound: ${n}`)}}g(Sy,"resolveSound");function Ud(n){return C.assets.sounds.get(n)??null}g(Ud,"getSound");function Ay(n,e){return e=mn(e),C.assets.sounds.add(n,typeof e=="string"?Fo.fromURL(e):Fo.fromArrayBuffer(e))}g(Ay,"loadSound");function Ey(n,e){let i=mn(e),o=new Audio(i);return o.preload="auto",C.assets.music[n]=i}g(Ey,"loadMusic");function Hd(n,e){return n=mn(n),Ml(typeof e=="string"?new Promise((i,o)=>{Qo(e).then(a=>{Hd(n,a).then(i).catch(o)})}):ii.from(n).then(i=>{let o={};for(let a in e){let u=e[a],f=i.frames[0],h=2048*f.w,d=2048*f.h,p=u.frames?u.frames.map(E=>new gt(f.x+(u.x+E.x)/h*f.w,f.y+(u.y+E.y)/d*f.h,E.w/h*f.w,E.h/d*f.h)):Bd(u.sliceX||1,u.sliceY||1,f.x+u.x/h*f.w,f.y+u.y/d*f.h,u.width/h*f.w,u.height/d*f.h),v=new ii(i.tex,p,u.anims);C.assets.sprites.addLoaded(a,v),o[a]=v}return o}))}g(Hd,"loadSpriteAtlas");function kr(n,e,i=!1,o,a,u={}){let f=o??C.gfx.defTex,h=a??C.gfx.defShader,d=vy(h);if(!d||d instanceof Mn)return;let p=C.gfx.fixed||i?C.gfx.transform:C.game.cam.transform.mult(C.gfx.transform),v=[];for(let E of n){let y=ty(p.multVec2(E.pos));v.push(y.x,y.y,E.uv.x,E.uv.y,E.color.r/255,E.color.g/255,E.color.b/255,E.opacity)}C.gfx.renderer.push(C.gfx.ggl.gl.TRIANGLES,v,e,d,f,u)}g(kr,"drawRaw");function xr(n){if(!n.pts)throw new Error('drawPolygon() requires property "pts".');let e=n.pts.length;if(!(e<3)){if(dn(),mt(n.pos),Ls(n.scale),_i(n.angle),mt(n.offset),n.fill!==!1){let i=n.color??qe.WHITE,o=n.pts.map((u,f)=>({pos:new Z(u.x,u.y),uv:n.uv?n.uv[f]:new Z(0,0),color:n.colors&&n.colors[f]?n.colors[f].mult(i):i,opacity:n.opacity??1})),a;n.triangulate?a=Td(n.pts).map(u=>u.map(f=>n.pts.indexOf(f))).flat():a=[...Array(e-2).keys()].map(u=>[0,u+1,u+2]).flat(),kr(o,n.indices??a,n.fixed,n.uv?n.tex:C.gfx.defTex,n.shader,n.uniform??void 0)}n.outline&&Jl({pts:[...n.pts,n.pts[0]],radius:n.radius,width:n.outline.width,color:n.outline.color,join:n.outline.join,uniform:n.uniform,fixed:n.fixed,opacity:n.opacity??n.outline.opacity}),tn()}}g(xr,"drawPolygon");function Gd(n){if(n.radiusX===void 0||n.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(n.radiusX===0||n.radiusY===0)return;let e=n.start??0,i=n.end??360,o=Ii(n.anchor??"center").scale(new Z(-n.radiusX,-n.radiusY)),a=us(o,n.radiusX,n.radiusY,e,i,n.resolution);a.unshift(o);let u=Object.assign({},n,{pts:a,radius:0,...n.gradient?{colors:[n.gradient[0],...Array(a.length-1).fill(n.gradient[1])]}:{}});if(i-e>=360&&n.outline){n.fill!==!1&&xr(Object.assign({},u,{outline:null})),xr(Object.assign({},u,{pts:a.slice(1),fill:!1}));return}xr(u)}g(Gd,"drawEllipse");function Ni(n){if(typeof n.radius!="number")throw new Error('drawCircle() requires property "radius".');n.radius!==0&&Gd(Object.assign({},n,{radiusX:n.radius,radiusY:n.radius,angle:0}))}g(Ni,"drawCircle");function cs(n){let{p1:e,p2:i}=n;if(!e||!i)throw new Error('drawLine() requires properties "p1" and "p2".');let o=n.width||1,a=i.sub(e).unit().normal().scale(o*.5),u=[e.sub(a),e.add(a),i.add(a),i.sub(a)].map(f=>({pos:new Z(f.x,f.y),uv:new Z(0),color:n.color??qe.WHITE,opacity:n.opacity??1}));kr(u,[0,1,3,1,2,3],n.fixed,C.gfx.defTex,n.shader,n.uniform??void 0)}g(cs,"drawLine");function ky(n){let e=n.pts,i=[],o=(n.width||1)*.5,a=e[0]===e[e.length-1]||e[0].eq(e[e.length-1]),u=n.pos||Y(0,0),f;a?f=e[0].sub(e[e.length-2]):f=e[1].sub(e[0]);let h=f.len(),d=f.normal().scale(-o/h),p,v=e[0];if(!a)switch(n.cap){case"square":{let w=f.scale(-o/h);i.push(v.add(w).add(d)),i.push(v.add(w).sub(d));break}case"round":{let w=Math.max(o,10),_=Math.PI/w,k=d.scale(-1),A=Math.cos(_),M=Math.sin(_);for(let P=0;P<w;P++)i.push(v),i.push(v.sub(k)),k=Y(k.x*A-k.y*M,k.x*M+k.y*A)}}for(let w=1;w<e.length;w++){if(v===e[w]||v.eq(e[w]))continue;p=v,v=e[w];let _=v.sub(p),k=_.len(),A=_.normal().scale(-o/k),M=f.cross(_);if(Math.abs(M)/(h*k)<.05){i.push(p.add(d)),i.push(p.sub(d)),f.dot(_)<0&&(i.push(p.sub(d)),i.push(p.add(d))),f=_,h=k,d=A;continue}let P=A.sub(d).cross(_)/M,D=d.add(f.scale(P));M>0?(i.push(p.add(D)),i.push(p.sub(d)),i.push(p.add(D)),i.push(p.sub(A))):(i.push(p.add(d)),i.push(p.sub(D)),i.push(p.add(A)),i.push(p.sub(D))),f=_,h=k,d=A}if(!a)switch(i.push(v.add(d)),i.push(v.sub(d)),n.cap){case"square":{let w=f.scale(o/h);i.push(v.add(w).add(d)),i.push(v.add(w).sub(d));break}case"round":{let w=Math.max(o,10),_=Math.PI/w,k=d.scale(1),A=Math.cos(_),M=Math.sin(_);for(let P=0;P<w;P++)k=Y(k.x*A-k.y*M,k.x*M+k.y*A),i.push(v),i.push(v.sub(k))}}if(i.length<4)return;let E=i.map(w=>({pos:u.add(w),uv:Y(),color:n.color||qe.WHITE,opacity:n.opacity??1})),y=[],x=0;for(let w=0;w<i.length-2;w+=2)y[x++]=w+1,y[x++]=w,y[x++]=w+2,y[x++]=w+2,y[x++]=w+3,y[x++]=w+1;a&&(y[x++]=i.length-1,y[x++]=i.length-2,y[x++]=0,y[x++]=0,y[x++]=1,y[x++]=i.length-1),kr(E,y,n.fixed,C.gfx.defTex,n.shader,n.uniform??void 0)}g(ky,"_drawLinesBevel");function Cy(n){let e=n.pts,i=[],o=(n.width||1)*.5,a=e[0]===e[e.length-1]||e[0].eq(e[e.length-1]),u=n.pos||Y(0,0),f;a?f=e[0].sub(e[e.length-2]):f=e[1].sub(e[0]);let h=f.len(),d=f.normal().scale(-o/h),p,v=e[0];if(!a)switch(n.cap){case"square":{let w=f.scale(-o/h);i.push(v.add(w).add(d)),i.push(v.add(w).sub(d));break}case"round":{let w=Math.max(o,10),_=Math.PI/w,k=d.scale(-1),A=Math.cos(_),M=Math.sin(_);for(let P=0;P<w;P++)i.push(v),i.push(v.sub(k)),k=Y(k.x*A-k.y*M,k.x*M+k.y*A)}}for(let w=1;w<e.length;w++){if(v===e[w]||v.eq(e[w]))continue;p=v,v=e[w];let _=v.sub(p),k=_.len(),A=_.normal().scale(-o/k),M=f.cross(_);if(Math.abs(M)/(h*k)<.05){i.push(p.add(d)),i.push(p.sub(d)),f.dot(_)<0&&(i.push(p.sub(d)),i.push(p.add(d))),f=_,h=k,d=A;continue}let P=A.sub(d).cross(_)/M,D=d.add(f.scale(P));if(M>0){let F=p.add(D),b=Math.max(o,10),R=At(d.angleBetween(A)/b),B=d,H=Math.cos(R),U=Math.sin(R);for(let ee=0;ee<b;ee++)i.push(F),i.push(p.sub(B)),B=Y(B.x*H-B.y*U,B.x*U+B.y*H)}else{let F=p.sub(D),b=Math.max(o,10),R=At(d.angleBetween(A)/b),B=d,H=Math.cos(R),U=Math.sin(R);for(let ee=0;ee<b;ee++)i.push(p.add(B)),i.push(F),B=Y(B.x*H-B.y*U,B.x*U+B.y*H)}f=_,h=k,d=A}if(!a)switch(i.push(v.add(d)),i.push(v.sub(d)),n.cap){case"square":{let w=f.scale(o/h);i.push(v.add(w).add(d)),i.push(v.add(w).sub(d));break}case"round":{let w=Math.max(o,10),_=Math.PI/w,k=d.scale(1),A=Math.cos(_),M=Math.sin(_);for(let P=0;P<w;P++)k=Y(k.x*A-k.y*M,k.x*M+k.y*A),i.push(v),i.push(v.sub(k))}}if(i.length<4)return;let E=i.map(w=>({pos:u.add(w),uv:Y(),color:n.color||qe.WHITE,opacity:n.opacity??1})),y=[],x=0;for(let w=0;w<i.length-2;w+=2)y[x++]=w+1,y[x++]=w,y[x++]=w+2,y[x++]=w+2,y[x++]=w+3,y[x++]=w+1;a&&(y[x++]=i.length-1,y[x++]=i.length-2,y[x++]=0,y[x++]=0,y[x++]=1,y[x++]=i.length-1),kr(E,y,n.fixed,C.gfx.defTex,n.shader,n.uniform??void 0)}g(Cy,"_drawLinesRound");function by(n){let e=n.pts,i=[],o=(n.width||1)*.5,a=e[0]===e[e.length-1]||e[0].eq(e[e.length-1]),u=n.pos||Y(0,0),f;a?f=e[0].sub(e[e.length-2]):f=e[1].sub(e[0]);let h=f.len(),d=f.normal().scale(-o/h),p,v=e[0];if(!a)switch(n.cap){case"square":{let w=f.scale(-o/h);i.push(v.add(w).add(d)),i.push(v.add(w).sub(d));break}case"round":{let w=Math.max(o,10),_=Math.PI/w,k=d.scale(-1),A=Math.cos(_),M=Math.sin(_);for(let P=0;P<w;P++)i.push(v),i.push(v.sub(k)),k=Y(k.x*A-k.y*M,k.x*M+k.y*A)}}for(let w=1;w<e.length;w++){if(v===e[w]||v.eq(e[w]))continue;p=v,v=e[w];let _=v.sub(p),k=_.len(),A=_.normal().scale(-o/k),M=f.cross(_);if(Math.abs(M)/(h*k)<.05){i.push(p.add(d)),i.push(p.sub(d)),f.dot(_)<0&&(i.push(p.sub(d)),i.push(p.add(d))),f=_,h=k,d=A;continue}let P=A.sub(d).cross(_)/M,D=d.add(f.scale(P));i.push(p.add(D)),i.push(p.sub(D)),f=_,h=k,d=A}if(!a)switch(i.push(v.add(d)),i.push(v.sub(d)),n.cap){case"square":{let w=f.scale(o/h);i.push(v.add(w).add(d)),i.push(v.add(w).sub(d));break}case"round":{let w=Math.max(o,10),_=Math.PI/w,k=d.scale(1),A=Math.cos(_),M=Math.sin(_);for(let P=0;P<w;P++)k=Y(k.x*A-k.y*M,k.x*M+k.y*A),i.push(v),i.push(v.sub(k))}}if(i.length<4)return;let E=i.map(w=>({pos:u.add(w),uv:Y(),color:n.color||qe.WHITE,opacity:n.opacity??1})),y=[],x=0;for(let w=0;w<i.length-2;w+=2)y[x++]=w+1,y[x++]=w,y[x++]=w+2,y[x++]=w+2,y[x++]=w+3,y[x++]=w+1;a&&(y[x++]=i.length-1,y[x++]=i.length-2,y[x++]=0,y[x++]=0,y[x++]=1,y[x++]=i.length-1),kr(E,y,n.fixed,C.gfx.defTex,n.shader,n.uniform??void 0)}g(by,"_drawLinesMiter");function Jl(n){let e=n.pts,i=n.width??1;if(!e)throw new Error('drawLines() requires property "pts".');if(!(e.length<2)){if(e.length>2)switch(n.join){case"bevel":return ky(n);case"round":return Cy(n);case"miter":return by(n)}if(n.radius&&e.length>=3){cs(Object.assign({},n,{p1:e[0],p2:e[1]}));for(let o=1;o<e.length-2;o++){let a=e[o],u=e[o+1];cs(Object.assign({},n,{p1:a,p2:u}))}cs(Object.assign({},n,{p1:e[e.length-2],p2:e[e.length-1]}))}else for(let o=0;o<e.length-1;o++)cs(Object.assign({},n,{p1:e[o],p2:e[o+1]})),n.join!=="none"&&Ni(Object.assign({},n,{pos:e[o],radius:i/2}))}}g(Jl,"drawLines");function Vd(n,e){let i=e.segments??16,o=[];for(let a=0;a<=i;a++)o.push(n(a/i));Jl({pts:o,width:e.width||1,pos:e.pos,color:e.color,opacity:e.opacity})}g(Vd,"drawCurve");function My(n){Vd(e=>Wl(n.pt1,n.pt2,n.pt3,n.pt4,e),n)}g(My,"drawBezier");var Ti,Kr=(Ti=class{constructor(e,i,o,a={}){W(this,"ctx");W(this,"src",null);W(this,"glTex");W(this,"width");W(this,"height");this.ctx=e;let u=e.gl,f=e.gl.createTexture();if(!f)throw new Error("Failed to create texture");this.glTex=f,e.onDestroy(()=>this.free()),this.width=i,this.height=o;let h={linear:u.LINEAR,nearest:u.NEAREST}[a.filter??e.opts.texFilter??"nearest"],d={repeat:u.REPEAT,clampToEdge:u.CLAMP_TO_EDGE}[a.wrap??"clampToEdge"];this.bind(),i&&o&&u.texImage2D(u.TEXTURE_2D,0,u.RGBA,i,o,0,u.RGBA,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,h),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,h),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,d),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,d),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(e,i,o={}){let a=new Ti(e,i.width,i.height,o);return a.update(i),a.src=i,a}update(e,i=0,o=0){let a=this.ctx.gl;this.bind(),a.texSubImage2D(a.TEXTURE_2D,0,i,o,a.RGBA,a.UNSIGNED_BYTE,e),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},g(Ti,"Texture"),Ti),Rs,Pl=(Rs=class{constructor(e,i,o,a={}){W(this,"ctx");W(this,"tex");W(this,"glFramebuffer");W(this,"glRenderbuffer");this.ctx=e;let u=e.gl;e.onDestroy(()=>this.free()),this.tex=new Kr(e,i,o,a);let f=u.createFramebuffer(),h=u.createRenderbuffer();if(!f||!h)throw new Error("Failed to create framebuffer");this.glFramebuffer=f,this.glRenderbuffer=h,this.bind(),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,i,o),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,this.tex.glTex,0),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let e=this.ctx.gl,i=new Uint8ClampedArray(this.width*this.height*4);this.bind(),e.readPixels(0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,i),this.unbind();let o=this.width*4,a=new Uint8Array(o);for(let u=0;u<(this.height/2|0);u++){let f=u*o,h=(this.height-u-1)*o;a.set(i.subarray(f,f+o)),i.copyWithin(f,h,h+o),i.set(a,h)}return new ImageData(i,this.width,this.height)}toDataURL(){let e=document.createElement("canvas"),i=e.getContext("2d");if(e.width=this.width,e.height=this.height,!i)throw new Error("Failed to get 2d context");return i.putImageData(this.toImageData(),0,0),e.toDataURL()}clear(){let e=this.ctx.gl;e.clear(e.COLOR_BUFFER_BIT)}draw(e){this.bind(),e(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let e=this.ctx.gl;e.deleteFramebuffer(this.glFramebuffer),e.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},g(Rs,"FrameBuffer"),Rs),Ts,bS=(Ts=class{constructor(e,i,o,a){W(this,"ctx");W(this,"glVBuf");W(this,"glIBuf");W(this,"vqueue",[]);W(this,"iqueue",[]);W(this,"stride");W(this,"maxVertices");W(this,"maxIndices");W(this,"vertexFormat");W(this,"numDraws",0);W(this,"curPrimitive",null);W(this,"curTex",null);W(this,"curShader",null);W(this,"curUniform",{});let u=e.gl;this.vertexFormat=i,this.ctx=e,this.stride=i.reduce((h,d)=>h+d.size,0),this.maxVertices=o,this.maxIndices=a;let f=u.createBuffer();if(!f)throw new Error("Failed to create vertex buffer");this.glVBuf=f,e.pushArrayBuffer(this.glVBuf),u.bufferData(u.ARRAY_BUFFER,o*4,u.DYNAMIC_DRAW),e.popArrayBuffer(),this.glIBuf=u.createBuffer(),e.pushElementArrayBuffer(this.glIBuf),u.bufferData(u.ELEMENT_ARRAY_BUFFER,a*4,u.DYNAMIC_DRAW),e.popElementArrayBuffer()}push(e,i,o,a,u=null,f={}){(e!==this.curPrimitive||u!==this.curTex||a!==this.curShader||!Kl(this.curUniform,f)||this.vqueue.length+i.length*this.stride>this.maxVertices||this.iqueue.length+o.length>this.maxIndices)&&this.flush();let h=this.vqueue.length/this.stride;for(let d of i)this.vqueue.push(d);for(let d of o)this.iqueue.push(d+h);this.curPrimitive=e,this.curShader=a,this.curTex=u,this.curUniform=f}flush(){var i,o;if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let e=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),e.bufferSubData(e.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),(i=this.curTex)==null||i.bind(),e.drawElements(this.curPrimitive,this.iqueue.length,e.UNSIGNED_SHORT,0),(o=this.curTex)==null||o.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let e=this.ctx.gl;e.deleteBuffer(this.glVBuf),e.deleteBuffer(this.glIBuf)}},g(Ts,"BatchRenderer"),Ts);function $r(n){let e=[],i=g(u=>{e.push(u),n(u)},"push"),o=g(()=>{e.pop(),n(a()??null)},"pop"),a=g(()=>e[e.length-1],"cur");return[i,o,a]}g($r,"genStack");function Py(n,e={}){let i=[];function o(F){i.push(F)}g(o,"onDestroy");function a(){i.forEach(b=>b());let F=n.getExtension("WEBGL_lose_context");F&&F.loseContext()}g(a,"destroy");let u=null;function f(F){if(Kl(F,u))return;u=F;let b=F.reduce((R,B)=>R+B.size,0);F.reduce((R,B,H)=>(n.vertexAttribPointer(H,B.size,n.FLOAT,!1,b*4,R),n.enableVertexAttribArray(H),R+B.size*4),0)}g(f,"setVertexFormat");let[h,d]=$r(F=>n.bindTexture(n.TEXTURE_2D,F)),[p,v]=$r(F=>n.bindBuffer(n.ARRAY_BUFFER,F)),[E,y]=$r(F=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,F)),[x,w]=$r(F=>n.bindFramebuffer(n.FRAMEBUFFER,F)),[_,k]=$r(F=>n.bindRenderbuffer(n.RENDERBUFFER,F)),[A,M]=$r(F=>{if(!F)return;let{x:b,y:R,w:B,h:H}=F;n.viewport(b,R,B,H)}),[P,D]=$r(F=>n.useProgram(F));return A({x:0,y:0,w:n.drawingBufferWidth,h:n.drawingBufferHeight}),{gl:n,opts:e,onDestroy:o,destroy:a,pushTexture2D:h,popTexture2D:d,pushArrayBuffer:p,popArrayBuffer:v,pushElementArrayBuffer:E,popElementArrayBuffer:y,pushFramebuffer:x,popFramebuffer:w,pushRenderbuffer:_,popRenderbuffer:k,pushViewport:A,popViewport:M,pushProgram:P,popProgram:D,setVertexFormat:f}}g(Py,"initGfx");var Gc={};function id(n,e){if(e.override){Object.assign(n,e);return}e.pos&&(n.pos=n.pos.add(e.pos)),e.scale&&(n.scale=n.scale.scale(Y(e.scale))),e.angle&&(n.angle+=e.angle),e.color&&n.ch.length===1&&(n.color=n.color.mult(e.color)),e.opacity!=null&&(n.opacity*=e.opacity)}g(id,"applyCharTransform");function Rl(n){let e={},i="",o=[],a=String(n),u=g(f=>{o.length>0&&(e[i.length]=o.slice()),i+=f},"emit");for(;a!=="";){if(a[0]==="\\"){if(a.length===1)throw new Error("Styled text error: \\ at end of string");u(a[1]),a=a.slice(2);continue}if(a[0]==="["){let f=/^\[(\/)?(\w+?)\]/.exec(a);if(!f){u(a[0]),a=a.slice(1);continue}let[h,d,p]=f;if(d!==void 0){let v=o.pop();if(v!==p)throw v!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${v}], got [/${p}]`):new Error(`Styled text error: stray end tag [/${p}]`)}else o.push(p);a=a.slice(h.length);continue}u(a[0]),a=a.slice(1)}if(o.length>0)throw new Error(`Styled text error: unclosed tags ${o}`);return{charStyleMap:e,text:i}}g(Rl,"compileStyledText");function si(n){var P,D,F;if(n.text===void 0)throw new Error('formatText() requires property "text".');let e=Fd(n.font);if(!n.text||n.text===""||e instanceof Mn||!e)return{width:0,height:0,chars:[],opt:n,renderedText:""};let{charStyleMap:i,text:o}=Rl(n.text+""),a=zg(o);if(e instanceof vl||typeof e=="string"){let b=e instanceof vl?e.fontface.family:e,R=e instanceof vl?{outline:e.outline,filter:e.filter}:{outline:null,filter:Zc},B=Gc[b]??{font:{tex:new Kr(C.gfx.ggl,2048,2048,{filter:R.filter}),map:{},size:64},cursor:new Z(0),maxHeight:0,outline:R.outline};Gc[b]||(Gc[b]=B),e=B.font;for(let H of a)if(!B.font.map[H]){let U=C.fontCacheC2d;if(!U)throw new Error("fontCacheC2d is not defined.");if(!C.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");U.clearRect(0,0,C.fontCacheCanvas.width,C.fontCacheCanvas.height),U.font=`${e.size}px ${b}`,U.textBaseline="top",U.textAlign="left",U.fillStyle="#ffffff";let ee=U.measureText(H),ue=Math.ceil(ee.width);if(!ue)continue;let ye=Math.ceil(Math.abs(ee.actualBoundingBoxAscent))+Math.ceil(Math.abs(ee.actualBoundingBoxDescent));B.outline&&B.outline.width&&B.outline.color&&(U.lineJoin="round",U.lineWidth=B.outline.width*2,U.strokeStyle=B.outline.color.toHex(),U.strokeText(H,B.outline.width,B.outline.width),ue+=B.outline.width*2,ye+=B.outline.width*3),U.fillText(H,((P=B.outline)==null?void 0:P.width)??0,((D=B.outline)==null?void 0:D.width)??0);let ke=U.getImageData(0,0,ue,ye);if(B.cursor.x+ue>2048&&(B.cursor.x=0,B.cursor.y+=B.maxHeight,B.maxHeight=0,B.cursor.y>2048))throw new Error("Font atlas exceeds character limit");e.tex.update(ke,B.cursor.x,B.cursor.y),e.map[H]=new gt(B.cursor.x,B.cursor.y,ue,ye),B.cursor.x+=ue+1,B.maxHeight=Math.max(B.maxHeight,ye)}}let u=n.size||e.size,f=Y(n.scale??1).scale(u/e.size),h=n.lineSpacing??0,d=n.letterSpacing??0,p=0,v=0,E=0,y=[],x=[],w=0,_=null,k=0,A;for(;w<a.length;){let b=a[w];if(b===`
`)E+=u+h,y.push({width:p-d,chars:x}),_=null,k=0,p=0,x=[],A=void 0;else{let R=e.map[b];if(R){let B=R.w*f.x;n.width&&p+B>n.width&&(E+=u+h,_!=null&&(w-=x.length-_,b=a[w],R=e.map[b],B=R.w*f.x,x=x.slice(0,_-1),p=k),_=null,k=0,y.push({width:p-d,chars:x}),p=A??0,x=[]),x.push({tex:e.tex,width:R.w,height:R.h,quad:new gt(R.x/e.tex.width,R.y/e.tex.height,R.w/e.tex.width,R.h/e.tex.height),ch:b,pos:new Z(p,E),opacity:n.opacity??1,color:n.color??qe.WHITE,scale:Y(f),angle:0}),b===" "&&(_=x.length,k=p),n.indentAll&&A===void 0&&/\S/.test(b)&&(A=p),p+=B,v=Math.max(v,p),p+=d}}w++}y.push({width:p-d,chars:x}),E+=u,n.width&&(v=n.width);let M=[];for(let b=0;b<y.length;b++){let R=(v-y[b].width)*Xg(n.align??"left");for(let B of y[b].chars){let H=e.map[B.ch],U=M.length+b;if(B.pos=B.pos.add(R,0).add(H.w*f.x*.5,H.h*f.y*.5),n.transform){let ee=typeof n.transform=="function"?n.transform(U,B.ch):n.transform;ee&&id(B,ee)}if(i[U]){let ee=i[U];for(let ue of ee){let ye=(F=n.styles)==null?void 0:F[ue],ke=typeof ye=="function"?ye(U,B.ch):ye;ke&&id(B,ke)}}M.push(B)}}return{width:v,height:E,chars:M,opt:n,renderedText:o}}g(si,"formatText");function Bs(n){if(n.width===void 0||n.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(n.width<=0||n.height<=0)return;let e=n.width,i=n.height,o=Ii(n.anchor||$l).scale(new Z(e,i).scale(-.5)),a=n.quad||new gt(0,0,1,1),u=n.color||$e(255,255,255),f=n.opacity??1,h=n.tex?.1/n.tex.width:0,d=n.tex?.1/n.tex.height:0,p=a.x+h,v=a.y+d,E=a.w-h*2,y=a.h-d*2;dn(),mt(n.pos),_i(n.angle),Ls(n.scale),mt(o),kr([{pos:new Z(-e/2,i/2),uv:new Z(n.flipX?p+E:p,n.flipY?v:v+y),color:u,opacity:f},{pos:new Z(-e/2,-i/2),uv:new Z(n.flipX?p+E:p,n.flipY?v+y:v),color:u,opacity:f},{pos:new Z(e/2,-i/2),uv:new Z(n.flipX?p:p+E,n.flipY?v+y:v),color:u,opacity:f},{pos:new Z(e/2,i/2),uv:new Z(n.flipX?p:p+E,n.flipY?v:v+y),color:u,opacity:f}],[0,1,3,1,2,3],n.fixed,n.tex,n.shader,n.uniform??void 0),tn()}g(Bs,"drawUVQuad");function oi(n){dn(),mt(n.opt.pos),_i(n.opt.angle),mt(Ii(n.opt.anchor??"topleft").add(1,1).scale(n.width,n.height).scale(-.5)),n.chars.forEach(e=>{Bs({tex:e.tex,width:e.width,height:e.height,pos:e.pos,scale:e.scale,angle:e.angle,color:e.color,opacity:e.opacity,quad:e.quad,anchor:"center",uniform:n.opt.uniform,shader:n.opt.shader,fixed:n.opt.fixed})}),tn()}g(oi,"drawFormattedText");function hn(n){if(n.width===void 0||n.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(n.width<=0||n.height<=0)return;let e=n.width,i=n.height,o=Ii(n.anchor||$l).add(1,1).scale(new Z(e,i).scale(-.5)),a=[new Z(0,0),new Z(e,0),new Z(e,i),new Z(0,i)];if(n.radius){let u=Math.min(e,i)/2,f=Array.isArray(n.radius)?n.radius.map(h=>Math.min(u,h)):new Array(4).fill(Math.min(u,n.radius));a=[new Z(f[0],0),...f[1]?us(new Z(e-f[1],f[1]),f[1],f[1],270,360):[Y(e,0)],...f[2]?us(new Z(e-f[2],i-f[2]),f[2],f[2],0,90):[Y(e,i)],...f[3]?us(new Z(f[3],i-f[3]),f[3],f[3],90,180):[Y(0,i)],...f[0]?us(new Z(f[0],f[0]),f[0],f[0],180,270):[]]}xr(Object.assign({},n,{offset:o,pts:a,...n.gradient?{colors:n.horizontal?[n.gradient[0],n.gradient[1],n.gradient[1],n.gradient[0]]:[n.gradient[0],n.gradient[0],n.gradient[1],n.gradient[1]]}:{}}))}g(hn,"drawRect");function yr(n){fn();let e=C.gfx.width,i=C.gfx.height;C.gfx.width=C.gfx.viewport.width,C.gfx.height=C.gfx.viewport.height,n(),fn(),C.gfx.width=e,C.gfx.height=i}g(yr,"drawUnscaled");function sd(n,e){yr(()=>{let i=Y(8);dn(),mt(n);let o=si({text:e,font:El,size:16,pos:i,color:$e(255,255,255),fixed:!0}),a=o.width+i.x*2,u=o.height+i.x*2;n.x+a>=Nt()&&mt(Y(-a,0)),n.y+u>=qt()&&mt(Y(0,-u)),hn({width:a,height:u,color:$e(0,0,0),radius:4,opacity:.8,fixed:!0}),oi(o),tn()})}g(sd,"drawInspectText");function Wd(n){if(!n.p1||!n.p2||!n.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return xr(Object.assign({},n,{pts:[n.p1,n.p2,n.p3]}))}g(Wd,"drawTriangle");function Ry(){if(C.debug.inspect){let n=null;for(let e of C.game.root.get("*",{recursive:!0}))if(e.c("area")&&e.isHovering()){n=e;break}if(C.game.root.drawInspect(),n){let e=[],i=n.inspect();for(let o in i)i[o]?e.push(`${i[o]}`):e.push(`${o}`);sd(sy(Id()),e.join(`
`))}sd(Y(8),`FPS: ${C.debug.fps()}`)}C.debug.paused&&yr(()=>{dn(),mt(Nt(),0),mt(-8,8);let n=32;hn({width:n,height:n,anchor:"topright",color:$e(0,0,0),opacity:.8,radius:4,fixed:!0});for(let e=1;e<=2;e++)hn({width:4,height:n*.6,anchor:"center",pos:Y(-32/3*e,n*.5),color:$e(255,255,255),radius:2,fixed:!0});tn()}),C.debug.timeScale!==1&&yr(()=>{dn(),mt(Nt(),qt()),mt(-8,-8);let n=8,e=si({text:C.debug.timeScale.toFixed(1),font:El,size:16,color:$e(255,255,255),pos:Y(-8),anchor:"botright",fixed:!0});hn({width:e.width+n*2+n*4,height:e.height+n*2,anchor:"botright",color:$e(0,0,0),opacity:.8,radius:4,fixed:!0});for(let i=0;i<2;i++){let o=C.debug.timeScale<1;Wd({p1:Y(-e.width-n*(o?2:3.5),-8),p2:Y(-e.width-n*(o?2:3.5),-8-e.height),p3:Y(-e.width-n*(o?3.5:2),-8-e.height/2),pos:Y(-i*n*1+(o?-8*.5:0),0),color:$e(255,255,255),fixed:!0})}oi(e),tn()}),C.debug.curRecording&&yr(()=>{dn(),mt(0,qt()),mt(24,-24),Ni({radius:12,color:$e(255,0,0),opacity:gd(0,1,C.app.time()*4),fixed:!0}),tn()}),C.debug.showLog&&C.game.logs.length>0&&yr(()=>{dn(),mt(0,qt()),mt(8,-8);let n=8,e=[];for(let o of C.game.logs){let a="",u=o.msg instanceof Error?"error":"info";a+=`[time]${o.time.toFixed(2)}[/time]`,a+=" ",a+=`[${u}]${Tl(o.msg)}[/${u}]`,e.push(a)}C.game.logs=C.game.logs.filter(o=>C.app.time()-o.time<(C.globalOpt.logTime||4));let i=si({text:e.join(`
`),font:El,pos:Y(n,-8),anchor:"botleft",size:16,width:Nt()*.6,lineSpacing:n/2,fixed:!0,styles:{time:{color:$e(127,127,127)},info:{color:$e(255,255,255)},error:{color:$e(255,0,127)}}});hn({width:i.width+n*2,height:i.height+n*2,anchor:"botleft",color:$e(0,0,0),radius:4,opacity:.8,fixed:!0}),oi(i),tn()})}g(Ry,"drawDebug");function Tl(n,e=!1,i=new Set){if(i.has(n))return"<recursive>";var o="",a;return e&&typeof n=="string"&&(n=JSON.stringify(n)),Array.isArray(n)&&(o=["[",n.map(u=>Tl(u,!0,i.union(new Set([n])))).join(", "),"]"].join(""),n=o),n===null?"null":(typeof n=="object"&&n.toString===Object.prototype.toString&&(n.constructor!==Object&&(o+=n.constructor.name+" "),o+=["{",(a=Object.getOwnPropertyNames(n).map(u=>`${/^\w+$/.test(u)?u:JSON.stringify(u)}: ${Tl(n[u],!0,i.union(new Set([n])))}`).join(", "))?` ${a} `:"","}"].join(""),n=o),String(n).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}g(Tl,"prettyDebug");function Ty(){let n=C.game.cam,e=Z.fromAngle(Pt(0,360)).scale(n.shake);n.shake=nn(n.shake,0,5*Rt()),n.transform=new Jn().translate(Bo()).scale(n.scale).rotate(n.angle).translate((n.pos??Bo()).scale(-1).add(e)),C.game.root.draw(),fn()}g(Ty,"drawFrame");function _y(){let n=ri();C.game.events.numListeners("loading")>0?C.game.events.trigger("loading",n):yr(()=>{let e=Nt()/2,i=24,o=Y(Nt()/2,qt()/2).sub(Y(e/2,i/2));hn({pos:Y(0),width:Nt(),height:qt(),color:$e(0,0,0)}),hn({pos:o,width:e,height:i,fill:!1,outline:{width:4}}),hn({pos:o,width:e*n,height:i})})}g(_y,"drawLoadScreen");function $d(n,e,i){let o=C.gfx.ggl.gl;fn(),o.clear(o.STENCIL_BUFFER_BIT),o.enable(o.STENCIL_TEST),o.stencilFunc(o.NEVER,1,255),o.stencilOp(o.REPLACE,o.REPLACE,o.REPLACE),e(),fn(),o.stencilFunc(i,1,255),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),n(),fn(),o.disable(o.STENCIL_TEST)}g($d,"drawStenciled");function jy(n,e){let i=C.gfx.ggl.gl;$d(n,e,i.EQUAL)}g(jy,"drawMasked");function Oo(n){var u,f;if(!n.tex)throw new Error('drawTexture() requires property "tex".');let e=n.quad??new gt(0,0,1,1),i=n.tex.width*e.w,o=n.tex.height*e.h,a=new Z(1);if(n.tiled){let h=Ii(n.anchor||$l);(((u=n.pos)==null?void 0:u.x)||0)-(h.x+1)*.5*(n.width||i),(((f=n.pos)==null?void 0:f.y)||0)-(h.y+1)*.5*(n.height||o);let d=(n.width||i)/i,p=(n.height||o)/o,v=Math.floor(d),E=Math.floor(p),y=d-v,x=p-E,w=(v+y?1:0)*(E+x?1:0),_=new Array(w*6),k=new Array(w*4),A=0,M=g((P,D,F,b,R)=>{_[A*6+0]=A*4+0,_[A*6+1]=A*4+1,_[A*6+2]=A*4+3,_[A*6+3]=A*4+1,_[A*6+4]=A*4+2,_[A*6+5]=A*4+3,k[A*4+0]={pos:new Z(P-h.x,D-h.y),uv:new Z(R.x,R.y),color:n.color||qe.WHITE,opacity:n.opacity||1},k[A*4+1]={pos:new Z(P+F-h.x,D-h.y),uv:new Z(R.x+R.w,R.y),color:n.color||qe.WHITE,opacity:n.opacity||1},k[A*4+2]={pos:new Z(P+F-h.x,D+b-h.y),uv:new Z(R.x+R.w,R.y+R.h),color:n.color||qe.WHITE,opacity:n.opacity||1},k[A*4+3]={pos:new Z(P-h.x,D+b-h.y),uv:new Z(R.x,R.y+R.h),color:n.color||qe.WHITE,opacity:n.opacity||1},A++},"addQuad");for(let P=0;P<E;P++){for(let D=0;D<v;D++)M(D*i,P*o,i,o,e);y&&M(v*i,P*o,i*y,o,new gt(e.x,e.y,e.w*y,e.h))}if(x){for(let P=0;P<v;P++)M(P*i,E*o,i,o*x,new gt(e.x,e.y,e.w,e.h*x));y&&M(v*i,E*o,i*y,o*x,new gt(e.x,e.y,e.w*y,e.h*x))}kr(k,_,n.fixed,n.tex,n.shader,n.uniform??void 0)}else n.width&&n.height?(a.x=n.width/i,a.y=n.height/o):n.width?(a.x=n.width/i,a.y=a.x):n.height&&(a.y=n.height/o,a.x=a.y),Bs(Object.assign({},n,{scale:a.scale(n.scale||new Z(1)),tex:n.tex,quad:e,width:i,height:o}))}g(Oo,"drawTexture");function Dy(n){if(!n.sprite)throw new Error('drawSprite() requires property "sprite"');let e=_o(n.sprite);if(!e||!e.data)return;let i=e.data.frames[n.frame??0];if(!i)throw new Error(`Frame not found: ${n.frame??0}`);Oo(Object.assign({},n,{tex:e.data.tex,quad:i.scale(n.quad??new gt(0,0,1,1))}))}g(Dy,"drawSprite");function Iy(n,e){let i=C.gfx.ggl.gl;$d(n,e,i.NOTEQUAL)}g(Iy,"drawSubtracted");function od(n){oi(si(n))}g(od,"drawText");var MS=g((n,e)=>{let i=Zl(e,Jc,ed),o=n.pixelDensity??1,a=n.scale??1,{gl:u}=e,f=Kr.fromImage(e,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),h=n.width&&n.height?new Pl(e,n.width*o*a,n.height*o*a):new Pl(e,u.drawingBufferWidth,u.drawingBufferHeight),d=null,p=1;n.background&&(typeof n.background=="string"?d=$e(n.background):(d=$e(...n.background),p=n.background[3]??1),u.clearColor(d.r/255,d.g/255,d.b/255,p??1)),u.enable(u.BLEND),u.blendFuncSeparate(u.ONE,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA);let v=new bS(e,_d,zx,Ux),E=Kr.fromImage(e,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:e,defShader:i,defTex:f,frameBuffer:h,postShader:null,postShaderUniform:null,renderer:v,transform:new Jn,transformStack:[],bgTex:E,bgColor:d,bgAlpha:p,width:n.width??u.drawingBufferWidth/o/a,height:n.height??u.drawingBufferHeight/o/a,viewport:{x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},fixed:!1}},"initAppGfx");function Qd(){let n=C.pixelDensity,e=C.gfx.ggl.gl.drawingBufferWidth/n,i=C.gfx.ggl.gl.drawingBufferHeight/n;if(C.globalOpt.letterbox){if(!C.globalOpt.width||!C.globalOpt.height)throw new Error("Letterboxing requires width and height defined.");let o=e/i,a=C.globalOpt.width/C.globalOpt.height;if(o>a){let u=i*a,f=(e-u)/2;C.gfx.viewport={x:f,y:0,width:u,height:i}}else{let u=e/a,f=(i-u)/2;C.gfx.viewport={x:0,y:f,width:e,height:u}}return}if(C.globalOpt.stretch&&(!C.globalOpt.width||!C.globalOpt.height))throw new Error("Stretching requires width and height defined.");C.gfx.viewport={x:0,y:0,width:e,height:i}}g(Qd,"updateViewport");function Yr(n){return n.fixed?!0:n.parent?Yr(n.parent):!1}g(Yr,"isFixed");function ai(n){return{color:n.color,opacity:n.opacity,anchor:n.anchor,outline:n.outline,shader:n.shader,uniform:n.uniform}}g(ai,"getRenderProps");function Ny(n,e={}){return{id:"circle",radius:n,draw(){Ni(Object.assign(ai(this),{radius:this.radius,fill:e.fill}))},renderArea(){return new dt(new Z(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}g(Ny,"circle");function Kd(...n){return{id:"color",color:$e(...n),inspect(){return`color: ${this.color.toString()}`}}}g(Kd,"color");function Ly(n){return{add(){this.canvas=n}}}g(Ly,"drawon");function By(n=1){let e,i=0,o=!1;return{require:["opacity"],add(){e=this.opacity,this.opacity=0},update(){o||(i+=Rt(),this.opacity=qn(i,0,n,0,e),i>=n&&(this.opacity=e,o=!0))}}}g(By,"fadeIn");function Fy(n="intersect"){return{id:"mask",mask:n}}g(Fy,"mask");function Yd(n){return{id:"opacity",opacity:n??1,fadeIn(e=1,i=C.k.easings.linear){return C.game.root.tween(0,this.opacity,e,o=>this.opacity=o,i)},fadeOut(e=1,i=C.k.easings.linear){return C.game.root.tween(this.opacity,0,e,o=>this.opacity=o,i)},inspect(){return`opacity: ${kl(this.opacity,1)}`}}}g(Yd,"opacity");function Oy(n=1,e=$e(0,0,0),i=1,o="miter",a=10,u="butt"){return{id:"outline",outline:{width:n,color:e,opacity:i,join:o,miterLimit:a,cap:u},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}g(Oy,"outline");var _s,PS=(_s=class{constructor(){W(this,"pos",Y(0));W(this,"vel",Y(0));W(this,"acc",Y(0));W(this,"angle",0);W(this,"angularVelocity",0);W(this,"damping",0);W(this,"t");W(this,"lt",null);W(this,"gc");this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}},g(_s,"Particle"),_s);function qy(n,e){let i=e.lifetime,o=[],a=n.colors||[qe.WHITE],u=n.opacities||[1],f=n.quads||[new gt(0,0,1,1)],h=n.scales||[1],d=n.lifeTime,p=e.direction,v=e.spread,E=n.speed||[0,0],y=n.angle||[0,0],x=n.angularVelocity||[0,0],w=n.acceleration||[Y(0),Y(0)],_=n.damping||[0,0],k=[],A=new Array(n.max),M=0,P=0;for(let b=0;b<n.max;b++){k[b*6+0]=b*4+0,k[b*6+1]=b*4+1,k[b*6+2]=b*4+3,k[b*6+3]=b*4+1,k[b*6+4]=b*4+2,k[b*6+5]=b*4+3;for(let R=0;R<4;R++)A[b*4+R]={pos:new Z(0,0),uv:new Z(0,0),color:$e(255,255,255),opacity:1};o[b]=new PS}let D=new en;function F(b=0){for(;b<n.max;){if(o[b].gc)return b;b++}return null}return g(F,"nextFree"),{id:"particles",emit(b){let R=0;for(let B=0;B<b;B++){if(R=F(R),R==null)return;let H=Pt(p-v,p+v),U=Z.fromAngle(H).scale(Pt(E[0],E[1])),ee=Pt(y[0],y[1]),ue=Pt(x[0],x[1]),ye=Y(Pt(w[0].x,w[1].x),Pt(w[0].y,w[1].y)),ke=Pt(_[0],_[1]),Ce=d?Pt(d[0],d[1]):null,Ae=e.shape?e.shape.random():Y(),ve=o[R];ve.lt=Ce,ve.pos=Ae,ve.vel=U,ve.acc=ye,ve.angle=ee,ve.angularVelocity=ue,ve.damping=ke,ve.angularVelocity=ue,ve.gc=!1}M+=b},update(){if(i!==void 0&&i<=0)return;let b=Rt();for(let R of o)if(!R.gc){if(R.t+=b,R.lt&&R.t>=R.lt){R.gc=!0,M--;continue}R.vel=R.vel.add(R.acc.scale(b)).scale(1-R.damping*b),R.pos=R.pos.add(R.vel.scale(b)),R.angle+=R.angularVelocity*b}for(i!==void 0&&(i-=b,i<=0&&D.trigger()),P+=b;M<n.max&&e.rate&&P>e.rate;)this.emit(1),M++,P-=e.rate},draw(){if(!(i!==void 0&&i<=0)){for(let b=0;b<o.length;b++){let R=o[b];if(R.gc)continue;let B=R.progress,H=Math.floor(R.progress*a.length),U=H<a.length-1?nn(a[H],a[H+1],qn(B,H/a.length,(H+1)/a.length,0,1)):a[H],ee=Math.floor(R.progress*u.length),ue=ee<u.length-1?nn(u[ee],u[ee+1],qn(B,ee/u.length,(ee+1)/u.length,0,1)):u[ee],ye=Math.floor(R.progress*f.length),ke=f[ye],Ce=Math.floor(R.progress*h.length),Ae=h[Ce],ve=Math.cos(R.angle*Math.PI/180),ne=Math.sin(R.angle*Math.PI/180),fe=(n.texture?n.texture.width:10)*ke.w/2,se=(n.texture?n.texture.height:10)*ke.h/2,q=b*4,Q=A[q];Q.pos.x=R.pos.x+-fe*Ae*ve- -se*Ae*ne,Q.pos.y=R.pos.y+-fe*Ae*ne+-se*Ae*ve,Q.uv.x=ke.x,Q.uv.y=ke.y,Q.color.r=U.r,Q.color.g=U.g,Q.color.b=U.b,Q.opacity=ue,Q=A[q+1],Q.pos.x=R.pos.x+fe*Ae*ve- -se*Ae*ne,Q.pos.y=R.pos.y+fe*Ae*ne+-se*Ae*ve,Q.uv.x=ke.x+ke.w,Q.uv.y=ke.y,Q.color.r=U.r,Q.color.g=U.g,Q.color.b=U.b,Q.opacity=ue,Q=A[q+2],Q.pos.x=R.pos.x+fe*Ae*ve-se*Ae*ne,Q.pos.y=R.pos.y+fe*Ae*ne+se*Ae*ve,Q.uv.x=ke.x+ke.w,Q.uv.y=ke.y+ke.h,Q.color.r=U.r,Q.color.g=U.g,Q.color.b=U.b,Q.opacity=ue,Q=A[q+3],Q.pos.x=R.pos.x+-fe*Ae*ve-se*Ae*ne,Q.pos.y=R.pos.y+-fe*Ae*ne+se*Ae*ve,Q.uv.x=ke.x,Q.uv.y=ke.y+ke.h,Q.color.r=U.r,Q.color.g=U.g,Q.color.b=U.b,Q.opacity=ue}kr(A,k,this.fixed,n.texture,this.shader,this.uniform)}},onEnd(b){return D.add(b)},inspect(){return`count: ${M}/${n.max}`}}}g(qy,"particles");function zy(n,e={}){if(n.length<3)throw new Error(`Polygon's need more than two points, ${n.length} points provided`);return{id:"polygon",pts:n,colors:e.colors,uv:e.uv,tex:e.tex,radius:e.radius,draw(){xr(Object.assign(ai(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:e.fill,triangulate:e.triangulate}))},renderArea(){return new rn(this.pts)},inspect(){return`polygon: ${this.pts.map(i=>`[${i.x},${i.y}]`).join(",")}`}}}g(zy,"polygon");function Xd(n,e,i){let o;return C.game.root.get("area").forEach(a=>{if(i&&i.some(f=>a.is(f)))return;let u=a.worldArea().raycast(n,e);u&&(o?u.fraction<o.fraction&&(o=u,o.object=a):(o=u,o.object=a))}),o}g(Xd,"raycast");function Zd(n,e,i={}){return{id:"rect",width:n,height:e,radius:i.radius||0,draw(){hn(Object.assign(ai(this),{width:this.width,height:this.height,radius:this.radius,fill:i.fill}))},renderArea(){return new dt(Y(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}g(Zd,"rect");function Uy(n,e){return{id:"shader",shader:n,...typeof e=="function"?{uniform:e(),update(){this.uniform=e()}}:{uniform:e},inspect(){return`shader: ${n}`}}}g(Uy,"shader");function Hy(n,e){if(!e.tileWidth||!e.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let i=C.game.root.add([qo(e.pos??Y(0))]),o=n.length,a=0,u=null,f=null,h=null,d=null,p=g(b=>b.x+b.y*a,"tile2Hash"),v=g(b=>Y(Math.floor(b%a),Math.floor(b/a)),"hash2Tile"),E=g(()=>{u=[];for(let b of i.children)y(b)},"createSpatialMap"),y=g(b=>{let R=p(b.tilePos);u[R]?u[R].push(b):u[R]=[b]},"insertIntoSpatialMap"),x=g(b=>{let R=p(b.tilePos);if(u[R]){let B=u[R].indexOf(b);B>=0&&u[R].splice(B,1)}},"removeFromSpatialMap"),w=g(()=>{let b=!1;for(let R of i.children){let B=i.pos2Tile(R.pos);(R.tilePos.x!=B.x||R.tilePos.y!=B.y)&&(b=!0,x(R),R.tilePos.x=B.x,R.tilePos.y=B.y,y(R))}b&&i.trigger("spatialMapChanged")},"updateSpatialMap"),_=g(()=>{let b=i.getSpatialMap(),R=i.numRows()*i.numColumns();f?f.length=R:f=new Array(R),f.fill(1,0,R);for(let B=0;B<b.length;B++){let H=b[B];if(H){let U=0;for(let ee of H)if(ee.isObstacle){U=1/0;break}else U+=ee.cost;f[B]=U||1}}},"createCostMap"),k=g(()=>{let b=i.getSpatialMap(),R=i.numRows()*i.numColumns();h?h.length=R:h=new Array(R),h.fill(15,0,R);for(let B=0;B<b.length;B++){let H=b[B];if(H){let U=H.length,ee=15;for(let ue=0;ue<U;ue++)ee|=H[ue].edgeMask;h[B]=ee}}},"createEdgeMap"),A=g(()=>{let b=i.numRows()*i.numColumns(),R=g((H,U)=>{let ee=[];for(ee.push(H);ee.length>0;){let ue=ee.pop();D(ue).forEach(ye=>{d[ye]<0&&(d[ye]=U,ee.push(ye))})}},"traverse");d?d.length=b:d=new Array(b),d.fill(-1,0,b);let B=0;for(let H=0;H<f.length;H++){if(d[H]>=0){B++;continue}R(H,B),B++}},"createConnectivityMap"),M=g((b,R)=>f[R],"getCost"),P=g((b,R)=>{let B=v(b),H=v(R);return B.dist(H)},"getHeuristic"),D=g((b,R)=>{let B=[],H=Math.floor(b%a),U=H>0&&h[b]&1&&f[b-1]!==1/0,ee=b>=a&&h[b]&2&&f[b-a]!==1/0,ue=H<a-1&&h[b]&4&&f[b+1]!==1/0,ye=b<a*o-a-1&&h[b]&8&&f[b+a]!==1/0;return R?(U&&(ee&&B.push(b-a-1),B.push(b-1),ye&&B.push(b+a-1)),ee&&B.push(b-a),ue&&(ee&&B.push(b-a+1),B.push(b+1),ye&&B.push(b+a+1)),ye&&B.push(b+a)):(U&&B.push(b-1),ee&&B.push(b-a),ue&&B.push(b+1),ye&&B.push(b+a)),B},"getNeighbours"),F={id:"level",tileWidth(){return e.tileWidth},tileHeight(){return e.tileHeight},spawn(b,...R){let B=Y(...R),H=(()=>{if(typeof b=="string"){if(e.tiles[b]){if(typeof e.tiles[b]!="function")throw new Error("Level symbol def must be a function returning a component list");return e.tiles[b](B)}else if(e.wildcardTile)return e.wildcardTile(b,B)}else{if(Array.isArray(b))return b;throw new Error("Expected a symbol or a component list")}})();if(!H)return null;let U=!1,ee=!1;for(let ye of H)ye.id==="tile"&&(ee=!0),ye.id==="pos"&&(U=!0);U||H.push(qo(this.tile2Pos(B))),ee||H.push(pf());let ue=i.add(H);return U&&(ue.tilePosOffset=ue.pos.clone()),ue.tilePos=B,ue.transform=ds(ue),u&&(y(ue),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),ue},numColumns(){return a},numRows(){return o},levelWidth(){return a*this.tileWidth()},levelHeight(){return o*this.tileHeight()},tile2Pos(...b){return Y(...b).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...b){let R=Y(...b);return Y(Math.floor(R.x/this.tileWidth()),Math.floor(R.y/this.tileHeight()))},getSpatialMap(){return u||E(),u},removeFromSpatialMap:x,insertIntoSpatialMap:y,onSpatialMapChanged(b){return this.on("spatialMapChanged",b)},onNavigationMapInvalid(b){return this.on("navigationMapInvalid",b)},getAt(b){u||E();let R=p(b);return u[R]||[]},raycast(b,R){let B=this.toWorld(b),H=this.toWorld(b.add(R)).sub(B),U=1/this.tileWidth(),ee=b.scale(U),ue=ag(ee,R,ye=>{let ke=this.getAt(ye);if(ke.some(Ae=>Ae.isObstacle))return!0;let Ce=null;for(let Ae of ke)if(Ae.has("area")){let ve=Ae.worldArea().raycast(B,H);ve&&(Ce?ve.fraction<Ce.fraction&&(Ce=ve,Ce.object=Ae):(Ce=ve,Ce.object=Ae))}return Ce&&(Ce.point=this.fromWorld(Ce.point).scale(U)),Ce||!1},64);return ue&&(ue.point=ue.point.scale(this.tileWidth())),ue},update(){u&&w()},invalidateNavigationMap(){f=null,h=null,d=null},onNavigationMapChanged(b){return this.on("navigationMapChanged",b)},getTilePath(b,R,B={}){var ve;if(f||_(),h||k(),d||A(),b.x<0||b.x>=a||b.y<0||b.y>=o||R.x<0||R.x>=a||R.y<0||R.y>=o)return null;let H=p(b),U=p(R);if(f[U]===1/0)return null;if(H===U)return[];if(d[H]!=-1&&d[H]!==d[U])return null;let ee=new Ng((ne,fe)=>ne.cost<fe.cost);ee.insert({cost:0,node:H});let ue=new Map;ue.set(H,H);let ye=new Map;for(ye.set(H,0);ee.length!==0;){let ne=(ve=ee.remove())==null?void 0:ve.node;if(ne===U)break;let fe=D(ne,B.allowDiagonals);for(let se of fe){let q=(ye.get(ne)||0)+M(ne,se)+P(se,U);(!ye.has(se)||q<ye.get(se))&&(ye.set(se,q),ee.insert({cost:q,node:se}),ue.set(se,ne))}}let ke=[],Ce=U,Ae=v(Ce);for(ke.push(Ae);Ce!==H;){let ne=ue.get(Ce);if(ne===void 0)throw new Error("Bug in pathfinding algorithm");Ce=ne;let fe=v(Ce);ke.push(fe)}return ke.reverse()},getPath(b,R,B={}){let H=this.tileWidth(),U=this.tileHeight(),ee=this.getTilePath(this.pos2Tile(b),this.pos2Tile(R),B);return ee?[b,...ee.slice(1,-1).map(ue=>ue.scale(H,U).add(H/2,U/2)),R]:null}};return i.use(F),i.onNavigationMapInvalid(()=>{i.invalidateNavigationMap(),i.trigger("navigationMapChanged")}),n.forEach((b,R)=>{let B=b.split("");a=Math.max(B.length,a),B.forEach((H,U)=>{i.spawn(H,Y(U,R))})}),i}g(Hy,"addLevel");function sn(n,e,i){return C.game.objEvents.registers[n]||(C.game.objEvents.registers[n]=new Ig),C.game.objEvents.on(n,(o,...a)=>{o.is(e)&&i(o,...a)})}g(sn,"on");var RS=g((n,e,...i)=>{for(let o of C.game.root.children)o.is(e)&&o.trigger(n)},"trigger"),TS=it(n=>{let e=C.game.root.add([{fixedUpdate:n}]);return{get paused(){return e.paused},set paused(i){e.paused=i},cancel:g(()=>e.destroy(),"cancel")}},(n,e)=>sn("fixedUpdate",n,e)),_S=it(n=>{let e=C.game.root.add([{update:n}]);return{get paused(){return e.paused},set paused(i){e.paused=i},cancel:g(()=>e.destroy(),"cancel")}},(n,e)=>sn("update",n,e)),jS=it(n=>{let e=C.game.root.add([{draw:n}]);return{get paused(){return e.hidden},set paused(i){e.hidden=i},cancel:g(()=>e.destroy(),"cancel")}},(n,e)=>sn("draw",n,e)),Gy=it(n=>C.game.events.on("add",n),(n,e)=>sn("add",n,e)),DS=it(n=>C.game.events.on("destroy",n),(n,e)=>sn("destroy",n,e)),IS=it(n=>C.game.events.on("use",n),(n,e)=>sn("use",n,e)),NS=it(n=>C.game.events.on("unuse",n),(n,e)=>sn("unuse",n,e)),Vy=it(n=>C.game.events.on("tag",n),(n,e)=>sn("tag",n,e)),LS=it(n=>C.game.events.on("untag",n),(n,e)=>sn("untag",n,e));function Wy(n,e,i){return sn("collide",n,(o,a,u)=>a.is(e)&&i(o,a,u))}g(Wy,"onCollide");function $y(n,e,i){return sn("collideUpdate",n,(o,a,u)=>a.is(e)&&i(o,a,u))}g($y,"onCollideUpdate");function Qy(n,e,i){return sn("collideEnd",n,(o,a,u)=>a.is(e)&&i(o,a,u))}g(Qy,"onCollideEnd");function Yo(n,e){C.game.root.get(n,{recursive:!0}).forEach(e),Gy(n,e),Vy((i,o)=>{o===n&&e(i)})}g(Yo,"forAllCurrentAndFuture");var BS=it(n=>C.app.onMousePress(n),(n,e)=>{let i=[];return Yo(n,o=>{if(!o.area)throw new Error("onClick() requires the object to have area() component");i.push(o.onClick(()=>e(o)))}),ji.join(i)});function Ky(n,e){let i=[];return Yo(n,o=>{if(!o.area)throw new Error("onHover() requires the object to have area() component");i.push(o.onHover(()=>e(o)))}),ji.join(i)}g(Ky,"onHover");function Yy(n,e){let i=[];return Yo(n,o=>{if(!o.area)throw new Error("onHoverUpdate() requires the object to have area() component");i.push(o.onHoverUpdate(()=>e(o)))}),ji.join(i)}g(Yy,"onHoverUpdate");function Xy(n,e){let i=[];return Yo(n,o=>{if(!o.area)throw new Error("onHoverEnd() requires the object to have area() component");i.push(o.onHoverEnd(()=>e(o)))}),ji.join(i)}g(Xy,"onHoverEnd");function Zy(n){C.game.events.on("loading",n)}g(Zy,"onLoading");function Jy(n){C.app.onResize(n)}g(Jy,"onResize");function e0(n){C.game.events.on("error",n)}g(e0,"onError");function eu(n){C.assets.loaded?n():C.game.events.on("load",n)}g(eu,"onLoad");function t0(n){if(C.assets.loaded)Nd().forEach(e=>n(...e));else return C.game.events.on("loadError",n)}g(t0,"onLoadError");function Jd(...n){C.game.cam.pos=Y(...n)}g(Jd,"setCamPos");function ef(){return C.game.cam.pos?C.game.cam.pos.clone():Bo()}g(ef,"getCamPos");function tf(...n){C.game.cam.scale=Y(...n)}g(tf,"setCamScale");function nf(){return C.game.cam.scale.clone()}g(nf,"getCamScale");function rf(n){C.game.cam.angle=n}g(rf,"setCamRot");function sf(){return C.game.cam.angle}g(sf,"getCamRot");function n0(){return C.game.cam.transform.clone()}g(n0,"getCamTransform");function of(n=$e(255,255,255),e=1){let i=C.game.root.add([Zd(Nt(),qt()),Kd(n),Yd(1),vf()]),o=i.fadeOut(e);return o.onEnd(()=>hf(i)),o}g(of,"flash");function r0(){return C.game.cam.transform.clone()}g(r0,"camTransform");function i0(n=12){C.game.cam.shake+=n}g(i0,"shake");function _l(n){return C.game.cam.transform.multVec2(n)}g(_l,"toScreen");function af(n){return C.game.cam.transform.invert().multVec2(n)}g(af,"toWorld");function s0(...n){return Di("camPos","setCamPos / getCamPos"),n.length>0&&Jd(...n),ef()}g(s0,"camPos");function o0(...n){return Di("camScale","setCamScale / getCamScale"),n.length>0&&tf(...n),nf()}g(o0,"camScale");function a0(n){return Di("camRot","setCamRot / getCamRot"),n!==void 0&&rf(n),sf()}g(a0,"camRot");function l0(n=$e(255,255,255),e=1){return Di("camFlash","flash"),of(n,e)}g(l0,"camFlash");function tu(n=[]){let e=new Map,i=[],o={},a=new No,u=[],f=new Set("*"),h=C.globalOpt.tagsAsComponents,d=null,p=!1,v={id:nS(),hidden:!1,transform:new Jn,children:[],parent:null,set paused(y){if(y!==p){p=y;for(let x of u)x.paused=y}},get paused(){return p},get tags(){return Array.from(f)},add(y){let x=Array.isArray(y)?tu(y):y;if(x.parent)throw new Error("Cannot add a game obj that already has a parent.");return x.parent=this,x.transform=ds(x),this.children.push(x),x.trigger("add",x),C.game.events.trigger("add",x),x},readd(y){let x=this.children.indexOf(y);return x!==-1&&(this.children.splice(x,1),this.children.push(y)),y},remove(y){let x=this.children.indexOf(y);if(x!==-1){y.parent=null,this.children.splice(x,1);let w=g(_=>{_.trigger("destroy"),C.game.events.trigger("destroy",_),_.children.forEach(k=>w(k))},"trigger");w(y)}},removeAll(y){if(y)this.get(y).forEach(x=>this.remove(x));else for(let x of[...this.children])this.remove(x)},fixedUpdate(){this.paused||(this.children.forEach(y=>y.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(y=>y.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(fn(),this.canvas.bind());let y=C.gfx.fixed;this.fixed&&(C.gfx.fixed=!0),dn(),mt(this.pos),Ls(this.scale),_i(this.angle);let x=this.children.sort((w,_)=>{let k=w.layerIndex??C.game.defaultLayerIndex,A=_.layerIndex??C.game.defaultLayerIndex;return k-A||(w.z??0)-(_.z??0)});if(this.mask){let w={intersect:C.k.drawMasked,subtract:C.k.drawSubtracted}[this.mask];if(!w)throw new Error(`Invalid mask func: "${this.mask}"`);w(()=>{x.forEach(_=>_.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),x.forEach(w=>w.draw());tn(),C.gfx.fixed=y,this.canvas&&(fn(),this.canvas.unbind())},drawInspect(){this.hidden||(dn(),mt(this.pos),Ls(this.scale),_i(this.angle),this.children.forEach(y=>y.drawInspect()),this.trigger("drawInspect"),tn())},use(y){var _;if(typeof y=="string")return f.add(y);if(!y||typeof y!="object")throw new Error(`You can only pass a component or a string to .use(), you passed a "${typeof y}"`);let x=[];y.id?(this.unuse(y.id),o[y.id]=[],x=o[y.id],e.set(y.id,y),h&&f.add(y.id)):i.push(y);for(let k in y){if(Vx.has(k))continue;let A=Object.getOwnPropertyDescriptor(y,k);if(A)if(typeof A.value=="function"&&(y[k]=y[k].bind(this)),A.set&&Object.defineProperty(y,k,{set:A.set.bind(this)}),A.get&&Object.defineProperty(y,k,{get:A.get.bind(this)}),Wx.has(k)){let M=k==="add"?()=>{var P;d=g(D=>x.push(D),"onCurCompCleanup"),(P=y[k])==null||P.call(y),d=null}:y[k];x.push(this.on(k,M).cancel)}else if(this[k]===void 0)Object.defineProperty(this,k,{get:g(()=>y[k],"get"),set:g(M=>y[k]=M,"set"),configurable:!0,enumerable:!0}),x.push(()=>delete this[k]);else{let M=(_=e.values().find(P=>P[k]!==void 0))==null?void 0:_.id;throw new Error(`Duplicate component property: "${k}" while adding component "${y.id}"`+(M?` (originally added by "${M}")`:""))}}let w=g(()=>{if(y.require){for(let k of y.require)if(!this.c(k))throw new Error(`Component "${y.id}" requires component "${k}"`)}},"checkDeps");y.destroy&&x.push(y.destroy.bind(this)),this.exists()?(w(),y.add&&(d=g(k=>x.push(k),"onCurCompCleanup"),y.add.call(this),d=null),y.id&&(this.trigger("use",y.id),C.game.events.trigger("use",this,y.id))):y.require&&x.push(this.on("add",w).cancel)},unuse(y){if(e.has(y)){for(let x of e.values())if(x.require&&x.require.includes(y))throw new Error(`Can't unuse. Component "${x.id}" requires component "${y}"`);e.delete(y),this.trigger("unuse",y),C.game.events.trigger("unuse",this,y)}else h&&f.has(y)&&f.delete(y);o[y]&&(o[y].forEach(x=>x()),delete o[y])},c(y){return e.get(y)??null},get(y,x={}){let w=g((k,A)=>x.only==="comps"?k.has(A):x.only==="tags"?k.is(A):k.is(A)||k.has(A),"checkTagsOrComps"),_=x.recursive?this.children.flatMap(g(function k(A){return[A,...A.children.flatMap(k)]},"recurse")):this.children;if(_=_.filter(k=>y?w(k,y):!0),x.liveUpdate){let k=g(M=>x.recursive?this.isAncestorOf(M):M.parent===this,"isChild"),A=[];A.push(C.k.onAdd(M=>{k(M)&&w(M,y)&&_.push(M)})),A.push(C.k.onDestroy(M=>{if(k(M)&&w(M,y)){let P=_.findIndex(D=>D.id===M.id);P!==-1&&_.splice(P,1)}})),this.onDestroy(()=>{for(let M of A)M.cancel()})}return _},query(y){let x=y.hierarchy||"children",w=y.include,_=y.exclude,k=[];switch(x){case"children":k=this.children;break;case"siblings":k=this.parent?this.parent.children.filter(M=>M!==this):[];break;case"ancestors":let A=this.parent;for(;A;)k.push(A),A=A.parent;break;case"descendants":k=this.children.flatMap(g(function M(P){return[P,...P.children.flatMap(M)]},"recurse"));break}if(w&&((y.includeOp||"and")==="and"||!Array.isArray(y.include)?k=k.filter(A=>A.is(w)):k=k.filter(A=>y.include.some(M=>A.is(M)))),_&&((y.includeOp||"and")==="and"||!Array.isArray(y.include)?k=k.filter(A=>!A.is(_)):k=k.filter(A=>!y.exclude.some(M=>A.is(M)))),y.visible===!0&&(k=k.filter(A=>A.visible)),y.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let A=y.distanceOp||"near",M=y.distance*y.distance;A==="near"?k=k.filter(P=>P.pos&&this.pos.sdist(P.pos)<=M):k=k.filter(P=>P.pos&&this.pos.sdist(P.pos)>M)}return y.name&&(k=k.filter(A=>A.name===y.name)),k},isAncestorOf(y){return y.parent?y.parent===this||this.isAncestorOf(y.parent):!1},exists(){return C.game.root.isAncestorOf(this)},is(y,x="and"){return Array.isArray(y)?x==="and"?y.every(w=>f.has(w)):y.some(w=>f.has(w)):f.has(y)},tag(y){if(Array.isArray(y))for(let x of y)f.add(x),this.trigger("tag",x),C.game.events.trigger("tag",this,x);else f.add(y),this.trigger("tag",y),C.game.events.trigger("tag",this,y)},untag(y){if(Array.isArray(y))for(let x of y)f.delete(x),this.trigger("untag",x),C.game.events.trigger("untag",this,x);else f.delete(y),this.trigger("untag",y),C.game.events.trigger("untag",this,y)},has(y,x="and"){return Array.isArray(y)?x==="and"?y.every(w=>e.has(w)):y.some(w=>e.has(w)):e.has(y)},on(y,x){let w=a.on(y,x.bind(this));return d&&d(()=>w.cancel()),w},trigger(y,...x){a.trigger(y,...x),C.game.objEvents.trigger(y,this,...x)},destroy(){this.parent&&this.parent.remove(this)},inspect(){var x;let y={};for(let[w,_]of e)y[w]=((x=_.inspect)==null?void 0:x.call(_))??null;for(let[w,_]of i.entries()){if(_.inspect){y[w]=_.inspect();continue}for(let[k,A]of Object.entries(_))typeof A!="function"&&(y[k]=`${k}: ${A}`)}return y},onAdd(y){return this.on("add",y)},onFixedUpdate(y){return this.on("fixedUpdate",y)},onUpdate(y){return this.on("update",y)},onDraw(y){return this.on("draw",y)},onDestroy(y){return this.on("destroy",y)},onUse(y){return this.on("use",y)},onUnuse(y){return this.on("unuse",y)},clearEvents(){a.clear()}},E=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let y of E)v[y]=(...x)=>{var _,k;let w=(k=(_=C.app)[y])==null?void 0:k.call(_,...x);return u.push(w),v.onDestroy(()=>w.cancel()),v.on("sceneEnter",()=>{var M,P;u.splice(u.indexOf(w),1);let A=(P=(M=C.app)[y])==null?void 0:P.call(M,...x);ji.replace(w,A),u.push(w)}),w};for(let y of n)v.use(y);return v}g(tu,"make");var FS=g(()=>({events:new No,objEvents:new No,root:tu([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new Z(1),angle:0,shake:0,transform:new Jn}}),"initGame");function u0(n){C.game.gravity=n?(C.game.gravity||Y(0,1)).unit().scale(n):null}g(u0,"setGravity");function c0(){return C.game.gravity?C.game.gravity.len():0}g(c0,"getGravity");function d0(n){C.game.gravity=n.unit().scale(C.game.gravity?C.game.gravity.len():1)}g(d0,"setGravityDirection");function hs(){return C.game.gravity?C.game.gravity.unit():Y(0,1)}g(hs,"getGravityDirection");var OS=Ix("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),qS=g(()=>(()=>{let n=new(window.AudioContext||window.webkitAudioContext),e=n.createGain();e.connect(n.destination);let i=new Fo(Zg(n));return n.decodeAudioData(OS.buffer.slice(0)).then(o=>{i.buf=o}).catch(o=>{console.error("Failed to load burp: ",o)}),{ctx:n,masterNode:e,burpSnd:i}})(),"initAudio");function f0(n,e={}){let i=new en,o=new Audio(n);o.crossOrigin="anonymous",o.loop=!!e.loop,C.audio.ctx.createMediaElementSource(o).connect(C.audio.masterNode);function a(){C.debug.paused||C.app.isHidden()&&!C.globalOpt.backgroundAudio||C.audio.ctx.resume()}g(a,"resumeAudioCtx");function u(){a(),o.play()}return g(u,"play"),e.paused||u(),o.onended=()=>i.trigger(),{play(){u()},seek(f){o.currentTime=f},stop(){o.pause(),this.seek(0)},set loop(f){o.loop=f},get loop(){return o.loop},set paused(f){f?o.pause():u()},get paused(){return o.paused},time(){return o.currentTime},duration(){return o.duration},set volume(f){o.volume=zn(f,0,1)},get volume(){return o.volume},set speed(f){o.playbackRate=Math.max(f,0)},get speed(){return o.playbackRate},set detune(f){},get detune(){return 0},onEnd(f){return i.add(f)},then(f){return this.onEnd(f)}}}g(f0,"playMusic");function h0(n,e={}){if(typeof n=="string"&&C.assets.music[n])return f0(C.assets.music[n],e);let i=C.audio.ctx,o=e.paused??!1,a=i.createBufferSource(),u=new en,f=i.createGain(),h=i.createStereoPanner(),d=e.seek??0,p=0,v=0,E=!1;a.loop=!!e.loop,a.detune.value=e.detune??0,a.playbackRate.value=e.speed??1,a.connect(h),a.onended=()=>{var k;w()>=(((k=a.buffer)==null?void 0:k.duration)??Number.POSITIVE_INFINITY)&&u.trigger()},h.pan.value=e.pan??0,h.connect(f),f.connect(C.audio.masterNode),f.gain.value=e.volume??1;let y=g(k=>{a.buffer=k.buf,o||(p=i.currentTime,a.start(0,d),E=!0)},"start"),x=Sy(n);x instanceof Mn&&x.onLoad(y);let w=g(()=>{if(!a.buffer)return 0;let k=o?v-p:i.currentTime-p,A=a.buffer.duration;return a.loop?k%A:Math.min(k,A)},"getTime"),_=g(k=>{let A=i.createBufferSource();return A.buffer=k.buffer,A.loop=k.loop,A.playbackRate.value=k.playbackRate.value,A.detune.value=k.detune.value,A.onended=k.onended,A.connect(h),A},"cloneNode");return{stop(){this.paused=!0,this.seek(0)},set paused(k){if(o!==k)if(o=k,k)E&&(a.stop(),E=!1),v=i.currentTime;else{a=_(a);let A=v-p;a.start(0,A),E=!0,p=i.currentTime-A,v=0}},get paused(){return o},play(k=0){this.seek(k),this.paused=!1},seek(k){var A;(A=a.buffer)!=null&&A.duration&&(k>a.buffer.duration||(o?(a=_(a),p=v-k):(a.stop(),a=_(a),p=i.currentTime-k,a.start(0,k),E=!0,v=0)))},set speed(k){a.playbackRate.value=k},get speed(){return a.playbackRate.value},set detune(k){a.detune.value=k},get detune(){return a.detune.value},set volume(k){f.gain.value=Math.max(k,0)},get volume(){return f.gain.value},set pan(k){h.pan.value=k},get pan(){return h.pan.value},set loop(k){a.loop=k},get loop(){return a.loop},duration(){var k;return((k=a.buffer)==null?void 0:k.duration)??0},time(){return w()%this.duration()},onEnd(k){return u.add(k)},then(k){return this.onEnd(k)}}}g(h0,"play");function lf(n){return C.k.play(C.audio.burpSnd,n)}g(lf,"burp");function uf(n){C.audio.masterNode.gain.value=n}g(uf,"setVolume");function cf(){return C.audio.masterNode.gain.value}g(cf,"getVolume");function p0(n){return Di("volume","setVolume / getVolume"),n!==void 0&&uf(n),cf()}g(p0,"volume");function df(){C.app.onHide(()=>{C.globalOpt.backgroundAudio||C.audio.ctx.suspend()}),C.app.onShow(()=>{!C.globalOpt.backgroundAudio&&!C.debug.paused&&C.audio.ctx.resume()}),C.app.onResize(()=>{if(C.app.isFullscreen())return;let n=C.globalOpt.width&&C.globalOpt.height;n&&!C.globalOpt.stretch&&!C.globalOpt.letterbox||(C.canvas.width=C.canvas.offsetWidth*C.pixelDensity,C.canvas.height=C.canvas.offsetHeight*C.pixelDensity,Qd(),n||(C.gfx.frameBuffer.free(),C.gfx.frameBuffer=new Pl(C.gfx.ggl,C.gfx.ggl.gl.drawingBufferWidth,C.gfx.ggl.gl.drawingBufferHeight),C.gfx.width=C.gfx.ggl.gl.drawingBufferWidth/C.pixelDensity/C.gscale,C.gfx.height=C.gfx.ggl.gl.drawingBufferHeight/C.pixelDensity/C.gscale))}),C.globalOpt.debug!==!1&&(C.app.onKeyPress(C.globalOpt.debugKey??"f1",()=>C.debug.inspect=!C.debug.inspect),C.app.onKeyPress("f2",()=>C.debug.clearLog()),C.app.onKeyPress("f8",()=>C.debug.paused=!C.debug.paused),C.app.onKeyPress("f7",()=>{C.debug.timeScale=kl(zn(C.debug.timeScale-.2,0,2),1)}),C.app.onKeyPress("f9",()=>{C.debug.timeScale=kl(zn(C.debug.timeScale+.2,0,2),1)}),C.app.onKeyPress("f10",()=>C.debug.stepFrame())),C.globalOpt.burp&&C.app.onKeyPress("b",()=>lf())}g(df,"initEvents");function m0(n,e={}){let i=C.game.root.add([qo(n),yf()]),o=(e.speed||1)*5,a=e.scale||1;i.add([jl(C.boomSprite),zo(0),Il("center"),ld(o,a),...e.comps??[]]);let u=i.add([jl(C.kaSprite),zo(0),Il("center"),Dl(),...e.comps??[]]);return u.wait(.4/o,()=>u.use(ld(o,a))),u.onDestroy(()=>i.destroy()),i}g(m0,"addKaboom");function ff(n,e){if(C.game.layers)throw Error("Layers can only be assigned once.");let i=n.indexOf(e);if(i==-1)throw Error("The default layer name should be present in the layers list.");C.game.layers=n,C.game.defaultLayerIndex=i}g(ff,"setLayers");function g0(){return C.game.layers}g(g0,"getLayers");function y0(){var n;return((n=C.game.layers)==null?void 0:n[C.game.defaultLayerIndex])??null}g(y0,"getDefaultLayer");function v0(n,e){Di("layers","setLayers"),ff(n,e)}g(v0,"layers");function hf(n){n.destroy()}g(hf,"destroy");function w0(){return C.game.root}g(w0,"getTreeRoot");function x0(n,e){C.game.scenes[n]=e}g(x0,"scene");function S0(n,...e){if(!C.game.scenes[n])throw new Error(`Scene not found: ${n}`);C.game.events.onOnce("frameEnd",()=>{C.game.events.trigger("sceneLeave",n),C.app.events.clear(),C.game.events.clear(),C.game.objEvents.clear(),[...C.game.root.children].forEach(i=>{!i.stay||i.scenesToStay&&!i.scenesToStay.includes(n)?C.game.root.remove(i):i.trigger("sceneEnter",n)}),C.game.root.clearEvents(),df(),C.game.cam={pos:null,scale:Y(1),angle:0,shake:0,transform:new Jn},C.game.scenes[n](...e)}),C.game.currentScene=n}g(S0,"go");function A0(n){return C.game.events.on("sceneLeave",n)}g(A0,"onSceneLeave");function E0(){return C.game.currentScene}g(E0,"getSceneName");function jl(n,e={}){let i=null,o=null,a=null,u=new en;if(!n)throw new Error("Please pass the resource name or data to sprite()");let f=g((d,p,v,E)=>{let y=Y(1,1);return v&&E?(y.x=v/(d.width*p.w),y.y=E/(d.height*p.h)):v?(y.x=v/(d.width*p.w),y.y=y.x):E&&(y.y=E/(d.height*p.h),y.x=y.y),y},"calcTexScale"),h=g((d,p)=>{if(!p)return;let v=p.frames[0].clone();e.quad&&(v=v.scale(e.quad));let E=f(p.tex,v,e.width,e.height);d.width=p.tex.width*v.w*E.x,d.height=p.tex.height*v.h*E.y,e.anim&&d.play(e.anim),i=p,u.trigger(i)},"setSpriteData");return{id:"sprite",width:0,height:0,frame:e.frame||0,quad:e.quad||new gt(0,0,1,1),animSpeed:e.animSpeed??1,flipX:e.flipX??!1,flipY:e.flipY??!1,get sprite(){return n.toString()},set sprite(d){let p=_o(d);p&&p.onLoad(v=>h(this,v))},get animFrame(){if(!i||!o||a===null)return this.frame;let d=i.anims[o.name];return typeof d=="number"?d:this.frame-Math.min(d.from,d.to)},draw(){if(!i)return;let d=i.frames[this.frame??0];if(!d)throw new Error(`Frame not found: ${this.frame??0}`);if(i.slice9){let{left:p,right:v,top:E,bottom:y}=i.slice9,x=i.tex.width*d.w,w=i.tex.height*d.h,_=this.width-p-v,k=this.height-E-y,A=p/x,M=v/x,P=1-A-M,D=E/w,F=y/w,b=1-D-F,R=[St(0,0,A,D),St(A,0,P,D),St(A+P,0,M,D),St(0,D,A,b),St(A,D,P,b),St(A+P,D,M,b),St(0,D+b,A,F),St(A,D+b,P,F),St(A+P,D+b,M,F),St(0,0,p,E),St(p,0,_,E),St(p+_,0,v,E),St(0,E,p,k),St(p,E,_,k),St(p+_,E,v,k),St(0,E+k,p,y),St(p,E+k,_,y),St(p+_,E+k,v,y)];for(let B=0;B<9;B++){let H=R[B],U=R[B+9];Oo(Object.assign(ai(this),{pos:U.pos(),tex:i.tex,quad:d.scale(H),flipX:this.flipX,flipY:this.flipY,tiled:e.tiled,width:U.w,height:U.h}))}}else Oo(Object.assign(ai(this),{tex:i.tex,quad:d.scale(this.quad??new gt(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:e.tiled,width:this.width,height:this.height}))},add(){let d=_o(n);d?d.onLoad(p=>h(this,p)):eu(()=>h(this,_o(n).data))},update(){if(!i||!o||a===null)return;let d=i.anims[o.name];if(typeof d=="number"){this.frame=d;return}if(d.speed===0)throw new Error("Sprite anim speed cannot be 0");o.timer+=Rt()*this.animSpeed,o.timer>=1/o.speed&&(o.timer=0,this.frame+=a,(this.frame<Math.min(d.from,d.to)||this.frame>Math.max(d.from,d.to))&&(o.loop?o.pingpong?(this.frame-=a,a*=-1,this.frame+=a):this.frame=d.from:o.pingpong?a===Math.sign(d.to-d.from)?(this.frame=d.to,a*=-1,this.frame+=a):(this.frame=d.from,o.onEnd(),this.stop()):(this.frame=d.to,o.onEnd(),this.stop())))},play(d,p={}){if(!i){u.add(()=>this.play(d,p));return}let v=i.anims[d];if(v===void 0)throw new Error(`Anim not found: ${d}`);o&&this.stop(),o=typeof v=="number"?{name:d,timer:0,loop:!1,pingpong:!1,speed:0,onEnd:g(()=>{},"onEnd")}:{name:d,timer:0,loop:p.loop??v.loop??!1,pingpong:p.pingpong??v.pingpong??!1,speed:p.speed??v.speed??10,onEnd:p.onEnd??(()=>{})},a=typeof v=="number"?null:v.from<v.to?1:-1,this.frame=typeof v=="number"?v:v.from,this.trigger("animStart",d)},stop(){if(!o)return;let d=o.name;o=null,this.trigger("animEnd",d)},numFrames(){return(i==null?void 0:i.frames.length)??0},getCurAnim(){return o},curAnim(){return o==null?void 0:o.name},getAnim(d){return(i==null?void 0:i.anims[d])??null},hasAnim(d){return!!this.getAnim(d)},onAnimEnd(d){return this.on("animEnd",d)},onAnimStart(d){return this.on("animStart",d)},renderArea(){return new dt(Y(0),this.width,this.height)},inspect(){return typeof n=="string"?`sprite: "${n}"`:null}}}g(jl,"sprite");function k0(n,e={}){function i(a){var f,h;let u=si(Object.assign(ai(a),{text:a.text+"",size:a.textSize,font:a.font,width:e.width&&a.width,align:a.align,letterSpacing:a.letterSpacing,lineSpacing:a.lineSpacing,transform:a.textTransform,styles:a.textStyles,indentAll:e.indentAll}));return e.width||(a.width=u.width/(((f=a.scale)==null?void 0:f.x)||1)),a.height=u.height/(((h=a.scale)==null?void 0:h.y)||1),u}g(i,"update");let o={id:"text",set text(a){n=a,i(this),this.renderedText=Rl(n).text},get text(){return n},textSize:e.size??36,font:e.font,width:e.width??0,height:0,align:e.align,lineSpacing:e.lineSpacing,letterSpacing:e.letterSpacing,textTransform:e.transform,textStyles:e.styles,renderedText:n?Rl(n).text:"",add(){eu(()=>i(this))},draw(){oi(i(this))},renderArea(){return new dt(Y(0),this.width,this.height)}};return i(o),o}g(k0,"text");function C0(n,e){return{id:"rect",width:n,height:e,draw(){Bs(Object.assign(ai(this),{width:this.width,height:this.height}))},renderArea(){return new dt(Y(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}g(C0,"uvquad");function b0(n={}){let e=null,i=null,o=null,a=null;return{id:"agent",require:["pos","tile"],agentSpeed:n.speed??100,allowDiagonals:n.allowDiagonals??!0,getDistanceToTarget(){return e?this.pos.dist(e):0},getNextLocation(){return i&&o?i[o]:null},getPath(){return i?i.slice():null},getTarget(){return e},isNavigationFinished(){return i?o===null:!0},isTargetReachable(){return i!==null},isTargetReached(){return e?this.pos.eq(e):!0},setTarget(u){e=u,i=this.getLevel().getPath(this.pos,e,{allowDiagonals:this.allowDiagonals}),o=i?0:null,i&&o!==null?(a||(a=this.getLevel().onNavigationMapChanged(()=>{e&&i&&o!==null&&(i=this.getLevel().getPath(this.pos,e,{allowDiagonals:this.allowDiagonals}),i?(o=0,this.trigger("navigationNext",this,i[o])):(o=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>a==null?void 0:a.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,i[o])):this.trigger("navigationEnded",this)},update(){if(e&&i&&o!==null){if(this.pos.sdist(i[o])<2)if(o===i.length-1){this.pos=e.clone(),o=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else o++,this.trigger("navigationNext",this,i[o]);this.moveTo(i[o],this.agentSpeed)}},onNavigationStarted(u){return this.on("navigationStarted",u)},onNavigationNext(u){return this.on("navigationNext",u)},onNavigationEnded(u){return this.on("navigationEnded",u)},onTargetReached(u){return this.on("targetReached",u)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(e),path:JSON.stringify(i)})}}}g(b0,"agent");function M0(n){let e=n.graph;return{id:"pathfinder",require:["pos"],navigateTo(i){var o;return(o=this.graph)==null?void 0:o.getWaypointPath(this.pos,i,n.navigationOpt)},get graph(){if(e)return e;let i=this.parent;for(;i;){if(i.has("pathfinderMap"))return i.graph;i=i.parent}},set graph(i){e=i}}}g(M0,"pathfinder");function P0(n={}){let e=n.waypoints,i=n.speed||100,o=n.endBehavior||"stop",a=0,u=e!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return i},set patrolSpeed(f){i=f},get waypoints(){return e},set waypoints(f){e=f,a=0,u=!1},get nextLocation(){return e?e[a]:void 0},update(){let f=this.nextLocation;if(!(!e||!f||u)&&(this.moveTo(f,i),this.pos.sdist(f)<9))switch(o){case"loop":a=(a+1)%e.length;break;case"ping-pong":a=a+1,a==e.length&&(e.reverse(),a=0);break;case"stop":a=Math.min(a+1,e.length-1),a==e.length-1&&(u=!0,this.trigger("patrolFinished"));break}},onPatrolFinished(f){return this.on("patrolFinished",f)}}}g(P0,"patrol");function R0(n,e={}){let i=typeof n=="function"?n:()=>C.game.root.query(n),o=e.checkFrequency||1,a=typeof e.direction=="number"?Z.fromAngle(e.direction):e.direction,u=0;return{id:"sentry",require:["pos"],direction:typeof e.direction=="number"?Z.fromAngle(e.direction):e.direction,spotted:[],set directionAngle(f){this.direction=f!==void 0?Z.fromAngle(f):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:e.fieldOfView||200,isWithinFieldOfView(f,h,d){let p=(typeof h=="number"?Z.fromAngle(h):h)||a,v=d||e.fieldOfView;if(!p||!v||v>=360)return!0;let E=v/2;return f.pos&&p.angleBetween(f.pos.sub(this.pos))<=E},hasLineOfSight(f){let h=Xd(this.pos,f.pos.sub(this.pos),e.raycastExclude);return h!=null&&h.object===f},update(){if(u+=Rt(),u>o){u-=o;let f=i();if(f.length&&a&&this.fieldOfView&&this.fieldOfView<360){let h=this.fieldOfView/2;f=f.filter(d=>d.pos&&a.angleBetween(d.pos.sub(this.pos))<=h)}f.length&&e.lineOfSight&&(f=f.filter(h=>h.pos&&this.hasLineOfSight(h))),f.length>0&&(this.spotted=f,this.trigger("objectSpotted",f))}},onObjectsSpotted(f){return this.on("objectSpotted",f)}}}g(R0,"sentry");function pf(n={}){let e=Y(0),i=n.isObstacle??!1,o=n.cost??0,a=n.edges??[],u=g(()=>{let h={left:1,top:2,right:4,bottom:8};return a.map(d=>h[d]||0).reduce((d,p)=>d|p,0)},"getEdgeMask"),f=u();return{id:"tile",tilePosOffset:n.offset??Y(0),set tilePos(h){let d=this.getLevel();e=h.clone(),this.pos=Y(this.tilePos.x*d.tileWidth(),this.tilePos.y*d.tileHeight()).add(this.tilePosOffset)},get tilePos(){return e},set isObstacle(h){i!==h&&(i=h,this.getLevel().invalidateNavigationMap())},get isObstacle(){return i},set cost(h){o!==h&&(o=h,this.getLevel().invalidateNavigationMap())},get cost(){return o},set edges(h){a=h,f=u(),this.getLevel().invalidateNavigationMap()},get edges(){return a},get edgeMask(){return f},getLevel(){return this.parent},tileMove(h){let d=this.getLevel();d.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(h),d.insertIntoSpatialMap(this),d.trigger("spatialMapChanged")},moveLeft(){this.tileMove(Y(-1,0))},moveRight(){this.tileMove(Y(1,0))},moveUp(){this.tileMove(Y(0,-1))},moveDown(){this.tileMove(Y(0,1))}}}g(pf,"tile");var js,mf=(js=class{constructor(e,i,o){W(this,"name");W(this,"duration");W(this,"loops");W(this,"direction");W(this,"easing");W(this,"interpolation");W(this,"isFinished");W(this,"timing");W(this,"easings");W(this,"relative");this.name=e,this.duration=i.duration,this.loops=i.loops||0,this.direction=i.direction||"forward",this.easing=i.easing||Lo.linear,this.interpolation=i.interpolation||"linear",this.isFinished=!1,this.timing=i.timing,this.easings=i.easings,this.relative=o}update(e,i){return!0}getLowerKeyIndexAndRelativeTime(e,i,o){let a=i-1,u=e/this.duration;if(this.loops!==0&&u>=this.loops)return[a,0,!0];let f=Math.trunc(u);if(u-=f,(this.direction=="reverse"||this.direction=="ping-pong"&&f&1)&&(u=1-u),o){let h=0;for(;o[h+1]!==void 0&&o[h+1]<u;)h++;return h>=a?[a,0,!0]:[h,(u-o[h])/(o[h+1]-o[h]),!1]}else{let h=Math.floor((i-1)*u);return[h,(u-h/a)*a,!1]}}setValue(e,i,o){if(this.relative)switch(i){case"pos":e.pos=e.base.pos.add(o);break;case"angle":e.angle=e.base.angle+o;break;case"scale":e.scale=e.base.scale.scale(o);break;case"opacity":e.opacity=e.base.opacity*o;break;default:e[i]=o}else e[i]=o}serialize(){let e={duration:this.duration,keys:[]};return this.loops&&(e.loops=this.loops),this.direction!=="forward"&&(e.direction=this.direction),this.easing!=Lo.linear&&(e.easing=this.easing.name),this.interpolation!=="linear"&&(e.interpolation=this.interpolation),this.timing&&(e.timing=this.timing),this.easings&&(e.easings=this.easings.map(i=>this.easing.name)),e}},g(js,"AnimateChannel"),js);function ad(n,e){return e.add(e.sub(n))}g(ad,"reflect");var Ds,zS=(Ds=class extends mf{constructor(i,o,a,u){super(i,a,u);W(this,"keys");this.keys=o}update(i,o){let[a,u,f]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(i,this.name,this.keys[a]);else{let h=this.easings?this.easings[a]:this.easing;this.setValue(i,this.name,nn(this.keys[a],this.keys[a+1],h(u)))}return f}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},g(Ds,"AnimateChannelNumber"),Ds),Is,US=(Is=class extends mf{constructor(i,o,a,u,f){var h;super(i,a,u);W(this,"keys");W(this,"curves");W(this,"dcurves");if(this.keys=o,this.interpolation==="spline"){this.curves=[],f&&(this.dcurves=[]);for(let d=0;d<this.keys.length-1;d++){let p=this.keys[d],v=d+1,E=this.keys[v],y=d>0?this.keys[d-1]:ad(E,p),x=v<this.keys.length-1?this.keys[v+1]:ad(p,E);this.curves.push(Io(y,p,E,x)),f&&((h=this.dcurves)==null||h.push(Io(y,p,E,x,wg)))}}}update(i,o){let[a,u,f]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(i,this.name,this.keys[a]);else{let h=this.easings?this.easings[a]:this.easing;switch(this.interpolation){case"linear":this.setValue(i,this.name,this.keys[a].lerp(this.keys[a+1],h(u)));break;case"slerp":this.setValue(i,this.name,this.keys[a].slerp(this.keys[a+1],h(u)));break;case"spline":if(this.curves){this.setValue(i,this.name,this.curves[a](h(u))),this.dcurves&&this.setValue(i,"angle",this.dcurves[a](h(u)).angle());break}}}return f}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(i=>[i.x,i.y])})}},g(Is,"AnimateChannelVec2"),Is),Ns,HS=(Ns=class extends mf{constructor(i,o,a,u){super(i,a,u);W(this,"keys");this.keys=o}update(i,o){let[a,u,f]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation=="none")this.setValue(i,this.name,this.keys[a]);else{let h=this.easings?this.easings[a]:this.easing;this.setValue(i,this.name,this.keys[a].lerp(this.keys[a+1],h(u)))}return f}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},g(Ns,"AnimateChannelColor"),Ns);function T0(n={}){let e=[],i=0,o=!1;return{id:"animate",require:n.followMotion?["rotate"]:void 0,base:{pos:Y(0,0),angle:0,scale:Y(1,1),opacity:1},animation:{paused:!1,seek(a){i=zn(a,0,this.duration),e.forEach(u=>{u.isFinished=!1}),o=!1},get duration(){return e.reduce((a,u)=>Math.max(u.duration,a),0)}},add(){n.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let a=!0,u;i+=Rt();for(let f of e)u=f.update(this,i),u&&!f.isFinished&&(f.isFinished=!0,this.trigger("animateChannelFinished",f.name)),a&&(a=u);a&&!o&&(o=!0,this.trigger("animateFinished"))},animate(a,u,f){o=!1,this.unanimate(a),typeof u[0]=="number"?e.push(new zS(a,u,f,n.relative||!1)):u[0]instanceof Z?e.push(new US(a,u,f,n.relative||!1,a==="pos"&&(n.followMotion||!1))):u[0]instanceof qe&&e.push(new HS(a,u,f,n.relative||!1))},unanimate(a){let u=e.findIndex(f=>f.name===a);u>=0&&e.splice(u,1)},unanimateAll(){e.splice(0,e.length)},onAnimateFinished(a){return this.on("animateFinished",a)},onAnimateChannelFinished(a){return this.on("animateChannelFinished",a)},serializeAnimationChannels(){return e.reduce((a,u)=>(a[u.name]=u.serialize(),a),{})},serializeAnimationOptions(){let a={};return n.followMotion&&(a.followMotion=!0),n.relative&&(a.relative=!0),a}}}g(T0,"animate");function gf(n,e){let i={name:n.name};return n.has("animate")&&(i.channels=n.serializeAnimationChannels(),Object.assign(i,n.serializeAnimationOptions())),n.children.length>0&&(i.children=n.children.filter(o=>o.has("named")).map(o=>gf(o,o.name))),i}g(gf,"serializeAnimation");function ld(n=2,e=1){let i=0;return{require:["scale"],update(){let o=Math.sin(i*n)*e;o<0&&this.destroy(),this.scale=Y(o),i+=Rt()}}}g(ld,"boom");function _0(n,e){if(n==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(i=1){this.setHP(n-i),this.trigger("hurt",i)},heal(i=1){let o=n;this.setHP(n+i),this.trigger("heal",n-o)},hp(){return n},maxHP(){return e??null},setMaxHP(i){e=i},setHP(i){n=e?Math.min(e,i):i,n<=0&&this.trigger("death")},onHurt(i){return this.on("hurt",i)},onHeal(i){return this.on("heal",i)},onDeath(i){return this.on("death",i)},inspect(){return`health: ${n}`}}}g(_0,"health");function j0(n,e={}){if(n==null)throw new Error("lifespan() requires time");let i=e.fade??0;return{id:"lifespan",require:["opacity"],add(){C.game.root.wait(n,()=>{this.opacity=this.opacity??1,i>0?C.game.root.tween(this.opacity,0,i,o=>this.opacity=o,Lo.linear).onEnd(()=>{this.destroy()}):this.destroy()})}}}g(j0,"lifespan");function D0(n){return{id:"named",name:n}}g(D0,"named");function I0(n,e,i){if(!n)throw new Error("state() requires an initial state");let o={};function a(d){o[d]||(o[d]={enter:new en,end:new en,update:new en,draw:new en})}g(a,"initStateEvents");function u(d,p,v){return a(p),o[p][d].add(v)}g(u,"on");function f(d,p,...v){a(p),o[p][d].trigger(...v)}g(f,"trigger");let h=!1;return{id:"state",state:n,enterState(d,...p){if(h=!0,e&&!e.includes(d))throw new Error(`State not found: ${d}`);let v=this.state;if(i){if(!(i!=null&&i[v]))return;let E=typeof i[v]=="string"?[i[v]]:i[v];if(!E.includes(d))throw new Error(`Cannot transition state from "${v}" to "${d}". Available transitions: ${E.map(y=>`"${y}"`).join(", ")}`)}f("end",v,...p),this.state=d,f("enter",d,...p),f("enter",`${v} -> ${d}`,...p)},onStateTransition(d,p,v){return u("enter",`${d} -> ${p}`,v)},onStateEnter(d,p){return u("enter",d,p)},onStateUpdate(d,p){return u("update",d,p)},onStateDraw(d,p){return u("draw",d,p)},onStateEnd(d,p){return u("end",d,p)},update(){h||(f("enter",n),h=!0),f("update",this.state)},draw(){f("draw",this.state)},inspect(){return`state: ${this.state}`}}}g(I0,"state");function yf(n){return{id:"stay",stay:!0,scenesToStay:n}}g(yf,"stay");function N0(n=!0,e){let i,o;return{id:"textInput",hasFocus:n,require:["text"],typedText:"",add(){let a=g(()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")},"flip");i=C.k.onCharInput(u=>{this.hasFocus&&(!e||this.typedText.length<e)&&(C.k.isKeyDown("shift")?this.typedText+=u.toUpperCase():this.typedText+=u,a())}),o=C.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1)),a()})},destroy(){i.cancel(),o.cancel()}}}g(N0,"textInput");function Dl(n=1e3){return{id:"timer",maxLoopsPerFrame:n,loop(e,i,o=-1,a=!1){let u=a?0:e,f=new en,h=this.onUpdate(()=>{u+=C.app.state.dt;for(let d=0;u>=e&&d<this.maxLoopsPerFrame;d++){if(o!=-1&&(o--,o<0)){h.cancel(),f.trigger();return}i(),u-=e}});return{get paused(){return h.paused},set paused(d){h.paused=d},cancel:h.cancel,onEnd:f.add,then(d){return f.add(d),this}}},wait(e,i){return this.loop(e,i??(()=>{}),1,!0)},tween(e,i,o,a,u=Lo.linear){let f=0,h=[],d=this.onUpdate(()=>{f+=C.app.state.dt;let p=Math.min(f/o,1);a(nn(e,i,u(p))),p===1&&(d.cancel(),a(i),h.forEach(v=>v()))});return{get paused(){return d.paused},set paused(p){d.paused=p},onEnd(p){h.push(p)},then(p){return this.onEnd(p),this},cancel(){d.cancel()},finish(){d.cancel(),a(i),h.forEach(p=>p())}}}}}g(Dl,"timer");var ud=0;function L0(){return ud>0}g(L0,"usesArea");function B0(n={}){let e={},i=new Set,o=[];return{id:"area",collisionIgnore:n.collisionIgnore??[],add(){ud++,this.area.cursor&&o.push(this.onHover(()=>C.app.setCursor(this.area.cursor))),o.push(this.onCollideUpdate((a,u)=>{if(!a.id)throw new Error("area() requires the object to have an id");e[a.id]||this.trigger("collide",a,u),u&&(e[a.id]=u,i.add(a.id))}))},destroy(){ud--;for(let a of o)a.cancel()},fixedUpdate(){for(let a in e)i.has(Number(a))||(this.trigger("collideEnd",e[a].target),delete e[a]);i.clear()},drawInspect(){let a=this.localArea();dn(),mt(this.area.offset);let u={outline:{width:4/Dd(),color:$e(0,0,255)},anchor:this.anchor,fill:!1,fixed:Yr(this)};a instanceof dt?hn({...u,pos:a.pos,width:a.width*this.area.scale.x,height:a.height*this.area.scale.y}):a instanceof rn?xr({...u,pts:a.pts,scale:this.area.scale}):a instanceof pn&&Ni({...u,pos:a.center,radius:a.radius}),tn()},area:{shape:n.shape??null,scale:n.scale?Y(n.scale):Y(1),offset:n.offset??Y(0),cursor:n.cursor??null},isClicked(){return C.app.isMousePressed()&&this.isHovering()},isHovering(){let a=Yr(this)?C.k.mousePos():C.k.toWorld(C.k.mousePos());return this.hasPoint(a)},checkCollision(a){if(!a.id)throw new Error("checkCollision() requires the object to have an id");return e[a.id]??null},getCollisions(){return Object.values(e)},isColliding(a){if(!a.id)throw new Error("isColliding() requires the object to have an id");return!!e[a.id]},isOverlapping(a){if(!a.id)throw new Error("isOverlapping() requires the object to have an id");let u=e[a.id];return u&&u.hasOverlap()},onClick(a,u="left"){let f=C.app.onMousePress(u,()=>{this.isHovering()&&a()});return o.push(f),f},onHover(a){let u=!1;return this.onUpdate(()=>{u?u=this.isHovering():this.isHovering()&&(u=!0,a())})},onHoverUpdate(a){return this.onUpdate(()=>{this.isHovering()&&a()})},onHoverEnd(a){let u=!1;return this.onUpdate(()=>{u?this.isHovering()||(u=!1,a()):u=this.isHovering()})},onCollide(a,u){if(typeof a=="function"&&u===void 0)return this.on("collide",a);if(typeof a=="string")return this.onCollide((f,h)=>{f.is(a)&&(u==null||u(f,h))});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(a,u){if(typeof a=="function"&&u===void 0)return this.on("collideUpdate",a);if(typeof a=="string")return this.on("collideUpdate",(f,h)=>f.is(a)&&(u==null?void 0:u(f,h)));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(a,u){if(typeof a=="function"&&u===void 0)return this.on("collideEnd",a);if(typeof a=="string")return this.on("collideEnd",f=>f.is(a)&&(u==null?void 0:u(f)));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(a){return Sr(this.worldArea(),a)},resolveCollision(a){let u=this.checkCollision(a);u&&!u.resolved&&(this.pos=this.pos.add(u.displacement),u.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let a=this.localArea();if(!(a instanceof rn||a instanceof dt))throw new Error("Only support polygon and rect shapes for now");let u=this.transform.clone().translate(this.area.offset).scale(Y(this.area.scale??1));if(a instanceof dt){let f=Ii(this.anchor||$l).add(1,1).scale(-.5).scale(a.width,a.height);u.translate(f)}return a.transform(u)},screenArea(){let a=this.worldArea();return Yr(this)?a:a.transform(C.game.cam.transform)},inspect(){var a,u,f,h,d,p,v;return((a=this.area.scale)==null?void 0:a.x)==((u=this.area.scale)==null?void 0:u.y)?`area: ${(h=(f=this.area.scale)==null?void 0:f.x)==null?void 0:h.toFixed(1)}x`:`area: (${(p=(d=this.area.scale)==null?void 0:d.x)==null?void 0:p.toFixed(1)}x, ${(v=this.area.scale.y)==null?void 0:v.toFixed(1)}y)`}}}g(B0,"area");function F0(n={}){let e=null,i=null,o=!1,a=Y(0),u=null,f=null,h;return{id:"body",require:["pos"],vel:Y(0),drag:n.drag??0,jumpForce:n.jumpForce??Qx,gravityScale:n.gravityScale??1,isStatic:n.isStatic??!1,mass:n.mass??1,add(){if(u=this.pos.clone(),f=this.pos.clone(),h=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((d,p)=>{if(!p||!d.has("body")||p.resolved)return;this.trigger("beforePhysicsResolve",p);let v=p.reverse();if(d.trigger("beforePhysicsResolve",v),!(p.resolved||v.resolved)&&!(this.isStatic&&d.isStatic)){if(!this.isStatic&&!d.isStatic){let E=this.mass+d.mass;this.pos=this.pos.add(p.displacement.scale(d.mass/E)),d.pos=d.pos.add(p.displacement.scale(-this.mass/E)),this.transform=ds(this),d.transform=ds(d)}else{let E=!this.isStatic&&d.isStatic?p:p.reverse();E.source.pos=E.source.pos.add(E.displacement),E.source.transform=ds(E.source)}p.resolved=!0,this.trigger("physicsResolve",p),d.trigger("physicsResolve",p.reverse())}}),this.onPhysicsResolve(d=>{if(C.game.gravity)if(d.isBottom()&&this.isFalling()){this.vel=this.vel.reject(C.game.gravity.unit());let p=e;e=d.target,p!=e&&(i=d.target.pos),o?o=!1:p||(this.trigger("ground",e),d.target.trigger("land",this))}else d.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(C.game.gravity.unit()),this.trigger("headbutt",d.target),d.target.trigger("headbutted",this))}))},update(){e&&this.isColliding(e)&&e.exists()&&e.has("body")&&(i&&!e.pos.eq(i)&&n.stickToPlatform!==!1&&this.moveBy(e.pos.sub(i)),i=e.pos);let d=bl();d&&(this.pos.x==h.x&&(this.pos.x=nn(u.x,f.x,d/Cl()),h.x=this.pos.x),this.pos.y==h.y&&(this.pos.y=nn(u.y,f.y,d/Cl()),h.y=this.pos.y))},fixedUpdate(){if(u&&(this.pos.x==h.x&&(this.pos.x=u.x),this.pos.y==h.y&&(this.pos.y=u.y),u=null),C.game.gravity&&!this.isStatic){o&&(e=null,i=null,this.trigger("fallOff"),o=!1),e&&(!this.isColliding(e)||!e.exists()||!e.has("body"))&&(o=!0);let d=this.vel.clone();this.vel=this.vel.add(C.game.gravity.scale(this.gravityScale*Rt()));let p=n.maxVelocity??Kx;this.vel.slen()>p*p&&(this.vel=this.vel.unit().scale(p)),d.dot(C.game.gravity)<0&&this.vel.dot(C.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=a.x*Rt(),this.vel.y+=a.y*Rt(),this.vel.x*=1-this.drag*Rt(),this.vel.y*=1-this.drag*Rt(),this.move(this.vel),bl()){u=this.pos.clone();let d=this.vel.add(a.scale(Rt()));f=this.pos.add(d.scale(Rt())),h=this.pos.clone()}a.x=0,a.y=0},onPhysicsResolve(d){return this.on("physicsResolve",d)},onBeforePhysicsResolve(d){return this.on("beforePhysicsResolve",d)},curPlatform(){return e},isGrounded(){return e!==null},isFalling(){return this.vel.dot(hs())>0},isJumping(){return this.vel.dot(hs())<0},applyImpulse(d){this.isStatic||(this.vel=this.vel.add(d))},addForce(d){this.isStatic||(a.x+=d.x/this.mass,a.y+=d.y/this.mass)},jump(d){this.isStatic||(e=null,i=null,this.vel=hs().scale(-d||-this.jumpForce))},onGround(d){return this.on("ground",d)},onFall(d){return this.on("fall",d)},onFallOff(d){return this.on("fallOff",d)},onHeadbutt(d){return this.on("headbutt",d)},onLand(d){return this.on("land",d)},onHeadbutted(d){return this.on("headbutted",d)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}g(F0,"body");function O0(n=2){let e=n;return{id:"doubleJump",require:["body"],numJumps:n,add(){this.onGround(()=>{e=this.numJumps})},doubleJump(i){e<=0||(e<this.numJumps&&this.trigger("doubleJump"),e--,this.jump(i))},onDoubleJump(i){return this.on("doubleJump",i)},inspect(){return`jumpsLeft: ${e}`}}}g(O0,"doubleJump");function q0(n){return{id:"surfaceEffector",require:["area"],speed:n.speed,speedVariation:n.speedVariation??0,forceScale:n.speedVariation??.9,add(){this.onCollideUpdate("body",(e,i)=>{var f;let o=i==null?void 0:i.normal.normal(),a=e.vel.project(o),u=(f=o==null?void 0:o.scale(this.speed))==null?void 0:f.sub(a);e.addForce(u==null?void 0:u.scale(e.mass*this.forceScale))})}}}g(q0,"surfaceEffector");function z0(n){return{id:"areaEffector",require:["area"],useGlobalAngle:n.useGlobalAngle||!1,forceAngle:n.forceAngle,forceMagnitude:n.forceMagnitude,forceVariation:n.forceVariation??0,linearDrag:n.linearDrag??0,add(){this.onCollideUpdate("body",(e,i)=>{if(!e.has("body"))return;let o=Z.fromAngle(this.forceAngle).scale(this.forceMagnitude);e.addForce(o),this.linearDrag&&e.addForce(e.vel.scale(-this.linearDrag))})}}}g(z0,"areaEffector");function U0(n){return{id:"pointEffector",require:["area","pos"],forceMagnitude:n.forceMagnitude,forceVariation:n.forceVariation??0,distanceScale:n.distanceScale??1,forceMode:n.forceMode||"inverseLinear",linearDrag:n.linearDrag??0,add(){this.onCollideUpdate("body",(e,i)=>{let o=this.pos.sub(e.pos),a=o.len(),u=a*this.distanceScale/10,f=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/u:1/u**2,h=o.scale(this.forceMagnitude*f/a);e.addForce(h),this.linearDrag&&e.addForce(e.vel.scale(-this.linearDrag))})}}}g(U0,"pointEffector");function H0(n){return{id:"constantForce",require:["body"],force:n.force,update(){this.force&&this.addForce(this.force)}}}g(H0,"constantForce");function G0(n){return{id:"platformEffector",require:["area","body"],surfaceArc:n.surfaceArc??180,useOneWay:n.useOneWay??!1,add(){this.onBeforePhysicsResolve(e=>{let i=e.target.vel,o=hs().scale(-1).angleBetween(i);Math.abs(o)>this.surfaceArc/2&&e.preventResolution()})}}}g(G0,"platformEffector");function V0(n){return{id:"buoyancyEffector",require:["area"],surfaceLevel:n.surfaceLevel,density:n.density??1,linearDrag:n.linearDrag??1,angularDrag:n.angularDrag??.2,flowAngle:n.flowAngle??0,flowMagnitude:n.flowMagnitude??0,flowVariation:n.flowVariation??0,add(){this.onCollideUpdate("body",(e,i)=>{let o=e,a=o.worldArea(),[u,f]=a.cut(Y(-100,this.surfaceLevel),Y(100,this.surfaceLevel));u&&(this.applyBuoyancy(o,u),this.applyDrag(o,u)),this.flowMagnitude&&o.addForce(Z.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(e,i){let o=this.density*i.area(),a=Y(0,1).scale(-o);e.addForce(a)},applyDrag(e,i){let o=e.vel,a=this.density*this.linearDrag,u=o.scale(-a);e.addForce(u)}}}g(V0,"buoyancyEffector");function Il(n){if(!n)throw new Error("Please define an anchor");return{id:"anchor",anchor:n,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}g(Il,"anchor");function vf(){return{id:"fixed",fixed:!0}}g(vf,"fixed");function W0(n,e){return{id:"follow",require:["pos"],follow:{obj:n,offset:e??Y(0)},add(){n.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){n.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}g(W0,"follow");function $0(n){var i;let e=(i=C.game.layers)==null?void 0:i.indexOf(n);return{id:"layer",get layerIndex(){return e??null},get layer(){var o;return e?((o=C.game.layers)==null?void 0:o[e])??null:null},set layer(o){var a;if(e=(a=C.game.layers)==null?void 0:a.indexOf(o),e==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}g($0,"layer");function Q0(n,e){let i=typeof n=="number"?Z.fromAngle(n):n.unit();return{id:"move",require:["pos"],update(){this.move(i.scale(e))}}}g(Q0,"move");function K0(n={}){let e=n.distance??$x,i=!1;return{id:"offscreen",require:["pos"],isOffScreen(){let o=this.screenPos();if(!o)return!1;let a=new dt(Y(0),Nt(),qt());return!Vo(a,o)&&a.sdistToPoint(o)>e*e},onExitScreen(o){return this.on("exitView",o)},onEnterScreen(o){return this.on("enterView",o)},update(){this.isOffScreen()?(i||(this.trigger("exitView"),i=!0),n.hide&&(this.hidden=!0),n.pause&&(this.paused=!0),n.destroy&&this.destroy()):(i&&(this.trigger("enterView"),i=!1),n.hide&&(this.hidden=!1),n.pause&&(this.paused=!1))}}}g(K0,"offscreen");function qo(...n){return{id:"pos",pos:Y(...n),moveBy(...e){this.pos=this.pos.add(Y(...e))},move(...e){this.moveBy(Y(...e).scale(Rt()))},moveTo(...e){if(typeof e[0]=="number"&&typeof e[1]=="number")return this.moveTo(Y(e[0],e[1]),e[2]);let i=e[0],o=e[1];if(o===void 0){this.pos=Y(i);return}let a=i.sub(this.pos);if(a.len()<=o*Rt()){this.pos=Y(i);return}this.move(a.unit().scale(o))},worldPos(e=null){return e?(this.pos=this.pos.add(this.fromWorld(e)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(e){return this.parent?this.parent.transform.multVec2(this.pos.add(e)):this.pos.add(e)},fromWorld(e){return this.parent?this.parent.transform.invert().multVec2(e).sub(this.pos):e.sub(this.pos)},screenPos(e=null){if(e)return this.pos=this.pos.add(this.fromScreen(e)),null;{let i=this.worldPos();return i?Yr(this)?i:_l(i):null}},toScreen(e){let i=this.toWorld(e);return Yr(this)?i:_l(i)},fromScreen(e){return Yr(this)?this.fromWorld(e):this.fromWorld(af(e))},toOther(e,i){return e.fromWorld(this.toWorld(i))},fromOther(e,i){return e.toOther(this,i)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){Ni({color:$e(255,0,0),radius:4/Dd()})}}}g(qo,"pos");function Y0(n){return{id:"rotate",angle:n??0,rotateBy(e){this.angle+=e},rotateTo(e){this.angle=e},inspect(){return`angle: ${Math.round(this.angle)}`}}}g(Y0,"rotate");function zo(...n){if(n.length===0)return zo(1);let e=Y(...n);return{id:"scale",set scale(i){if(!(i instanceof Z))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");e=Y(i)},get scale(){return e},scaleTo(...i){e=Y(...i)},scaleBy(...i){e=e.scale(Y(...i))},inspect(){return e.x==e.y?`scale: ${e.x.toFixed(1)}x`:`scale: (${e.x.toFixed(1)}x, ${e.y.toFixed(1)}y)`}}}g(zo,"scale");function X0(n){return{id:"z",z:n,inspect(){return`z: ${this.z}`}}}g(X0,"z");var GS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",VS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",WS="3001.0.0",C={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},$S=g((n={tagsAsComponents:!0})=>{C.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),C.k.quit()),C.globalOpt=n;let e=n.root??document.body;e===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let i=n.canvas??e.appendChild(document.createElement("canvas"));C.canvas=i;let o=n.scale??1;C.gscale=o;let a=n.width&&n.height&&!n.stretch&&!n.letterbox;a?(i.width=n.width*o,i.height=n.height*o):(i.width=i.parentElement.offsetWidth,i.height=i.parentElement.offsetHeight);let u=["outline: none","cursor: default"];if(a){let Ee=i.width,_e=i.height;u.push(`width: ${Ee}px`),u.push(`height: ${_e}px`)}else u.push("width: 100%"),u.push("height: 100%");n.crisp&&(u.push("image-rendering: pixelated"),u.push("image-rendering: crisp-edges")),i.style.cssText=u.join(";");let f=n.pixelDensity||1;C.pixelDensity=f,i.width*=f,i.height*=f,i.tabIndex=0;let h=document.createElement("canvas");h.width=256,h.height=256,C.fontCacheCanvas=h;let d=h.getContext("2d",{willReadFrequently:!0});C.fontCacheC2d=d;let p=uS({canvas:i,touchToMouse:n.touchToMouse,gamepads:n.gamepads,pixelDensity:n.pixelDensity,maxFPS:n.maxFPS,buttons:n.buttons});C.app=p;let v=[],E=p.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!E)throw new Error("WebGL not supported");let y=E,x=Py(y,{texFilter:n.texFilter}),w=MS(n,x);C.gfx=w;let _=qS();C.audio=_;let k=ES(x,n.spriteAtlasPadding??0);C.assets=k;let A=FS();C.game=A,A.root.use(Dl());function M(Ee,_e){let Ie=new Pl(x,Ee,_e);return{clear:g(()=>Ie.clear(),"clear"),free:g(()=>Ie.free(),"free"),toDataURL:g(()=>Ie.toDataURL(),"toDataURL"),toImageData:g(()=>Ie.toImageData(),"toImageData"),width:Ie.width,height:Ie.height,draw:g(We=>{fn(),Ie.bind(),We(),fn(),Ie.unbind()},"draw"),get fb(){return Ie}}}g(M,"makeCanvas");function P(){y.clear(y.COLOR_BUFFER_BIT),w.frameBuffer.bind(),y.clear(y.COLOR_BUFFER_BIT),w.bgColor||yr(()=>{Bs({width:Nt(),height:qt(),quad:new gt(0,0,Nt()/64,qt()/64),tex:w.bgTex,fixed:!0})}),w.renderer.numDraws=0,w.fixed=!1,w.transformStack.length=0,w.transform=new Jn}g(P,"frameStart");function D(Ee,_e){w.postShader=Ee,w.postShaderUniform=_e??null}g(D,"usePostEffect");function F(){fn(),w.lastDrawCalls=w.renderer.numDraws,w.frameBuffer.unbind(),y.viewport(0,0,y.drawingBufferWidth,y.drawingBufferHeight);let Ee=w.width,_e=w.height;w.width=y.drawingBufferWidth/f,w.height=y.drawingBufferHeight/f,Oo({flipY:!0,tex:w.frameBuffer.tex,pos:new Z(w.viewport.x,w.viewport.y),width:w.viewport.width,height:w.viewport.height,shader:w.postShader,uniform:typeof w.postShaderUniform=="function"?w.postShaderUniform():w.postShaderUniform,fixed:!0}),fn(),w.width=Ee,w.height=_e}g(F,"frameEnd");let b=!1,R={inspect:!1,timeScale:1,showLog:!0,fps:g(()=>p.fps(),"fps"),numFrames:g(()=>p.numFrames(),"numFrames"),stepFrame:Te,drawCalls:g(()=>w.lastDrawCalls,"drawCalls"),clearLog:g(()=>A.logs=[],"clearLog"),log:g((...Ee)=>{let _e=n.logMax??8,Ie=Ee.length>1?Ee.concat(" ").join(" "):Ee[0];A.logs.unshift({msg:Ie,time:p.time()}),A.logs.length>_e&&(A.logs=A.logs.slice(0,_e))},"log"),error:g(Ee=>R.log(new Error(Ee.toString?Ee.toString():Ee)),"error"),curRecording:null,numObjects:g(()=>Ae("*",{recursive:!0}).length,"numObjects"),get paused(){return b},set paused(Ee){b=Ee,Ee?_.ctx.suspend():_.ctx.resume()}};C.debug=R;function B(Ee,_e){try{return JSON.parse(window.localStorage[Ee])}catch{return _e?(H(Ee,_e),_e):null}}g(B,"getData");function H(Ee,_e){window.localStorage[Ee]=JSON.stringify(_e)}g(H,"setData");function U(Ee,..._e){let Ie=Ee(Tt),We;typeof Ie=="function"?We=Ie(..._e)(Tt):We=Ie;for(let Ke in We)Tt[Ke]=We[Ke],n.global!==!1&&(window[Ke]=We[Ke]);return Tt}g(U,"plug");function ee(Ee){let _e=p.canvas.captureStream(Ee),Ie=_.ctx.createMediaStreamDestination();_.masterNode.connect(Ie);let We=new MediaRecorder(_e),Ke=[];return We.ondataavailable=Oe=>{Oe.data.size>0&&Ke.push(Oe.data)},We.onerror=()=>{_.masterNode.disconnect(Ie),_e.getTracks().forEach(Oe=>Oe.stop())},We.start(),{resume(){We.resume()},pause(){We.pause()},stop(){return We.stop(),_.masterNode.disconnect(Ie),_e.getTracks().forEach(Oe=>Oe.stop()),new Promise(Oe=>{We.onstop=()=>{Oe(new Blob(Ke,{type:"video/mp4"}))}})},download(Oe="kaboom.mp4"){this.stop().then(Je=>td(Oe,Je))}}}g(ee,"record");function ue(){return document.activeElement===p.canvas}g(ue,"isFocused");let ye=A.root.add.bind(A.root),ke=A.root.readd.bind(A.root),Ce=A.root.removeAll.bind(A.root),Ae=A.root.get.bind(A.root),ve=A.root.wait.bind(A.root),ne=A.root.loop.bind(A.root),fe=A.root.query.bind(A.root),se=A.root.tween.bind(A.root),q=fs(null,VS),Q=fs(null,GS);C.kaSprite=q,C.boomSprite=Q;function Re(){A.root.fixedUpdate()}g(Re,"fixedUpdateFrame");function Te(){A.root.update()}g(Te,"updateFrame");const zt=class zt{constructor(_e,Ie,We,Ke,Oe=!1){W(this,"source");W(this,"target");W(this,"normal");W(this,"distance");W(this,"resolved",!1);this.source=_e,this.target=Ie,this.normal=We,this.distance=Ke,this.resolved=Oe}get displacement(){return this.normal.scale(this.distance)}reverse(){return new zt(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(A.gravity||Y(0,1))>0}isRight(){return this.displacement.cross(A.gravity||Y(0,1))<0}isTop(){return this.displacement.dot(A.gravity||Y(0,1))>0}isBottom(){return this.displacement.dot(A.gravity||Y(0,1))<0}preventResolution(){this.resolved=!0}};g(zt,"Collision");let Ne=zt;function Le(){if(!L0())return;let Ee={},_e=n.hashGridSize||64,Ie=new Jn,We=[];function Ke(Oe){if(We.push(Ie.clone()),Oe.pos&&Ie.translate(Oe.pos),Oe.scale&&Ie.scale(Oe.scale),Oe.angle&&Ie.rotate(Oe.angle),Oe.transform=Ie.clone(),Oe.c("area")&&!Oe.paused){let Je=Oe,_t=Je.worldArea().bbox(),rr=Math.floor(_t.pos.x/_e),Cr=Math.floor(_t.pos.y/_e),yn=Math.ceil((_t.pos.x+_t.width)/_e),Un=Math.ceil((_t.pos.y+_t.height)/_e),Pn=new Set;for(let jt=rr;jt<=yn;jt++)for(let V=Cr;V<=Un;V++)if(!Ee[jt])Ee[jt]={},Ee[jt][V]=[Je];else if(!Ee[jt][V])Ee[jt][V]=[Je];else{let ce=Ee[jt][V];e:for(let te of ce){if(te.paused||!te.exists()||Pn.has(te.id))continue;for(let pe of Je.collisionIgnore)if(te.is(pe))continue e;for(let pe of te.collisionIgnore)if(Je.is(pe))continue e;let ae=Cg(Je.worldArea(),te.worldArea());if(ae){let pe=new Ne(Je,te,ae.normal,ae.distance);Je.trigger("collideUpdate",te,pe);let be=pe.reverse();be.resolved=pe.resolved,te.trigger("collideUpdate",Je,be)}Pn.add(te.id)}ce.push(Je)}}Oe.children.forEach(Ke),Ie=We.pop()}g(Ke,"checkObj"),Ke(A.root)}g(Le,"checkFrame");function ze(Ee){console.error(Ee),_.ctx.suspend();let _e=Ee.message??String(Ee)??"Unknown error, check console for more info";p.run(()=>{},()=>{P(),yr(()=>{let Ie=Nt(),We=qt(),Ke={size:36,width:Ie-32*2,letterSpacing:4,lineSpacing:4,font:El,fixed:!0};hn({width:Ie,height:We,color:$e(0,0,255),fixed:!0});let Oe=si({...Ke,text:"Error",pos:Y(32),color:$e(255,128,0),fixed:!0});oi(Oe),od({...Ke,text:_e,pos:Y(32,32+Oe.height+16),fixed:!0}),tn(),A.events.trigger("error",Ee)}),F()})}g(ze,"handleErr");function Be(Ee){v.push(Ee)}g(Be,"onCleanup");function Ve(){A.events.onOnce("frameEnd",()=>{p.quit(),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT);let Ee=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS);for(let _e=0;_e<Ee;_e++)y.activeTexture(y.TEXTURE0+_e),y.bindTexture(y.TEXTURE_2D,null),y.bindTexture(y.TEXTURE_CUBE_MAP,null);y.bindBuffer(y.ARRAY_BUFFER,null),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,null),y.bindRenderbuffer(y.RENDERBUFFER,null),y.bindFramebuffer(y.FRAMEBUFFER,null),x.destroy(),v.forEach(_e=>_e())})}g(Ve,"quit");let st=!0;p.run(()=>{try{k.loaded&&(R.paused||Re(),Le())}catch(Ee){ze(Ee)}},(Ee,_e)=>{try{Ee(),k.loaded||ri()===1&&!st&&(k.loaded=!0,Nd().forEach(Ie=>A.events.trigger("loadError",...Ie)),A.events.trigger("load")),!k.loaded&&n.loadingScreen!==!1||st?(P(),_y(),F()):(R.paused||Te(),Le(),P(),Ty(),n.debug!==!1&&Ry(),F()),st&&(st=!1),A.events.trigger("frameEnd"),_e()}catch(Ie){ze(Ie)}}),Qd(),df();let Tt={_k:C,VERSION:WS,loadRoot:uy,loadProgress:ri,loadSprite:fs,loadSpriteAtlas:Hd,loadSound:Ay,loadMusic:Ey,loadBitmapFont:gy,loadFont:py,loadShader:wy,loadShaderURL:xy,loadAseprite:hy,loadPedit:yy,loadBean:fy,loadJSON:cy,load:Ml,getSound:Ud,getFont:Od,getBitmapFont:qd,getSprite:Ld,getShader:zd,getAsset:dy,Asset:Mn,SpriteData:ii,SoundData:Fo,width:Nt,height:qt,center:Bo,dt:Rt,fixedDt:Cl,restDt:bl,time:p.time,screenshot:p.screenshot,record:ee,isFocused:ue,setCursor:p.setCursor,getCursor:p.getCursor,setCursorLocked:p.setCursorLocked,isCursorLocked:p.isCursorLocked,setFullscreen:p.setFullscreen,isFullscreen:p.isFullscreen,isTouchscreen:p.isTouchscreen,onLoad:eu,onLoadError:t0,onLoading:Zy,onResize:Jy,onGamepadConnect:p.onGamepadConnect,onGamepadDisconnect:p.onGamepadDisconnect,onError:e0,onCleanup:Be,flash:of,setCamPos:Jd,getCamPos:ef,setCamRot:rf,getCamRot:sf,setCamScale:tf,getCamScale:nf,getCamTransform:n0,camPos:s0,camScale:o0,camFlash:l0,camRot:a0,camTransform:r0,shake:i0,toScreen:_l,toWorld:af,setGravity:u0,getGravity:c0,setGravityDirection:d0,getGravityDirection:hs,setBackground:ny,getBackground:ry,getGamepads:p.getGamepads,getTreeRoot:w0,add:ye,make:tu,destroy:hf,destroyAll:Ce,get:Ae,query:fe,readd:ke,pos:qo,scale:zo,rotate:Y0,color:Kd,opacity:Yd,anchor:Il,area:B0,sprite:jl,text:k0,polygon:zy,rect:Zd,circle:Ny,uvquad:C0,outline:Oy,particles:qy,body:F0,platformEffector:G0,surfaceEffector:q0,areaEffector:z0,pointEffector:U0,buoyancyEffector:V0,constantForce:H0,doubleJump:O0,shader:Uy,textInput:N0,timer:Dl,fixed:vf,stay:yf,health:_0,lifespan:j0,named:D0,state:I0,z:X0,layer:$0,move:Q0,offscreen:K0,follow:W0,fadeIn:By,mask:Fy,drawon:Ly,raycast:Xd,tile:pf,animate:T0,serializeAnimation:gf,agent:b0,sentry:R0,patrol:P0,pathfinder:M0,trigger:RS,on:sn,onFixedUpdate:TS,onUpdate:_S,onDraw:jS,onAdd:Gy,onDestroy:DS,onTag:Vy,onUntag:LS,onUse:IS,onUnuse:NS,onClick:BS,onCollide:Wy,onCollideUpdate:$y,onCollideEnd:Qy,onHover:Ky,onHoverUpdate:Yy,onHoverEnd:Xy,onKeyDown:p.onKeyDown,onKeyPress:p.onKeyPress,onKeyPressRepeat:p.onKeyPressRepeat,onKeyRelease:p.onKeyRelease,onMouseDown:p.onMouseDown,onMousePress:p.onMousePress,onMouseRelease:p.onMouseRelease,onMouseMove:p.onMouseMove,onCharInput:p.onCharInput,onTouchStart:p.onTouchStart,onTouchMove:p.onTouchMove,onTouchEnd:p.onTouchEnd,onScroll:p.onScroll,onHide:p.onHide,onShow:p.onShow,onGamepadButtonDown:p.onGamepadButtonDown,onGamepadButtonPress:p.onGamepadButtonPress,onGamepadButtonRelease:p.onGamepadButtonRelease,onGamepadStick:p.onGamepadStick,onButtonPress:p.onButtonPress,onButtonDown:p.onButtonDown,onButtonRelease:p.onButtonRelease,mousePos:Id,mouseDeltaPos:p.mouseDeltaPos,isKeyDown:p.isKeyDown,isKeyPressed:p.isKeyPressed,isKeyPressedRepeat:p.isKeyPressedRepeat,isKeyReleased:p.isKeyReleased,isMouseDown:p.isMouseDown,isMousePressed:p.isMousePressed,isMouseReleased:p.isMouseReleased,isMouseMoved:p.isMouseMoved,isGamepadButtonPressed:p.isGamepadButtonPressed,isGamepadButtonDown:p.isGamepadButtonDown,isGamepadButtonReleased:p.isGamepadButtonReleased,getGamepadStick:p.getGamepadStick,isButtonPressed:p.isButtonPressed,isButtonDown:p.isButtonDown,isButtonReleased:p.isButtonReleased,setButton:p.setButton,getButton:p.getButton,pressButton:p.pressButton,releaseButton:p.releaseButton,getLastInputDeviceType:p.getLastInputDeviceType,charInputted:p.charInputted,loop:ne,wait:ve,play:h0,setVolume:uf,getVolume:cf,volume:p0,burp:lf,audioCtx:_.ctx,Line:gn,Rect:dt,Circle:pn,Ellipse:Er,Point:Fx,Polygon:rn,Vec2:Z,Color:qe,Mat4:Jn,Quad:gt,RNG:Hm,rand:Pt,randi:yd,randSeed:Gm,vec2:Y,rgb:$e,hsl2rgb:Nx,quad:St,choose:$m,chooseMultiple:Wm,shuffle:vd,chance:Vm,lerp:nn,tween:se,easings:Lo,map:qn,mapc:Um,wave:gd,deg2rad:At,rad2deg:ni,clamp:zn,evaluateQuadratic:ug,evaluateQuadraticFirstDerivative:cg,evaluateQuadraticSecondDerivative:dg,evaluateBezier:Wl,evaluateBezierFirstDerivative:fg,evaluateBezierSecondDerivative:hg,evaluateCatmullRom:pg,evaluateCatmullRomFirstDerivative:mg,curveLengthApproximation:Md,normalizedCurve:gg,hermite:zs,cardinal:Pd,catmullRom:Io,bezier:yg,kochanekBartels:vg,easingSteps:kg,easingLinear:Ag,easingCubicBezier:Eg,testLineLine:ql,testRectRect:wd,testRectLine:zl,testRectPoint:Vo,testCirclePolygon:$o,testLinePoint:Ul,testLineCircle:qs,isConvex:Tg,triangulate:Td,NavMesh:SS,drawSprite:Dy,drawText:od,formatText:si,drawRect:hn,drawLine:cs,drawLines:Jl,drawTriangle:Wd,drawCircle:Ni,drawEllipse:Gd,drawUVQuad:Bs,drawPolygon:xr,drawCurve:Vd,drawBezier:My,drawFormattedText:oi,drawMasked:jy,drawSubtracted:Iy,pushTransform:dn,popTransform:tn,pushTranslate:mt,pushScale:Ls,pushRotate:_i,pushMatrix:iy,usePostEffect:D,makeCanvas:M,debug:R,scene:x0,getSceneName:E0,go:S0,onSceneLeave:A0,layers:v0,getLayers:g0,setLayers:ff,getDefaultLayer:y0,addLevel:Hy,getData:B,setData:H,download:Ql,downloadJSON:Fg,downloadText:jd,downloadBlob:td,plug:U,ASCII_CHARS:_g,canvas:p.canvas,addKaboom:m0,LEFT:Z.LEFT,RIGHT:Z.RIGHT,UP:Z.UP,DOWN:Z.DOWN,RED:qe.RED,GREEN:qe.GREEN,BLUE:qe.BLUE,YELLOW:qe.YELLOW,MAGENTA:qe.MAGENTA,CYAN:qe.CYAN,WHITE:qe.WHITE,BLACK:qe.BLACK,quit:Ve,KEvent:en,KEventHandler:No,KEventController:ji,cancel:g(()=>Dg,"cancel")};C.k=Tt;let nr=n.plugins;if(nr&&nr.forEach(U),n.global!==!1)for(let Ee in Tt)window[Ee]=Tt[Ee];return n.focus!==!1&&p.canvas.focus(),Tt},"kaplay"),QS=$S;const O=QS({width:1920,height:1080,letterbox:!0,background:[0,0,0],global:!1,buttons:{jump:{keyboard:["space"],mouse:"left"}},touchToMouse:!0,debug:!1});function KS(){O.add([O.text(`
        InfiniteRunnerGame
      `,{font:"mania",size:32})]),O.add([O.text("Press Space/Click/Touch to Start The Game",{font:"mania",size:64}),O.anchor("center"),O.pos(O.center())]),O.onButtonPress("jump",()=>O.go("main-menu"))}function Z0(n){const e=O.add([O.sprite("sonic",{anim:"run"}),O.scale(4),O.area(),O.anchor("center"),O.pos(n),O.body({jumpForce:1700}),{ringCollectUI:null,setControls(){O.onButtonPress("jump",()=>{this.isGrounded()&&(this.play("jump"),this.jump(),O.play("jump",{volume:.5}))})},setEvents(){this.onGround(()=>{this.play("run")})}}]);return e.ringCollectUI=e.add([O.text("",{font:"mania",size:24}),O.color(255,255,0),O.anchor("center"),O.pos(30,-10)]),e}function YS(){O.getData("best-score")||O.setData("best-score",0),O.onButtonPress("jump",()=>O.go("game"));const n=1920,e=[O.add([O.sprite("chemical-bg"),O.pos(0,0),O.scale(2),O.opacity(.8)]),O.add([O.sprite("chemical-bg"),O.pos(1920,0),O.scale(2),O.opacity(.8)])],i=[O.add([O.sprite("platforms"),O.pos(0,450),O.scale(4)]),O.add([O.sprite("platforms"),O.pos(384,450),O.scale(4)])];O.add([O.text("SONIC RING RUN",{font:"mania",size:96}),O.anchor("center"),O.pos(O.center().x,200)]),O.add([O.text("Press Space/Click/Touch to Play",{font:"mania",size:32}),O.anchor("center"),O.pos(O.center().x,O.center().y-200)]),Z0(O.vec2(200,745)),O.onUpdate(()=>{e[1].pos.x<0&&(e[0].moveTo(e[1].pos.x+n*2,0),e.push(e.shift())),e[0].move(-100,0),e[1].moveTo(e[0].pos.x+n*2,0),i[1].pos.x<0&&(i[0].moveTo(i[1].pos.x+i[1].width*4,450),i.push(i.shift())),i[0].move(-4e3,0),i[1].moveTo(i[0].pos.x+i[1].width*4,450)})}function XS(n){return O.add([O.sprite("motobug",{anim:"run"}),O.area({shape:new O.Rect(O.vec2(-5,0),32,32)}),O.scale(4),O.anchor("center"),O.pos(n),O.offscreen(),"enemy"])}function ZS(n){return O.add([O.sprite("ring",{anim:"spin"}),O.area(),O.scale(4),O.anchor("center"),O.pos(n),O.offscreen(),"ring"])}function JS(){const n=O.play("city",{volume:.2,loop:!0});O.setGravity(3100);const e=1920,i=[O.add([O.sprite("chemical-bg"),O.pos(0,0),O.scale(2),O.opacity(.8)]),O.add([O.sprite("chemical-bg"),O.pos(e,0),O.scale(2),O.opacity(.8)])],o=[O.add([O.sprite("platforms"),O.pos(0,450),O.scale(4)]),O.add([O.sprite("platforms"),O.pos(384,450),O.scale(4)])],a=Z0(O.vec2(200,745));a.setControls(),a.setEvents();const u=O.add([O.text("Press Space/Click/Touch to Jump!",{font:"mania",size:64}),O.anchor("center"),O.pos(O.center())]),f=O.onButtonPress("jump",()=>{O.destroy(u),f.cancel()}),h=O.add([O.text("SCORE : 0",{font:"mania",size:72}),O.pos(20,20)]);let d=0,p=0;a.onCollide("ring",x=>{O.play("ring",{volume:.5}),O.destroy(x),d++,h.text=`SCORE : ${d}`,a.ringCollectUI.text="+1",O.wait(1,()=>{a.ringCollectUI.text=""})}),a.onCollide("enemy",x=>{if(!a.isGrounded()){O.play("destroy",{volume:.5}),O.play("hyper-ring",{volume:.5}),O.destroy(x),a.play("jump"),a.jump(),p+=1,d+=10*p,h.text=`SCORE : ${d}`,p===1&&(a.ringCollectUI.text=`+${10*p}`),p>1&&(a.ringCollectUI.text=`x${p}`),O.wait(1,()=>{a.ringCollectUI.text=""});return}O.play("hurt",{volume:.5}),O.setData("current-score",d),O.go("gameover",n)});let v=300;O.loop(1,()=>{v+=50});const E=()=>{const x=XS(O.vec2(1950,773));x.onUpdate(()=>{if(v<3e3){x.move(-(v+300),0);return}x.move(-v,0)}),x.onExitScreen(()=>{x.pos.x<0&&O.destroy(x)});const w=O.rand(.5,2.5);O.wait(w,E)};E();const y=()=>{const x=ZS(O.vec2(1950,745));x.onUpdate(()=>{x.move(-v,0)}),x.onExitScreen(()=>{x.pos.x<0&&O.destroy(x)});const w=O.rand(.5,3);O.wait(w,y)};y(),O.add([O.rect(1920,300),O.opacity(0),O.area(),O.pos(0,832),O.body({isStatic:!0}),"platform"]),O.onUpdate(()=>{a.isGrounded()&&(p=0),i[1].pos.x<0&&(i[0].moveTo(i[1].pos.x+e*2,0),i.push(i.shift())),i[0].move(-100,0),i[1].moveTo(i[0].pos.x+e*2,0),i[0].moveTo(i[0].pos.x,-a.pos.y/10-50),i[1].moveTo(i[1].pos.x,-a.pos.y/10-50),o[1].pos.x<0&&(o[0].moveTo(o[1].pos.x+o[1].width*4,450),o.push(o.shift())),o[0].move(-v,0),o[1].moveTo(o[0].pos.x+o[1].width*4,450)})}function eA(n){n.paused=!0;let e=O.getData("best-score");const i=O.getData("current-score"),o=["F","E","D","C","B","A","S"],a=[50,80,100,200,300,400,500];let u="F",f="F";for(let p=0;p<a.length;p++)a[p]<i&&(u=o[p]),a[p]<e&&(f=o[p]);e<i&&(O.setData("best-score",i),e=i,f=u),O.add([O.text("GAME OVER",{font:"mania",size:96}),O.anchor("center"),O.pos(O.center().x,O.center().y-300)]),O.add([O.text(`BEST SCORE : ${e}`,{font:"mania",size:64}),O.anchor("center"),O.pos(O.center().x-400,O.center().y-200)]),O.add([O.text(`CURRENT SCORE : ${i}`,{font:"mania",size:64}),O.anchor("center"),O.pos(O.center().x+400,O.center().y-200)]),O.add([O.rect(400,400,{radius:4}),O.color(0,0,0),O.area(),O.anchor("center"),O.outline(6,O.Color.fromArray([255,255,255])),O.pos(O.center().x-400,O.center().y+50)]).add([O.text(f,{font:"mania",size:100}),O.anchor("center")]),O.add([O.rect(400,400,{radius:4}),O.color(0,0,0),O.area(),O.anchor("center"),O.outline(6,O.Color.fromArray([255,255,255])),O.pos(O.center().x+400,O.center().y+50)]).add([O.text(u,{font:"mania",size:100}),O.anchor("center")]),O.wait(1,()=>{O.add([O.text("Press Space/Click/Touch to Play Again",{font:"mania",size:64}),O.anchor("center"),O.pos(O.center().x,O.center().y+350)]),O.onButtonPress("jump",()=>O.go("game"))})}function J0(){return I.useEffect(()=>(O.width=1920,O.height=1080,O.letterbox=!0,O.loadSprite("chemical-bg","graphics/chemical-bg.png"),O.loadSprite("platforms","graphics/platforms.png"),O.loadSprite("sonic","graphics/sonic.png",{sliceX:8,sliceY:2,anims:{run:{from:0,to:7,loop:!0,speed:30},jump:{from:8,to:15,loop:!0,speed:100}}}),O.loadSprite("ring","graphics/ring.png",{sliceX:16,sliceY:1,anims:{spin:{from:0,to:15,loop:!0,speed:30}}}),O.loadSprite("motobug","graphics/motobug.png",{sliceX:5,sliceY:1,anims:{run:{from:0,to:4,loop:!0,speed:8}}}),O.loadFont("mania","fonts/mania.ttf"),O.loadSound("destroy","sounds/Destroy.wav"),O.loadSound("hurt","sounds/Hurt.wav"),O.loadSound("hyper-ring","sounds/HyperRing.wav"),O.loadSound("jump","sounds/Jump.wav"),O.loadSound("ring","sounds/Ring.wav"),O.loadSound("city","sounds/city.mp3"),O.scene("disclaimer",KS),O.scene("main-menu",YS),O.scene("game",JS),O.scene("gameover",eA),O.go("disclaimer"),()=>{O.destroy(),document.querySelectorAll("canvas").forEach(e=>{e.style.display="none"})}),[]),T.jsx("div",{id:"game-container"})}const ym=[{id:"game1",name:"Infinite Runner",thumbnail:"game1.jpg",component:J0},{id:"game2",name:"Word Hunt Puzzle",thumbnail:"game2.jpg",component:()=>T.jsx("div",{children:"Word Hunt Placeholder"})},{id:"game3",name:"Tower Builder",thumbnail:"game3.jpg",component:()=>T.jsx("div",{children:"Tower Builder Placeholder"})},{id:"game4",name:"Clicker Game",thumbnail:"game4.jpg",component:()=>T.jsx("div",{children:"Clicker Game Placeholder"})},{id:"game5",name:"Memory Flip Game",thumbnail:"game5.jpg",component:()=>T.jsx("div",{children:"Memory Flip Game Placeholder"})},{id:"game6",name:"Quiz Battle",thumbnail:"game6.jpg",component:()=>T.jsx("div",{children:"Quiz Battle Placeholder"})},{id:"game7",name:"Maze Escape",thumbnail:"game7.jpg",component:()=>T.jsx("div",{children:"Maze Escape Placeholder"})},{id:"game8",name:"Bubble Pop",thumbnail:"game8.jpg",component:()=>T.jsx("div",{children:"Bubble Pop Placeholder"})},{id:"game9",name:"Match-3 Game",thumbnail:"game9.jpg",component:()=>T.jsx("div",{children:"Match-3 Game Placeholder"})},{id:"game10",name:"Quick Reaction Game",thumbnail:"game10.jpg",component:()=>T.jsx("div",{children:"Quick Reaction Game Placeholder"})},{id:"game11",name:"Shape Fitter Game",thumbnail:"game11.jpg",component:()=>T.jsx("div",{children:"Shape Fitter Game Placeholder"})},{id:"game12",name:"Fishing Game",thumbnail:"game12.jpg",component:()=>T.jsx("div",{children:"Fishing Game Placeholder"})},{id:"game13",name:"Dodging Game",thumbnail:"game13.jpg",component:()=>T.jsx("div",{children:"Dodging Game Placeholder"})},{id:"game14",name:"Typing Speed Challenge",thumbnail:"game14.jpg",component:()=>T.jsx("div",{children:"Typing Speed Challenge Placeholder"})},{id:"game15",name:"Digital Board Game",thumbnail:"game15.jpg",component:()=>T.jsx("div",{children:"Digital Board Game Placeholder"})},{id:"game16",name:"Stack the Cards",thumbnail:"game16.jpg",component:()=>T.jsx("div",{children:"Stack the Cards Placeholder"})},{id:"game17",name:"Balloon Shooter",thumbnail:"game17.jpg",component:()=>T.jsx("div",{children:"Balloon Shooter Placeholder"})},{id:"game18",name:"Guess the Drawing",thumbnail:"game18.jpg",component:()=>T.jsx("div",{children:"Guess the Drawing Placeholder"})},{id:"game19",name:"Spot the Difference",thumbnail:"game19.jpg",component:()=>T.jsx("div",{children:"Spot the Difference Placeholder"})},{id:"game20",name:"Mini Golf Challenge",thumbnail:"game20.jpg",component:()=>T.jsx("div",{children:"Mini Golf Challenge Placeholder"})}],tA=()=>T.jsx("div",{children:T.jsxs(Lm,{children:[T.jsx(ut,{path:"/",element:T.jsx("div",{className:sl.gameGrid,children:ym.map(n=>T.jsxs(Ol,{to:`/${n.id}`,className:sl.gameCard,children:[T.jsx("div",{className:sl.thumbnail,children:T.jsx("img",{src:n.thumbnail,alt:n.name})}),T.jsx("h3",{className:sl.gameTitle,children:n.name})]},n.id))})}),ym.map(n=>T.jsx(ut,{path:`/${n.id}`,element:T.jsx(n.component,{})},n.id))]})}),nA=()=>{const n=[{player:"Alice",score:120},{player:"Bob",score:100},{player:"Charlie",score:80}];return T.jsxs("div",{className:"leaderboard-container",children:[T.jsx("h2",{className:"leaderboard-title",children:"Leaderboard"}),T.jsxs("table",{className:"leaderboard-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Player"}),T.jsx("th",{children:"Score"})]})}),T.jsx("tbody",{children:n.map((e,i)=>T.jsxs("tr",{children:[T.jsx("td",{children:e.player}),T.jsx("td",{children:e.score})]},i))})]})]})},rA="_container_1gg2k_25",iA="_puzzle_1gg2k_55",sA="_cell_1gg2k_73",oA="_selected_1gg2k_117",aA="_found_1gg2k_127",lA="_button_1gg2k_137",uA="_words_1gg2k_175",cA="_word_1gg2k_175",mr={container:rA,puzzle:iA,cell:sA,selected:oA,found:aA,button:lA,words:uA,word:cA},ss=["PUZZLE","GAME","FUN","WORD","SEARCH","FIND","PLAY"],Wr=7,dA=()=>{const[n,e]=I.useState([]),[i,o]=I.useState([]),[a,u]=I.useState(new Set),[f,h]=I.useState(!1),[d,p]=I.useState([]);I.useEffect(()=>{v()},[]);const v=()=>{let D=Array(Wr).fill().map(()=>Array(Wr).fill(""));p([]),u(new Set);for(const F of ss)E(F,D);D=w(D),e(D)},E=(D,F)=>{const b=[[0,1],[1,0],[1,1],[-1,1],[0,-1],[-1,0],[-1,-1],[1,-1]];for(let R=0;R<50;R++){const B=b[Math.floor(Math.random()*b.length)],[H,U]=[Math.floor(Math.random()*Wr),Math.floor(Math.random()*Wr)];if(y(D,H,U,B,F))return F=x(D,H,U,B,F),!0}return!1},y=(D,F,b,[R,B],H)=>{if(F+R*(D.length-1)<0||F+R*(D.length-1)>=Wr||b+B*(D.length-1)<0||b+B*(D.length-1)>=Wr)return!1;for(let U=0;U<D.length;U++){const[ee,ue]=[F+R*U,b+B*U];if(H[ue][ee]!==""&&H[ue][ee]!==D[U])return!1}return!0},x=(D,F,b,[R,B],H)=>{for(let U=0;U<D.length;U++){const[ee,ue]=[F+R*U,b+B*U];H[ue][ee]=D[U]}return H},w=D=>{const F="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<Wr;b++)for(let R=0;R<Wr;R++)D[b][R]===""&&(D[b][R]=F[Math.floor(Math.random()*F.length)]);return D},_=D=>{h(!0);const F=parseInt(D.target.dataset.x),b=parseInt(D.target.dataset.y);o([{x:F,y:b}])},k=D=>{if(!f)return;const F=parseInt(D.target.dataset.x),b=parseInt(D.target.dataset.y);if(i.some(B=>B.x===F&&B.y===b))return;const R=i[i.length-1];Math.abs(F-R.x)<=1&&Math.abs(b-R.y)<=1&&o(B=>[...B,{x:F,y:b}])},A=()=>{if(!f)return;h(!1);const D=i.map(b=>n[b.y][b.x]).join(""),F=D.split("").reverse().join("");if(ss.includes(D)||ss.includes(F)){const b=ss.includes(D)?D:F;M(b),p(R=>[...R,...i])}o([]),P()},M=D=>{u(F=>new Set(F.add(D)))},P=()=>{a.size===ss.length&&alert("Congratulations! You found all the words!")};return T.jsxs("div",{className:mr.container,onMouseUp:A,style:{backgroundImage:"url(./assets/wordbg.jpg)",backgroundSize:"cover"},children:[T.jsx("h1",{children:"Modern 7x7 Word Puzzle Game"}),T.jsx("button",{className:mr.button,onClick:v,children:"New Puzzle"}),T.jsx("div",{className:mr.puzzle,children:n.map((D,F)=>D.map((b,R)=>{const B=i.some(U=>U.x===R&&U.y===F),H=d.some(U=>U.x===R&&U.y===F);return T.jsx("div",{className:`${mr.cell} ${B?mr.selected:""} ${H?mr.found:""}`,"data-x":R,"data-y":F,onMouseDown:_,onMouseOver:k,children:b},`${R}-${F}`)}))}),T.jsx("div",{className:mr.words,children:ss.map(D=>T.jsx("div",{className:`${mr.word} ${a.has(D)?mr.found:""}`,children:D},D))})]})},fA="_gameContainer_ns8nx_1",hA="_petContainer_ns8nx_17",pA="_pet_ns8nx_17",mA="_upgradeBtn_ns8nx_61",ll={gameContainer:fA,petContainer:hA,pet:pA,upgradeBtn:mA},gA=()=>{const[n,e]=I.useState(1),[i,o]=I.useState(0),[a,u]=I.useState(1),[f,h]=I.useState(5),d=()=>{o(i+1),e(n+.1)},p=()=>{i>=f?(o(i-f),u(a+1),h(Math.round(f*1.8))):alert("You don't have enough clicks for upgrade!")};return I.useEffect(()=>{n>=a*10&&(e(1),u(a+1))},[n,a]),T.jsxs("div",{className:ll.gameContainer,children:[T.jsx("h1",{children:"Digital Pet Clicker"}),T.jsxs("div",{className:ll.petContainer,children:[T.jsxs("h2",{children:["Level: ",a]}),T.jsx("div",{className:ll.pet,style:{width:`${n}em`,height:`${n}em`},onClick:d,children:T.jsx("span",{children:"🐶"})})]}),T.jsxs("p",{children:["Clicks: ",i]}),T.jsx("div",{children:T.jsxs("button",{className:ll.upgradeBtn,onClick:p,children:["Upgrade (Cost: ",f," clicks)"]})})]})},yA="_gameContainer_1mcfb_1",vA="_scoreContainer_1mcfb_11",wA="_cardsContainer_1mcfb_23",xA="_card_1mcfb_23",SA="_flipped_1mcfb_65",AA="_cardInner_1mcfb_73",EA="_cardFront_1mcfb_93",kA="_cardBack_1mcfb_93",CA="_matched_1mcfb_129",bA="_gameEndContainer_1mcfb_139",Kn={gameContainer:yA,scoreContainer:vA,cardsContainer:wA,card:xA,flipped:SA,cardInner:AA,cardFront:EA,cardBack:kA,matched:CA,gameEndContainer:bA},ul=["😀","😂","😍","😎","🤯","😴","😈","👽"],MA=()=>{const[n,e]=I.useState([]),[i,o]=I.useState([]),[a,u]=I.useState([]),[f,h]=I.useState(0),[d,p]=I.useState(0),[v,E]=I.useState(!1),[y,x]=I.useState(!1),[w,_]=I.useState(0);I.useEffect(()=>{const P=[...ul,...ul].sort(()=>Math.random()-.5).map((D,F)=>({id:F,emoji:D,isFlipped:!1,isMatched:!1}));e(P),E(!0)},[]),I.useEffect(()=>{let M;return v&&(M=setInterval(()=>{p(P=>P+1)},1e3)),()=>clearInterval(M)},[v]),I.useEffect(()=>{a.length===n.length&&n.length!==0&&(E(!1),x(!0))},[a,n]);const k=M=>{if(y||i.length===2||M.isFlipped||M.isMatched)return;const P=n.map(D=>D.id===M.id?{...D,isFlipped:!0}:D);e(P),o([...i,M]),h(D=>D+1)};I.useEffect(()=>{if(i.length===2){const[M,P]=i;M.emoji===P.emoji?setTimeout(()=>{u(D=>[...D,M,P]),o([]),_(D=>D+10)},500):setTimeout(()=>{const D=n.map(F=>i.some(b=>b.id===F.id)?{...F,isFlipped:!1}:F);e(D),o([])},1e3)}},[i,n]);const A=()=>{const P=[...ul,...ul].sort(()=>Math.random()-.5).map((D,F)=>({id:F,emoji:D,isFlipped:!1,isMatched:!1}));e(P),o([]),u([]),h(0),p(0),E(!0),x(!1),_(0)};return T.jsxs("div",{className:Kn.gameContainer,children:[T.jsx("h1",{children:"Emoji Memory Game"}),T.jsxs("div",{className:Kn.scoreContainer,children:[T.jsxs("p",{children:["Moves: ",f]}),T.jsxs("p",{children:["Score: ",w]})]}),T.jsxs("div",{children:["Time: ",d," sec"]}),y?T.jsxs("div",{className:Kn.gameEndContainer,children:[T.jsx("h2",{children:"You won the game!"}),T.jsxs("p",{children:["Time taken: ",d," sec"]}),T.jsx("button",{onClick:A,children:"Play again"})]}):T.jsx("div",{className:Kn.cardsContainer,children:n.map(M=>T.jsx("div",{className:`${Kn.card} ${M.isFlipped?Kn.flipped:""} ${M.isMatched?Kn.matched:""}`,onClick:()=>k(M),children:T.jsxs("div",{className:Kn.cardInner,children:[T.jsx("div",{className:Kn.cardFront,children:M.isFlipped||M.isMatched?M.emoji:""}),T.jsx("div",{className:Kn.cardBack,children:"❓"})]})},M.id))})]})},PA="_gameContainer_4h4ly_1",RA="_gameOverContainer_4h4ly_17",TA="_quizContainer_4h4ly_55",_A="_optionsContainer_4h4ly_75",jA="_optionBtn_4h4ly_91",DA="_correct_4h4ly_123",IA="_incorrect_4h4ly_131",ki={gameContainer:PA,gameOverContainer:RA,quizContainer:TA,optionsContainer:_A,optionBtn:jA,correct:DA,incorrect:IA},os=[{question:"What is the capital of France?",options:["Berlin","Paris","Madrid","Rome"],correctAnswer:"Paris"},{question:"What is the largest planet in our solar system?",options:["Mars","Earth","Jupiter","Saturn"],correctAnswer:"Jupiter"},{question:"Who painted the Mona Lisa?",options:["Vincent van Gogh","Pablo Picasso","Leonardo da Vinci","Michelangelo"],correctAnswer:"Leonardo da Vinci"},{question:"What is the chemical symbol for water?",options:["H2O","CO2","NaCl","O2"],correctAnswer:"H2O"},{question:"Which country is known as the Land of the Rising Sun?",options:["China","South Korea","Japan","Vietnam"],correctAnswer:"Japan"}],NA=()=>{var M;const[n,e]=I.useState(0),[i,o]=I.useState(""),[a,u]=I.useState(0),[f,h]=I.useState(10),[d,p]=I.useState(!1),[v,E]=I.useState(!1),[y,x]=I.useState(!1);I.useEffect(()=>{let P;return d&&(f===0&&_(),P=setInterval(()=>{h(D=>D-1)},1e3)),()=>clearInterval(P)},[d,f]),I.useEffect(()=>{n>=os.length&&(p(!1),E(!0))},[n]);const w=P=>{v||(o(P),p(!1),P===os[n].correctAnswer?(u(D=>D+1),x(!0)):x(!1),setTimeout(()=>{_()},1500))},_=()=>{v||(h(10),o(""),x(!1),n<os.length&&(e(n+1),p(!0)))},k=()=>{e(0),o(""),u(0),h(10),p(!0),E(!1)},A=os[n];return T.jsxs("div",{className:ki.gameContainer,children:[T.jsx("h1",{children:"Quiz Battle"}),v?T.jsxs("div",{className:ki.gameOverContainer,children:[T.jsx("h2",{children:"Game Over"}),T.jsxs("p",{children:["Your Score: ",a," / ",os.length]}),T.jsx("button",{onClick:k,children:"Play Again"})]}):T.jsxs("div",{className:ki.quizContainer,children:[T.jsx("h2",{children:A==null?void 0:A.question}),T.jsx("div",{className:ki.optionsContainer,children:(M=A==null?void 0:A.options)==null?void 0:M.map(P=>T.jsx("button",{className:`${ki.optionBtn} ${i===P?y?ki.correct:ki.incorrect:""} `,onClick:()=>w(P),disabled:i!=="",children:P},P))}),T.jsxs("p",{children:["Time left: ",f," sec"]}),T.jsxs("p",{children:["Score: ",a," / ",os.length]})]})]})},LA="_gameContainer_1nc3u_1",BA="_gameOverContainer_1nc3u_21",FA="_mazeGrid_1nc3u_61",OA="_mazeRow_1nc3u_79",qA="_mazeCell_1nc3u_87",zA="_wall_1nc3u_109",UA="_exit_1nc3u_119",HA="_exitImg_1nc3u_125",GA="_player_1nc3u_131",VA="_playerImg_1nc3u_139",WA="_cobweb_1nc3u_151",$A="_candle_1nc3u_161",Cn={gameContainer:LA,gameOverContainer:BA,mazeGrid:FA,mazeRow:OA,mazeCell:qA,wall:zA,exit:UA,exitImg:HA,player:GA,playerImg:VA,cobweb:WA,candle:$A},QA="modulepreload",KA=function(n){return"/"+n},vm={},YA=function(e,i,o){let a=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=Promise.allSettled(i.map(d=>{if(d=KA(d),d in vm)return;vm[d]=!0;const p=d.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const E=document.createElement("link");if(E.rel=p?"stylesheet":QA,p||(E.as="script"),E.crossOrigin="",E.href=d,h&&E.setAttribute("nonce",h),document.head.appendChild(E),p)return new Promise((y,x)=>{E.addEventListener("load",y),E.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return a.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return e().catch(u)})};function Nl(){return Nl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},Nl.apply(null,arguments)}function XA(n,e){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(e.indexOf(o)>=0)continue;i[o]=n[o]}return i}function ZA(n){I.useEffect(n,[])}var JA=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function wm(n,e){var i=e===void 0?{}:e,o=i.volume,a=o===void 0?1:o,u=i.playbackRate,f=u===void 0?1:u,h=i.soundEnabled,d=h===void 0?!0:h,p=i.interrupt,v=p===void 0?!1:p,E=i.onload,y=XA(i,JA),x=pr.useRef(null),w=pr.useRef(!1),_=pr.useState(null),k=_[0],A=_[1],M=pr.useState(null),P=M[0],D=M[1],F=function(){typeof E=="function"&&E.call(this),w.current&&A(this.duration()*1e3),D(this)};ZA(function(){return YA(()=>import("./howler-De5j6eyN.js").then(U=>U.h),[]).then(function(U){if(!w.current){var ee;x.current=(ee=U.Howl)!==null&&ee!==void 0?ee:U.default.Howl,w.current=!0,new x.current(Nl({src:Array.isArray(n)?n:[n],volume:a,rate:f,onload:F},y))}}),function(){w.current=!1}}),pr.useEffect(function(){x.current&&P&&D(new x.current(Nl({src:Array.isArray(n)?n:[n],volume:a,onload:F},y)))},[JSON.stringify(n)]),pr.useEffect(function(){P&&(P.volume(a),P.rate(f))},[a,f]);var b=pr.useCallback(function(U){typeof U>"u"&&(U={}),!(!P||!d&&!U.forceSoundEnabled)&&(v&&P.stop(),U.playbackRate&&P.rate(U.playbackRate),P.play(U.id))},[P,d,v]),R=pr.useCallback(function(U){P&&P.stop(U)},[P]),B=pr.useCallback(function(U){P&&P.pause(U)},[P]),H=[b,{sound:P,stop:R,pause:B,duration:k}];return H}const e2="/assets/ambient-DMfTxv7Z.mp3",t2="/assets/ghost-teyCJszR.mp3",n2="/assets/cobweb--zHplxOy.png",r2="/assets/candle-GwIDDoWv.png",i2="/assets/exist-DE-fN4H5.png",s2="/assets/ghost-hIddyZAm.png",xm=["##########","#   ##   #","# #    # #","# # # #  #","# #   #  #","# ### ## #","# S    #E#","##########"],o2=()=>{const[n,e]=I.useState({row:6,col:1}),[i,o]=I.useState([]),[a,u]=I.useState(!1),[f,h]=I.useState(0),[d,p]=I.useState(1),[v,E]=I.useState(0),[y,{stop:x}]=wm(e2,{loop:!0}),[w]=wm(t2),_=()=>{const M=["##########","#  ####  #","#  #  #  #","# #   #  #","#    #   #","## ####  #","#S     #E#","##########"];if(d===2){o(M.map(D=>D.split(""))),e({row:6,col:1});return}const P=["############","#S       #  #","# #### # ## #","# #    #   # #","# #### # ### #","# #        # #","# ####### ## #","#   #     #E#","############"];if(d===3){o(P.map(D=>D.split(""))),e({row:1,col:1});return}};I.useEffect(()=>(y(),()=>x()),[]),I.useEffect(()=>{o(xm.map(M=>M.split("")))},[]),I.useEffect(()=>{const M=P=>{if(a)return;let D=n.row,F=n.col;switch(P.key){case"ArrowUp":D--;break;case"ArrowDown":D++;break;case"ArrowLeft":F--;break;case"ArrowRight":F++;break;default:return}D>=0&&D<i.length&&F>=0&&F<i[0].length&&i[D][F]!=="#"&&(e({row:D,col:F}),h(b=>b+1),w())};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[n,i,a]),I.useEffect(()=>{var M;((M=i[n.row])==null?void 0:M[n.col])==="E"&&(d<3?(E(0),p(P=>P+1),_()):u(!0))},[n,i,d]);const k=()=>i.map((M,P)=>T.jsx("div",{className:Cn.mazeRow,children:M.map((D,F)=>{let b="",R="";return P===n.row&&F===n.col?(b=Cn.player,R=T.jsx("img",{src:s2,alt:"player",className:Cn.playerImg})):D==="#"?b=Cn.wall:D==="E"?(b=Cn.exit,R=T.jsx("img",{src:i2,alt:"exit",className:Cn.exitImg})):(Math.random()<.1&&(R=T.jsx("img",{src:n2,alt:"cobweb",className:Cn.cobweb})),Math.random()<.1&&(R=T.jsx("img",{src:r2,alt:"candle",className:Cn.candle}))),T.jsx("div",{className:`${Cn.mazeCell} ${b}`,style:{transform:"perspective(500px) rotateX(30deg)"},children:R},F)})},P)),A=()=>{e({row:6,col:1}),u(!1),h(0),p(1),E(0),o(xm.map(M=>M.split(""))),y()};return T.jsxs("div",{className:Cn.gameContainer,children:[T.jsx("h1",{children:"Haunted Maze"}),a?T.jsxs("div",{className:Cn.gameOverContainer,children:[T.jsx("h2",{children:"You escaped the haunted mansion!"}),T.jsxs("p",{children:["Total moves: ",f]}),T.jsx("button",{onClick:A,children:"Play Again"})]}):T.jsxs(T.Fragment,{children:[T.jsxs("p",{children:["Level: ",d]}),T.jsxs("p",{children:["Moves: ",f]}),T.jsx("div",{className:Cn.mazeGrid,children:k()})]})]})},a2="_intro_17rkr_67",l2="_start_17rkr_85",u2="_progress_17rkr_125",c2="_active_17rkr_157",d2="_levels_17rkr_167",Qr={intro:a2,start:l2,progress:u2,active:c2,levels:d2},ev="/assets/high-CeQ3nJzL.mp3",tv="/assets/low-B-NS1GAi.mp3",f2="/assets/med-BkiTPuy3.mp3",de={ui:{progressElm:null,introElm:null,levelsElm:null,levelMsg:null,startBtn:null,canvas:null,canvasWrapper:null,size:function(n){n&&(n.width=window.innerWidth,n.height=window.innerHeight)},loadSounds:function(){const n={high:new Audio(ev),med:new Audio(f2),low:new Audio(tv)};return Object.values(n).forEach(e=>{e.volume=.25}),n},ctx:null,mouse:{x:void 0,y:void 0}},util:{fadeIn:function(n,e){if(n)if(n.style.opacity=0,n.style.filter="alpha(opacity=0)",n.style.display="inline-block",n.style.visibility="visible",e){let i=0;const o=setInterval(function(){i+=50/e,i>=1&&(clearInterval(o),i=1),n.style.opacity=i,n.style.filter=`alpha(opacity=${i*100})`},50)}else n.style.opacity=1,n.style.filter="alpha(opacity=1)"},fadeOut:function(n,e){if(n)if(e){let i=1;const o=setInterval(function(){i-=50/e,i<=0&&(clearInterval(o),i=0,n.style.display="none",n.style.visibility="hidden"),n.style.opacity=i,n.style.filter=`alpha(opacity=${i*100})`},50)}else n.style.opacity=0,n.style.filter="alpha(opacity=0)",n.style.display="none",n.style.visibility="hidden"},randomColorGen:function(){let n=Math.floor(Math.random()*255)+1,e=Math.floor(Math.random()*255)+1,i=Math.floor(Math.random()*255)+1;return`${n}, ${e}, ${i}`}},bubblesQueue:[],bubble:function(n,e,i,o,a,u){this.x=n,this.y=e,this.dx=i,this.dy=o,this.origRadius=a,this.radius=a,this.minRadius=a,this.colors=u,this.draw=function(){de.ui.ctx.beginPath(),de.ui.ctx.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),de.ui.ctx.fillStyle=u,de.ui.ctx.fill()},this.update=function(){(this.x+this.radius>window.innerWidth||this.x-this.radius<0)&&(this.dx=-this.dx),(this.y+this.radius>window.innerHeight||this.y-this.radius<0)&&(this.dy=-this.dy),this.x+=this.dx,this.y+=this.dy,de.ui.mouse.x-this.x<this.radius&&de.ui.mouse.x-this.x>-this.radius&&de.ui.mouse.y-this.y<this.radius&&de.ui.mouse.y-this.y>-this.radius&&this.radius!==0?(this.radius+=de.gamePlay.bubbleExpansionRate,this.radius>de.gamePlay.maxExpansion&&this.destroy(this.origRadius)):this.radius>this.minRadius&&this.radius!==0&&(this.radius-=de.gamePlay.bubbleExpansionRate,de.ui.mouse.x=0,de.ui.mouse.y=0),this.draw()},this.destroy=function(f){de.gamePlay.playSound(f),this.radius=0,this.x=-10,this.y=-10,this.dx=0,this.dy=0,de.gamePlay.bubblesPoppedPerLevel+=1,de.gamePlay.bubblesPoppedTotal+=1,de.gamePlay.checkProgress()}},bubbleMultiplier:function(){this.bubblesQueue=[];let n=this.gamePlay.bubbleQnty-de.gamePlay.bubblesPoppedPerLevel;for(let e=0;e<n;e++){let i=Math.floor(Math.random()*de.gamePlay.maxRadius)+25,o=Math.random()*(window.innerWidth-i*2)+i,a=Math.random()*(window.innerHeight-i*2)+i,u=(Math.random()-.5)*de.gamePlay.speed,f=(Math.random()-.5)*de.gamePlay.speed,h=Math.random()*(1-.15)+.15,d=`rgba(${de.util.randomColorGen()} , ${h})`;const p=[o,a,u,f,i,d];this.bubblesQueue.push(new de.bubble(...p))}},animate:function(){requestAnimationFrame(de.animate),de.ui.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),de.bubblesQueue.forEach(function(n,e){de.bubblesQueue[e].update()})},gamePlay:{level:0,bubbleQnty:50,bubblesPoppedPerLevel:0,bubblesPoppedTotal:0,bubbleExpansionRate:5,speed:8,maxRadius:45,maxExpansion:150,setMouseCoords:function(n){de.ui.mouse.x=n.clientX,de.ui.mouse.y=n.clientY},start:function(){de.gamePlay.level=1,de.ui.canvasWrapper.addEventListener("mousemove",function(n){n.preventDefault(),n.stopPropagation(),de.gamePlay.setMouseCoords(n)},!1),de.ui.canvasWrapper.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),de.gamePlay.setMouseCoords(n)},!1),de.gamePlay.speed=3,de.gamePlay.bubbleQnty=8,de.ui.canvas.classList.add(Qr.active),de.util.fadeOut(de.ui.introElm,200),de.bubbleMultiplier(),de.gamePlay.stopwatch.startTimer()},stopwatch:{startTime:null,endTime:null,duration:0,startTimer:function(){this.startTime=new Date},stopTimer:function(){this.endTime=new Date},resetTimer:function(){this.startTime=null,this.endTime=null,this.duration=0},showDuration:function(){let n=(this.endTime.getTime()-this.startTime.getTime())/1e3;const e=parseInt(n,10);let i=Math.floor(e/60),o=e-i*60,a;if(i>0){let u=o<10?"0":"";a=`${i}:${u}${o}!`}else a=`${o} seconds!`;return a}},checkProgress:function(){this.bubblesPoppedPerLevel===this.bubbleQnty&&(de.gamePlay.stopwatch.stopTimer(),de.gamePlay.level+=1,de.ui.canvas.classList.remove(Qr.active),this.showHideLevelMsg())},showHideLevelMsg:function(){de.ui.progressElm.innerHTML=`${this.bubblesPoppedPerLevel} bubbles popped in ${de.gamePlay.stopwatch.showDuration()}`,this.bubblesPoppedPerLevel=0,de.gamePlay.stopwatch.resetTimer();let n=`color:rgba(${de.util.randomColorGen()} , 1)`;de.ui.levelMsg.setAttribute("style",n),de.ui.levelMsg.innerHTML=`Level ${de.gamePlay.level}`;const e=setTimeout(()=>{clearTimeout(e),de.util.fadeIn(de.ui.progressElm,800);const o=setTimeout(()=>{clearTimeout(o),de.util.fadeOut(de.ui.progressElm,600)},4800)},200),i=setTimeout(()=>{clearTimeout(i),de.util.fadeIn(de.ui.levelsElm,800);const o=setTimeout(()=>{clearTimeout(o),de.util.fadeOut(de.ui.levelsElm,600),this.nextLevel()},3e3)},2e3)},nextLevel:function(){de.gamePlay.speed+=.5,de.gamePlay.bubbleQnty+=5,de.gamePlay.maxRadius+15<de.gamePlay.maxExpansion&&(de.gamePlay.maxExpansion-=5);const n=setTimeout(()=>{clearTimeout(n),de.bubbleMultiplier(),de.ui.canvas.classList.add(Qr.active),de.gamePlay.stopwatch.startTimer()},800)},playSound:function(n){this.sound=null,n<=34?this.sound=de.ui.loadSounds().high:n>34&&n<=42?this.sound=de.ui.loadSounds().med:this.sound=de.ui.loadSounds().low,this.sound.play()}},bind:function(n,e,i){n.addEventListener("click",this.gamePlay.start),window.addEventListener("resize",function(){de.ui.size(i),(de.gamePlay.bubblesPoppedPerLevel!==0||de.gamePlay.level===0)&&de.bubbleMultiplier()})},init:function(n,e,i,o){de.ui.progressElm=e,de.ui.introElm=i,de.ui.levelsElm=o,de.ui.levelMsg=o.firstElementChild,de.ui.canvasWrapper=n.parentNode,de.ui.startBtn=i.querySelector(`.${Qr.start}`),de.ui.canvas=n,de.ui.ctx=n.getContext("2d"),this.ui.size(n),this.ui.loadSounds(),this.bubbleMultiplier(),this.animate(),this.bind(de.ui.startBtn,de.ui.canvasWrapper,de.ui.canvas)}},h2=()=>{const n=I.useRef(null),e=I.useRef(null),i=I.useRef(null),o=I.useRef(null);return I.useEffect(()=>{de.init(n.current,e.current,i.current,o.current)},[]),T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:Qr.intro,ref:i,children:[T.jsx("h1",{className:"bubble-heading",children:"Bubble Pop!"}),T.jsx("button",{className:Qr.start,children:"Start"})]}),T.jsx("div",{className:`${Qr.progress}`,ref:e}),T.jsx("div",{className:Qr.levels,ref:o,children:T.jsx("h1",{})}),T.jsx("div",{id:"canvas-wrapper",children:T.jsx("canvas",{id:"canvas",ref:n,width:"800",height:"400",children:"Sorry, your browser doesn't support Canvas."})})]})},p2="_gameContainer_1x8m0_1",m2="_board_1x8m0_17",g2="_emoji_1x8m0_37",y2="_sparkle_1x8m0_73",v2="_button_1x8m0_99",Mo={gameContainer:p2,board:m2,emoji:g2,sparkle:y2,button:v2},Ll=["😀","😂","😍","😎","🤯","😴","😈","👽","👻","💖"],wl=8,xl=8,Sm=()=>{const n=[];for(let e=0;e<wl;e++){n[e]=[];for(let i=0;i<xl;i++)n[e][i]={type:Ll[Math.floor(Math.random()*Ll.length)],sparkle:!1}}return n},w2=()=>{const[n,e]=I.useState(Sm()),[i,o]=I.useState(null),[a,u]=I.useState(0),f=I.useRef(null),h=I.useRef(null);I.useEffect(()=>{y()},[n]);const d=(A,M,P)=>{o({row:M,col:P}),h.current={row:M,col:P},A.dataTransfer.setData("emoji",JSON.stringify({row:M,col:P}))},p=(A,M,P)=>{A.preventDefault();const D=JSON.parse(A.dataTransfer.getData("emoji"));E(D.row,D.col,M,P),o(null),h.current=null},v=A=>{A.preventDefault()},E=(A,M,P,D)=>{if(A===P&&M===D)return;const F=[...n],b=F[A][M];F[A][M]=F[P][D],F[P][D]=b,e(F)},y=()=>{let A=[...n],M=!1;for(let P=0;P<wl;P++)for(let D=0;D<xl;D++){const F=x(P,D,A),b=w(P,D,A);if(F.length>=3){for(const R of F)A[R.row][R.col].type=null,A[R.row][R.col].sparkle=!0;M=!0}if(b.length>=3){for(const R of b)A[R.row][R.col].type=null,A[R.row][R.col].sparkle=!0;M=!0}}if(M){u(D=>D+1);const P=_(A);e(P)}},x=(A,M,P)=>{var b,R,B,H;const D=(R=(b=P[A])==null?void 0:b[M])==null?void 0:R.type;if(!D)return[];const F=[];for(let U=M;U<xl&&((H=(B=P[A])==null?void 0:B[U])==null?void 0:H.type)===D;U++)F.push({row:A,col:U});return F},w=(A,M,P)=>{var b,R,B,H;const D=(R=(b=P[A])==null?void 0:b[M])==null?void 0:R.type;if(!D)return[];const F=[];for(let U=A;U<wl&&((H=(B=P[U])==null?void 0:B[M])==null?void 0:H.type)===D;U++)F.push({row:U,col:M});return F},_=A=>{const M=[...A];for(let P=0;P<xl;P++)for(let D=wl-1;D>=0;D--)if(M[D][P].type===null){for(let F=D-1;F>=0;F--)if(M[F][P].type!==null){M[D][P]=M[F][P],M[F][P]={type:null,sparkle:!1};break}M[D][P].type===null&&(M[D][P]={type:Ll[Math.floor(Math.random()*Ll.length)],sparkle:!1})}return M},k=()=>{e(Sm()),u(0)};return T.jsxs("div",{className:Mo.gameContainer,children:[T.jsx("h1",{children:"Match 3 Game"}),T.jsxs("p",{children:["Score: ",a]}),T.jsx("div",{ref:f,className:Mo.board,children:n.map((A,M)=>A.map((P,D)=>T.jsx("div",{className:`${Mo.emoji} ${P.sparkle?Mo.sparkle:""} `,draggable:"true",onDragStart:F=>d(F,M,D),onDrop:F=>p(F,M,D),onDragOver:v,style:{opacity:P.type==null?.1:1},children:P.type},`${M}-${D}`)))}),T.jsx("button",{onClick:k,className:Mo.button,children:"Reset Game"})]})},x2="_container_v5au3_1",S2="_background_v5au3_13",A2="_bird_v5au3_35",E2="_pipe_sprite_v5au3_47",k2="_message_v5au3_63",C2="_messageStyle_v5au3_83",b2="_score_v5au3_95",M2="_score_val_v5au3_123",P2="_score_title_v5au3_131",bn={container:x2,background:S2,bird:A2,pipe_sprite:E2,message:k2,messageStyle:C2,score:b2,score_val:M2,score_title:P2},Vc="/assets/Bird-DY065oeD.png",R2="/assets/Bird-2-Bt1XxEq5.png",T2="/assets/background-img-BvgLkAsL.png",_2="/assets/point-BdO02iYw.mp3",j2="/assets/die-zmenPdkH.mp3",D2=()=>{const i=I.useRef(null),o=I.useRef(null),a=I.useRef(null),u=I.useRef(null),f=I.useRef(null),[h,d]=I.useState("Start"),[p,v]=I.useState({top:"40vh",left:"30vw"}),[E,y]=I.useState(0),[x,w]=I.useState(0),[_,k]=I.useState([]),[A,M]=I.useState(0),P=35;I.useEffect(()=>{i.current&&(i.current.src=Vc);const F=b=>{b.key==="Enter"&&h!=="Play"&&(k([]),i.current&&(i.current.style.display="block"),v({top:"40vh",left:"30vw"}),d("Play"),u.current&&(u.current.innerHTML="",u.current.classList.remove(bn.messageStyle)),f.current&&(f.current.innerHTML="Score : "),a.current&&(a.current.innerHTML="0"),y(0),D())};return document.addEventListener("keydown",F),()=>{document.removeEventListener("keydown",F)}},[h]);const D=()=>{const F=()=>{h==="Play"&&(k(B=>B.map((H,U)=>{let ee=H.ref.getBoundingClientRect(),ue=i.current.getBoundingClientRect();return ee.right<=0?null:ue.left<ee.left+ee.width&&ue.left+ue.width>ee.left&&ue.top<ee.top+ee.height&&ue.top+ue.height>ee.top?(d("End"),u.current.innerHTML="Game Over".fontcolor("red")+"<br>Press Enter To Restart",u.current.classList.add(bn.messageStyle),i.current.style.display="none",new Audio(j2).play(),H):(ee.right<ue.left&&ee.right+3>=ue.left&&H.increase_score==="1"&&(y(ye=>ye+1),new Audio(_2).play(),H.increase_score="0"),H.ref.style.left=ee.left-3+"px",H)}).filter(H=>H!==null)),requestAnimationFrame(F))};requestAnimationFrame(F);const b=()=>{if(h!=="Play")return;const B=ee=>{(ee.key==="ArrowUp"||ee.key===" ")&&(i.current.src=R2,w(-7.6))},H=ee=>{(ee.key==="ArrowUp"||ee.key===" ")&&(i.current.src=Vc)};document.addEventListener("keydown",B),document.addEventListener("keyup",H),w(ee=>ee+.5);let U=i.current.getBoundingClientRect();if(U.top<=0||U.bottom>=o.current.getBoundingClientRect().bottom){d("End"),u.current.style.left="28vw",window.location.reload(),u.current.classList.remove(bn.messageStyle);return}return v(ee=>({...ee,top:U.top+x+"px"})),requestAnimationFrame(b),()=>{document.removeEventListener("keydown",B),document.removeEventListener("keyup",H)}};requestAnimationFrame(b);const R=()=>{if(h==="Play"){if(A>115){M(0);let B=Math.floor(Math.random()*43)+8;const H=document.createElement("div");H.className=bn.pipe_sprite,H.style.top=B-70+"vh",H.style.left="100vw";const U=document.createElement("div");U.className=bn.pipe_sprite,U.style.top=B+P+"vh",U.style.left="100vw";let ee=[..._];ee.push({ref:H,increase_score:"0"}),ee.push({ref:U,increase_score:"1"}),k(ee)}M(B=>B+1),requestAnimationFrame(R)}};requestAnimationFrame(R)};return T.jsxs("div",{className:bn.container,children:[T.jsx("div",{className:bn.background,style:{backgroundImage:`url(${T2})`},ref:o}),T.jsx("img",{src:Vc,alt:"bird-img",className:bn.bird,id:"bird-1",style:p,ref:i}),T.jsxs("div",{className:bn.message,ref:u,children:["Enter To Start Game ",T.jsxs("p",{children:[T.jsx("span",{style:{color:"red"},children:"↑"})," ArrowUp to Control"]})]}),T.jsxs("div",{className:bn.score,children:[T.jsx("span",{className:bn.score_title,ref:f}),T.jsx("span",{className:bn.score_val,ref:a,children:E})]}),_.map((F,b)=>T.jsx("div",{ref:R=>F.ref=R,className:F.ref.className,style:F.ref.style},b))]})},I2="_game_13s3d_1",N2="_gameBoard_13s3d_29",L2="_square_13s3d_43",B2="_gameInfo_13s3d_77",cl={game:I2,gameBoard:N2,square:L2,gameInfo:B2},F2=()=>{const[n,e]=I.useState(Array(9).fill(null)),[i,o]=I.useState(!0),[a,u]=I.useState(null),f=I.useRef(new Audio(ev)),h=I.useRef(new Audio(tv));I.useEffect(()=>{const x=(w=>{const _=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let k=0;k<_.length;k++){const[A,M,P]=_[k];if(w[A]&&w[A]===w[M]&&w[A]===w[P])return w[A]}return null})(n);u(x)},[n]);const d=y=>{if(a||n[y])return;const x=[...n];x[y]=i?"X":"O",e(x),i?f.current.play():h.current.play(),o(!i)},p=y=>T.jsx("button",{className:cl.square,onClick:()=>d(y),children:n[y]}),v=()=>{e(Array(9).fill(null)),o(!0),u(null)};let E;return a?E=`Winner: ${a}`:n.every(y=>y!==null)?E="It's a draw!":E=`Next player: ${i?"X":"O"}`,T.jsxs("div",{className:cl.game,children:[T.jsx("h1",{className:"heading-tic",children:"Tic Tok Game"}),T.jsx("div",{className:cl.gameBoard,children:Array(9).fill().map((y,x)=>p(x))}),T.jsxs("div",{className:cl.gameInfo,children:[T.jsx("div",{children:E}),a||n.every(y=>y!==null)?T.jsx("button",{onClick:v,children:"Play Again"}):null]})]})},O2="_container_6zofr_1",q2="_fishingCanvas_6zofr_19",Am={container:O2,fishingCanvas:q2},z2=()=>{const n=I.useRef(null),[e,i]=I.useState({x:0,y:0}),[o,a]=I.useState(!1),[u,f]=I.useState(!1),[h,d]=I.useState({x:0,y:0});return I.useEffect(()=>{const p=n.current,v=p.getContext("2d"),E=p.width,y=p.height;let x=50;const w={x:E/2,y:30},_=F=>{const b=F.clientX-p.offsetLeft,R=F.clientY-p.offsetTop;i({x:w.x,y:w.y+x}),a(!0),d({x:b,y:R})},k=F=>{if(o&&u){const b=F.clientX-p.offsetLeft,R=F.clientY-p.offsetTop;if(Math.sqrt(Math.pow(b-h.x,2)+Math.pow(R-h.y,2))>x){const H=Math.atan2(R-h.y,b-h.x);i({x:h.x+x*Math.cos(H),y:h.y+x*Math.sin(H)})}else i({x:b,y:R})}},A=()=>{a(!1),f(!1)},M=F=>{o&&f(!0)},P=()=>{v.clearRect(0,0,E,y),v.beginPath(),v.moveTo(w.x,w.y),v.lineTo(e.x,e.y),v.strokeStyle="black",v.lineWidth=2,v.stroke(),v.beginPath(),v.arc(w.x,w.y,15,0,2*Math.PI),v.fillStyle="blue",v.fill(),v.beginPath(),v.moveTo(e.x,e.y),v.lineTo(e.x-10,e.y+10),v.lineTo(e.x+10,e.y+10),v.closePath(),v.fillStyle="red",v.fill()};p.addEventListener("mousedown",_),p.addEventListener("mousemove",k),p.addEventListener("mouseup",A),p.addEventListener("dragstart",M);const D=()=>{requestAnimationFrame(D),P()};return D(),()=>{p.removeEventListener("mousedown",_),p.removeEventListener("mousemove",k),p.removeEventListener("mouseup",A),p.removeEventListener("dragstart",M)}},[e,o,u,h]),T.jsx("div",{className:Am.container,children:T.jsx("canvas",{id:"fishing-canvas",ref:n,className:Am.fishingCanvas,width:800,height:600,draggable:"true"})})},U2="_container_npc1z_1",H2="_gameCanvas_npc1z_21",G2="_score_npc1z_29",Wc={container:U2,gameCanvas:H2,score:G2},V2=()=>{const n=I.useRef(null),[e,i]=I.useState({x:0,y:0,size:20}),[o,a]=I.useState([]),[u,f]=I.useState(!1),[h,d]=I.useState(0),[p,v]=I.useState(0);return I.useEffect(()=>{const E=n.current,y=E.getContext("2d"),x=E.width,w=E.height,_=2;i({x:x/2,y:w-50,size:20});const k=b=>{if(!u)switch(b.key){case"ArrowLeft":i(R=>({...R,x:Math.max(0,R.x-20)}));break;case"ArrowRight":i(R=>({...R,x:Math.min(x,R.x+20)}));break}},A=()=>{if(u)return;const b={x:Math.random()*(x-20)+10,y:0,size:20,id:Date.now()};a(R=>[...R,b]),v(Date.now())},M=(b,R)=>{const B=Math.abs(b.x-R.x),H=Math.abs(b.y-R.y);return B<=b.size&&H<=b.size},P=()=>{y.clearRect(0,0,x,w),y.beginPath(),y.arc(e.x,e.y,e.size,0,2*Math.PI),y.fillStyle="blue",y.fill(),o.forEach(b=>{y.beginPath(),y.fillRect(b.x-b.size/2,b.y-b.size/2,b.size,b.size),y.fillStyle="red",y.fill()}),u&&(y.fillStyle="black",y.font="30px Arial",y.textAlign="center",y.fillText("Game Over! Score: "+h,x/2,w/2))},D=()=>{u||(a(b=>b.map(R=>{const B=R.y+_;return{...R,y:B}})),a(b=>b.filter(R=>R.y<w)),o.forEach(b=>{M(e,b)&&f(!0)}))},F=()=>{requestAnimationFrame(F),D(),P(),Date.now()-p>1e3&&A()};return document.addEventListener("keydown",k),F(),()=>{document.removeEventListener("keydown",k)}},[u,o,e,p,h]),I.useEffect(()=>{let E;return u?clearInterval(E):E=setInterval(()=>{d(y=>y+1)},100),()=>{clearInterval(E)}},[u]),T.jsxs("div",{className:Wc.container,children:[T.jsx("canvas",{ref:n,className:Wc.gameCanvas,width:800,height:600}),T.jsxs("div",{className:Wc.score,children:["Score: ",h]})]})},W2="_gameContainer_y79o2_1",$2="_code_y79o2_19",Q2="_input_y79o2_33",K2="_gameOverContainer_y79o2_45",Y2="_button_y79o2_79",Po={gameContainer:W2,code:$2,input:Q2,gameOverContainer:K2,button:Y2},$c=()=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e="";for(let i=0;i<10;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},X2=()=>{const[n,e]=I.useState($c()),[i,o]=I.useState(""),[a,u]=I.useState(null),[f,h]=I.useState(null),[d,p]=I.useState(0),[v,E]=I.useState(!1),y=I.useRef(null);I.useEffect(()=>{v?y.current.disabled=!0:y.current.disabled=!1},[v]);const x=k=>{const A=k.target.value;o(A),a||u(performance.now()),A===n&&w()},w=()=>{if(a){const A=(performance.now()-a)/1e3,M=Math.round(n.length/5/A*60);h(M),p(P=>P+1),e($c()),o(""),u(null)}},_=()=>{E(!1),e($c()),o(""),h(null),p(0),u(null)};return I.useEffect(()=>{d>=20&&E(!0)},[d]),T.jsxs("div",{className:Po.gameContainer,children:[T.jsx("h1",{children:"Space Repair Typing Challenge"}),T.jsxs("p",{children:["Score: ",d]}),T.jsxs("p",{children:["Type this code: ",T.jsx("span",{className:Po.code,children:n})]}),T.jsx("input",{ref:y,type:"text",className:Po.input,value:i,onChange:x,placeholder:"Type here to repair..."}),f!==null&&T.jsxs("p",{children:["Typing Speed: ",f," words/min"]}),v?T.jsxs("div",{className:Po.gameOverContainer,children:[T.jsx("h2",{children:"Mission Success!"}),T.jsx("p",{children:"Time to go back to base!"}),T.jsx("button",{onClick:_,className:Po.button,children:"Restart Mission"})]}):null]})},Z2="_gameContainer_1ftq2_3",J2="_pyramid_1ftq2_17",eE="_pyramidRow_1ftq2_29",tE="_pyramidCell_1ftq2_37",nE="_card_1ftq2_57",rE="_deckContainer_1ftq2_83",iE="_discardContainer_1ftq2_97",Ci={gameContainer:Z2,pyramid:J2,pyramidRow:eE,pyramidCell:tE,card:nE,deckContainer:rE,discardContainer:iE};function sE(){const[n,e]=I.useState(()=>{const E=["H","D","C","S"],y=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],x=[];for(const w of E)for(const _ of y)x.push({id:`${w}-${_}`,rank:_,suit:w});for(let w=x.length-1;w>0;w--){const _=Math.floor(Math.random()*(w+1));[x[w],x[_]]=[x[_],x[w]]}return x}),[i,o]=I.useState(()=>{const E=[[{card:n[0],location:"pyramid",row:0,col:0}],[{card:n[1],location:"pyramid",row:1,col:0},{card:n[2],location:"pyramid",row:1,col:1}],[{card:n[3],location:"pyramid",row:2,col:0},{card:n[4],location:"pyramid",row:2,col:1},{card:n[5],location:"pyramid",row:2,col:2}]],y=[...n].slice(E.flat().length);return e(y),E}),[a,u]=I.useState([]),f=(E,y)=>{E.dataTransfer.setData("cardId",y.id)},h=E=>{E.preventDefault()},d=(E,y,x)=>{const w=E.dataTransfer.getData("cardId"),_=a.find(A=>A.id===w)||n.find(A=>A.id===w);if(!_)return;const k=i.map((A,M)=>A.map((P,D)=>M===y&&D===x?{...P,card:_,location:"pyramid"}:P));o(k),a.find(A=>A.id===w)?u(a.filter(A=>A.id!==w)):e(n.filter(A=>A.id!==w))},p=E=>{const y=E.dataTransfer.getData("cardId"),x=n.find(w=>w.id===y)||i.flat().find(w=>w.card.id===y);if(x)if(u([...a,x]),i.flat().find(w=>w.card.id===y)){const w=i.map(_=>_.map(k=>k.card.id===y?{...k,card:null}:k));o(w)}else e(n.filter(w=>w.id!==y))},v=E=>E?T.jsxs("div",{className:Ci.card,draggable:!0,onDragStart:y=>f(y,E),children:[E.rank," ",E.suit]},E.id):null;return T.jsxs("div",{className:Ci.gameContainer,children:[T.jsx("div",{className:Ci.pyramid,children:i.map((E,y)=>T.jsx("div",{className:Ci.pyramidRow,children:E.map((x,w)=>T.jsx("div",{className:Ci.pyramidCell,onDragOver:h,onDrop:_=>d(_,y,w),children:v(x.card)},w))},y))}),T.jsxs("div",{className:Ci.deckContainer,onDragOver:h,onDrop:p,children:[T.jsx("h3",{children:"Deck:"}),n.map(E=>v(E))]}),T.jsxs("div",{className:Ci.discardContainer,onDragOver:h,onDrop:p,children:[T.jsx("h3",{children:"Discard"}),a.map(E=>v(E))]})]})}const oE="_viewport_1cri2_1",aE={viewport:oE},lE=()=>{const n=I.useRef(null),[e,i]=I.useState(!1);let o=0,a=0,u=0,f=0,h={x:4,y:83,width:0,height:0,columns:15,rows:14,tilewidth:40,tileheight:40,rowheight:34,radius:20,tiles:[]},d={x:0,y:0,angle:0,tiletype:0,bubble:{x:0,y:0,angle:0,speed:1e3,dropspeed:900,tiletype:0,visible:!1},nextbubble:{x:0,y:0,tiletype:0}},p=[[[1,0],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1]],[[1,0],[1,1],[0,1],[-1,0],[0,-1],[1,-1]]],v=7,E={init:0,ready:1,shootbubble:2,removecluster:3,gameover:4},y=E.init,x=0,w=0,_=0,k=0,A=[],M=[],P=[],D,F=0,b=0,R=!1;const B=function(H,U,ee,ue){this.x=H,this.y=U,this.type=ee,this.removed=!1,this.shift=ue,this.velocity=0,this.alpha=1,this.processed=!1};return I.useEffect(()=>{const H=n.current,U=H.getContext("2d"),ee=V=>{F=0,b=V.length,R=!1;const ce=[];for(let te=0;te<V.length;te++){const ae=new Image;ae.onload=function(){F++,F===b&&(R=!0)},ae.src=V[te],ce[te]=ae}return ce},ue=()=>{P=ee(["https://github.com/NCristina/Bubble-shooter-game/blob/master/bubble-sprites3.png?raw=true"]),D=P[0],H.addEventListener("mousemove",Un),H.addEventListener("mousedown",Pn);for(let V=0;V<h.columns;V++){h.tiles[V]=[];for(let ce=0;ce<h.rows;ce++)h.tiles[V][ce]=new B(V,ce,0,0)}h.width=h.columns*h.tilewidth+h.tilewidth/2,h.height=(h.rows-1)*h.rowheight+h.tileheight,d.x=h.x+h.width/2-h.tilewidth/2,d.y=h.y+h.height,d.angle=90,d.tiletype=0,d.nextbubble.x=d.x-2*h.tilewidth,d.nextbubble.y=d.y,Ie(),ye(0)},ye=V=>{if(window.requestAnimationFrame(ye),e)ke(V),Ve(U);else{U.clearRect(0,0,H.width,H.height),st(U);const ce=F/b;U.strokeStyle="#56c204",U.lineWidth=3,U.strokeRect(18.5,.5+H.height-51,H.width-37,32),U.fillStyle="#56c204",U.fillRect(18.5,.5+H.height-51,ce*(H.width-37),32);const te="Loaded "+F+"/"+b+" images";U.fillStyle="#000000",U.font="16px Verdana",U.fillText(te,18,.5+H.height-63),R&&setTimeout(()=>{i(!0)},1e3)}},ke=(V,ce)=>{const te=(V-o)/1e3;o=V,ze(te),y===E.ready||(y===E.shootbubble?Ae(te):y===E.removecluster&&ve(te))},Ce=V=>{y=V,k=0},Ae=(V,ce)=>{if(d.bubble.x+=V*d.bubble.speed*Math.cos(yn(d.bubble.angle)),d.bubble.y+=V*d.bubble.speed*-1*Math.sin(yn(d.bubble.angle)),d.bubble.x<=h.x?(d.bubble.angle=180-d.bubble.angle,d.bubble.x=h.x):d.bubble.x+h.tilewidth>=h.x+h.width&&(d.bubble.angle=180-d.bubble.angle,d.bubble.x=h.x+h.width-h.tilewidth),d.bubble.y<=h.y){d.bubble.y=h.y,ne();return}for(let te=0;te<h.columns;te++)for(let ae=0;ae<h.rows;ae++){if(h.tiles[te][ae].type<0)continue;const be=zt(te,ae);if(rr(d.bubble.x+h.tilewidth/2,d.bubble.y+h.tileheight/2,h.radius,be.tilex+h.tilewidth/2,be.tiley+h.tileheight/2,h.radius)){ne();return}}},ve=(V,ce)=>{if(k===0){Ne();for(let te=0;te<A.length;te++)A[te].removed=!0;if(x+=A.length*100,M=Re(),M.length>0)for(let te=0;te<M.length;te++)for(let ae=0;ae<M[te].length;ae++){const pe=M[te][ae];pe.shift=0,pe.shift=1,pe.velocity=d.bubble.dropspeed,x+=100}k=1}if(k===1){let te=!1;for(let ae=0;ae<A.length;ae++){const pe=A[ae];pe.type>=0&&(te=!0,pe.alpha-=V*15,pe.alpha<0&&(pe.alpha=0),pe.alpha===0&&(pe.type=-1,pe.alpha=1))}for(let ae=0;ae<M.length;ae++)for(let pe=0;pe<M[ae].length;pe++){const be=M[ae][pe];be.type>=0&&(te=!0,be.velocity+=V*700,be.shift+=V*be.velocity,be.alpha-=V*8,be.alpha<0&&(be.alpha=0),(be.alpha===0||be.y*h.rowheight+be.shift>(h.rows-1)*h.rowheight+h.tileheight)&&(be.type=-1,be.shift=0,be.alpha=1))}if(!te){Ke();let ae=!1;for(let pe=0;pe<h.columns;pe++)for(let be=0;be<h.rows;be++)if(h.tiles[pe][be].type!==-1){ae=!0;break}Ce(ae?E.ready:E.gameover)}}},ne=V=>{const ce=d.bubble.x+h.tilewidth/2,te=d.bubble.y+h.tileheight/2;let ae=Ee(ce,te);ae.x<0&&(ae.x=0),ae.x>=h.columns&&(ae.x=h.columns-1),ae.y<0&&(ae.y=0),ae.y>=h.rows&&(ae.y=h.rows-1);let pe=!1;if(h.tiles[ae.x][ae.y].type!==-1){for(let be=ae.y+1;be<h.rows;be++)if(h.tiles[ae.x][be].type===-1){ae.y=be,pe=!0;break}}else pe=!0;if(pe){if(d.bubble.visible=!1,h.tiles[ae.x][ae.y].type=d.bubble.tiletype,fe())return;if(A=Q(ae.x,ae.y,!0,!0,!1),A.length>=3){Ce(E.removecluster);return}}w++,!(w>=5&&(se(),w=0,_=(_+1)%2,fe()))&&(Ke(),Ce(E.ready))},fe=()=>{for(let V=0;V<h.columns;V++)if(h.tiles[V][h.rows-1].type!==-1)return Ke(),Ce(E.gameover),!0;return!1},se=()=>{for(let V=0;V<h.columns;V++)for(let ce=0;ce<h.rows-1;ce++)h.tiles[V][h.rows-1-ce].type=h.tiles[V][h.rows-1-ce-1].type;for(let V=0;V<h.columns;V++)h.tiles[V][0].type=Oe()},q=()=>{const V=[],ce=[];for(let te=0;te<v;te++)ce.push(!1);for(let te=0;te<h.columns;te++)for(let ae=0;ae<h.rows;ae++){const pe=h.tiles[te][ae];pe.type>=0&&(ce[pe.type]||(ce[pe.type]=!0,V.push(pe.type)))}return V},Q=(V,ce,te,ae,pe)=>{ae&&Te();const be=h.tiles[V][ce],wt=[be];be.processed=!0;const Rn=[];for(;wt.length>0;){const on=wt.pop();if(on.type!==-1&&!(pe&&on.removed)&&(!te||on.type===be.type)){Rn.push(on);const Tn=Le(on);for(let ot=0;ot<Tn.length;ot++)Tn[ot].processed||(wt.push(Tn[ot]),Tn[ot].processed=!0)}}return Rn},Re=()=>{Te();const V=[];for(let ce=0;ce<h.columns;ce++)for(let te=0;te<h.rows;te++)if(!h.tiles[ce][te].processed){const pe=Q(ce,te,!1,!1,!0);if(pe.length<=0)continue;let be=!0;for(let wt=0;wt<pe.length;wt++)if(pe[wt].y===0){be=!1;break}be&&V.push(pe)}return V},Te=()=>{for(let V=0;V<h.columns;V++)for(let ce=0;ce<h.rows;ce++)h.tiles[V][ce].processed=!1},Ne=()=>{for(let V=0;V<h.columns;V++)for(let ce=0;ce<h.rows;ce++)h.tiles[V][ce].removed=!1},Le=V=>{const ce=(V.y+_)%2,te=[],ae=p[ce];for(let pe=0;pe<ae.length;pe++){const be=V.x+ae[pe][0],wt=V.y+ae[pe][1];be>=0&&be<h.columns&&wt>=0&&wt<h.rows&&te.push(h.tiles[be][wt])}return te},ze=V=>{a>.25&&(f=Math.round(u/a),a=0,u=0),a+=V,u++},Be=(V,ce,te,ae,pe)=>{const be=V.measureText(ce);V.fillText(ce,te+(pe-be.width)/2,ae)},Ve=(V,ce)=>{st(V);const te=h.tileheight/2;V.fillStyle="#dbdbdb",V.fillRect(h.x-4,h.y-4,h.width+8,h.height+4-te),Tt(V),V.fillStyle="#c4c4c4",V.fillRect(h.x-4,h.y-4+h.height+4-te,h.width+8,2*h.tileheight+3),V.fillStyle="#ffffff",V.font="18px Verdana";const ae=h.x+h.width-150,pe=h.y+h.height+h.tileheight-te-8;Be(V,"Score:",ae,pe,150),V.font="24px Verdana",Be(V,x,ae,pe+30,150),nr(V),y===E.gameover&&(V.fillStyle="rgba(0, 0, 0, 0.8)",V.fillRect(h.x-4,h.y-4,h.width+8,h.height+2*h.tileheight+8-te),V.fillStyle="#ffffff",V.font="24px Verdana",Be(V,"Game Over!",h.x,h.y+h.height/2+10,h.width),Be(V,"Click to start",h.x,h.y+h.height/2+40,h.width))},st=V=>{V.fillStyle="#e8eaec",V.fillRect(0,0,H.width,H.height),V.fillStyle="#01121c",V.fillRect(0,0,H.width,79),V.fillStyle="#ffffff",V.font="24px Verdana",V.fillText("Bubble Shooter",10,37),V.fillStyle="#ffffff",V.font="12px Verdana",V.fillText("Fps: "+f,13,57)},Tt=V=>{for(let ce=0;ce<h.rows;ce++)for(let te=0;te<h.columns;te++){const ae=h.tiles[te][ce],pe=ae.shift,be=zt(te,ce);ae.type>=0&&(V.save(),V.globalAlpha=ae.alpha,_e(V,be.tilex,be.tiley+pe,ae.type),V.restore())}},nr=V=>{const ce=d.x+h.tilewidth/2,te=d.y+h.tileheight/2;V.fillStyle="#7a7a7a",V.beginPath(),V.arc(ce,te,h.radius+12,0,2*Math.PI,!1),V.fill(),V.lineWidth=2,V.strokeStyle="#8c8c8c",V.stroke(),V.lineWidth=2,V.strokeStyle="#000033",V.beginPath(),V.moveTo(ce,te),V.lineTo(ce+1.5*h.tilewidth*Math.cos(yn(d.angle)),te-1.5*h.tileheight*Math.sin(yn(d.angle))),V.stroke(),_e(V,d.nextbubble.x,d.nextbubble.y,d.nextbubble.tiletype),d.bubble.visible&&_e(V,d.bubble.x,d.bubble.y,d.bubble.tiletype)},zt=(V,ce)=>{let te=h.x+V*h.tilewidth;(ce+_)%2&&(te+=h.tilewidth/2);const ae=h.y+ce*h.rowheight;return{tilex:te,tiley:ae}},Ee=(V,ce)=>{let te=Math.floor((ce-h.y)/h.rowheight),ae=0;return(te+_)%2&&(ae=h.tilewidth/2),{x:Math.floor((V-ae-h.x)/h.tilewidth),y:te}},_e=(V,ce,te,ae)=>{ae<0||ae>=v||V.drawImage(D,ae*40,0,40,40,ce,te,h.tilewidth,h.tileheight)},Ie=()=>{x=0,w=0,_=0,Ce(E.ready),We(),Ke(),Ke()},We=()=>{for(let V=0;V<h.rows;V++){let ce=Je(0,v-1),te=0;for(let ae=0;ae<h.columns;ae++){if(te>=2){let pe=Je(0,v-1);pe===ce&&(pe=(pe+1)%v),ce=pe,te=0}te++,V<h.rows/2?h.tiles[ae][V].type=ce:h.tiles[ae][V].type=-1}}},Ke=()=>{d.tiletype=d.nextbubble.tiletype,d.bubble.tiletype=d.nextbubble.tiletype,d.bubble.x=d.x,d.bubble.y=d.y,d.bubble.visible=!0;const V=Oe();d.nextbubble.tiletype=V},Oe=()=>{const V=q();let ce=0;return V.length>0&&(ce=V[Je(0,V.length-1)]),ce},Je=(V,ce)=>Math.floor(V+Math.random()*(ce-V+1)),_t=()=>{d.bubble.x=d.x,d.bubble.y=d.y,d.bubble.angle=d.angle,d.bubble.tiletype=d.tiletype,Ce(E.shootbubble)},rr=(V,ce,te,ae,pe,be)=>{const wt=V-ae,Rn=ce-pe;return Math.sqrt(wt*wt+Rn*Rn)<te+be},Cr=V=>V*(180/Math.PI),yn=V=>V*(Math.PI/180),Un=V=>{const ce=jt(H,V);let te=Cr(Math.atan2(d.y+h.tileheight/2-ce.y,ce.x-(d.x+h.tilewidth/2)));te<0&&(te=180+(180+te));const ae=8,pe=172;te>90&&te<270?te>pe&&(te=pe):(te<ae||te>=270)&&(te=ae),d.angle=te},Pn=V=>{y===E.ready?_t():y===E.gameover&&Ie()},jt=(V,ce)=>{const te=V.getBoundingClientRect();return{x:Math.round((ce.clientX-te.left)/(te.right-te.left)*V.width),y:Math.round((ce.clientY-te.top)/(te.bottom-te.top)*V.height)}};return ue(),()=>{H&&(H.removeEventListener("mousemove",Un),H.removeEventListener("mousedown",Pn))}},[]),T.jsx("div",{children:T.jsx("canvas",{id:"viewport",ref:n,className:aE.viewport,width:"628",height:"628"})})},uE="_entorno_7knjt_1",cE="_fondo_7knjt_11",dl={entorno:uE,fondo:cE},dE="/assets/media_win-D4F5D_Qr.mp3",fE="/assets/1-O3YtiZkF.png",hE="/assets/2-DoJaGZJ8.png",pE="/assets/3-D078NseF.png",mE="/assets/4-yxKMMRSB.png",gE="/assets/5-B-qaNmMA.png",yE="/assets/6-CZC93Yp5.png",vE="/assets/7-CWjCtQUp.png",wE="/assets/8-DEu4UPVu.png",xE="/assets/9-Bu2ggcIQ.png",SE=()=>{const[n,e]=I.useState([{id:0,x:0,y:0,width:134,height:163,imageUrl:fE},{id:1,x:0,y:0,width:192,height:134,imageUrl:hE},{id:2,x:0,y:0,width:134,height:163,imageUrl:pE},{id:3,x:0,y:0,width:163,height:134,imageUrl:mE},{id:4,x:0,y:0,width:134,height:192,imageUrl:gE},{id:5,x:0,y:0,width:163,height:134,imageUrl:yE},{id:6,x:0,y:0,width:134,height:163,imageUrl:vE},{id:7,x:0,y:0,width:192,height:134,imageUrl:wE},{id:8,x:0,y:0,width:134,height:163,imageUrl:xE}]),[i,o]=I.useState(null),[a,u]=I.useState(0),[f,h]=I.useState(0),[d,p]=I.useState(!1),v=I.useRef(null),E=I.useRef([{x:200,y:100},{x:304,y:100},{x:466,y:100},{x:200,y:233},{x:333,y:204},{x:437,y:233},{x:200,y:337},{x:304,y:366},{x:466,y:337}]).current;I.useEffect(()=>{e(M=>M.map(P=>({...P,x:Math.floor(Math.random()*10)+1,y:Math.floor(Math.random()*409)+1})))},[]),I.useEffect(()=>{d&&(v.current.play(),p(!1))},[d]);const y=(M,P)=>{o(P),u(M.clientX-P.x),h(M.clientY-P.y)},x=M=>{if(!i)return;const P=M.clientX-a,D=M.clientY-f,F=n.map(b=>b.id===i.id?{...b,x:P,y:D}:b);e(F),_(F,i)},w=()=>{o(null),k()},_=(M,P)=>{const D=M.findIndex(R=>R.id===P.id);if(D===-1)return;const F=M[D],b=E[F.id];if(Math.abs(F.x-b.x)<15&&Math.abs(F.y-b.y)<15){const R=M.map((B,H)=>B.id===P.id?{...B,x:b.x,y:b.y}:B);e(R)}},k=()=>{let M=0;n.forEach(P=>{const D=E[P.id];P.x===D.x&&P.y===D.y&&M++}),M===n.length&&p(!0)},A=M=>{const P=n.filter(D=>D.id!==M.id);e([...P,M])};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"guess",children:[T.jsx("h1",{className:"drawing",children:"Guess The Drawing"}),T.jsx("audio",{id:"win",src:dE,ref:v}),T.jsxs("svg",{width:"600",height:"600",id:"entorno",className:dl.entorno,onMouseMove:x,onMouseUp:w,children:[T.jsx("g",{id:"fondo",className:dl.fondo,children:T.jsx("image",{xlinkHref:"https://raw.githubusercontent.com/NestorPlasencia/pikachu-puzzle/master//pikachu.png",width:"400",height:"400",x:"200",y:"100"})}),n.map(M=>T.jsx("g",{id:M.id,className:dl.padre,onMouseDown:()=>A(M),children:T.jsx("image",{xlinkHref:M.imageUrl,className:dl.movil,width:M.width,height:M.height,x:M.x,y:M.y,onMouseDown:P=>y(P,M)})},M.id))]})]})})},AE="_gameBoard_bi7o1_1",EE="_boardRow_bi7o1_11",Em={gameBoard:AE,boardRow:EE},kE="_tile_1jr4w_1",CE="_start_1jr4w_19",bE="_circle_1jr4w_27",ME="_goal_1jr4w_41",PE="_goalPole_1jr4w_57",RE="_goalFlag_1jr4w_75",TE="_hole_1jr4w_99",_E="_obstacle_1jr4w_117",jE="_arrow_1jr4w_129",DE="_arrowUp_1jr4w_143",IE="_arrowLeft_1jr4w_153",NE="_arrowRight_1jr4w_163",LE="_arrowDown_1jr4w_171",BE="_coin_1jr4w_181",nt={tile:kE,start:CE,circle:bE,goal:ME,goalPole:PE,goalFlag:RE,hole:TE,obstacle:_E,arrow:jE,arrowUp:DE,arrowLeft:IE,arrowRight:NE,arrowDown:LE,coin:BE},FE=({type:n,onClick:e})=>{let i=null,o=nt.tile;switch(n){case"start":i=T.jsx("div",{className:nt.circle}),o=`${o} ${nt.start}`;break;case"goal":i=T.jsxs("div",{className:nt.goal,children:[T.jsx("div",{className:nt.goalPole}),T.jsx("div",{className:nt.goalFlag})]}),o=`${o} ${nt.goal}`;break;case"hole":i=T.jsx("div",{className:nt.hole}),o=`${o} ${nt.hole}`;break;case"obstacle":i=T.jsx("div",{className:nt.obstacle}),o=`${o} ${nt.obstacle}`;break;case"arrow-left":i=T.jsx("div",{className:`${nt.arrow} ${nt.arrowLeft}`}),o=`${o} ${nt.arrowLeft}`;break;case"arrow-right":i=T.jsx("div",{className:`${nt.arrow} ${nt.arrowRight}`}),o=`${o} ${nt.arrowRight}`;break;case"arrow-up":i=T.jsx("div",{className:`${nt.arrow} ${nt.arrowUp}`}),o=`${o} ${nt.arrowUp}`;break;case"arrow-down":i=T.jsx("div",{className:`${nt.arrow} ${nt.arrowDown}`}),o=`${o} ${nt.arrowDown}`;break;case"coin":i=T.jsx("div",{className:nt.coin}),o=`${o} ${nt.coin}`;break}return T.jsx("div",{className:o,onClick:e,children:i})},OE=({score:n})=>T.jsx("div",{children:T.jsxs("p",{children:["Moves: ",n]})}),qE=({initialLayout:n,onGameEnd:e})=>{const[i,o]=I.useState(n),[a,u]=I.useState(d(n)),[f,h]=I.useState(0);I.useEffect(()=>{a&&i[a.row][a.col]==="goal"&&e(f)},[a]);function d(v){for(let E=0;E<v.length;E++)for(let y=0;y<v[E].length;y++)if(v[E][y]==="start")return{row:E,col:y};return null}const p=(v,E)=>{a&&(Math.abs(v-a.row)>1||Math.abs(E-a.col)>1||(u({row:v,col:E}),h(f+1)))};return T.jsxs("div",{className:Em.gameBoard,children:[T.jsx(OE,{score:f}),i.map((v,E)=>T.jsx("div",{className:Em.boardRow,children:v.map((y,x)=>{let w=y;return a&&a.row===E&&a.col===x&&(w="hole"),T.jsx(FE,{type:w,onClick:()=>p(E,x)},x)})},E))]})},zE="_menu_33pa6_1",UE="_levelButtons_33pa6_15",HE="_activeLevel_33pa6_47",GE="_playButton_33pa6_53",fl={menu:zE,levelButtons:UE,activeLevel:HE,playButton:GE},VE=({onPlay:n,levels:e,onLevelSelect:i,currentLevel:o})=>T.jsxs("div",{className:fl.menu,children:[T.jsx("h2",{children:" Mini Golf"}),T.jsx("div",{className:fl.levelButtons,children:e.map((a,u)=>T.jsx("button",{className:o===a.id?fl.activeLevel:void 0,onClick:()=>i(a.id),children:a.name},u))}),T.jsx("button",{className:fl.playButton,onClick:n,children:"Play"})]}),km=[{id:1,name:"Level 1",layout:[["goal","obstacle","obstacle"],["obstacle","obstacle","obstacle"],["obstacle","obstacle","start"]]},{id:2,name:"Level 2",layout:[["goal","obstacle","obstacle","obstacle","obstacle","obstacle"],["obstacle","obstacle","obstacle","obstacle","obstacle","obstacle"],["obstacle","obstacle","start","obstacle","obstacle","obstacle"],["obstacle","obstacle","obstacle","obstacle","obstacle","obstacle"],["obstacle","obstacle","obstacle","obstacle","obstacle","obstacle"]]},{id:3,name:"Level 3",layout:[["goal","obstacle","obstacle","obstacle"],["obstacle","coin","obstacle","obstacle"],["obstacle","coin","arrow-right","obstacle"],["obstacle","obstacle","arrow-down","start"]]}];function WE(){const[n,e]=I.useState(!1),[i,o]=I.useState(1),[a,u]=I.useState(0),f=()=>{e(!0)},h=v=>{o(v)},d=v=>{u(v)},p=()=>{e(!1)};return T.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"},children:n?T.jsxs(T.Fragment,{children:[T.jsx(qE,{initialLayout:km.find(v=>v.id===i).layout,onGameEnd:d}),a>0&&T.jsxs("div",{children:[T.jsxs("p",{children:[" You have finished in ",a," moves"]}),T.jsx("button",{onClick:p,children:" Restart "})]})]}):T.jsx(VE,{onPlay:f,levels:km,onLevelSelect:h,currentLevel:i})})}const $E="_container_x6dog_1",QE="_imageWrapper_x6dog_15",KE="_image_x6dog_15",YE="_differenceOverlay_x6dog_35",XE="_found_x6dog_49",gr={container:$E,imageWrapper:QE,image:KE,differenceOverlay:YE,found:XE},ZE=({image1:n,image2:e,differences:i,onWin:o})=>{const a=I.useRef(null),[u,f]=I.useState([]),[h,d]=I.useState([]),[p,v]=I.useState(!1);I.useEffect(()=>{if(a.current)return a.current.addEventListener("click",E),()=>{a.current.removeEventListener("click",E)};d(i.map(x=>({x:x.x,y:x.y,width:x.width,height:x.height,id:x.id})))},[i]);const E=x=>{if(p)return;const w=a.current.getBoundingClientRect(),_=x.clientX-w.left,k=x.clientY-w.top,A=h.find(M=>_>=M.x&&_<=M.x+M.width&&k>=M.y&&k<=M.y+M.height);A&&(u.includes(A.id)||(f([...u,A.id]),d(h.filter(M=>M.id!==A.id)))),u.length===i.length-1&&(v(!0),o())},y=x=>u.includes(x);return T.jsxs("div",{className:gr.container,ref:a,children:[T.jsxs("div",{className:gr.imageWrapper,children:[T.jsx("img",{src:n,alt:"Image 1",className:gr.image}),i.map(x=>T.jsx("div",{className:`${gr.differenceOverlay} ${y(x.id)?gr.found:""}`,style:{left:x.x,top:x.y,width:x.width,height:x.height}},`diff1_${x.id}`))]}),T.jsxs("div",{className:gr.imageWrapper,children:[T.jsx("img",{src:e,alt:"Image 2",className:gr.image}),i.map(x=>T.jsx("div",{className:`${gr.differenceOverlay} ${y(x.id)?gr.found:""}`,style:{left:x.x,top:x.y,width:x.width,height:x.height}},`diff2_${x.id}`))]})]})};function JE(){const[n,e]=I.useState(!1),i="https://placekitten.com/400/400",o="https://placekitten.com/405/405",a=[{x:10,y:10,width:50,height:50,id:1},{x:200,y:50,width:30,height:30,id:2},{x:300,y:100,width:20,height:60,id:3}],u=()=>{e(!0)};return T.jsx("div",{className:"App",children:n?T.jsx("h1",{children:"You Won!"}):T.jsx(ZE,{image1:i,image2:o,differences:a,onWin:u})})}const ek="_nav_6k5la_1",tk="_navHeader_6k5la_10",nk="_navLink_6k5la_16",Qc={nav:ek,navHeader:tk,navLink:nk},rk=()=>T.jsx(xx,{children:T.jsx(ik,{})}),ik=()=>{const e=li().pathname==="/game1";return T.jsxs("div",{children:[T.jsxs("nav",{className:Qc.nav,children:[T.jsx(Ol,{to:"/",className:Qc.navHeader,children:"Game Hub"}),T.jsx("div",{className:"flex space-x-4",children:T.jsx(qm,{to:"/leaderboard",className:Qc.navLink,children:"Leaderboard"})})]}),T.jsxs(Lm,{children:[T.jsx(ut,{path:"/",element:T.jsx(tA,{})}),T.jsx(ut,{path:"/leaderboard",element:T.jsx(nA,{})}),T.jsx(ut,{path:"/game1",element:T.jsx(J0,{})}),T.jsx(ut,{path:"/game2",element:T.jsx(dA,{})}),T.jsx(ut,{path:"/game4",element:T.jsx(gA,{})}),T.jsx(ut,{path:"/game5",element:T.jsx(MA,{})}),T.jsx(ut,{path:"/game6",element:T.jsx(NA,{})}),T.jsx(ut,{path:"/game7",element:T.jsx(o2,{})}),T.jsx(ut,{path:"/game8",element:T.jsx(h2,{})}),T.jsx(ut,{path:"/game9",element:T.jsx(w2,{})}),T.jsx(ut,{path:"/game10",element:T.jsx(D2,{})}),T.jsx(ut,{path:"/game11",element:T.jsx(F2,{})}),T.jsx(ut,{path:"/game12",element:T.jsx(z2,{})}),T.jsx(ut,{path:"/game13",element:T.jsx(V2,{})}),T.jsx(ut,{path:"/game14",element:T.jsx(X2,{})}),T.jsx(ut,{path:"/game16",element:T.jsx(sE,{})}),T.jsx(ut,{path:"/game17",element:T.jsx(lE,{})}),T.jsx(ut,{path:"/game18",element:T.jsx(SE,{})}),T.jsx(ut,{path:"/game20",element:T.jsx(WE,{})}),T.jsx(ut,{path:"/spots",element:T.jsx(JE,{})})]}),T.jsx("style",{children:`
          canvas {
            display: ${e?"block":"none"} !important;
          }
        `})]})};ow.createRoot(document.getElementById("root")).render(T.jsx(I.StrictMode,{children:T.jsx(rk,{})}));export{ok as c,X1 as g};
