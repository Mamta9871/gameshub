var T1=Object.defineProperty;var I1=(r,t,i)=>t in r?T1(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var H=(r,t,i)=>I1(r,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();var Rc={exports:{}},yo={},Pc={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function b1(){if(Op)return Ie;Op=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),M=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=M&&q[M]||q["@@iterator"],typeof q=="function"?q:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function A(q,V,Ae){this.props=q,this.context=V,this.refs=T,this.updater=Ae||k}A.prototype.isReactComponent={},A.prototype.setState=function(q,V){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,V,"setState")},A.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=A.prototype;function L(q,V,Ae){this.props=q,this.context=V,this.refs=T,this.updater=Ae||k}var F=L.prototype=new C;F.constructor=L,S(F,A.prototype),F.isPureReactComponent=!0;var z=Array.isArray,N=Object.prototype.hasOwnProperty,E={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(q,V,Ae){var ke,Pe={},Te=null,je=null;if(V!=null)for(ke in V.ref!==void 0&&(je=V.ref),V.key!==void 0&&(Te=""+V.key),V)N.call(V,ke)&&!R.hasOwnProperty(ke)&&(Pe[ke]=V[ke]);var Fe=arguments.length-2;if(Fe===1)Pe.children=Ae;else if(1<Fe){for(var qe=Array(Fe),ut=0;ut<Fe;ut++)qe[ut]=arguments[ut+2];Pe.children=qe}if(q&&q.defaultProps)for(ke in Fe=q.defaultProps,Fe)Pe[ke]===void 0&&(Pe[ke]=Fe[ke]);return{$$typeof:r,type:q,key:Te,ref:je,props:Pe,_owner:E.current}}function K(q,V){return{$$typeof:r,type:q.type,key:V,ref:q.ref,props:q.props,_owner:q._owner}}function Y(q){return typeof q=="object"&&q!==null&&q.$$typeof===r}function Z(q){var V={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Ae){return V[Ae]})}var oe=/\/+/g;function ue(q,V){return typeof q=="object"&&q!==null&&q.key!=null?Z(""+q.key):V.toString(36)}function ve(q,V,Ae,ke,Pe){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var je=!1;if(q===null)je=!0;else switch(Te){case"string":case"number":je=!0;break;case"object":switch(q.$$typeof){case r:case t:je=!0}}if(je)return je=q,Pe=Pe(je),q=ke===""?"."+ue(je,0):ke,z(Pe)?(Ae="",q!=null&&(Ae=q.replace(oe,"$&/")+"/"),ve(Pe,V,Ae,"",function(ut){return ut})):Pe!=null&&(Y(Pe)&&(Pe=K(Pe,Ae+(!Pe.key||je&&je.key===Pe.key?"":(""+Pe.key).replace(oe,"$&/")+"/")+q)),V.push(Pe)),1;if(je=0,ke=ke===""?".":ke+":",z(q))for(var Fe=0;Fe<q.length;Fe++){Te=q[Fe];var qe=ke+ue(Te,Fe);je+=ve(Te,V,Ae,qe,Pe)}else if(qe=y(q),typeof qe=="function")for(q=qe.call(q),Fe=0;!(Te=q.next()).done;)Te=Te.value,qe=ke+ue(Te,Fe++),je+=ve(Te,V,Ae,qe,Pe);else if(Te==="object")throw V=String(q),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return je}function Ce(q,V,Ae){if(q==null)return q;var ke=[],Pe=0;return ve(q,ke,"","",function(Te){return V.call(Ae,Te,Pe++)}),ke}function ge(q){if(q._status===-1){var V=q._result;V=V(),V.then(function(Ae){(q._status===0||q._status===-1)&&(q._status=1,q._result=Ae)},function(Ae){(q._status===0||q._status===-1)&&(q._status=2,q._result=Ae)}),q._status===-1&&(q._status=0,q._result=V)}if(q._status===1)return q._result.default;throw q._result}var he={current:null},te={transition:null},ae={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:te,ReactCurrentOwner:E};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Ce,forEach:function(q,V,Ae){Ce(q,function(){V.apply(this,arguments)},Ae)},count:function(q){var V=0;return Ce(q,function(){V++}),V},toArray:function(q){return Ce(q,function(V){return V})||[]},only:function(q){if(!Y(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ie.Component=A,Ie.Fragment=i,Ie.Profiler=a,Ie.PureComponent=L,Ie.StrictMode=o,Ie.Suspense=f,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ie.act=re,Ie.cloneElement=function(q,V,Ae){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ke=S({},q.props),Pe=q.key,Te=q.ref,je=q._owner;if(V!=null){if(V.ref!==void 0&&(Te=V.ref,je=E.current),V.key!==void 0&&(Pe=""+V.key),q.type&&q.type.defaultProps)var Fe=q.type.defaultProps;for(qe in V)N.call(V,qe)&&!R.hasOwnProperty(qe)&&(ke[qe]=V[qe]===void 0&&Fe!==void 0?Fe[qe]:V[qe])}var qe=arguments.length-2;if(qe===1)ke.children=Ae;else if(1<qe){Fe=Array(qe);for(var ut=0;ut<qe;ut++)Fe[ut]=arguments[ut+2];ke.children=Fe}return{$$typeof:r,type:q.type,key:Pe,ref:Te,props:ke,_owner:je}},Ie.createContext=function(q){return q={$$typeof:d,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:u,_context:q},q.Consumer=q},Ie.createElement=I,Ie.createFactory=function(q){var V=I.bind(null,q);return V.type=q,V},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(q){return{$$typeof:g,render:q}},Ie.isValidElement=Y,Ie.lazy=function(q){return{$$typeof:w,_payload:{_status:-1,_result:q},_init:ge}},Ie.memo=function(q,V){return{$$typeof:p,type:q,compare:V===void 0?null:V}},Ie.startTransition=function(q){var V=te.transition;te.transition={};try{q()}finally{te.transition=V}},Ie.unstable_act=re,Ie.useCallback=function(q,V){return he.current.useCallback(q,V)},Ie.useContext=function(q){return he.current.useContext(q)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(q){return he.current.useDeferredValue(q)},Ie.useEffect=function(q,V){return he.current.useEffect(q,V)},Ie.useId=function(){return he.current.useId()},Ie.useImperativeHandle=function(q,V,Ae){return he.current.useImperativeHandle(q,V,Ae)},Ie.useInsertionEffect=function(q,V){return he.current.useInsertionEffect(q,V)},Ie.useLayoutEffect=function(q,V){return he.current.useLayoutEffect(q,V)},Ie.useMemo=function(q,V){return he.current.useMemo(q,V)},Ie.useReducer=function(q,V,Ae){return he.current.useReducer(q,V,Ae)},Ie.useRef=function(q){return he.current.useRef(q)},Ie.useState=function(q){return he.current.useState(q)},Ie.useSyncExternalStore=function(q,V,Ae){return he.current.useSyncExternalStore(q,V,Ae)},Ie.useTransition=function(){return he.current.useTransition()},Ie.version="18.3.1",Ie}var qp;function Jc(){return qp||(qp=1,Pc.exports=b1()),Pc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function F1(){if(_p)return yo;_p=1;var r=Jc(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(g,f,p){var w,M={},y=null,k=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(k=f.ref);for(w in f)o.call(f,w)&&!u.hasOwnProperty(w)&&(M[w]=f[w]);if(g&&g.defaultProps)for(w in f=g.defaultProps,f)M[w]===void 0&&(M[w]=f[w]);return{$$typeof:t,type:g,key:y,ref:k,props:M,_owner:a.current}}return yo.Fragment=i,yo.jsx=d,yo.jsxs=d,yo}var zp;function N1(){return zp||(zp=1,Rc.exports=F1()),Rc.exports}var j=N1(),_=Jc(),$a={},Tc={exports:{}},Vt={},Ic={exports:{}},bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function D1(){return Up||(Up=1,function(r){function t(te,ae){var re=te.length;te.push(ae);e:for(;0<re;){var q=re-1>>>1,V=te[q];if(0<a(V,ae))te[q]=ae,te[re]=V,re=q;else break e}}function i(te){return te.length===0?null:te[0]}function o(te){if(te.length===0)return null;var ae=te[0],re=te.pop();if(re!==ae){te[0]=re;e:for(var q=0,V=te.length,Ae=V>>>1;q<Ae;){var ke=2*(q+1)-1,Pe=te[ke],Te=ke+1,je=te[Te];if(0>a(Pe,re))Te<V&&0>a(je,Pe)?(te[q]=je,te[Te]=re,q=Te):(te[q]=Pe,te[ke]=re,q=ke);else if(Te<V&&0>a(je,re))te[q]=je,te[Te]=re,q=Te;else break e}}return ae}function a(te,ae){var re=te.sortIndex-ae.sortIndex;return re!==0?re:te.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var f=[],p=[],w=1,M=null,y=3,k=!1,S=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(te){for(var ae=i(p);ae!==null;){if(ae.callback===null)o(p);else if(ae.startTime<=te)o(p),ae.sortIndex=ae.expirationTime,t(f,ae);else break;ae=i(p)}}function z(te){if(T=!1,F(te),!S)if(i(f)!==null)S=!0,ge(N);else{var ae=i(p);ae!==null&&he(z,ae.startTime-te)}}function N(te,ae){S=!1,T&&(T=!1,C(I),I=-1),k=!0;var re=y;try{for(F(ae),M=i(f);M!==null&&(!(M.expirationTime>ae)||te&&!Z());){var q=M.callback;if(typeof q=="function"){M.callback=null,y=M.priorityLevel;var V=q(M.expirationTime<=ae);ae=r.unstable_now(),typeof V=="function"?M.callback=V:M===i(f)&&o(f),F(ae)}else o(f);M=i(f)}if(M!==null)var Ae=!0;else{var ke=i(p);ke!==null&&he(z,ke.startTime-ae),Ae=!1}return Ae}finally{M=null,y=re,k=!1}}var E=!1,R=null,I=-1,K=5,Y=-1;function Z(){return!(r.unstable_now()-Y<K)}function oe(){if(R!==null){var te=r.unstable_now();Y=te;var ae=!0;try{ae=R(!0,te)}finally{ae?ue():(E=!1,R=null)}}else E=!1}var ue;if(typeof L=="function")ue=function(){L(oe)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ce=ve.port2;ve.port1.onmessage=oe,ue=function(){Ce.postMessage(null)}}else ue=function(){A(oe,0)};function ge(te){R=te,E||(E=!0,ue())}function he(te,ae){I=A(function(){te(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_continueExecution=function(){S||k||(S=!0,ge(N))},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return i(f)},r.unstable_next=function(te){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var re=y;y=ae;try{return te()}finally{y=re}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(te,ae){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var re=y;y=te;try{return ae()}finally{y=re}},r.unstable_scheduleCallback=function(te,ae,re){var q=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?q+re:q):re=q,te){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=re+V,te={id:w++,callback:ae,priorityLevel:te,startTime:re,expirationTime:V,sortIndex:-1},re>q?(te.sortIndex=re,t(p,te),i(f)===null&&te===i(p)&&(T?(C(I),I=-1):T=!0,he(z,re-q))):(te.sortIndex=V,t(f,te),S||k||(S=!0,ge(N))),te},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(te){var ae=y;return function(){var re=y;y=ae;try{return te.apply(this,arguments)}finally{y=re}}}}(bc)),bc}var Hp;function j1(){return Hp||(Hp=1,Ic.exports=D1()),Ic.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function B1(){if(Gp)return Vt;Gp=1;var r=Jc(),t=j1();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},M={};function y(e){return f.call(M,e)?!0:f.call(w,e)?!1:p.test(e)?M[e]=!0:(w[e]=!0,!1)}function k(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,n,s,l){if(n===null||typeof n>"u"||k(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function T(e,n,s,l,c,h,v){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=h,this.removeEmptyString=v}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];A[n]=new T(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(C,L);A[n]=new T(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(C,L);A[n]=new T(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(C,L);A[n]=new T(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function F(e,n,s,l){var c=A.hasOwnProperty(n)?A[n]:null;(c!==null?c.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S(n,s,c,l)&&(s=null),l||c===null?y(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,l=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Z=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),te=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,q;function V(e){if(q===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);q=n&&n[1]||""}return`
`+q+e}var Ae=!1;function ke(e,n){if(!e||Ae)return"";Ae=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var l=W}Reflect.construct(e,[],n)}else{try{n.call()}catch(W){l=W}e.call(n.prototype)}else{try{throw Error()}catch(W){l=W}e()}}catch(W){if(W&&l&&typeof W.stack=="string"){for(var c=W.stack.split(`
`),h=l.stack.split(`
`),v=c.length-1,P=h.length-1;1<=v&&0<=P&&c[v]!==h[P];)P--;for(;1<=v&&0<=P;v--,P--)if(c[v]!==h[P]){if(v!==1||P!==1)do if(v--,P--,0>P||c[v]!==h[P]){var D=`
`+c[v].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=v&&0<=P);break}}}finally{Ae=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?V(e):""}function Pe(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=ke(e.type,!1),e;case 11:return e=ke(e.type.render,!1),e;case 1:return e=ke(e.type,!0),e;default:return""}}function Te(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case E:return"Portal";case K:return"Profiler";case I:return"StrictMode";case ue:return"Suspense";case ve:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z:return(e.displayName||"Context")+".Consumer";case Y:return(e._context.displayName||"Context")+".Provider";case oe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ce:return n=e.displayName||null,n!==null?n:Te(e.type)||"Memo";case ge:n=e._payload,e=e._init;try{return Te(e(n))}catch{}}return null}function je(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(n);case 8:return n===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ut(e){var n=qe(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,h.call(this,v)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function bt(e){e._valueTracker||(e._valueTracker=ut(e))}function Yr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=qe(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function un(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ye(e,n){var s=n.checked;return re({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Me(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=Fe(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Re(e,n){n=n.checked,n!=null&&F(e,"checked",n,!1)}function _e(e,n){Re(e,n);var s=Fe(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ne(e,n.type,s):n.hasOwnProperty("defaultValue")&&Ne(e,n.type,Fe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function et(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ne(e,n,s){(n!=="number"||un(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ot=Array.isArray;function Ft(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Fe(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Xr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return re({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ki(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(i(92));if(ot(s)){if(1<s.length)throw Error(i(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Fe(s)}}function $r(e,n){var s=Fe(n.value),l=Fe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function Jr(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function cr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?cr(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ot,Vn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ot.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function mt(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xn=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(e){xn.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),wn[n]=wn[e]})});function dr(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||wn.hasOwnProperty(e)&&wn[e]?(""+n).trim():n+"px"}function Ns(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,c=dr(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,c):e[s]=c}}var Ds=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ci(e,n){if(n){if(Ds[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function Mi(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=null;function Zr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,Wn=null,Qn=null;function Vo(e){if(e=to(e)){if(typeof fr!="function")throw Error(i(280));var n=e.stateNode;n&&(n=fa(n),fr(e.stateNode,e.type,n))}}function js(e){Wn?Qn?Qn.push(e):Qn=[e]:Wn=e}function Bs(){if(Wn){var e=Wn,n=Qn;if(Qn=Wn=null,Vo(e),n)for(e=0;e<n.length;e++)Vo(n[e])}}function b(e,n){return e(n)}function X(){}var J=!1;function le(e,n,s){if(J)return e(n,s);J=!0;try{return b(e,n,s)}finally{J=!1,(Wn!==null||Qn!==null)&&(X(),Bs())}}function Se(e,n){var s=e.stateNode;if(s===null)return null;var l=fa(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var Ue=!1;if(g)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Ue=!1}function nt(e,n,s,l,c,h,v,P,D){var W=Array.prototype.slice.call(arguments,3);try{n.apply(s,W)}catch(ne){this.onError(ne)}}var Dt=!1,jt=null,qt=!1,Wl=null,B0={onError:function(e){Dt=!0,jt=e}};function L0(e,n,s,l,c,h,v,P,D){Dt=!1,jt=null,nt.apply(B0,arguments)}function O0(e,n,s,l,c,h,v,P,D){if(L0.apply(this,arguments),Dt){if(Dt){var W=jt;Dt=!1,jt=null}else throw Error(i(198));qt||(qt=!0,Wl=W)}}function ei(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function af(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function lf(e){if(ei(e)!==e)throw Error(i(188))}function q0(e){var n=e.alternate;if(!n){if(n=ei(e),n===null)throw Error(i(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return lf(c),e;if(h===l)return lf(c),n;h=h.sibling}throw Error(i(188))}if(s.return!==l.return)s=c,l=h;else{for(var v=!1,P=c.child;P;){if(P===s){v=!0,s=c,l=h;break}if(P===l){v=!0,l=c,s=h;break}P=P.sibling}if(!v){for(P=h.child;P;){if(P===s){v=!0,s=h,l=c;break}if(P===l){v=!0,l=h,s=c;break}P=P.sibling}if(!v)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:n}function uf(e){return e=q0(e),e!==null?cf(e):null}function cf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=cf(e);if(n!==null)return n;e=e.sibling}return null}var df=t.unstable_scheduleCallback,ff=t.unstable_cancelCallback,_0=t.unstable_shouldYield,z0=t.unstable_requestPaint,at=t.unstable_now,U0=t.unstable_getCurrentPriorityLevel,Ql=t.unstable_ImmediatePriority,hf=t.unstable_UserBlockingPriority,Wo=t.unstable_NormalPriority,H0=t.unstable_LowPriority,pf=t.unstable_IdlePriority,Qo=null,Fn=null;function G0(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Qo,e,void 0,(e.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:Q0,V0=Math.log,W0=Math.LN2;function Q0(e){return e>>>=0,e===0?32:31-(V0(e)/W0|0)|0}var Ko=64,Yo=4194304;function Ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xo(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,c=e.suspendedLanes,h=e.pingedLanes,v=s&268435455;if(v!==0){var P=v&~c;P!==0?l=Ls(P):(h&=v,h!==0&&(l=Ls(h)))}else v=s&~c,v!==0?l=Ls(v):h!==0&&(l=Ls(h));if(l===0)return 0;if(n!==0&&n!==l&&!(n&c)&&(c=l&-l,h=n&-n,c>=h||c===16&&(h&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-An(n),c=1<<s,l|=e[s],n&=~c;return l}function K0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y0(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var v=31-An(h),P=1<<v,D=c[v];D===-1?(!(P&s)||P&l)&&(c[v]=K0(P,n)):D<=n&&(e.expiredLanes|=P),h&=~P}}function Kl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mf(){var e=Ko;return Ko<<=1,!(Ko&4194240)&&(Ko=64),e}function Yl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Os(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-An(n),e[n]=s}function X0(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-An(s),h=1<<c;n[c]=0,l[c]=-1,e[c]=-1,s&=~h}}function Xl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-An(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}var ze=0;function gf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yf,$l,vf,wf,xf,Jl=!1,$o=[],hr=null,pr=null,mr=null,qs=new Map,_s=new Map,gr=[],$0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(e,n){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":qs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(n.pointerId)}}function zs(e,n,s,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=to(n),n!==null&&$l(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function J0(e,n,s,l,c){switch(n){case"focusin":return hr=zs(hr,e,n,s,l,c),!0;case"dragenter":return pr=zs(pr,e,n,s,l,c),!0;case"mouseover":return mr=zs(mr,e,n,s,l,c),!0;case"pointerover":var h=c.pointerId;return qs.set(h,zs(qs.get(h)||null,e,n,s,l,c)),!0;case"gotpointercapture":return h=c.pointerId,_s.set(h,zs(_s.get(h)||null,e,n,s,l,c)),!0}return!1}function Sf(e){var n=ti(e.target);if(n!==null){var s=ei(n);if(s!==null){if(n=s.tag,n===13){if(n=af(s),n!==null){e.blockedOn=n,xf(e.priority,function(){vf(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=eu(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);At=l,s.target.dispatchEvent(l),At=null}else return n=to(s),n!==null&&$l(n),e.blockedOn=s,!1;n.shift()}return!0}function Ef(e,n,s){Jo(e)&&s.delete(n)}function Z0(){Jl=!1,hr!==null&&Jo(hr)&&(hr=null),pr!==null&&Jo(pr)&&(pr=null),mr!==null&&Jo(mr)&&(mr=null),qs.forEach(Ef),_s.forEach(Ef)}function Us(e,n){e.blockedOn===n&&(e.blockedOn=null,Jl||(Jl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Z0)))}function Hs(e){function n(c){return Us(c,e)}if(0<$o.length){Us($o[0],e);for(var s=1;s<$o.length;s++){var l=$o[s];l.blockedOn===e&&(l.blockedOn=null)}}for(hr!==null&&Us(hr,e),pr!==null&&Us(pr,e),mr!==null&&Us(mr,e),qs.forEach(n),_s.forEach(n),s=0;s<gr.length;s++)l=gr[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<gr.length&&(s=gr[0],s.blockedOn===null);)Sf(s),s.blockedOn===null&&gr.shift()}var Ri=z.ReactCurrentBatchConfig,Zo=!0;function ev(e,n,s,l){var c=ze,h=Ri.transition;Ri.transition=null;try{ze=1,Zl(e,n,s,l)}finally{ze=c,Ri.transition=h}}function tv(e,n,s,l){var c=ze,h=Ri.transition;Ri.transition=null;try{ze=4,Zl(e,n,s,l)}finally{ze=c,Ri.transition=h}}function Zl(e,n,s,l){if(Zo){var c=eu(e,n,s,l);if(c===null)yu(e,n,l,ea,s),Af(e,l);else if(J0(c,e,n,s,l))l.stopPropagation();else if(Af(e,l),n&4&&-1<$0.indexOf(e)){for(;c!==null;){var h=to(c);if(h!==null&&yf(h),h=eu(e,n,s,l),h===null&&yu(e,n,l,ea,s),h===c)break;c=h}c!==null&&l.stopPropagation()}else yu(e,n,l,null,s)}}var ea=null;function eu(e,n,s,l){if(ea=null,e=Zr(l),e=ti(e),e!==null)if(n=ei(e),n===null)e=null;else if(s=n.tag,s===13){if(e=af(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ea=e,null}function kf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U0()){case Ql:return 1;case hf:return 4;case Wo:case H0:return 16;case pf:return 536870912;default:return 16}default:return 16}}var yr=null,tu=null,ta=null;function Cf(){if(ta)return ta;var e,n=tu,s=n.length,l,c="value"in yr?yr.value:yr.textContent,h=c.length;for(e=0;e<s&&n[e]===c[e];e++);var v=s-e;for(l=1;l<=v&&n[s-l]===c[h-l];l++);return ta=c.slice(e,1<l?1-l:void 0)}function na(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ra(){return!0}function Mf(){return!1}function Jt(e){function n(s,l,c,h,v){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(s=e[P],this[P]=s?s(h):h[P]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ra:Mf,this.isPropagationStopped=Mf,this}return re(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=Jt(Pi),Gs=re({},Pi,{view:0,detail:0}),nv=Jt(Gs),ru,iu,Vs,ia=re({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ou,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(ru=e.screenX-Vs.screenX,iu=e.screenY-Vs.screenY):iu=ru=0,Vs=e),ru)},movementY:function(e){return"movementY"in e?e.movementY:iu}}),Rf=Jt(ia),rv=re({},ia,{dataTransfer:0}),iv=Jt(rv),sv=re({},Gs,{relatedTarget:0}),su=Jt(sv),ov=re({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),av=Jt(ov),lv=re({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uv=Jt(lv),cv=re({},Pi,{data:0}),Pf=Jt(cv),dv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pv(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hv[e])?!!n[e]:!1}function ou(){return pv}var mv=re({},Gs,{key:function(e){if(e.key){var n=dv[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ou,charCode:function(e){return e.type==="keypress"?na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gv=Jt(mv),yv=re({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tf=Jt(yv),vv=re({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ou}),wv=Jt(vv),xv=re({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Av=Jt(xv),Sv=re({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=Jt(Sv),kv=[9,13,27,32],au=g&&"CompositionEvent"in window,Ws=null;g&&"documentMode"in document&&(Ws=document.documentMode);var Cv=g&&"TextEvent"in window&&!Ws,If=g&&(!au||Ws&&8<Ws&&11>=Ws),bf=" ",Ff=!1;function Nf(e,n){switch(e){case"keyup":return kv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ti=!1;function Mv(e,n){switch(e){case"compositionend":return Df(n);case"keypress":return n.which!==32?null:(Ff=!0,bf);case"textInput":return e=n.data,e===bf&&Ff?null:e;default:return null}}function Rv(e,n){if(Ti)return e==="compositionend"||!au&&Nf(e,n)?(e=Cf(),ta=tu=yr=null,Ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return If&&n.locale!=="ko"?null:n.data;default:return null}}var Pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Pv[e.type]:n==="textarea"}function Bf(e,n,s,l){js(l),n=ua(n,"onChange"),0<n.length&&(s=new nu("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Qs=null,Ks=null;function Tv(e){eh(e,0)}function sa(e){var n=Di(e);if(Yr(n))return e}function Iv(e,n){if(e==="change")return n}var Lf=!1;if(g){var lu;if(g){var uu="oninput"in document;if(!uu){var Of=document.createElement("div");Of.setAttribute("oninput","return;"),uu=typeof Of.oninput=="function"}lu=uu}else lu=!1;Lf=lu&&(!document.documentMode||9<document.documentMode)}function qf(){Qs&&(Qs.detachEvent("onpropertychange",_f),Ks=Qs=null)}function _f(e){if(e.propertyName==="value"&&sa(Ks)){var n=[];Bf(n,Ks,e,Zr(e)),le(Tv,n)}}function bv(e,n,s){e==="focusin"?(qf(),Qs=n,Ks=s,Qs.attachEvent("onpropertychange",_f)):e==="focusout"&&qf()}function Fv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sa(Ks)}function Nv(e,n){if(e==="click")return sa(n)}function Dv(e,n){if(e==="input"||e==="change")return sa(n)}function jv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:jv;function Ys(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!f.call(n,c)||!Sn(e[c],n[c]))return!1}return!0}function zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uf(e,n){var s=zf(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zf(s)}}function Hf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Hf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Gf(){for(var e=window,n=un();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=un(e.document)}return n}function cu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Bv(e){var n=Gf(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Hf(s.ownerDocument.documentElement,s)){if(l!==null&&cu(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,h=Math.min(l.start,c);l=l.end===void 0?h:Math.min(l.end,c),!e.extend&&h>l&&(c=l,l=h,h=c),c=Uf(s,h);var v=Uf(s,l);c&&v&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),h>l?(e.addRange(n),e.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lv=g&&"documentMode"in document&&11>=document.documentMode,Ii=null,du=null,Xs=null,fu=!1;function Vf(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;fu||Ii==null||Ii!==un(l)||(l=Ii,"selectionStart"in l&&cu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xs&&Ys(Xs,l)||(Xs=l,l=ua(du,"onSelect"),0<l.length&&(n=new nu("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Ii)))}function oa(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var bi={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionend:oa("Transition","TransitionEnd")},hu={},Wf={};g&&(Wf=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function aa(e){if(hu[e])return hu[e];if(!bi[e])return e;var n=bi[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Wf)return hu[e]=n[s];return e}var Qf=aa("animationend"),Kf=aa("animationiteration"),Yf=aa("animationstart"),Xf=aa("transitionend"),$f=new Map,Jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(e,n){$f.set(e,n),u(n,[e])}for(var pu=0;pu<Jf.length;pu++){var mu=Jf[pu],Ov=mu.toLowerCase(),qv=mu[0].toUpperCase()+mu.slice(1);vr(Ov,"on"+qv)}vr(Qf,"onAnimationEnd"),vr(Kf,"onAnimationIteration"),vr(Yf,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(Xf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function Zf(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,O0(l,n,void 0,e),e.currentTarget=null}function eh(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var v=l.length-1;0<=v;v--){var P=l[v],D=P.instance,W=P.currentTarget;if(P=P.listener,D!==h&&c.isPropagationStopped())break e;Zf(c,P,W),h=D}else for(v=0;v<l.length;v++){if(P=l[v],D=P.instance,W=P.currentTarget,P=P.listener,D!==h&&c.isPropagationStopped())break e;Zf(c,P,W),h=D}}}if(qt)throw e=Wl,qt=!1,Wl=null,e}function Ve(e,n){var s=n[Eu];s===void 0&&(s=n[Eu]=new Set);var l=e+"__bubble";s.has(l)||(th(n,e,2,!1),s.add(l))}function gu(e,n,s){var l=0;n&&(l|=4),th(s,e,l,n)}var la="_reactListening"+Math.random().toString(36).slice(2);function Js(e){if(!e[la]){e[la]=!0,o.forEach(function(s){s!=="selectionchange"&&(_v.has(s)||gu(s,!1,e),gu(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[la]||(n[la]=!0,gu("selectionchange",!1,n))}}function th(e,n,s,l){switch(kf(n)){case 1:var c=ev;break;case 4:c=tv;break;default:c=Zl}s=c.bind(null,n,s,e),c=void 0,!Ue||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function yu(e,n,s,l,c){var h=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var P=l.stateNode.containerInfo;if(P===c||P.nodeType===8&&P.parentNode===c)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===c||D.nodeType===8&&D.parentNode===c))return;v=v.return}for(;P!==null;){if(v=ti(P),v===null)return;if(D=v.tag,D===5||D===6){l=h=v;continue e}P=P.parentNode}}l=l.return}le(function(){var W=h,ne=Zr(s),ie=[];e:{var ee=$f.get(e);if(ee!==void 0){var ce=nu,fe=e;switch(e){case"keypress":if(na(s)===0)break e;case"keydown":case"keyup":ce=gv;break;case"focusin":fe="focus",ce=su;break;case"focusout":fe="blur",ce=su;break;case"beforeblur":case"afterblur":ce=su;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=wv;break;case Qf:case Kf:case Yf:ce=av;break;case Xf:ce=Av;break;case"scroll":ce=nv;break;case"wheel":ce=Ev;break;case"copy":case"cut":case"paste":ce=uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Tf}var pe=(n&4)!==0,lt=!pe&&e==="scroll",U=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var O=W,G;O!==null;){G=O;var se=G.stateNode;if(G.tag===5&&se!==null&&(G=se,U!==null&&(se=Se(O,U),se!=null&&pe.push(Zs(O,se,G)))),lt)break;O=O.return}0<pe.length&&(ee=new ce(ee,fe,null,s,ne),ie.push({event:ee,listeners:pe}))}}if(!(n&7)){e:{if(ee=e==="mouseover"||e==="pointerover",ce=e==="mouseout"||e==="pointerout",ee&&s!==At&&(fe=s.relatedTarget||s.fromElement)&&(ti(fe)||fe[Kn]))break e;if((ce||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(fe=s.relatedTarget||s.toElement,ce=W,fe=fe?ti(fe):null,fe!==null&&(lt=ei(fe),fe!==lt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=W),ce!==fe)){if(pe=Rf,se="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Tf,se="onPointerLeave",U="onPointerEnter",O="pointer"),lt=ce==null?ee:Di(ce),G=fe==null?ee:Di(fe),ee=new pe(se,O+"leave",ce,s,ne),ee.target=lt,ee.relatedTarget=G,se=null,ti(ne)===W&&(pe=new pe(U,O+"enter",fe,s,ne),pe.target=G,pe.relatedTarget=lt,se=pe),lt=se,ce&&fe)t:{for(pe=ce,U=fe,O=0,G=pe;G;G=Fi(G))O++;for(G=0,se=U;se;se=Fi(se))G++;for(;0<O-G;)pe=Fi(pe),O--;for(;0<G-O;)U=Fi(U),G--;for(;O--;){if(pe===U||U!==null&&pe===U.alternate)break t;pe=Fi(pe),U=Fi(U)}pe=null}else pe=null;ce!==null&&nh(ie,ee,ce,pe,!1),fe!==null&&lt!==null&&nh(ie,lt,fe,pe,!0)}}e:{if(ee=W?Di(W):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var me=Iv;else if(jf(ee))if(Lf)me=Dv;else{me=Fv;var we=bv}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(me=Nv);if(me&&(me=me(e,W))){Bf(ie,me,s,ne);break e}we&&we(e,ee,W),e==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&Ne(ee,"number",ee.value)}switch(we=W?Di(W):window,e){case"focusin":(jf(we)||we.contentEditable==="true")&&(Ii=we,du=W,Xs=null);break;case"focusout":Xs=du=Ii=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,Vf(ie,s,ne);break;case"selectionchange":if(Lv)break;case"keydown":case"keyup":Vf(ie,s,ne)}var xe;if(au)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ti?Nf(e,s)&&(Ee="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ee="onCompositionStart");Ee&&(If&&s.locale!=="ko"&&(Ti||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ti&&(xe=Cf()):(yr=ne,tu="value"in yr?yr.value:yr.textContent,Ti=!0)),we=ua(W,Ee),0<we.length&&(Ee=new Pf(Ee,e,null,s,ne),ie.push({event:Ee,listeners:we}),xe?Ee.data=xe:(xe=Df(s),xe!==null&&(Ee.data=xe)))),(xe=Cv?Mv(e,s):Rv(e,s))&&(W=ua(W,"onBeforeInput"),0<W.length&&(ne=new Pf("onBeforeInput","beforeinput",null,s,ne),ie.push({event:ne,listeners:W}),ne.data=xe))}eh(ie,n)})}function Zs(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ua(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Se(e,s),h!=null&&l.unshift(Zs(e,h,c)),h=Se(e,n),h!=null&&l.push(Zs(e,h,c))),e=e.return}return l}function Fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nh(e,n,s,l,c){for(var h=n._reactName,v=[];s!==null&&s!==l;){var P=s,D=P.alternate,W=P.stateNode;if(D!==null&&D===l)break;P.tag===5&&W!==null&&(P=W,c?(D=Se(s,h),D!=null&&v.unshift(Zs(s,D,P))):c||(D=Se(s,h),D!=null&&v.push(Zs(s,D,P)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var zv=/\r\n?/g,Uv=/\u0000|\uFFFD/g;function rh(e){return(typeof e=="string"?e:""+e).replace(zv,`
`).replace(Uv,"")}function ca(e,n,s){if(n=rh(n),rh(e)!==n&&s)throw Error(i(425))}function da(){}var vu=null,wu=null;function xu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Au=typeof setTimeout=="function"?setTimeout:void 0,Hv=typeof clearTimeout=="function"?clearTimeout:void 0,ih=typeof Promise=="function"?Promise:void 0,Gv=typeof queueMicrotask=="function"?queueMicrotask:typeof ih<"u"?function(e){return ih.resolve(null).then(e).catch(Vv)}:Au;function Vv(e){setTimeout(function(){throw e})}function Su(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(l===0){e.removeChild(c),Hs(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=c}while(s);Hs(n)}function wr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function sh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Ni,eo="__reactProps$"+Ni,Kn="__reactContainer$"+Ni,Eu="__reactEvents$"+Ni,Wv="__reactListeners$"+Ni,Qv="__reactHandles$"+Ni;function ti(e){var n=e[Nn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Kn]||s[Nn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=sh(e);e!==null;){if(s=e[Nn])return s;e=sh(e)}return n}e=s,s=e.parentNode}return null}function to(e){return e=e[Nn]||e[Kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function fa(e){return e[eo]||null}var ku=[],ji=-1;function xr(e){return{current:e}}function We(e){0>ji||(e.current=ku[ji],ku[ji]=null,ji--)}function Ge(e,n){ji++,ku[ji]=e.current,e.current=n}var Ar={},Mt=xr(Ar),_t=xr(!1),ni=Ar;function Bi(e,n){var s=e.type.contextTypes;if(!s)return Ar;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in s)c[h]=n[h];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function zt(e){return e=e.childContextTypes,e!=null}function ha(){We(_t),We(Mt)}function oh(e,n,s){if(Mt.current!==Ar)throw Error(i(168));Ge(Mt,n),Ge(_t,s)}function ah(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var c in l)if(!(c in n))throw Error(i(108,je(e)||"Unknown",c));return re({},s,l)}function pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,ni=Mt.current,Ge(Mt,e),Ge(_t,_t.current),!0}function lh(e,n,s){var l=e.stateNode;if(!l)throw Error(i(169));s?(e=ah(e,n,ni),l.__reactInternalMemoizedMergedChildContext=e,We(_t),We(Mt),Ge(Mt,e)):We(_t),Ge(_t,s)}var Yn=null,ma=!1,Cu=!1;function uh(e){Yn===null?Yn=[e]:Yn.push(e)}function Kv(e){ma=!0,uh(e)}function Sr(){if(!Cu&&Yn!==null){Cu=!0;var e=0,n=ze;try{var s=Yn;for(ze=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Yn=null,ma=!1}catch(c){throw Yn!==null&&(Yn=Yn.slice(e+1)),df(Ql,Sr),c}finally{ze=n,Cu=!1}}return null}var Li=[],Oi=0,ga=null,ya=0,cn=[],dn=0,ri=null,Xn=1,$n="";function ii(e,n){Li[Oi++]=ya,Li[Oi++]=ga,ga=e,ya=n}function ch(e,n,s){cn[dn++]=Xn,cn[dn++]=$n,cn[dn++]=ri,ri=e;var l=Xn;e=$n;var c=32-An(l)-1;l&=~(1<<c),s+=1;var h=32-An(n)+c;if(30<h){var v=c-c%5;h=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Xn=1<<32-An(n)+c|s<<c|l,$n=h+e}else Xn=1<<h|s<<c|l,$n=e}function Mu(e){e.return!==null&&(ii(e,1),ch(e,1,0))}function Ru(e){for(;e===ga;)ga=Li[--Oi],Li[Oi]=null,ya=Li[--Oi],Li[Oi]=null;for(;e===ri;)ri=cn[--dn],cn[dn]=null,$n=cn[--dn],cn[dn]=null,Xn=cn[--dn],cn[dn]=null}var Zt=null,en=null,Ke=!1,En=null;function dh(e,n){var s=mn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function fh(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Zt=e,en=wr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Zt=e,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=ri!==null?{id:Xn,overflow:$n}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=mn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,Zt=e,en=null,!0):!1;default:return!1}}function Pu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tu(e){if(Ke){var n=en;if(n){var s=n;if(!fh(e,n)){if(Pu(e))throw Error(i(418));n=wr(s.nextSibling);var l=Zt;n&&fh(e,n)?dh(l,s):(e.flags=e.flags&-4097|2,Ke=!1,Zt=e)}}else{if(Pu(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ke=!1,Zt=e}}}function hh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function va(e){if(e!==Zt)return!1;if(!Ke)return hh(e),Ke=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!xu(e.type,e.memoizedProps)),n&&(n=en)){if(Pu(e))throw ph(),Error(i(418));for(;n;)dh(e,n),n=wr(n.nextSibling)}if(hh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){en=wr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}en=null}}else en=Zt?wr(e.stateNode.nextSibling):null;return!0}function ph(){for(var e=en;e;)e=wr(e.nextSibling)}function qi(){en=Zt=null,Ke=!1}function Iu(e){En===null?En=[e]:En.push(e)}var Yv=z.ReactCurrentBatchConfig;function no(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(i(309));var l=s.stateNode}if(!l)throw Error(i(147,e));var c=l,h=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(v){var P=c.refs;v===null?delete P[h]:P[h]=v},n._stringRef=h,n)}if(typeof e!="string")throw Error(i(284));if(!s._owner)throw Error(i(290,e))}return e}function wa(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function mh(e){var n=e._init;return n(e._payload)}function gh(e){function n(U,O){if(e){var G=U.deletions;G===null?(U.deletions=[O],U.flags|=16):G.push(O)}}function s(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U,O){for(U=new Map;O!==null;)O.key!==null?U.set(O.key,O):U.set(O.index,O),O=O.sibling;return U}function c(U,O){return U=Ir(U,O),U.index=0,U.sibling=null,U}function h(U,O,G){return U.index=G,e?(G=U.alternate,G!==null?(G=G.index,G<O?(U.flags|=2,O):G):(U.flags|=2,O)):(U.flags|=1048576,O)}function v(U){return e&&U.alternate===null&&(U.flags|=2),U}function P(U,O,G,se){return O===null||O.tag!==6?(O=Ac(G,U.mode,se),O.return=U,O):(O=c(O,G),O.return=U,O)}function D(U,O,G,se){var me=G.type;return me===R?ne(U,O,G.props.children,se,G.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ge&&mh(me)===O.type)?(se=c(O,G.props),se.ref=no(U,O,G),se.return=U,se):(se=Ha(G.type,G.key,G.props,null,U.mode,se),se.ref=no(U,O,G),se.return=U,se)}function W(U,O,G,se){return O===null||O.tag!==4||O.stateNode.containerInfo!==G.containerInfo||O.stateNode.implementation!==G.implementation?(O=Sc(G,U.mode,se),O.return=U,O):(O=c(O,G.children||[]),O.return=U,O)}function ne(U,O,G,se,me){return O===null||O.tag!==7?(O=fi(G,U.mode,se,me),O.return=U,O):(O=c(O,G),O.return=U,O)}function ie(U,O,G){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Ac(""+O,U.mode,G),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case N:return G=Ha(O.type,O.key,O.props,null,U.mode,G),G.ref=no(U,null,O),G.return=U,G;case E:return O=Sc(O,U.mode,G),O.return=U,O;case ge:var se=O._init;return ie(U,se(O._payload),G)}if(ot(O)||ae(O))return O=fi(O,U.mode,G,null),O.return=U,O;wa(U,O)}return null}function ee(U,O,G,se){var me=O!==null?O.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return me!==null?null:P(U,O,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case N:return G.key===me?D(U,O,G,se):null;case E:return G.key===me?W(U,O,G,se):null;case ge:return me=G._init,ee(U,O,me(G._payload),se)}if(ot(G)||ae(G))return me!==null?null:ne(U,O,G,se,null);wa(U,G)}return null}function ce(U,O,G,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return U=U.get(G)||null,P(O,U,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case N:return U=U.get(se.key===null?G:se.key)||null,D(O,U,se,me);case E:return U=U.get(se.key===null?G:se.key)||null,W(O,U,se,me);case ge:var we=se._init;return ce(U,O,G,we(se._payload),me)}if(ot(se)||ae(se))return U=U.get(G)||null,ne(O,U,se,me,null);wa(O,se)}return null}function fe(U,O,G,se){for(var me=null,we=null,xe=O,Ee=O=0,vt=null;xe!==null&&Ee<G.length;Ee++){xe.index>Ee?(vt=xe,xe=null):vt=xe.sibling;var Be=ee(U,xe,G[Ee],se);if(Be===null){xe===null&&(xe=vt);break}e&&xe&&Be.alternate===null&&n(U,xe),O=h(Be,O,Ee),we===null?me=Be:we.sibling=Be,we=Be,xe=vt}if(Ee===G.length)return s(U,xe),Ke&&ii(U,Ee),me;if(xe===null){for(;Ee<G.length;Ee++)xe=ie(U,G[Ee],se),xe!==null&&(O=h(xe,O,Ee),we===null?me=xe:we.sibling=xe,we=xe);return Ke&&ii(U,Ee),me}for(xe=l(U,xe);Ee<G.length;Ee++)vt=ce(xe,U,Ee,G[Ee],se),vt!==null&&(e&&vt.alternate!==null&&xe.delete(vt.key===null?Ee:vt.key),O=h(vt,O,Ee),we===null?me=vt:we.sibling=vt,we=vt);return e&&xe.forEach(function(br){return n(U,br)}),Ke&&ii(U,Ee),me}function pe(U,O,G,se){var me=ae(G);if(typeof me!="function")throw Error(i(150));if(G=me.call(G),G==null)throw Error(i(151));for(var we=me=null,xe=O,Ee=O=0,vt=null,Be=G.next();xe!==null&&!Be.done;Ee++,Be=G.next()){xe.index>Ee?(vt=xe,xe=null):vt=xe.sibling;var br=ee(U,xe,Be.value,se);if(br===null){xe===null&&(xe=vt);break}e&&xe&&br.alternate===null&&n(U,xe),O=h(br,O,Ee),we===null?me=br:we.sibling=br,we=br,xe=vt}if(Be.done)return s(U,xe),Ke&&ii(U,Ee),me;if(xe===null){for(;!Be.done;Ee++,Be=G.next())Be=ie(U,Be.value,se),Be!==null&&(O=h(Be,O,Ee),we===null?me=Be:we.sibling=Be,we=Be);return Ke&&ii(U,Ee),me}for(xe=l(U,xe);!Be.done;Ee++,Be=G.next())Be=ce(xe,U,Ee,Be.value,se),Be!==null&&(e&&Be.alternate!==null&&xe.delete(Be.key===null?Ee:Be.key),O=h(Be,O,Ee),we===null?me=Be:we.sibling=Be,we=Be);return e&&xe.forEach(function(P1){return n(U,P1)}),Ke&&ii(U,Ee),me}function lt(U,O,G,se){if(typeof G=="object"&&G!==null&&G.type===R&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case N:e:{for(var me=G.key,we=O;we!==null;){if(we.key===me){if(me=G.type,me===R){if(we.tag===7){s(U,we.sibling),O=c(we,G.props.children),O.return=U,U=O;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ge&&mh(me)===we.type){s(U,we.sibling),O=c(we,G.props),O.ref=no(U,we,G),O.return=U,U=O;break e}s(U,we);break}else n(U,we);we=we.sibling}G.type===R?(O=fi(G.props.children,U.mode,se,G.key),O.return=U,U=O):(se=Ha(G.type,G.key,G.props,null,U.mode,se),se.ref=no(U,O,G),se.return=U,U=se)}return v(U);case E:e:{for(we=G.key;O!==null;){if(O.key===we)if(O.tag===4&&O.stateNode.containerInfo===G.containerInfo&&O.stateNode.implementation===G.implementation){s(U,O.sibling),O=c(O,G.children||[]),O.return=U,U=O;break e}else{s(U,O);break}else n(U,O);O=O.sibling}O=Sc(G,U.mode,se),O.return=U,U=O}return v(U);case ge:return we=G._init,lt(U,O,we(G._payload),se)}if(ot(G))return fe(U,O,G,se);if(ae(G))return pe(U,O,G,se);wa(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,O!==null&&O.tag===6?(s(U,O.sibling),O=c(O,G),O.return=U,U=O):(s(U,O),O=Ac(G,U.mode,se),O.return=U,U=O),v(U)):s(U,O)}return lt}var _i=gh(!0),yh=gh(!1),xa=xr(null),Aa=null,zi=null,bu=null;function Fu(){bu=zi=Aa=null}function Nu(e){var n=xa.current;We(xa),e._currentValue=n}function Du(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Ui(e,n){Aa=e,bu=zi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Ut=!0),e.firstContext=null)}function fn(e){var n=e._currentValue;if(bu!==e)if(e={context:e,memoizedValue:n,next:null},zi===null){if(Aa===null)throw Error(i(308));zi=e,Aa.dependencies={lanes:0,firstContext:e}}else zi=zi.next=e;return n}var si=null;function ju(e){si===null?si=[e]:si.push(e)}function vh(e,n,s,l){var c=n.interleaved;return c===null?(s.next=s,ju(n)):(s.next=c.next,c.next=s),n.interleaved=s,Jn(e,l)}function Jn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Er=!1;function Bu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function kr(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,De&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,Jn(e,s)}return c=l.interleaved,c===null?(n.next=n,ju(l)):(n.next=c.next,c.next=n),l.interleaved=n,Jn(e,s)}function Sa(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Xl(e,s)}}function xh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var v={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?c=h=v:h=h.next=v,s=s.next}while(s!==null);h===null?c=h=n:h=h.next=n}else c=h=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Ea(e,n,s,l){var c=e.updateQueue;Er=!1;var h=c.firstBaseUpdate,v=c.lastBaseUpdate,P=c.shared.pending;if(P!==null){c.shared.pending=null;var D=P,W=D.next;D.next=null,v===null?h=W:v.next=W,v=D;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,P=ne.lastBaseUpdate,P!==v&&(P===null?ne.firstBaseUpdate=W:P.next=W,ne.lastBaseUpdate=D))}if(h!==null){var ie=c.baseState;v=0,ne=W=D=null,P=h;do{var ee=P.lane,ce=P.eventTime;if((l&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var fe=e,pe=P;switch(ee=n,ce=s,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ie=fe.call(ce,ie,ee);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ee=typeof fe=="function"?fe.call(ce,ie,ee):fe,ee==null)break e;ie=re({},ie,ee);break e;case 2:Er=!0}}P.callback!==null&&P.lane!==0&&(e.flags|=64,ee=c.effects,ee===null?c.effects=[P]:ee.push(P))}else ce={eventTime:ce,lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ne===null?(W=ne=ce,D=ie):ne=ne.next=ce,v|=ee;if(P=P.next,P===null){if(P=c.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,c.lastBaseUpdate=ee,c.shared.pending=null}}while(!0);if(ne===null&&(D=ie),c.baseState=D,c.firstBaseUpdate=W,c.lastBaseUpdate=ne,n=c.shared.interleaved,n!==null){c=n;do v|=c.lane,c=c.next;while(c!==n)}else h===null&&(c.shared.lanes=0);li|=v,e.lanes=v,e.memoizedState=ie}}function Ah(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],c=l.callback;if(c!==null){if(l.callback=null,l=s,typeof c!="function")throw Error(i(191,c));c.call(l)}}}var ro={},Dn=xr(ro),io=xr(ro),so=xr(ro);function oi(e){if(e===ro)throw Error(i(174));return e}function Lu(e,n){switch(Ge(so,n),Ge(io,e),Ge(Dn,ro),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Nt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Nt(n,e)}We(Dn),Ge(Dn,n)}function Hi(){We(Dn),We(io),We(so)}function Sh(e){oi(so.current);var n=oi(Dn.current),s=Nt(n,e.type);n!==s&&(Ge(io,e),Ge(Dn,s))}function Ou(e){io.current===e&&(We(Dn),We(io))}var Xe=xr(0);function ka(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qu=[];function _u(){for(var e=0;e<qu.length;e++)qu[e]._workInProgressVersionPrimary=null;qu.length=0}var Ca=z.ReactCurrentDispatcher,zu=z.ReactCurrentBatchConfig,ai=0,$e=null,ht=null,gt=null,Ma=!1,oo=!1,ao=0,Xv=0;function Rt(){throw Error(i(321))}function Uu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Sn(e[s],n[s]))return!1;return!0}function Hu(e,n,s,l,c,h){if(ai=h,$e=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ca.current=e===null||e.memoizedState===null?e1:t1,e=s(l,c),oo){h=0;do{if(oo=!1,ao=0,25<=h)throw Error(i(301));h+=1,gt=ht=null,n.updateQueue=null,Ca.current=n1,e=s(l,c)}while(oo)}if(Ca.current=Ta,n=ht!==null&&ht.next!==null,ai=0,gt=ht=$e=null,Ma=!1,n)throw Error(i(300));return e}function Gu(){var e=ao!==0;return ao=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?$e.memoizedState=gt=e:gt=gt.next=e,gt}function hn(){if(ht===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var n=gt===null?$e.memoizedState:gt.next;if(n!==null)gt=n,ht=e;else{if(e===null)throw Error(i(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},gt===null?$e.memoizedState=gt=e:gt=gt.next=e}return gt}function lo(e,n){return typeof n=="function"?n(e):n}function Vu(e){var n=hn(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=ht,c=l.baseQueue,h=s.pending;if(h!==null){if(c!==null){var v=c.next;c.next=h.next,h.next=v}l.baseQueue=c=h,s.pending=null}if(c!==null){h=c.next,l=l.baseState;var P=v=null,D=null,W=h;do{var ne=W.lane;if((ai&ne)===ne)D!==null&&(D=D.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),l=W.hasEagerState?W.eagerState:e(l,W.action);else{var ie={lane:ne,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};D===null?(P=D=ie,v=l):D=D.next=ie,$e.lanes|=ne,li|=ne}W=W.next}while(W!==null&&W!==h);D===null?v=l:D.next=P,Sn(l,n.memoizedState)||(Ut=!0),n.memoizedState=l,n.baseState=v,n.baseQueue=D,s.lastRenderedState=l}if(e=s.interleaved,e!==null){c=e;do h=c.lane,$e.lanes|=h,li|=h,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Wu(e){var n=hn(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,h=n.memoizedState;if(c!==null){s.pending=null;var v=c=c.next;do h=e(h,v.action),v=v.next;while(v!==c);Sn(h,n.memoizedState)||(Ut=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,l]}function Eh(){}function kh(e,n){var s=$e,l=hn(),c=n(),h=!Sn(l.memoizedState,c);if(h&&(l.memoizedState=c,Ut=!0),l=l.queue,Qu(Rh.bind(null,s,l,e),[e]),l.getSnapshot!==n||h||gt!==null&&gt.memoizedState.tag&1){if(s.flags|=2048,uo(9,Mh.bind(null,s,l,c,n),void 0,null),yt===null)throw Error(i(349));ai&30||Ch(s,n,c)}return c}function Ch(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=$e.updateQueue,n===null?(n={lastEffect:null,stores:null},$e.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Mh(e,n,s,l){n.value=s,n.getSnapshot=l,Ph(n)&&Th(e)}function Rh(e,n,s){return s(function(){Ph(n)&&Th(e)})}function Ph(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Sn(e,s)}catch{return!0}}function Th(e){var n=Jn(e,1);n!==null&&Rn(n,e,1,-1)}function Ih(e){var n=jn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e},n.queue=e,e=e.dispatch=Zv.bind(null,$e,e),[n.memoizedState,e]}function uo(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=$e.updateQueue,n===null?(n={lastEffect:null,stores:null},$e.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function bh(){return hn().memoizedState}function Ra(e,n,s,l){var c=jn();$e.flags|=e,c.memoizedState=uo(1|n,s,void 0,l===void 0?null:l)}function Pa(e,n,s,l){var c=hn();l=l===void 0?null:l;var h=void 0;if(ht!==null){var v=ht.memoizedState;if(h=v.destroy,l!==null&&Uu(l,v.deps)){c.memoizedState=uo(n,s,h,l);return}}$e.flags|=e,c.memoizedState=uo(1|n,s,h,l)}function Fh(e,n){return Ra(8390656,8,e,n)}function Qu(e,n){return Pa(2048,8,e,n)}function Nh(e,n){return Pa(4,2,e,n)}function Dh(e,n){return Pa(4,4,e,n)}function jh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bh(e,n,s){return s=s!=null?s.concat([e]):null,Pa(4,4,jh.bind(null,n,e),s)}function Ku(){}function Lh(e,n){var s=hn();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Uu(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Oh(e,n){var s=hn();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Uu(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function qh(e,n,s){return ai&21?(Sn(s,n)||(s=mf(),$e.lanes|=s,li|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=s)}function $v(e,n){var s=ze;ze=s!==0&&4>s?s:4,e(!0);var l=zu.transition;zu.transition={};try{e(!1),n()}finally{ze=s,zu.transition=l}}function _h(){return hn().memoizedState}function Jv(e,n,s){var l=Pr(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},zh(e))Uh(n,s);else if(s=vh(e,n,s,l),s!==null){var c=Lt();Rn(s,e,l,c),Hh(s,n,l)}}function Zv(e,n,s){var l=Pr(e),c={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(zh(e))Uh(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var v=n.lastRenderedState,P=h(v,s);if(c.hasEagerState=!0,c.eagerState=P,Sn(P,v)){var D=n.interleaved;D===null?(c.next=c,ju(n)):(c.next=D.next,D.next=c),n.interleaved=c;return}}catch{}finally{}s=vh(e,n,c,l),s!==null&&(c=Lt(),Rn(s,e,l,c),Hh(s,n,l))}}function zh(e){var n=e.alternate;return e===$e||n!==null&&n===$e}function Uh(e,n){oo=Ma=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Hh(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Xl(e,s)}}var Ta={readContext:fn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},e1={readContext:fn,useCallback:function(e,n){return jn().memoizedState=[e,n===void 0?null:n],e},useContext:fn,useEffect:Fh,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Ra(4194308,4,jh.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ra(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ra(4,2,e,n)},useMemo:function(e,n){var s=jn();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=jn();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Jv.bind(null,$e,e),[l.memoizedState,e]},useRef:function(e){var n=jn();return e={current:e},n.memoizedState=e},useState:Ih,useDebugValue:Ku,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=Ih(!1),n=e[0];return e=$v.bind(null,e[1]),jn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=$e,c=jn();if(Ke){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),yt===null)throw Error(i(349));ai&30||Ch(l,n,s)}c.memoizedState=s;var h={value:s,getSnapshot:n};return c.queue=h,Fh(Rh.bind(null,l,h,e),[e]),l.flags|=2048,uo(9,Mh.bind(null,l,h,s,n),void 0,null),s},useId:function(){var e=jn(),n=yt.identifierPrefix;if(Ke){var s=$n,l=Xn;s=(l&~(1<<32-An(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=ao++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Xv++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},t1={readContext:fn,useCallback:Lh,useContext:fn,useEffect:Qu,useImperativeHandle:Bh,useInsertionEffect:Nh,useLayoutEffect:Dh,useMemo:Oh,useReducer:Vu,useRef:bh,useState:function(){return Vu(lo)},useDebugValue:Ku,useDeferredValue:function(e){var n=hn();return qh(n,ht.memoizedState,e)},useTransition:function(){var e=Vu(lo)[0],n=hn().memoizedState;return[e,n]},useMutableSource:Eh,useSyncExternalStore:kh,useId:_h,unstable_isNewReconciler:!1},n1={readContext:fn,useCallback:Lh,useContext:fn,useEffect:Qu,useImperativeHandle:Bh,useInsertionEffect:Nh,useLayoutEffect:Dh,useMemo:Oh,useReducer:Wu,useRef:bh,useState:function(){return Wu(lo)},useDebugValue:Ku,useDeferredValue:function(e){var n=hn();return ht===null?n.memoizedState=e:qh(n,ht.memoizedState,e)},useTransition:function(){var e=Wu(lo)[0],n=hn().memoizedState;return[e,n]},useMutableSource:Eh,useSyncExternalStore:kh,useId:_h,unstable_isNewReconciler:!1};function kn(e,n){if(e&&e.defaultProps){n=re({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Yu(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:re({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ia={isMounted:function(e){return(e=e._reactInternals)?ei(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Lt(),c=Pr(e),h=Zn(l,c);h.payload=n,s!=null&&(h.callback=s),n=kr(e,h,c),n!==null&&(Rn(n,e,c,l),Sa(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Lt(),c=Pr(e),h=Zn(l,c);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=kr(e,h,c),n!==null&&(Rn(n,e,c,l),Sa(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Lt(),l=Pr(e),c=Zn(s,l);c.tag=2,n!=null&&(c.callback=n),n=kr(e,c,l),n!==null&&(Rn(n,e,l,s),Sa(n,e,l))}};function Gh(e,n,s,l,c,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,v):n.prototype&&n.prototype.isPureReactComponent?!Ys(s,l)||!Ys(c,h):!0}function Vh(e,n,s){var l=!1,c=Ar,h=n.contextType;return typeof h=="object"&&h!==null?h=fn(h):(c=zt(n)?ni:Mt.current,l=n.contextTypes,h=(l=l!=null)?Bi(e,c):Ar),n=new n(s,h),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ia,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),n}function Wh(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Ia.enqueueReplaceState(n,n.state,null)}function Xu(e,n,s,l){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Bu(e);var h=n.contextType;typeof h=="object"&&h!==null?c.context=fn(h):(h=zt(n)?ni:Mt.current,c.context=Bi(e,h)),c.state=e.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Yu(e,n,h,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Ia.enqueueReplaceState(c,c.state,null),Ea(e,s,c,l),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Gi(e,n){try{var s="",l=n;do s+=Pe(l),l=l.return;while(l);var c=s}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:n,stack:c,digest:null}}function $u(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Ju(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var r1=typeof WeakMap=="function"?WeakMap:Map;function Qh(e,n,s){s=Zn(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){La||(La=!0,hc=l),Ju(e,n)},s}function Kh(e,n,s){s=Zn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var c=n.value;s.payload=function(){return l(c)},s.callback=function(){Ju(e,n)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){Ju(e,n),typeof l!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})}),s}function Yh(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new r1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(c.add(s),e=y1.bind(null,e,n,s),n.then(e,e))}function Xh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function $h(e,n,s,l,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Zn(-1,1),n.tag=2,kr(s,n,1))),s.lanes|=1),e)}var i1=z.ReactCurrentOwner,Ut=!1;function Bt(e,n,s,l){n.child=e===null?yh(n,null,s,l):_i(n,e.child,s,l)}function Jh(e,n,s,l,c){s=s.render;var h=n.ref;return Ui(n,c),l=Hu(e,n,s,l,h,c),s=Gu(),e!==null&&!Ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,er(e,n,c)):(Ke&&s&&Mu(n),n.flags|=1,Bt(e,n,l,c),n.child)}function Zh(e,n,s,l,c){if(e===null){var h=s.type;return typeof h=="function"&&!xc(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=h,ep(e,n,h,l,c)):(e=Ha(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!(e.lanes&c)){var v=h.memoizedProps;if(s=s.compare,s=s!==null?s:Ys,s(v,l)&&e.ref===n.ref)return er(e,n,c)}return n.flags|=1,e=Ir(h,l),e.ref=n.ref,e.return=n,n.child=e}function ep(e,n,s,l,c){if(e!==null){var h=e.memoizedProps;if(Ys(h,l)&&e.ref===n.ref)if(Ut=!1,n.pendingProps=l=h,(e.lanes&c)!==0)e.flags&131072&&(Ut=!0);else return n.lanes=e.lanes,er(e,n,c)}return Zu(e,n,s,l,c)}function tp(e,n,s){var l=n.pendingProps,c=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Wi,tn),tn|=s;else{if(!(s&1073741824))return e=h!==null?h.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ge(Wi,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:s,Ge(Wi,tn),tn|=l}else h!==null?(l=h.baseLanes|s,n.memoizedState=null):l=s,Ge(Wi,tn),tn|=l;return Bt(e,n,c,s),n.child}function np(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Zu(e,n,s,l,c){var h=zt(s)?ni:Mt.current;return h=Bi(n,h),Ui(n,c),s=Hu(e,n,s,l,h,c),l=Gu(),e!==null&&!Ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,er(e,n,c)):(Ke&&l&&Mu(n),n.flags|=1,Bt(e,n,s,c),n.child)}function rp(e,n,s,l,c){if(zt(s)){var h=!0;pa(n)}else h=!1;if(Ui(n,c),n.stateNode===null)Fa(e,n),Vh(n,s,l),Xu(n,s,l,c),l=!0;else if(e===null){var v=n.stateNode,P=n.memoizedProps;v.props=P;var D=v.context,W=s.contextType;typeof W=="object"&&W!==null?W=fn(W):(W=zt(s)?ni:Mt.current,W=Bi(n,W));var ne=s.getDerivedStateFromProps,ie=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function";ie||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P!==l||D!==W)&&Wh(n,v,l,W),Er=!1;var ee=n.memoizedState;v.state=ee,Ea(n,l,v,c),D=n.memoizedState,P!==l||ee!==D||_t.current||Er?(typeof ne=="function"&&(Yu(n,s,ne,l),D=n.memoizedState),(P=Er||Gh(n,s,P,l,ee,D,W))?(ie||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=D),v.props=l,v.state=D,v.context=W,l=P):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{v=n.stateNode,wh(e,n),P=n.memoizedProps,W=n.type===n.elementType?P:kn(n.type,P),v.props=W,ie=n.pendingProps,ee=v.context,D=s.contextType,typeof D=="object"&&D!==null?D=fn(D):(D=zt(s)?ni:Mt.current,D=Bi(n,D));var ce=s.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P!==ie||ee!==D)&&Wh(n,v,l,D),Er=!1,ee=n.memoizedState,v.state=ee,Ea(n,l,v,c);var fe=n.memoizedState;P!==ie||ee!==fe||_t.current||Er?(typeof ce=="function"&&(Yu(n,s,ce,l),fe=n.memoizedState),(W=Er||Gh(n,s,W,l,ee,fe,D)||!1)?(ne||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,fe,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,fe,D)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=fe),v.props=l,v.state=fe,v.context=D,l=W):(typeof v.componentDidUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),l=!1)}return ec(e,n,s,l,h,c)}function ec(e,n,s,l,c,h){np(e,n);var v=(n.flags&128)!==0;if(!l&&!v)return c&&lh(n,s,!1),er(e,n,h);l=n.stateNode,i1.current=n;var P=v&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&v?(n.child=_i(n,e.child,null,h),n.child=_i(n,null,P,h)):Bt(e,n,P,h),n.memoizedState=l.state,c&&lh(n,s,!0),n.child}function ip(e){var n=e.stateNode;n.pendingContext?oh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&oh(e,n.context,!1),Lu(e,n.containerInfo)}function sp(e,n,s,l,c){return qi(),Iu(c),n.flags|=256,Bt(e,n,s,l),n.child}var tc={dehydrated:null,treeContext:null,retryLane:0};function nc(e){return{baseLanes:e,cachePool:null,transitions:null}}function op(e,n,s){var l=n.pendingProps,c=Xe.current,h=!1,v=(n.flags&128)!==0,P;if((P=v)||(P=e!==null&&e.memoizedState===null?!1:(c&2)!==0),P?(h=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ge(Xe,c&1),e===null)return Tu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(v=l.children,e=l.fallback,h?(l=n.mode,h=n.child,v={mode:"hidden",children:v},!(l&1)&&h!==null?(h.childLanes=0,h.pendingProps=v):h=Ga(v,l,0,null),e=fi(e,l,s,null),h.return=n,e.return=n,h.sibling=e,n.child=h,n.child.memoizedState=nc(s),n.memoizedState=tc,e):rc(n,v));if(c=e.memoizedState,c!==null&&(P=c.dehydrated,P!==null))return s1(e,n,v,l,P,c,s);if(h){h=l.fallback,v=n.mode,c=e.child,P=c.sibling;var D={mode:"hidden",children:l.children};return!(v&1)&&n.child!==c?(l=n.child,l.childLanes=0,l.pendingProps=D,n.deletions=null):(l=Ir(c,D),l.subtreeFlags=c.subtreeFlags&14680064),P!==null?h=Ir(P,h):(h=fi(h,v,s,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,v=e.child.memoizedState,v=v===null?nc(s):{baseLanes:v.baseLanes|s,cachePool:null,transitions:v.transitions},h.memoizedState=v,h.childLanes=e.childLanes&~s,n.memoizedState=tc,l}return h=e.child,e=h.sibling,l=Ir(h,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function rc(e,n){return n=Ga({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function ba(e,n,s,l){return l!==null&&Iu(l),_i(n,e.child,null,s),e=rc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function s1(e,n,s,l,c,h,v){if(s)return n.flags&256?(n.flags&=-257,l=$u(Error(i(422))),ba(e,n,v,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(h=l.fallback,c=n.mode,l=Ga({mode:"visible",children:l.children},c,0,null),h=fi(h,c,v,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,n.mode&1&&_i(n,e.child,null,v),n.child.memoizedState=nc(v),n.memoizedState=tc,h);if(!(n.mode&1))return ba(e,n,v,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var P=l.dgst;return l=P,h=Error(i(419)),l=$u(h,l,void 0),ba(e,n,v,l)}if(P=(v&e.childLanes)!==0,Ut||P){if(l=yt,l!==null){switch(v&-v){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(l.suspendedLanes|v)?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Jn(e,c),Rn(l,e,c,-1))}return wc(),l=$u(Error(i(421))),ba(e,n,v,l)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=v1.bind(null,e),c._reactRetry=n,null):(e=h.treeContext,en=wr(c.nextSibling),Zt=n,Ke=!0,En=null,e!==null&&(cn[dn++]=Xn,cn[dn++]=$n,cn[dn++]=ri,Xn=e.id,$n=e.overflow,ri=n),n=rc(n,l.children),n.flags|=4096,n)}function ap(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Du(e.return,n,s)}function ic(e,n,s,l,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=s,h.tailMode=c)}function lp(e,n,s){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(Bt(e,n,l.children,s),l=Xe.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ap(e,s,n);else if(e.tag===19)ap(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ge(Xe,l),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&ka(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),ic(n,!1,c,s,h);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ka(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}ic(n,!0,s,null,h);break;case"together":ic(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Fa(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function er(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),li|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,s=Ir(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ir(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function o1(e,n,s){switch(n.tag){case 3:ip(n),qi();break;case 5:Sh(n);break;case 1:zt(n.type)&&pa(n);break;case 4:Lu(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,c=n.memoizedProps.value;Ge(xa,l._currentValue),l._currentValue=c;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Ge(Xe,Xe.current&1),n.flags|=128,null):s&n.child.childLanes?op(e,n,s):(Ge(Xe,Xe.current&1),e=er(e,n,s),e!==null?e.sibling:null);Ge(Xe,Xe.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return lp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ge(Xe,Xe.current),l)break;return null;case 22:case 23:return n.lanes=0,tp(e,n,s)}return er(e,n,s)}var up,sc,cp,dp;up=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},sc=function(){},cp=function(e,n,s,l){var c=e.memoizedProps;if(c!==l){e=n.stateNode,oi(Dn.current);var h=null;switch(s){case"input":c=ye(e,c),l=ye(e,l),h=[];break;case"select":c=re({},c,{value:void 0}),l=re({},l,{value:void 0}),h=[];break;case"textarea":c=Xr(e,c),l=Xr(e,l),h=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=da)}Ci(s,l);var v;s=null;for(W in c)if(!l.hasOwnProperty(W)&&c.hasOwnProperty(W)&&c[W]!=null)if(W==="style"){var P=c[W];for(v in P)P.hasOwnProperty(v)&&(s||(s={}),s[v]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(a.hasOwnProperty(W)?h||(h=[]):(h=h||[]).push(W,null));for(W in l){var D=l[W];if(P=c!=null?c[W]:void 0,l.hasOwnProperty(W)&&D!==P&&(D!=null||P!=null))if(W==="style")if(P){for(v in P)!P.hasOwnProperty(v)||D&&D.hasOwnProperty(v)||(s||(s={}),s[v]="");for(v in D)D.hasOwnProperty(v)&&P[v]!==D[v]&&(s||(s={}),s[v]=D[v])}else s||(h||(h=[]),h.push(W,s)),s=D;else W==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,P=P?P.__html:void 0,D!=null&&P!==D&&(h=h||[]).push(W,D)):W==="children"?typeof D!="string"&&typeof D!="number"||(h=h||[]).push(W,""+D):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(a.hasOwnProperty(W)?(D!=null&&W==="onScroll"&&Ve("scroll",e),h||P===D||(h=[])):(h=h||[]).push(W,D))}s&&(h=h||[]).push("style",s);var W=h;(n.updateQueue=W)&&(n.flags|=4)}},dp=function(e,n,s,l){s!==l&&(n.flags|=4)};function co(e,n){if(!Ke)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function a1(e,n,s){var l=n.pendingProps;switch(Ru(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(n),null;case 1:return zt(n.type)&&ha(),Pt(n),null;case 3:return l=n.stateNode,Hi(),We(_t),We(Mt),_u(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(va(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,En!==null&&(gc(En),En=null))),sc(e,n),Pt(n),null;case 5:Ou(n);var c=oi(so.current);if(s=n.type,e!==null&&n.stateNode!=null)cp(e,n,s,l,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(i(166));return Pt(n),null}if(e=oi(Dn.current),va(n)){l=n.stateNode,s=n.type;var h=n.memoizedProps;switch(l[Nn]=n,l[eo]=h,e=(n.mode&1)!==0,s){case"dialog":Ve("cancel",l),Ve("close",l);break;case"iframe":case"object":case"embed":Ve("load",l);break;case"video":case"audio":for(c=0;c<$s.length;c++)Ve($s[c],l);break;case"source":Ve("error",l);break;case"img":case"image":case"link":Ve("error",l),Ve("load",l);break;case"details":Ve("toggle",l);break;case"input":Me(l,h),Ve("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},Ve("invalid",l);break;case"textarea":ki(l,h),Ve("invalid",l)}Ci(s,h),c=null;for(var v in h)if(h.hasOwnProperty(v)){var P=h[v];v==="children"?typeof P=="string"?l.textContent!==P&&(h.suppressHydrationWarning!==!0&&ca(l.textContent,P,e),c=["children",P]):typeof P=="number"&&l.textContent!==""+P&&(h.suppressHydrationWarning!==!0&&ca(l.textContent,P,e),c=["children",""+P]):a.hasOwnProperty(v)&&P!=null&&v==="onScroll"&&Ve("scroll",l)}switch(s){case"input":bt(l),et(l,h,!0);break;case"textarea":bt(l),Jr(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=da)}l=c,n.updateQueue=l,l!==null&&(n.flags|=4)}else{v=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cr(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=v.createElement(s,{is:l.is}):(e=v.createElement(s),s==="select"&&(v=e,l.multiple?v.multiple=!0:l.size&&(v.size=l.size))):e=v.createElementNS(e,s),e[Nn]=n,e[eo]=l,up(e,n,!1,!1),n.stateNode=e;e:{switch(v=Mi(s,l),s){case"dialog":Ve("cancel",e),Ve("close",e),c=l;break;case"iframe":case"object":case"embed":Ve("load",e),c=l;break;case"video":case"audio":for(c=0;c<$s.length;c++)Ve($s[c],e);c=l;break;case"source":Ve("error",e),c=l;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),c=l;break;case"details":Ve("toggle",e),c=l;break;case"input":Me(e,l),c=ye(e,l),Ve("invalid",e);break;case"option":c=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},c=re({},l,{value:void 0}),Ve("invalid",e);break;case"textarea":ki(e,l),c=Xr(e,l),Ve("invalid",e);break;default:c=l}Ci(s,c),P=c;for(h in P)if(P.hasOwnProperty(h)){var D=P[h];h==="style"?Ns(e,D):h==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Vn(e,D)):h==="children"?typeof D=="string"?(s!=="textarea"||D!=="")&&mt(e,D):typeof D=="number"&&mt(e,""+D):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(a.hasOwnProperty(h)?D!=null&&h==="onScroll"&&Ve("scroll",e):D!=null&&F(e,h,D,v))}switch(s){case"input":bt(e),et(e,l,!1);break;case"textarea":bt(e),Jr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Fe(l.value));break;case"select":e.multiple=!!l.multiple,h=l.value,h!=null?Ft(e,!!l.multiple,h,!1):l.defaultValue!=null&&Ft(e,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=da)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Pt(n),null;case 6:if(e&&n.stateNode!=null)dp(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(s=oi(so.current),oi(Dn.current),va(n)){if(l=n.stateNode,s=n.memoizedProps,l[Nn]=n,(h=l.nodeValue!==s)&&(e=Zt,e!==null))switch(e.tag){case 3:ca(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ca(l.nodeValue,s,(e.mode&1)!==0)}h&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Nn]=n,n.stateNode=l}return Pt(n),null;case 13:if(We(Xe),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&en!==null&&n.mode&1&&!(n.flags&128))ph(),qi(),n.flags|=98560,h=!1;else if(h=va(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Nn]=n}else qi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Pt(n),h=!1}else En!==null&&(gc(En),En=null),h=!0;if(!h)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Xe.current&1?pt===0&&(pt=3):wc())),n.updateQueue!==null&&(n.flags|=4),Pt(n),null);case 4:return Hi(),sc(e,n),e===null&&Js(n.stateNode.containerInfo),Pt(n),null;case 10:return Nu(n.type._context),Pt(n),null;case 17:return zt(n.type)&&ha(),Pt(n),null;case 19:if(We(Xe),h=n.memoizedState,h===null)return Pt(n),null;if(l=(n.flags&128)!==0,v=h.rendering,v===null)if(l)co(h,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(v=ka(e),v!==null){for(n.flags|=128,co(h,!1),l=v.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)h=s,e=l,h.flags&=14680066,v=h.alternate,v===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=v.childLanes,h.lanes=v.lanes,h.child=v.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=v.memoizedProps,h.memoizedState=v.memoizedState,h.updateQueue=v.updateQueue,h.type=v.type,e=v.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ge(Xe,Xe.current&1|2),n.child}e=e.sibling}h.tail!==null&&at()>Qi&&(n.flags|=128,l=!0,co(h,!1),n.lanes=4194304)}else{if(!l)if(e=ka(v),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),co(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!Ke)return Pt(n),null}else 2*at()-h.renderingStartTime>Qi&&s!==1073741824&&(n.flags|=128,l=!0,co(h,!1),n.lanes=4194304);h.isBackwards?(v.sibling=n.child,n.child=v):(s=h.last,s!==null?s.sibling=v:n.child=v,h.last=v)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=at(),n.sibling=null,s=Xe.current,Ge(Xe,l?s&1|2:s&1),n):(Pt(n),null);case 22:case 23:return vc(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?tn&1073741824&&(Pt(n),n.subtreeFlags&6&&(n.flags|=8192)):Pt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function l1(e,n){switch(Ru(n),n.tag){case 1:return zt(n.type)&&ha(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hi(),We(_t),We(Mt),_u(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Ou(n),null;case 13:if(We(Xe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));qi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return We(Xe),null;case 4:return Hi(),null;case 10:return Nu(n.type._context),null;case 22:case 23:return vc(),null;case 24:return null;default:return null}}var Na=!1,Tt=!1,u1=typeof WeakSet=="function"?WeakSet:Set,de=null;function Vi(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){rt(e,n,l)}else s.current=null}function oc(e,n,s){try{s()}catch(l){rt(e,n,l)}}var fp=!1;function c1(e,n){if(vu=Zo,e=Gf(),cu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var v=0,P=-1,D=-1,W=0,ne=0,ie=e,ee=null;t:for(;;){for(var ce;ie!==s||c!==0&&ie.nodeType!==3||(P=v+c),ie!==h||l!==0&&ie.nodeType!==3||(D=v+l),ie.nodeType===3&&(v+=ie.nodeValue.length),(ce=ie.firstChild)!==null;)ee=ie,ie=ce;for(;;){if(ie===e)break t;if(ee===s&&++W===c&&(P=v),ee===h&&++ne===l&&(D=v),(ce=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=ce}s=P===-1||D===-1?null:{start:P,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(wu={focusedElem:e,selectionRange:s},Zo=!1,de=n;de!==null;)if(n=de,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,de=e;else for(;de!==null;){n=de;try{var fe=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,lt=fe.memoizedState,U=n.stateNode,O=U.getSnapshotBeforeUpdate(n.elementType===n.type?pe:kn(n.type,pe),lt);U.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var G=n.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(se){rt(n,n.return,se)}if(e=n.sibling,e!==null){e.return=n.return,de=e;break}de=n.return}return fe=fp,fp=!1,fe}function fo(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&oc(n,s,h)}c=c.next}while(c!==l)}}function Da(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function ac(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function hp(e){var n=e.alternate;n!==null&&(e.alternate=null,hp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Nn],delete n[eo],delete n[Eu],delete n[Wv],delete n[Qv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pp(e){return e.tag===5||e.tag===3||e.tag===4}function mp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=da));else if(l!==4&&(e=e.child,e!==null))for(lc(e,n,s),e=e.sibling;e!==null;)lc(e,n,s),e=e.sibling}function uc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(uc(e,n,s),e=e.sibling;e!==null;)uc(e,n,s),e=e.sibling}var St=null,Cn=!1;function Cr(e,n,s){for(s=s.child;s!==null;)gp(e,n,s),s=s.sibling}function gp(e,n,s){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Qo,s)}catch{}switch(s.tag){case 5:Tt||Vi(s,n);case 6:var l=St,c=Cn;St=null,Cr(e,n,s),St=l,Cn=c,St!==null&&(Cn?(e=St,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):St.removeChild(s.stateNode));break;case 18:St!==null&&(Cn?(e=St,s=s.stateNode,e.nodeType===8?Su(e.parentNode,s):e.nodeType===1&&Su(e,s),Hs(e)):Su(St,s.stateNode));break;case 4:l=St,c=Cn,St=s.stateNode.containerInfo,Cn=!0,Cr(e,n,s),St=l,Cn=c;break;case 0:case 11:case 14:case 15:if(!Tt&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var h=c,v=h.destroy;h=h.tag,v!==void 0&&(h&2||h&4)&&oc(s,n,v),c=c.next}while(c!==l)}Cr(e,n,s);break;case 1:if(!Tt&&(Vi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(P){rt(s,n,P)}Cr(e,n,s);break;case 21:Cr(e,n,s);break;case 22:s.mode&1?(Tt=(l=Tt)||s.memoizedState!==null,Cr(e,n,s),Tt=l):Cr(e,n,s);break;default:Cr(e,n,s)}}function yp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new u1),n.forEach(function(l){var c=w1.bind(null,e,l);s.has(l)||(s.add(l),l.then(c,c))})}}function Mn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];try{var h=e,v=n,P=v;e:for(;P!==null;){switch(P.tag){case 5:St=P.stateNode,Cn=!1;break e;case 3:St=P.stateNode.containerInfo,Cn=!0;break e;case 4:St=P.stateNode.containerInfo,Cn=!0;break e}P=P.return}if(St===null)throw Error(i(160));gp(h,v,c),St=null,Cn=!1;var D=c.alternate;D!==null&&(D.return=null),c.return=null}catch(W){rt(c,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)vp(n,e),n=n.sibling}function vp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mn(n,e),Bn(e),l&4){try{fo(3,e,e.return),Da(3,e)}catch(pe){rt(e,e.return,pe)}try{fo(5,e,e.return)}catch(pe){rt(e,e.return,pe)}}break;case 1:Mn(n,e),Bn(e),l&512&&s!==null&&Vi(s,s.return);break;case 5:if(Mn(n,e),Bn(e),l&512&&s!==null&&Vi(s,s.return),e.flags&32){var c=e.stateNode;try{mt(c,"")}catch(pe){rt(e,e.return,pe)}}if(l&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,v=s!==null?s.memoizedProps:h,P=e.type,D=e.updateQueue;if(e.updateQueue=null,D!==null)try{P==="input"&&h.type==="radio"&&h.name!=null&&Re(c,h),Mi(P,v);var W=Mi(P,h);for(v=0;v<D.length;v+=2){var ne=D[v],ie=D[v+1];ne==="style"?Ns(c,ie):ne==="dangerouslySetInnerHTML"?Vn(c,ie):ne==="children"?mt(c,ie):F(c,ne,ie,W)}switch(P){case"input":_e(c,h);break;case"textarea":$r(c,h);break;case"select":var ee=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var ce=h.value;ce!=null?Ft(c,!!h.multiple,ce,!1):ee!==!!h.multiple&&(h.defaultValue!=null?Ft(c,!!h.multiple,h.defaultValue,!0):Ft(c,!!h.multiple,h.multiple?[]:"",!1))}c[eo]=h}catch(pe){rt(e,e.return,pe)}}break;case 6:if(Mn(n,e),Bn(e),l&4){if(e.stateNode===null)throw Error(i(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(pe){rt(e,e.return,pe)}}break;case 3:if(Mn(n,e),Bn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Hs(n.containerInfo)}catch(pe){rt(e,e.return,pe)}break;case 4:Mn(n,e),Bn(e);break;case 13:Mn(n,e),Bn(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(fc=at())),l&4&&yp(e);break;case 22:if(ne=s!==null&&s.memoizedState!==null,e.mode&1?(Tt=(W=Tt)||ne,Mn(n,e),Tt=W):Mn(n,e),Bn(e),l&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!ne&&e.mode&1)for(de=e,ne=e.child;ne!==null;){for(ie=de=ne;de!==null;){switch(ee=de,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:fo(4,ee,ee.return);break;case 1:Vi(ee,ee.return);var fe=ee.stateNode;if(typeof fe.componentWillUnmount=="function"){l=ee,s=ee.return;try{n=l,fe.props=n.memoizedProps,fe.state=n.memoizedState,fe.componentWillUnmount()}catch(pe){rt(l,s,pe)}}break;case 5:Vi(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Ap(ie);continue}}ce!==null?(ce.return=ee,de=ce):Ap(ie)}ne=ne.sibling}e:for(ne=null,ie=e;;){if(ie.tag===5){if(ne===null){ne=ie;try{c=ie.stateNode,W?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(P=ie.stateNode,D=ie.memoizedProps.style,v=D!=null&&D.hasOwnProperty("display")?D.display:null,P.style.display=dr("display",v))}catch(pe){rt(e,e.return,pe)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=W?"":ie.memoizedProps}catch(pe){rt(e,e.return,pe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===e)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===e)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===e)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Mn(n,e),Bn(e),l&4&&yp(e);break;case 21:break;default:Mn(n,e),Bn(e)}}function Bn(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(pp(s)){var l=s;break e}s=s.return}throw Error(i(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(mt(c,""),l.flags&=-33);var h=mp(e);uc(e,h,c);break;case 3:case 4:var v=l.stateNode.containerInfo,P=mp(e);lc(e,P,v);break;default:throw Error(i(161))}}catch(D){rt(e,e.return,D)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function d1(e,n,s){de=e,wp(e)}function wp(e,n,s){for(var l=(e.mode&1)!==0;de!==null;){var c=de,h=c.child;if(c.tag===22&&l){var v=c.memoizedState!==null||Na;if(!v){var P=c.alternate,D=P!==null&&P.memoizedState!==null||Tt;P=Na;var W=Tt;if(Na=v,(Tt=D)&&!W)for(de=c;de!==null;)v=de,D=v.child,v.tag===22&&v.memoizedState!==null?Sp(c):D!==null?(D.return=v,de=D):Sp(c);for(;h!==null;)de=h,wp(h),h=h.sibling;de=c,Na=P,Tt=W}xp(e)}else c.subtreeFlags&8772&&h!==null?(h.return=c,de=h):xp(e)}}function xp(e){for(;de!==null;){var n=de;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Tt||Da(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Tt)if(s===null)l.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:kn(n.type,s.memoizedProps);l.componentDidUpdate(c,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&Ah(n,h,l);break;case 3:var v=n.updateQueue;if(v!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Ah(n,v,s)}break;case 5:var P=n.stateNode;if(s===null&&n.flags&4){s=P;var D=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&s.focus();break;case"img":D.src&&(s.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var ne=W.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&Hs(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Tt||n.flags&512&&ac(n)}catch(ee){rt(n,n.return,ee)}}if(n===e){de=null;break}if(s=n.sibling,s!==null){s.return=n.return,de=s;break}de=n.return}}function Ap(e){for(;de!==null;){var n=de;if(n===e){de=null;break}var s=n.sibling;if(s!==null){s.return=n.return,de=s;break}de=n.return}}function Sp(e){for(;de!==null;){var n=de;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Da(4,n)}catch(D){rt(n,s,D)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var c=n.return;try{l.componentDidMount()}catch(D){rt(n,c,D)}}var h=n.return;try{ac(n)}catch(D){rt(n,h,D)}break;case 5:var v=n.return;try{ac(n)}catch(D){rt(n,v,D)}}}catch(D){rt(n,n.return,D)}if(n===e){de=null;break}var P=n.sibling;if(P!==null){P.return=n.return,de=P;break}de=n.return}}var f1=Math.ceil,ja=z.ReactCurrentDispatcher,cc=z.ReactCurrentOwner,pn=z.ReactCurrentBatchConfig,De=0,yt=null,ct=null,Et=0,tn=0,Wi=xr(0),pt=0,ho=null,li=0,Ba=0,dc=0,po=null,Ht=null,fc=0,Qi=1/0,tr=null,La=!1,hc=null,Mr=null,Oa=!1,Rr=null,qa=0,mo=0,pc=null,_a=-1,za=0;function Lt(){return De&6?at():_a!==-1?_a:_a=at()}function Pr(e){return e.mode&1?De&2&&Et!==0?Et&-Et:Yv.transition!==null?(za===0&&(za=mf()),za):(e=ze,e!==0||(e=window.event,e=e===void 0?16:kf(e.type)),e):1}function Rn(e,n,s,l){if(50<mo)throw mo=0,pc=null,Error(i(185));Os(e,s,l),(!(De&2)||e!==yt)&&(e===yt&&(!(De&2)&&(Ba|=s),pt===4&&Tr(e,Et)),Gt(e,l),s===1&&De===0&&!(n.mode&1)&&(Qi=at()+500,ma&&Sr()))}function Gt(e,n){var s=e.callbackNode;Y0(e,n);var l=Xo(e,e===yt?Et:0);if(l===0)s!==null&&ff(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&ff(s),n===1)e.tag===0?Kv(kp.bind(null,e)):uh(kp.bind(null,e)),Gv(function(){!(De&6)&&Sr()}),s=null;else{switch(gf(l)){case 1:s=Ql;break;case 4:s=hf;break;case 16:s=Wo;break;case 536870912:s=pf;break;default:s=Wo}s=Fp(s,Ep.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Ep(e,n){if(_a=-1,za=0,De&6)throw Error(i(327));var s=e.callbackNode;if(Ki()&&e.callbackNode!==s)return null;var l=Xo(e,e===yt?Et:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=Ua(e,l);else{n=l;var c=De;De|=2;var h=Mp();(yt!==e||Et!==n)&&(tr=null,Qi=at()+500,ci(e,n));do try{m1();break}catch(P){Cp(e,P)}while(!0);Fu(),ja.current=h,De=c,ct!==null?n=0:(yt=null,Et=0,n=pt)}if(n!==0){if(n===2&&(c=Kl(e),c!==0&&(l=c,n=mc(e,c))),n===1)throw s=ho,ci(e,0),Tr(e,l),Gt(e,at()),s;if(n===6)Tr(e,l);else{if(c=e.current.alternate,!(l&30)&&!h1(c)&&(n=Ua(e,l),n===2&&(h=Kl(e),h!==0&&(l=h,n=mc(e,h))),n===1))throw s=ho,ci(e,0),Tr(e,l),Gt(e,at()),s;switch(e.finishedWork=c,e.finishedLanes=l,n){case 0:case 1:throw Error(i(345));case 2:di(e,Ht,tr);break;case 3:if(Tr(e,l),(l&130023424)===l&&(n=fc+500-at(),10<n)){if(Xo(e,0)!==0)break;if(c=e.suspendedLanes,(c&l)!==l){Lt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Au(di.bind(null,e,Ht,tr),n);break}di(e,Ht,tr);break;case 4:if(Tr(e,l),(l&4194240)===l)break;for(n=e.eventTimes,c=-1;0<l;){var v=31-An(l);h=1<<v,v=n[v],v>c&&(c=v),l&=~h}if(l=c,l=at()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*f1(l/1960))-l,10<l){e.timeoutHandle=Au(di.bind(null,e,Ht,tr),l);break}di(e,Ht,tr);break;case 5:di(e,Ht,tr);break;default:throw Error(i(329))}}}return Gt(e,at()),e.callbackNode===s?Ep.bind(null,e):null}function mc(e,n){var s=po;return e.current.memoizedState.isDehydrated&&(ci(e,n).flags|=256),e=Ua(e,n),e!==2&&(n=Ht,Ht=s,n!==null&&gc(n)),e}function gc(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function h1(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var c=s[l],h=c.getSnapshot;c=c.value;try{if(!Sn(h(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Tr(e,n){for(n&=~dc,n&=~Ba,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-An(n),l=1<<s;e[s]=-1,n&=~l}}function kp(e){if(De&6)throw Error(i(327));Ki();var n=Xo(e,0);if(!(n&1))return Gt(e,at()),null;var s=Ua(e,n);if(e.tag!==0&&s===2){var l=Kl(e);l!==0&&(n=l,s=mc(e,l))}if(s===1)throw s=ho,ci(e,0),Tr(e,n),Gt(e,at()),s;if(s===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,di(e,Ht,tr),Gt(e,at()),null}function yc(e,n){var s=De;De|=1;try{return e(n)}finally{De=s,De===0&&(Qi=at()+500,ma&&Sr())}}function ui(e){Rr!==null&&Rr.tag===0&&!(De&6)&&Ki();var n=De;De|=1;var s=pn.transition,l=ze;try{if(pn.transition=null,ze=1,e)return e()}finally{ze=l,pn.transition=s,De=n,!(De&6)&&Sr()}}function vc(){tn=Wi.current,We(Wi)}function ci(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Hv(s)),ct!==null)for(s=ct.return;s!==null;){var l=s;switch(Ru(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&ha();break;case 3:Hi(),We(_t),We(Mt),_u();break;case 5:Ou(l);break;case 4:Hi();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:Nu(l.type._context);break;case 22:case 23:vc()}s=s.return}if(yt=e,ct=e=Ir(e.current,null),Et=tn=n,pt=0,ho=null,dc=Ba=li=0,Ht=po=null,si!==null){for(n=0;n<si.length;n++)if(s=si[n],l=s.interleaved,l!==null){s.interleaved=null;var c=l.next,h=s.pending;if(h!==null){var v=h.next;h.next=c,l.next=v}s.pending=l}si=null}return e}function Cp(e,n){do{var s=ct;try{if(Fu(),Ca.current=Ta,Ma){for(var l=$e.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Ma=!1}if(ai=0,gt=ht=$e=null,oo=!1,ao=0,cc.current=null,s===null||s.return===null){pt=1,ho=n,ct=null;break}e:{var h=e,v=s.return,P=s,D=n;if(n=Et,P.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D,ne=P,ie=ne.tag;if(!(ne.mode&1)&&(ie===0||ie===11||ie===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=Xh(v);if(ce!==null){ce.flags&=-257,$h(ce,v,P,h,n),ce.mode&1&&Yh(h,W,n),n=ce,D=W;var fe=n.updateQueue;if(fe===null){var pe=new Set;pe.add(D),n.updateQueue=pe}else fe.add(D);break e}else{if(!(n&1)){Yh(h,W,n),wc();break e}D=Error(i(426))}}else if(Ke&&P.mode&1){var lt=Xh(v);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),$h(lt,v,P,h,n),Iu(Gi(D,P));break e}}h=D=Gi(D,P),pt!==4&&(pt=2),po===null?po=[h]:po.push(h),h=v;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var U=Qh(h,D,n);xh(h,U);break e;case 1:P=D;var O=h.type,G=h.stateNode;if(!(h.flags&128)&&(typeof O.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Mr===null||!Mr.has(G)))){h.flags|=65536,n&=-n,h.lanes|=n;var se=Kh(h,P,n);xh(h,se);break e}}h=h.return}while(h!==null)}Pp(s)}catch(me){n=me,ct===s&&s!==null&&(ct=s=s.return);continue}break}while(!0)}function Mp(){var e=ja.current;return ja.current=Ta,e===null?Ta:e}function wc(){(pt===0||pt===3||pt===2)&&(pt=4),yt===null||!(li&268435455)&&!(Ba&268435455)||Tr(yt,Et)}function Ua(e,n){var s=De;De|=2;var l=Mp();(yt!==e||Et!==n)&&(tr=null,ci(e,n));do try{p1();break}catch(c){Cp(e,c)}while(!0);if(Fu(),De=s,ja.current=l,ct!==null)throw Error(i(261));return yt=null,Et=0,pt}function p1(){for(;ct!==null;)Rp(ct)}function m1(){for(;ct!==null&&!_0();)Rp(ct)}function Rp(e){var n=bp(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?Pp(e):ct=n,cc.current=null}function Pp(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=l1(s,n),s!==null){s.flags&=32767,ct=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ct=null;return}}else if(s=a1(s,n,tn),s!==null){ct=s;return}if(n=n.sibling,n!==null){ct=n;return}ct=n=e}while(n!==null);pt===0&&(pt=5)}function di(e,n,s){var l=ze,c=pn.transition;try{pn.transition=null,ze=1,g1(e,n,s,l)}finally{pn.transition=c,ze=l}return null}function g1(e,n,s,l){do Ki();while(Rr!==null);if(De&6)throw Error(i(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(X0(e,h),e===yt&&(ct=yt=null,Et=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Oa||(Oa=!0,Fp(Wo,function(){return Ki(),null})),h=(s.flags&15990)!==0,s.subtreeFlags&15990||h){h=pn.transition,pn.transition=null;var v=ze;ze=1;var P=De;De|=4,cc.current=null,c1(e,s),vp(s,e),Bv(wu),Zo=!!vu,wu=vu=null,e.current=s,d1(s),z0(),De=P,ze=v,pn.transition=h}else e.current=s;if(Oa&&(Oa=!1,Rr=e,qa=c),h=e.pendingLanes,h===0&&(Mr=null),G0(s.stateNode),Gt(e,at()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],l(c.value,{componentStack:c.stack,digest:c.digest});if(La)throw La=!1,e=hc,hc=null,e;return qa&1&&e.tag!==0&&Ki(),h=e.pendingLanes,h&1?e===pc?mo++:(mo=0,pc=e):mo=0,Sr(),null}function Ki(){if(Rr!==null){var e=gf(qa),n=pn.transition,s=ze;try{if(pn.transition=null,ze=16>e?16:e,Rr===null)var l=!1;else{if(e=Rr,Rr=null,qa=0,De&6)throw Error(i(331));var c=De;for(De|=4,de=e.current;de!==null;){var h=de,v=h.child;if(de.flags&16){var P=h.deletions;if(P!==null){for(var D=0;D<P.length;D++){var W=P[D];for(de=W;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:fo(8,ne,h)}var ie=ne.child;if(ie!==null)ie.return=ne,de=ie;else for(;de!==null;){ne=de;var ee=ne.sibling,ce=ne.return;if(hp(ne),ne===W){de=null;break}if(ee!==null){ee.return=ce,de=ee;break}de=ce}}}var fe=h.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var lt=pe.sibling;pe.sibling=null,pe=lt}while(pe!==null)}}de=h}}if(h.subtreeFlags&2064&&v!==null)v.return=h,de=v;else e:for(;de!==null;){if(h=de,h.flags&2048)switch(h.tag){case 0:case 11:case 15:fo(9,h,h.return)}var U=h.sibling;if(U!==null){U.return=h.return,de=U;break e}de=h.return}}var O=e.current;for(de=O;de!==null;){v=de;var G=v.child;if(v.subtreeFlags&2064&&G!==null)G.return=v,de=G;else e:for(v=O;de!==null;){if(P=de,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:Da(9,P)}}catch(me){rt(P,P.return,me)}if(P===v){de=null;break e}var se=P.sibling;if(se!==null){se.return=P.return,de=se;break e}de=P.return}}if(De=c,Sr(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Qo,e)}catch{}l=!0}return l}finally{ze=s,pn.transition=n}}return!1}function Tp(e,n,s){n=Gi(s,n),n=Qh(e,n,1),e=kr(e,n,1),n=Lt(),e!==null&&(Os(e,1,n),Gt(e,n))}function rt(e,n,s){if(e.tag===3)Tp(e,e,s);else for(;n!==null;){if(n.tag===3){Tp(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){e=Gi(s,e),e=Kh(n,e,1),n=kr(n,e,1),e=Lt(),n!==null&&(Os(n,1,e),Gt(n,e));break}}n=n.return}}function y1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=Lt(),e.pingedLanes|=e.suspendedLanes&s,yt===e&&(Et&s)===s&&(pt===4||pt===3&&(Et&130023424)===Et&&500>at()-fc?ci(e,0):dc|=s),Gt(e,n)}function Ip(e,n){n===0&&(e.mode&1?(n=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):n=1);var s=Lt();e=Jn(e,n),e!==null&&(Os(e,n,s),Gt(e,s))}function v1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ip(e,s)}function w1(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(n),Ip(e,s)}var bp;bp=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||_t.current)Ut=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return Ut=!1,o1(e,n,s);Ut=!!(e.flags&131072)}else Ut=!1,Ke&&n.flags&1048576&&ch(n,ya,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Fa(e,n),e=n.pendingProps;var c=Bi(n,Mt.current);Ui(n,s),c=Hu(null,n,l,e,c,s);var h=Gu();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,zt(l)?(h=!0,pa(n)):h=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Bu(n),c.updater=Ia,n.stateNode=c,c._reactInternals=n,Xu(n,l,e,s),n=ec(null,n,l,!0,h,s)):(n.tag=0,Ke&&h&&Mu(n),Bt(null,n,c,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Fa(e,n),e=n.pendingProps,c=l._init,l=c(l._payload),n.type=l,c=n.tag=A1(l),e=kn(l,e),c){case 0:n=Zu(null,n,l,e,s);break e;case 1:n=rp(null,n,l,e,s);break e;case 11:n=Jh(null,n,l,e,s);break e;case 14:n=Zh(null,n,l,kn(l.type,e),s);break e}throw Error(i(306,l,""))}return n;case 0:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:kn(l,c),Zu(e,n,l,c,s);case 1:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:kn(l,c),rp(e,n,l,c,s);case 3:e:{if(ip(n),e===null)throw Error(i(387));l=n.pendingProps,h=n.memoizedState,c=h.element,wh(e,n),Ea(n,l,null,s);var v=n.memoizedState;if(l=v.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){c=Gi(Error(i(423)),n),n=sp(e,n,l,s,c);break e}else if(l!==c){c=Gi(Error(i(424)),n),n=sp(e,n,l,s,c);break e}else for(en=wr(n.stateNode.containerInfo.firstChild),Zt=n,Ke=!0,En=null,s=yh(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(qi(),l===c){n=er(e,n,s);break e}Bt(e,n,l,s)}n=n.child}return n;case 5:return Sh(n),e===null&&Tu(n),l=n.type,c=n.pendingProps,h=e!==null?e.memoizedProps:null,v=c.children,xu(l,c)?v=null:h!==null&&xu(l,h)&&(n.flags|=32),np(e,n),Bt(e,n,v,s),n.child;case 6:return e===null&&Tu(n),null;case 13:return op(e,n,s);case 4:return Lu(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=_i(n,null,l,s):Bt(e,n,l,s),n.child;case 11:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:kn(l,c),Jh(e,n,l,c,s);case 7:return Bt(e,n,n.pendingProps,s),n.child;case 8:return Bt(e,n,n.pendingProps.children,s),n.child;case 12:return Bt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,c=n.pendingProps,h=n.memoizedProps,v=c.value,Ge(xa,l._currentValue),l._currentValue=v,h!==null)if(Sn(h.value,v)){if(h.children===c.children&&!_t.current){n=er(e,n,s);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var P=h.dependencies;if(P!==null){v=h.child;for(var D=P.firstContext;D!==null;){if(D.context===l){if(h.tag===1){D=Zn(-1,s&-s),D.tag=2;var W=h.updateQueue;if(W!==null){W=W.shared;var ne=W.pending;ne===null?D.next=D:(D.next=ne.next,ne.next=D),W.pending=D}}h.lanes|=s,D=h.alternate,D!==null&&(D.lanes|=s),Du(h.return,s,n),P.lanes|=s;break}D=D.next}}else if(h.tag===10)v=h.type===n.type?null:h.child;else if(h.tag===18){if(v=h.return,v===null)throw Error(i(341));v.lanes|=s,P=v.alternate,P!==null&&(P.lanes|=s),Du(v,s,n),v=h.sibling}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}Bt(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,l=n.pendingProps.children,Ui(n,s),c=fn(c),l=l(c),n.flags|=1,Bt(e,n,l,s),n.child;case 14:return l=n.type,c=kn(l,n.pendingProps),c=kn(l.type,c),Zh(e,n,l,c,s);case 15:return ep(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:kn(l,c),Fa(e,n),n.tag=1,zt(l)?(e=!0,pa(n)):e=!1,Ui(n,s),Vh(n,l,c),Xu(n,l,c,s),ec(null,n,l,!0,e,s);case 19:return lp(e,n,s);case 22:return tp(e,n,s)}throw Error(i(156,n.tag))};function Fp(e,n){return df(e,n)}function x1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,l){return new x1(e,n,s,l)}function xc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A1(e){if(typeof e=="function")return xc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oe)return 11;if(e===Ce)return 14}return 2}function Ir(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Ha(e,n,s,l,c,h){var v=2;if(l=e,typeof e=="function")xc(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case R:return fi(s.children,c,h,n);case I:v=8,c|=8;break;case K:return e=mn(12,s,n,c|2),e.elementType=K,e.lanes=h,e;case ue:return e=mn(13,s,n,c),e.elementType=ue,e.lanes=h,e;case ve:return e=mn(19,s,n,c),e.elementType=ve,e.lanes=h,e;case he:return Ga(s,c,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:v=10;break e;case Z:v=9;break e;case oe:v=11;break e;case Ce:v=14;break e;case ge:v=16,l=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=mn(v,s,n,c),n.elementType=e,n.type=l,n.lanes=h,n}function fi(e,n,s,l){return e=mn(7,e,l,n),e.lanes=s,e}function Ga(e,n,s,l){return e=mn(22,e,l,n),e.elementType=he,e.lanes=s,e.stateNode={isHidden:!1},e}function Ac(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function Sc(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function S1(e,n,s,l,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Ec(e,n,s,l,c,h,v,P,D){return e=new S1(e,n,s,P,D),n===1?(n=1,h===!0&&(n|=8)):n=0,h=mn(3,null,null,n),e.current=h,h.stateNode=e,h.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bu(h),e}function E1(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function Np(e){if(!e)return Ar;e=e._reactInternals;e:{if(ei(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(zt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var s=e.type;if(zt(s))return ah(e,s,n)}return n}function Dp(e,n,s,l,c,h,v,P,D){return e=Ec(s,l,!0,e,c,h,v,P,D),e.context=Np(null),s=e.current,l=Lt(),c=Pr(s),h=Zn(l,c),h.callback=n??null,kr(s,h,c),e.current.lanes=c,Os(e,c,l),Gt(e,l),e}function Va(e,n,s,l){var c=n.current,h=Lt(),v=Pr(c);return s=Np(s),n.context===null?n.context=s:n.pendingContext=s,n=Zn(h,v),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=kr(c,n,v),e!==null&&(Rn(e,c,v,h),Sa(e,c,v)),v}function Wa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function kc(e,n){jp(e,n),(e=e.alternate)&&jp(e,n)}function k1(){return null}var Bp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cc(e){this._internalRoot=e}Qa.prototype.render=Cc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));Va(e,n,null,null)},Qa.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ui(function(){Va(null,e,null,null)}),n[Kn]=null}};function Qa(e){this._internalRoot=e}Qa.prototype.unstable_scheduleHydration=function(e){if(e){var n=wf();e={blockedOn:null,target:e,priority:n};for(var s=0;s<gr.length&&n!==0&&n<gr[s].priority;s++);gr.splice(s,0,e),s===0&&Sf(e)}};function Mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lp(){}function C1(e,n,s,l,c){if(c){if(typeof l=="function"){var h=l;l=function(){var W=Wa(v);h.call(W)}}var v=Dp(n,l,e,0,null,!1,!1,"",Lp);return e._reactRootContainer=v,e[Kn]=v.current,Js(e.nodeType===8?e.parentNode:e),ui(),v}for(;c=e.lastChild;)e.removeChild(c);if(typeof l=="function"){var P=l;l=function(){var W=Wa(D);P.call(W)}}var D=Ec(e,0,!1,null,null,!1,!1,"",Lp);return e._reactRootContainer=D,e[Kn]=D.current,Js(e.nodeType===8?e.parentNode:e),ui(function(){Va(n,D,s,l)}),D}function Ya(e,n,s,l,c){var h=s._reactRootContainer;if(h){var v=h;if(typeof c=="function"){var P=c;c=function(){var D=Wa(v);P.call(D)}}Va(n,v,e,c)}else v=C1(s,n,e,c,l);return Wa(v)}yf=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Ls(n.pendingLanes);s!==0&&(Xl(n,s|1),Gt(n,at()),!(De&6)&&(Qi=at()+500,Sr()))}break;case 13:ui(function(){var l=Jn(e,1);if(l!==null){var c=Lt();Rn(l,e,1,c)}}),kc(e,1)}},$l=function(e){if(e.tag===13){var n=Jn(e,134217728);if(n!==null){var s=Lt();Rn(n,e,134217728,s)}kc(e,134217728)}},vf=function(e){if(e.tag===13){var n=Pr(e),s=Jn(e,n);if(s!==null){var l=Lt();Rn(s,e,n,l)}kc(e,n)}},wf=function(){return ze},xf=function(e,n){var s=ze;try{return ze=e,n()}finally{ze=s}},fr=function(e,n,s){switch(n){case"input":if(_e(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=fa(l);if(!c)throw Error(i(90));Yr(l),_e(l,c)}}}break;case"textarea":$r(e,s);break;case"select":n=s.value,n!=null&&Ft(e,!!s.multiple,n,!1)}},b=yc,X=ui;var M1={usingClientEntryPoint:!1,Events:[to,Di,fa,js,Bs,yc]},go={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R1={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uf(e),e===null?null:e.stateNode},findFiberByHostInstance:go.findFiberByHostInstance||k1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xa.isDisabled&&Xa.supportsFiber)try{Qo=Xa.inject(R1),Fn=Xa}catch{}}return Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M1,Vt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mc(n))throw Error(i(200));return E1(e,n,null,s)},Vt.createRoot=function(e,n){if(!Mc(e))throw Error(i(299));var s=!1,l="",c=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=Ec(e,1,!1,null,null,s,!1,l,c),e[Kn]=n.current,Js(e.nodeType===8?e.parentNode:e),new Cc(n)},Vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=uf(n),e=e===null?null:e.stateNode,e},Vt.flushSync=function(e){return ui(e)},Vt.hydrate=function(e,n,s){if(!Ka(n))throw Error(i(200));return Ya(null,e,n,!0,s)},Vt.hydrateRoot=function(e,n,s){if(!Mc(e))throw Error(i(405));var l=s!=null&&s.hydratedSources||null,c=!1,h="",v=Bp;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),n=Dp(n,null,e,1,s??null,c,!1,h,v),e[Kn]=n.current,Js(e),l)for(e=0;e<l.length;e++)s=l[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new Qa(n)},Vt.render=function(e,n,s){if(!Ka(n))throw Error(i(200));return Ya(null,e,n,!1,s)},Vt.unmountComponentAtNode=function(e){if(!Ka(e))throw Error(i(40));return e._reactRootContainer?(ui(function(){Ya(null,null,e,!1,function(){e._reactRootContainer=null,e[Kn]=null})}),!0):!1},Vt.unstable_batchedUpdates=yc,Vt.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!Ka(s))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Ya(e,n,s,!1,l)},Vt.version="18.3.1-next-f1338f8080-20240426",Vt}var Vp;function L1(){if(Vp)return Tc.exports;Vp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Tc.exports=B1(),Tc.exports}var Wp;function O1(){if(Wp)return $a;Wp=1;var r=L1();return $a.createRoot=r.createRoot,$a.hydrateRoot=r.hydrateRoot,$a}var q1=O1(),vo={},Qp;function _1(){if(Qp)return vo;Qp=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.parse=d,vo.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function d(y,k){const S=new u,T=y.length;if(T<2)return S;const A=(k==null?void 0:k.decode)||w;let C=0;do{const L=y.indexOf("=",C);if(L===-1)break;const F=y.indexOf(";",C),z=F===-1?T:F;if(L>z){C=y.lastIndexOf(";",L-1)+1;continue}const N=g(y,C,L),E=f(y,L,N),R=y.slice(N,E);if(S[R]===void 0){let I=g(y,L+1,z),K=f(y,z,I);const Y=A(y.slice(I,K));S[R]=Y}C=z+1}while(C<T);return S}function g(y,k,S){do{const T=y.charCodeAt(k);if(T!==32&&T!==9)return k}while(++k<S);return S}function f(y,k,S){for(;k>S;){const T=y.charCodeAt(--k);if(T!==32&&T!==9)return k+1}return S}function p(y,k,S){const T=(S==null?void 0:S.encode)||encodeURIComponent;if(!r.test(y))throw new TypeError(`argument name is invalid: ${y}`);const A=T(k);if(!t.test(A))throw new TypeError(`argument val is invalid: ${k}`);let C=y+"="+A;if(!S)return C;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);C+="; Max-Age="+S.maxAge}if(S.domain){if(!i.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);C+="; Domain="+S.domain}if(S.path){if(!o.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);C+="; Path="+S.path}if(S.expires){if(!M(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);C+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(C+="; HttpOnly"),S.secure&&(C+="; Secure"),S.partitioned&&(C+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return C}function w(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function M(y){return a.call(y)==="[object Date]"}return vo}_1();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kp="popstate";function z1(r={}){function t(o,a){let{pathname:u,search:d,hash:g}=o.location;return Lc("",{pathname:u,search:d,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(o,a){return typeof a=="string"?a:Mo(a)}return H1(t,i,null,r)}function Je(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Hn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U1(){return Math.random().toString(36).substring(2,10)}function Yp(r,t){return{usr:r.state,key:r.key,idx:t}}function Lc(r,t,i=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ts(t):t,state:i,key:t&&t.key||o||U1()}}function Mo({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ts(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let o=r.indexOf("?");o>=0&&(t.search=r.substring(o),r=r.substring(0,o)),r&&(t.pathname=r)}return t}function H1(r,t,i,o={}){let{window:a=document.defaultView,v5Compat:u=!1}=o,d=a.history,g="POP",f=null,p=w();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function w(){return(d.state||{idx:null}).idx}function M(){g="POP";let A=w(),C=A==null?null:A-p;p=A,f&&f({action:g,location:T.location,delta:C})}function y(A,C){g="PUSH";let L=Lc(T.location,A,C);p=w()+1;let F=Yp(L,p),z=T.createHref(L);try{d.pushState(F,"",z)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(z)}u&&f&&f({action:g,location:T.location,delta:1})}function k(A,C){g="REPLACE";let L=Lc(T.location,A,C);p=w();let F=Yp(L,p),z=T.createHref(L);d.replaceState(F,"",z),u&&f&&f({action:g,location:T.location,delta:0})}function S(A){let C=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof A=="string"?A:Mo(A);return L=L.replace(/ $/,"%20"),Je(C,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,C)}let T={get action(){return g},get location(){return r(a,d)},listen(A){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Kp,M),f=A,()=>{a.removeEventListener(Kp,M),f=null}},createHref(A){return t(a,A)},createURL:S,encodeLocation(A){let C=S(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:k,go(A){return d.go(A)}};return T}function am(r,t,i="/"){return G1(r,t,i,!1)}function G1(r,t,i,o){let a=typeof t=="string"?Ts(t):t,u=_r(a.pathname||"/",i);if(u==null)return null;let d=lm(r);V1(d);let g=null;for(let f=0;g==null&&f<d.length;++f){let p=nw(u);g=ew(d[f],p,o)}return g}function lm(r,t=[],i=[],o=""){let a=(u,d,g)=>{let f={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};f.relativePath.startsWith("/")&&(Je(f.relativePath.startsWith(o),`Absolute route path "${f.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(o.length));let p=ir([o,f.relativePath]),w=i.concat(f);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),lm(u.children,t,w,p)),!(u.path==null&&!u.index)&&t.push({path:p,score:J1(p,u.index),routesMeta:w})};return r.forEach((u,d)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))a(u,d);else for(let f of um(u.path))a(u,d,f)}),t}function um(r){let t=r.split("/");if(t.length===0)return[];let[i,...o]=t,a=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return a?[u,""]:[u];let d=um(o.join("/")),g=[];return g.push(...d.map(f=>f===""?u:[u,f].join("/"))),a&&g.push(...d),g.map(f=>r.startsWith("/")&&f===""?"/":f)}function V1(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:Z1(t.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var W1=/^:[\w-]+$/,Q1=3,K1=2,Y1=1,X1=10,$1=-2,Xp=r=>r==="*";function J1(r,t){let i=r.split("/"),o=i.length;return i.some(Xp)&&(o+=$1),t&&(o+=K1),i.filter(a=>!Xp(a)).reduce((a,u)=>a+(W1.test(u)?Q1:u===""?Y1:X1),o)}function Z1(r,t){return r.length===t.length&&r.slice(0,-1).every((o,a)=>o===t[a])?r[r.length-1]-t[t.length-1]:0}function ew(r,t,i=!1){let{routesMeta:o}=r,a={},u="/",d=[];for(let g=0;g<o.length;++g){let f=o[g],p=g===o.length-1,w=u==="/"?t:t.slice(u.length)||"/",M=fl({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},w),y=f.route;if(!M&&p&&i&&!o[o.length-1].route.index&&(M=fl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},w)),!M)return null;Object.assign(a,M.params),d.push({params:a,pathname:ir([u,M.pathname]),pathnameBase:ow(ir([u,M.pathnameBase])),route:y}),M.pathnameBase!=="/"&&(u=ir([u,M.pathnameBase]))}return d}function fl(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,o]=tw(r.path,r.caseSensitive,r.end),a=t.match(i);if(!a)return null;let u=a[0],d=u.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:o.reduce((p,{paramName:w,isOptional:M},y)=>{if(w==="*"){let S=g[y]||"";d=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const k=g[y];return M&&!k?p[w]=void 0:p[w]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:r}}function tw(r,t=!1,i=!0){Hn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,f)=>(o.push({paramName:g,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),o]}function nw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function _r(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,o=r.charAt(i);return o&&o!=="/"?null:r.slice(i)||"/"}function rw(r,t="/"){let{pathname:i,search:o="",hash:a=""}=typeof r=="string"?Ts(r):r;return{pathname:i?i.startsWith("/")?i:iw(i,t):t,search:aw(o),hash:lw(a)}}function iw(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function Fc(r,t,i,o){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sw(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function cm(r){let t=sw(r);return t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase)}function dm(r,t,i,o=!1){let a;typeof r=="string"?a=Ts(r):(a={...r},Je(!a.pathname||!a.pathname.includes("?"),Fc("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),Fc("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),Fc("#","search","hash",a)));let u=r===""||a.pathname==="",d=u?"/":a.pathname,g;if(d==null)g=i;else{let M=t.length-1;if(!o&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),M-=1;a.pathname=y.join("/")}g=M>=0?t[M]:"/"}let f=rw(a,g),p=d&&d!=="/"&&d.endsWith("/"),w=(u||d===".")&&i.endsWith("/");return!f.pathname.endsWith("/")&&(p||w)&&(f.pathname+="/"),f}var ir=r=>r.join("/").replace(/\/\/+/g,"/"),ow=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),aw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var fm=["POST","PUT","PATCH","DELETE"];new Set(fm);var cw=["GET",...fm];new Set(cw);var Is=_.createContext(null);Is.displayName="DataRouter";var Rl=_.createContext(null);Rl.displayName="DataRouterState";var hm=_.createContext({isTransitioning:!1});hm.displayName="ViewTransition";var dw=_.createContext(new Map);dw.displayName="Fetchers";var fw=_.createContext(null);fw.displayName="Await";var Gn=_.createContext(null);Gn.displayName="Navigation";var Bo=_.createContext(null);Bo.displayName="Location";var ar=_.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var Zc=_.createContext(null);Zc.displayName="RouteError";function hw(r,{relative:t}={}){Je(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=_.useContext(Gn),{hash:a,pathname:u,search:d}=Oo(r,{relative:t}),g=u;return i!=="/"&&(g=u==="/"?i:ir([i,u])),o.createHref({pathname:g,search:d,hash:a})}function Lo(){return _.useContext(Bo)!=null}function Qr(){return Je(Lo(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Bo).location}var pm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mm(r){_.useContext(Gn).static||_.useLayoutEffect(r)}function pw(){let{isDataRoute:r}=_.useContext(ar);return r?Rw():mw()}function mw(){Je(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let r=_.useContext(Is),{basename:t,navigator:i}=_.useContext(Gn),{matches:o}=_.useContext(ar),{pathname:a}=Qr(),u=JSON.stringify(cm(o)),d=_.useRef(!1);return mm(()=>{d.current=!0}),_.useCallback((f,p={})=>{if(Hn(d.current,pm),!d.current)return;if(typeof f=="number"){i.go(f);return}let w=dm(f,JSON.parse(u),a,p.relative==="path");r==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:ir([t,w.pathname])),(p.replace?i.replace:i.push)(w,p.state,p)},[t,i,u,a,r])}_.createContext(null);function Oo(r,{relative:t}={}){let{matches:i}=_.useContext(ar),{pathname:o}=Qr(),a=JSON.stringify(cm(i));return _.useMemo(()=>dm(r,JSON.parse(a),o,t==="path"),[r,a,o,t])}function gw(r,t){return gm(r,t)}function gm(r,t,i,o){var L;Je(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:u}=_.useContext(Gn),{matches:d}=_.useContext(ar),g=d[d.length-1],f=g?g.params:{},p=g?g.pathname:"/",w=g?g.pathnameBase:"/",M=g&&g.route;{let F=M&&M.path||"";ym(p,!M||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let y=Qr(),k;if(t){let F=typeof t=="string"?Ts(t):t;Je(w==="/"||((L=F.pathname)==null?void 0:L.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${F.pathname}" was given in the \`location\` prop.`),k=F}else k=y;let S=k.pathname||"/",T=S;if(w!=="/"){let F=w.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(F.length).join("/")}let A=!u&&i&&i.matches&&i.matches.length>0?i.matches:am(r,{pathname:T});Hn(M||A!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Hn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Aw(A&&A.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:ir([w,a.encodeLocation?a.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?w:ir([w,a.encodeLocation?a.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),d,i,o);return t&&C?_.createElement(Bo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},C):C}function yw(){let r=Mw(),t=uw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:u},"ErrorBoundary")," or"," ",_.createElement("code",{style:u},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),i?_.createElement("pre",{style:a},i):null,d)}var vw=_.createElement(yw,null),ww=class extends _.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?_.createElement(ar.Provider,{value:this.props.routeContext},_.createElement(Zc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xw({routeContext:r,match:t,children:i}){let o=_.useContext(Is);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(ar.Provider,{value:r},i)}function Aw(r,t=[],i=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let a=r,u=i==null?void 0:i.errors;if(u!=null){let f=a.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Je(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let d=!1,g=-1;if(i)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=f),p.route.id){let{loaderData:w,errors:M}=i,y=p.route.loader&&!w.hasOwnProperty(p.route.id)&&(!M||M[p.route.id]===void 0);if(p.route.lazy||y){d=!0,g>=0?a=a.slice(0,g+1):a=[a[0]];break}}}return a.reduceRight((f,p,w)=>{let M,y=!1,k=null,S=null;i&&(M=u&&p.route.id?u[p.route.id]:void 0,k=p.route.errorElement||vw,d&&(g<0&&w===0?(ym("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):g===w&&(y=!0,S=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,w+1)),A=()=>{let C;return M?C=k:y?C=S:p.route.Component?C=_.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,_.createElement(xw,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:i!=null},children:C})};return i&&(p.route.ErrorBoundary||p.route.errorElement||w===0)?_.createElement(ww,{location:i.location,revalidation:i.revalidation,component:k,error:M,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):A()},null)}function ed(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sw(r){let t=_.useContext(Is);return Je(t,ed(r)),t}function Ew(r){let t=_.useContext(Rl);return Je(t,ed(r)),t}function kw(r){let t=_.useContext(ar);return Je(t,ed(r)),t}function td(r){let t=kw(r),i=t.matches[t.matches.length-1];return Je(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Cw(){return td("useRouteId")}function Mw(){var o;let r=_.useContext(Zc),t=Ew("useRouteError"),i=td("useRouteError");return r!==void 0?r:(o=t.errors)==null?void 0:o[i]}function Rw(){let{router:r}=Sw("useNavigate"),t=td("useNavigate"),i=_.useRef(!1);return mm(()=>{i.current=!0}),_.useCallback(async(a,u={})=>{Hn(i.current,pm),i.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:t,...u}))},[r,t])}var $p={};function ym(r,t,i){!t&&!$p[r]&&($p[r]=!0,Hn(!1,i))}_.memo(Pw);function Pw({routes:r,future:t,state:i}){return gm(r,void 0,i,t)}function Qe(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tw({basename:r="/",children:t=null,location:i,navigationType:o="POP",navigator:a,static:u=!1}){Je(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=_.useMemo(()=>({basename:d,navigator:a,static:u,future:{}}),[d,a,u]);typeof i=="string"&&(i=Ts(i));let{pathname:f="/",search:p="",hash:w="",state:M=null,key:y="default"}=i,k=_.useMemo(()=>{let S=_r(f,d);return S==null?null:{location:{pathname:S,search:p,hash:w,state:M,key:y},navigationType:o}},[d,f,p,w,M,y,o]);return Hn(k!=null,`<Router basename="${d}"> is not able to match the URL "${f}${p}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:_.createElement(Gn.Provider,{value:g},_.createElement(Bo.Provider,{children:t,value:k}))}function vm({children:r,location:t}){return gw(Oc(r),t)}function Oc(r,t=[]){let i=[];return _.Children.forEach(r,(o,a)=>{if(!_.isValidElement(o))return;let u=[...t,a];if(o.type===_.Fragment){i.push.apply(i,Oc(o.props.children,u));return}Je(o.type===Qe,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Oc(o.props.children,u)),i.push(d)}),i}var ol="get",al="application/x-www-form-urlencoded";function Pl(r){return r!=null&&typeof r.tagName=="string"}function Iw(r){return Pl(r)&&r.tagName.toLowerCase()==="button"}function bw(r){return Pl(r)&&r.tagName.toLowerCase()==="form"}function Fw(r){return Pl(r)&&r.tagName.toLowerCase()==="input"}function Nw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Dw(r,t){return r.button===0&&(!t||t==="_self")&&!Nw(r)}var Ja=null;function jw(){if(Ja===null)try{new FormData(document.createElement("form"),0),Ja=!1}catch{Ja=!0}return Ja}var Bw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nc(r){return r!=null&&!Bw.has(r)?(Hn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${al}"`),null):r}function Lw(r,t){let i,o,a,u,d;if(bw(r)){let g=r.getAttribute("action");o=g?_r(g,t):null,i=r.getAttribute("method")||ol,a=Nc(r.getAttribute("enctype"))||al,u=new FormData(r)}else if(Iw(r)||Fw(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||g.getAttribute("action");if(o=f?_r(f,t):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||ol,a=Nc(r.getAttribute("formenctype"))||Nc(g.getAttribute("enctype"))||al,u=new FormData(g,r),!jw()){let{name:p,type:w,value:M}=r;if(w==="image"){let y=p?`${p}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else p&&u.append(p,M)}}else{if(Pl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ol,o=null,a=al,d=r}return u&&a==="text/plain"&&(d=u,u=void 0),{action:o,method:i.toLowerCase(),encType:a,formData:u,body:d}}function nd(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Ow(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _w(r,t,i){let o=await Promise.all(r.map(async a=>{let u=t.routes[a.route.id];if(u){let d=await Ow(u,i);return d.links?d.links():[]}return[]}));return Gw(o.flat(1).filter(qw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Jp(r,t,i,o,a,u){let d=(f,p)=>i[p]?f.route.id!==i[p].route.id:!0,g=(f,p)=>{var w;return i[p].pathname!==f.pathname||((w=i[p].route.path)==null?void 0:w.endsWith("*"))&&i[p].params["*"]!==f.params["*"]};return u==="assets"?t.filter((f,p)=>d(f,p)||g(f,p)):u==="data"?t.filter((f,p)=>{var M;let w=o.routes[f.route.id];if(!w||!w.hasLoader)return!1;if(d(f,p)||g(f,p))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((M=i[0])==null?void 0:M.params)||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function zw(r,t){return Uw(r.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let a=[o.module];return o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function Uw(r){return[...new Set(r)]}function Hw(r){let t={},i=Object.keys(r).sort();for(let o of i)t[o]=r[o];return t}function Gw(r,t){let i=new Set;return new Set(t),r.reduce((o,a)=>{let u=JSON.stringify(Hw(a));return i.has(u)||(i.add(u),o.push({key:u,link:a})),o},[])}function Vw(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Ww(){let r=_.useContext(Is);return nd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Qw(){let r=_.useContext(Rl);return nd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rd=_.createContext(void 0);rd.displayName="FrameworkContext";function wm(){let r=_.useContext(rd);return nd(r,"You must render this element inside a <HydratedRouter> element"),r}function Kw(r,t){let i=_.useContext(rd),[o,a]=_.useState(!1),[u,d]=_.useState(!1),{onFocus:g,onBlur:f,onMouseEnter:p,onMouseLeave:w,onTouchStart:M}=t,y=_.useRef(null);_.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let T=C=>{C.forEach(L=>{d(L.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[r]),_.useEffect(()=>{if(o){let T=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(T)}}},[o]);let k=()=>{a(!0)},S=()=>{a(!1),d(!1)};return i?r!=="intent"?[u,y,{}]:[u,y,{onFocus:wo(g,k),onBlur:wo(f,S),onMouseEnter:wo(p,k),onMouseLeave:wo(w,S),onTouchStart:wo(M,k)}]:[!1,y,{}]}function wo(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function Yw({page:r,...t}){let{router:i}=Ww(),o=_.useMemo(()=>am(i.routes,r,i.basename),[i.routes,r,i.basename]);return o?_.createElement($w,{page:r,matches:o,...t}):null}function Xw(r){let{manifest:t,routeModules:i}=wm(),[o,a]=_.useState([]);return _.useEffect(()=>{let u=!1;return _w(r,t,i).then(d=>{u||a(d)}),()=>{u=!0}},[r,t,i]),o}function $w({page:r,matches:t,...i}){let o=Qr(),{manifest:a,routeModules:u}=wm(),{loaderData:d,matches:g}=Qw(),f=_.useMemo(()=>Jp(r,t,g,a,o,"data"),[r,t,g,a,o]),p=_.useMemo(()=>Jp(r,t,g,a,o,"assets"),[r,t,g,a,o]),w=_.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let k=new Set,S=!1;if(t.forEach(A=>{var L;let C=a.routes[A.route.id];!C||!C.hasLoader||(!f.some(F=>F.route.id===A.route.id)&&A.route.id in d&&((L=u[A.route.id])!=null&&L.shouldRevalidate)||C.hasClientLoader?S=!0:k.add(A.route.id))}),k.size===0)return[];let T=Vw(r);return S&&k.size>0&&T.searchParams.set("_routes",t.filter(A=>k.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[d,o,a,f,t,r,u]),M=_.useMemo(()=>zw(p,a),[p,a]),y=Xw(p);return _.createElement(_.Fragment,null,w.map(k=>_.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),M.map(k=>_.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),y.map(({key:k,link:S})=>_.createElement("link",{key:k,...S})))}function Jw(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var xm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xm&&(window.__reactRouterVersion="7.1.5")}catch{}function Zw({basename:r,children:t,window:i}){let o=_.useRef();o.current==null&&(o.current=z1({window:i,v5Compat:!0}));let a=o.current,[u,d]=_.useState({action:a.action,location:a.location}),g=_.useCallback(f=>{_.startTransition(()=>d(f))},[d]);return _.useLayoutEffect(()=>a.listen(g),[a,g]),_.createElement(Tw,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:a})}var Am=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tl=_.forwardRef(function({onClick:t,discover:i="render",prefetch:o="none",relative:a,reloadDocument:u,replace:d,state:g,target:f,to:p,preventScrollReset:w,viewTransition:M,...y},k){let{basename:S}=_.useContext(Gn),T=typeof p=="string"&&Am.test(p),A,C=!1;if(typeof p=="string"&&T&&(A=p,xm))try{let K=new URL(window.location.href),Y=p.startsWith("//")?new URL(K.protocol+p):new URL(p),Z=_r(Y.pathname,S);Y.origin===K.origin&&Z!=null?p=Z+Y.search+Y.hash:C=!0}catch{Hn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=hw(p,{relative:a}),[F,z,N]=Kw(o,y),E=nx(p,{replace:d,state:g,target:f,preventScrollReset:w,relative:a,viewTransition:M});function R(K){t&&t(K),K.defaultPrevented||E(K)}let I=_.createElement("a",{...y,...N,href:A||L,onClick:C||u?t:R,ref:Jw(k,z),target:f,"data-discover":!T&&i==="render"?"true":void 0});return F&&!T?_.createElement(_.Fragment,null,I,_.createElement(Yw,{page:L})):I});Tl.displayName="Link";var Sm=_.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:o="",end:a=!1,style:u,to:d,viewTransition:g,children:f,...p},w){let M=Oo(d,{relative:p.relative}),y=Qr(),k=_.useContext(Rl),{navigator:S,basename:T}=_.useContext(Gn),A=k!=null&&ax(M)&&g===!0,C=S.encodeLocation?S.encodeLocation(M).pathname:M.pathname,L=y.pathname,F=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(L=L.toLowerCase(),F=F?F.toLowerCase():null,C=C.toLowerCase()),F&&T&&(F=_r(F,T)||F);const z=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let N=L===C||!a&&L.startsWith(C)&&L.charAt(z)==="/",E=F!=null&&(F===C||!a&&F.startsWith(C)&&F.charAt(C.length)==="/"),R={isActive:N,isPending:E,isTransitioning:A},I=N?t:void 0,K;typeof o=="function"?K=o(R):K=[o,N?"active":null,E?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let Y=typeof u=="function"?u(R):u;return _.createElement(Tl,{...p,"aria-current":I,className:K,ref:w,style:Y,to:d,viewTransition:g},typeof f=="function"?f(R):f)});Sm.displayName="NavLink";var ex=_.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:o,replace:a,state:u,method:d=ol,action:g,onSubmit:f,relative:p,preventScrollReset:w,viewTransition:M,...y},k)=>{let S=sx(),T=ox(g,{relative:p}),A=d.toLowerCase()==="get"?"get":"post",C=typeof g=="string"&&Am.test(g),L=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let z=F.nativeEvent.submitter,N=(z==null?void 0:z.getAttribute("formmethod"))||d;S(z||F.currentTarget,{fetcherKey:t,method:N,navigate:i,replace:a,state:u,relative:p,preventScrollReset:w,viewTransition:M})};return _.createElement("form",{ref:k,method:A,action:T,onSubmit:o?f:L,...y,"data-discover":!C&&r==="render"?"true":void 0})});ex.displayName="Form";function tx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Em(r){let t=_.useContext(Is);return Je(t,tx(r)),t}function nx(r,{target:t,replace:i,state:o,preventScrollReset:a,relative:u,viewTransition:d}={}){let g=pw(),f=Qr(),p=Oo(r,{relative:u});return _.useCallback(w=>{if(Dw(w,t)){w.preventDefault();let M=i!==void 0?i:Mo(f)===Mo(p);g(r,{replace:M,state:o,preventScrollReset:a,relative:u,viewTransition:d})}},[f,g,p,i,o,t,r,a,u,d])}var rx=0,ix=()=>`__${String(++rx)}__`;function sx(){let{router:r}=Em("useSubmit"),{basename:t}=_.useContext(Gn),i=Cw();return _.useCallback(async(o,a={})=>{let{action:u,method:d,encType:g,formData:f,body:p}=Lw(o,t);if(a.navigate===!1){let w=a.fetcherKey||ix();await r.fetch(w,i,a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||d,formEncType:a.encType||g,flushSync:a.flushSync})}else await r.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||d,formEncType:a.encType||g,replace:a.replace,state:a.state,fromRouteId:i,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,t,i])}function ox(r,{relative:t}={}){let{basename:i}=_.useContext(Gn),o=_.useContext(ar);Je(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),u={...Oo(r||".",{relative:t})},d=Qr();if(r==null){u.search=d.search;let g=new URLSearchParams(u.search),f=g.getAll("index");if(f.some(w=>w==="")){g.delete("index"),f.filter(M=>M).forEach(M=>g.append("index",M));let w=g.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ir([i,u.pathname])),Mo(u)}function ax(r,t={}){let i=_.useContext(hm);Je(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Em("useViewTransitionState"),a=Oo(r,{relative:t.relative});if(!i.isTransitioning)return!1;let u=_r(i.currentLocation.pathname,o)||i.currentLocation.pathname,d=_r(i.nextLocation.pathname,o)||i.nextLocation.pathname;return fl(a.pathname,d)!=null||fl(a.pathname,u)!=null}new TextEncoder;const lx="_gameGrid_7dvw9_1",ux="_gameCard_7dvw9_21",cx="_thumbnail_7dvw9_55",dx="_gameTitle_7dvw9_89",Za={gameGrid:lx,gameCard:ux,thumbnail:cx,gameTitle:dx};var fx=Object.defineProperty,m=(r,t)=>fx(r,"name",{value:t,configurable:!0}),hx=(()=>{for(var r=new Uint8Array(128),t=0;t<64;t++)r[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return i=>{for(var o=i.length,a=new Uint8Array((o-(i[o-1]=="=")-(i[o-2]=="="))*3/4|0),u=0,d=0;u<o;){var g=r[i.charCodeAt(u++)],f=r[i.charCodeAt(u++)],p=r[i.charCodeAt(u++)],w=r[i.charCodeAt(u++)];a[d++]=g<<2|f>>4,a[d++]=f<<4|p>>2,a[d++]=p<<6|w}return a}})(),Le,be=(Le=class{constructor(t,i,o){H(this,"r",255);H(this,"g",255);H(this,"b",255);this.r=bn(t,0,255),this.g=bn(i,0,255),this.b=bn(o,0,255)}static fromArray(t){return new Le(t[0],t[1],t[2])}static fromHex(t){if(typeof t=="number")return new Le(t>>16&255,t>>8&255,t>>0&255);if(typeof t=="string"){let i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!i)throw new Error("Invalid hex color format");return new Le(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(t,i,o){if(i==0)return new Le(255*o,255*o,255*o);let a=m((w,M,y)=>(y<0&&(y+=1),y>1&&(y-=1),y<1/6?w+(M-w)*6*y:y<1/2?M:y<2/3?w+(M-w)*(2/3-y)*6:w),"hue2rgb"),u=o<.5?o*(1+i):o+i-o*i,d=2*o-u,g=a(d,u,t+1/3),f=a(d,u,t),p=a(d,u,t-1/3);return new Le(Math.round(g*255),Math.round(f*255),Math.round(p*255))}clone(){return new Le(this.r,this.g,this.b)}lighten(t){return new Le(this.r+t,this.g+t,this.b+t)}darken(t){return this.lighten(-t)}invert(){return new Le(255-this.r,255-this.g,255-this.b)}mult(t){return new Le(this.r*t.r/255,this.g*t.g/255,this.b*t.b/255)}lerp(t,i){return new Le(Yt(this.r,t.r,i),Yt(this.g,t.g,i),Yt(this.b,t.b,i))}toHSL(){let t=this.r/255,i=this.g/255,o=this.b/255,a=Math.max(t,i,o),u=Math.min(t,i,o),d=(a+u)/2,g=d,f=d;if(a==u)d=g=0;else{let p=a-u;switch(g=f>.5?p/(2-a-u):p/(a+u),a){case t:d=(i-o)/p+(i<o?6:0);break;case i:d=(o-t)/p+2;break;case o:d=(t-i)/p+4;break}d/=6}return[d,g,f]}eq(t){return this.r===t.r&&this.g===t.g&&this.b===t.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}},m(Le,"Color"),H(Le,"RED",new Le(255,0,0)),H(Le,"GREEN",new Le(0,255,0)),H(Le,"BLUE",new Le(0,0,255)),H(Le,"YELLOW",new Le(255,255,0)),H(Le,"MAGENTA",new Le(255,0,255)),H(Le,"CYAN",new Le(0,255,255)),H(Le,"WHITE",new Le(255,255,255)),H(Le,"BLACK",new Le(0,0,0)),Le);function Oe(...r){if(r.length===0)return new be(255,255,255);if(r.length===1){if(r[0]instanceof be)return r[0].clone();if(typeof r[0]=="string")return be.fromHex(r[0]);if(Array.isArray(r[0])&&r[0].length===3)return be.fromArray(r[0])}else if(r.length===2){if(r[0]instanceof be)return r[0].clone()}else if(r.length===3||r.length===4)return new be(r[0],r[1],r[2]);throw new Error("Invalid color arguments")}m(Oe,"rgb");var px=m((r,t,i)=>be.fromHSL(r,t,i),"hsl2rgb");function ft(r){return r*Math.PI/180}m(ft,"deg2rad");function zr(r){return r*180/Math.PI}m(zr,"rad2deg");function bn(r,t,i){return t>i?bn(r,i,t):Math.min(Math.max(r,t),i)}m(bn,"clamp");function Yt(r,t,i){if(typeof r=="number"&&typeof t=="number")return r+(t-r)*i;if(r instanceof $&&t instanceof $||r instanceof be&&t instanceof be)return r.lerp(t,i);throw new Error(`Bad value for lerp(): ${r}, ${t}. Only number, Vec2 and Color is supported.`)}m(Yt,"lerp");function In(r,t,i,o,a){return o+(r-t)/(i-t)*(a-o)}m(In,"map");function km(r,t,i,o,a){return bn(In(r,t,i,o,a),o,a)}m(km,"mapc");var He,$=(He=class{constructor(t=0,i=t){H(this,"x",0);H(this,"y",0);this.x=t,this.y=i}static fromAngle(t){let i=ft(t);return new He(Math.cos(i),Math.sin(i))}static fromArray(t){return new He(t[0],t[1])}clone(){return new He(this.x,this.y)}add(...t){let i=Q(...t);return new He(this.x+i.x,this.y+i.y)}sub(...t){let i=Q(...t);return new He(this.x-i.x,this.y-i.y)}scale(...t){let i=Q(...t);return new He(this.x*i.x,this.y*i.y)}dist(...t){let i=Q(...t);return this.sub(i).len()}sdist(...t){let i=Q(...t);return this.sub(i).slen()}static sdist(t,i){let o=t.x-i.x,a=t.y-i.y;return o*o+a*a}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let t=this.len();return t===0?new He(0):this.scale(1/t)}normal(){return new He(this.y,-this.x)}reflect(t){return this.sub(t.scale(2*this.dot(t)))}project(t){return t.scale(t.dot(this)/t.len())}reject(t){return this.sub(this.project(t))}dot(t){return this.x*t.x+this.y*t.y}static dot(t,i){return t.x*t.x+t.y*t.y}cross(t){return this.x*t.y-this.y*t.x}static cross(t,i){return t.x*i.y-t.y*i.x}angle(...t){let i=Q(...t);return zr(Math.atan2(this.y-i.y,this.x-i.x))}angleBetween(...t){let i=Q(...t);return zr(Math.atan2(this.cross(i),this.dot(i)))}lerp(t,i){return new He(Yt(this.x,t.x,i),Yt(this.y,t.y,i))}slerp(t,i){let o=this.dot(t),a=this.cross(t),u=Math.atan2(a,o);return this.scale(Math.sin((1-i)*u)).add(t.scale(Math.sin(i*u))).scale(1/a)}isZero(){return this.x===0&&this.y===0}toFixed(t){return new He(Number(this.x.toFixed(t)),Number(this.y.toFixed(t)))}transform(t){return t.multVec2(this)}eq(t){return this.x===t.x&&this.y===t.y}bbox(){return new Ze(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}},m(He,"Vec2"),H(He,"ZERO",new He(0,0)),H(He,"ONE",new He(1,1)),H(He,"LEFT",new He(-1,0)),H(He,"RIGHT",new He(1,0)),H(He,"UP",new He(0,-1)),H(He,"DOWN",new He(0,1)),He);function Q(...r){if(r.length===1){if(r[0]instanceof $)return new $(r[0].x,r[0].y);if(Array.isArray(r[0])&&r[0].length===2)return new $(...r[0])}return new $(...r)}m(Q,"vec2");var Br,st=(Br=class{constructor(t,i,o,a){H(this,"x",0);H(this,"y",0);H(this,"w",1);H(this,"h",1);this.x=t,this.y=i,this.w=o,this.h=a}scale(t){return new Br(this.x+this.w*t.x,this.y+this.h*t.y,this.w*t.w,this.h*t.h)}pos(){return new $(this.x,this.y)}clone(){return new Br(this.x,this.y,this.w,this.h)}eq(t){return this.x===t.x&&this.y===t.y&&this.w===t.w&&this.h===t.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}},m(Br,"Quad"),Br);function dt(r,t,i,o){return new st(r,t,i,o)}m(dt,"quad");var Pn,hl=(Pn=class{constructor(t,i,o,a){H(this,"a");H(this,"b");H(this,"c");H(this,"d");this.a=t,this.b=i,this.c=o,this.d=a}mul(t){return new Pn(this.a*t.a+this.b*t.c,this.a*t.b+this.b*t.d,this.c*t.a+this.d*t.c,this.c*t.b+this.d*t.d)}transform(t){return Q(this.a*t.x+this.b*t.y,this.c*t.x+this.d*t.y)}get inverse(){let t=this.det;return new Pn(this.d/t,-this.b/t,-this.c/t,this.a/t)}get transpose(){return new Pn(this.a,this.c,this.b,this.d)}get eigenvalues(){let t=this.trace/2,i=this.det,o=t+Math.sqrt(t*t-i),a=t-Math.sqrt(t*t-i);return[o,a]}eigenvectors(t,i){return this.c!=0?[[t-this.d,this.c],[i-this.d,this.c]]:this.b!=0?[[this.b,t-this.a],[this.b,i-this.a]]:Math.abs(this.transform(Q(1,0)).x-t)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(t){let i=Math.cos(t),o=Math.sin(t);return new Pn(i,o,-o,i)}static scale(t,i){return new Pn(t,0,0,i)}},m(Pn,"Mat2"),Pn),qn,Ao=(qn=class{constructor(t,i,o,a,u,d,g,f,p){H(this,"m11");H(this,"m12");H(this,"m13");H(this,"m21");H(this,"m22");H(this,"m23");H(this,"m31");H(this,"m32");H(this,"m33");this.m11=t,this.m12=i,this.m13=o,this.m21=a,this.m22=u,this.m23=d,this.m31=g,this.m32=f,this.m33=p}static fromMat2(t){return new qn(t.a,t.b,0,t.c,t.d,0,0,0,1)}toMat2(){return new hl(this.m11,this.m12,this.m21,this.m22)}mul(t){return new qn(this.m11*t.m11+this.m12*t.m21+this.m13*t.m31,this.m11*t.m12+this.m12*t.m22+this.m13*t.m32,this.m11*t.m13+this.m12*t.m23+this.m13*t.m33,this.m21*t.m11+this.m22*t.m21+this.m23*t.m31,this.m21*t.m12+this.m22*t.m22+this.m23*t.m32,this.m21*t.m13+this.m22*t.m23+this.m23*t.m33,this.m31*t.m11+this.m32*t.m21+this.m33*t.m31,this.m31*t.m12+this.m32*t.m22+this.m33*t.m32,this.m31*t.m13+this.m32*t.m23+this.m33*t.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(t){let i=Math.cos(t),o=Math.sin(t),a=this.m11,u=this.m12;return this.m11=i*this.m11+o*this.m21,this.m12=i*this.m12+o*this.m22,this.m21=i*this.m21-o*a,this.m22=i*this.m22-o*u,this}scale(t,i){return this.m11*=t,this.m12*=t,this.m21*=i,this.m22*=i,this}get inverse(){let t=this.det;return new qn((this.m22*this.m33-this.m23*this.m32)/t,(this.m13*this.m32-this.m12*this.m33)/t,(this.m12*this.m23-this.m13*this.m22)/t,(this.m23*this.m31-this.m21*this.m33)/t,(this.m11*this.m33-this.m13*this.m31)/t,(this.m13*this.m21-this.m11*this.m23)/t,(this.m21*this.m32-this.m22*this.m31)/t,(this.m12*this.m31-this.m11*this.m32)/t,(this.m11*this.m22-this.m12*this.m21)/t)}get transpose(){return new qn(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},m(qn,"Mat3"),qn),Wt,Un=(Wt=class{constructor(t){H(this,"m",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);t&&(this.m=t)}static translate(t){return new Wt([1,0,0,0,0,1,0,0,0,0,1,0,t.x,t.y,0,1])}static scale(t){return new Wt([t.x,0,0,0,0,t.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(t){t=ft(-t);let i=Math.cos(t),o=Math.sin(t);return new Wt([1,0,0,0,0,i,-o,0,0,o,i,0,0,0,0,1])}static rotateY(t){t=ft(-t);let i=Math.cos(t),o=Math.sin(t);return new Wt([i,0,o,0,0,1,0,0,-o,0,i,0,0,0,0,1])}static rotateZ(t){t=ft(-t);let i=Math.cos(t),o=Math.sin(t);return new Wt([i,-o,0,0,o,i,0,0,0,0,1,0,0,0,0,1])}translate(t){return this.m[12]+=this.m[0]*t.x+this.m[4]*t.y,this.m[13]+=this.m[1]*t.x+this.m[5]*t.y,this.m[14]+=this.m[2]*t.x+this.m[6]*t.y,this.m[15]+=this.m[3]*t.x+this.m[7]*t.y,this}scale(t){return this.m[0]*=t.x,this.m[4]*=t.y,this.m[1]*=t.x,this.m[5]*=t.y,this.m[2]*=t.x,this.m[6]*=t.y,this.m[3]*=t.x,this.m[7]*=t.y,this}rotate(t){t=ft(-t);let i=Math.cos(t),o=Math.sin(t),a=this.m[0],u=this.m[1],d=this.m[4],g=this.m[5];return this.m[0]=a*i+u*o,this.m[1]=-a*o+u*i,this.m[4]=d*i+g*o,this.m[5]=-d*o+g*i,this}mult(t){let i=[];for(let o=0;o<4;o++)for(let a=0;a<4;a++)i[o*4+a]=this.m[0*4+a]*t.m[o*4+0]+this.m[1*4+a]*t.m[o*4+1]+this.m[2*4+a]*t.m[o*4+2]+this.m[3*4+a]*t.m[o*4+3];return new Wt(i)}multVec2(t){return new $(t.x*this.m[0]+t.y*this.m[4]+this.m[12],t.x*this.m[1]+t.y*this.m[5]+this.m[13])}getTranslation(){return new $(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let t=this.m[0]*this.m[5]-this.m[1]*this.m[4],i=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new $(i,t/i)}else if(this.m[4]!=0||this.m[5]!=0){let t=this.m[0]*this.m[5]-this.m[1]*this.m[4],i=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new $(t/i,i)}else return new $(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let t=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return zr(this.m[1]>0?Math.acos(this.m[0]/t):-Math.acos(this.m[0]/t))}else if(this.m[4]!=0||this.m[5]!=0){let t=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return zr(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/t):-Math.acos(this.m[4]/t)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let t=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new $(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(t*t),0)}else if(this.m[4]!=0||this.m[5]!=0){let t=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new $(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(t*t))}else return new $(0,0)}invert(){let t=[],i=this.m[10]*this.m[15]-this.m[14]*this.m[11],o=this.m[9]*this.m[15]-this.m[13]*this.m[11],a=this.m[9]*this.m[14]-this.m[13]*this.m[10],u=this.m[8]*this.m[15]-this.m[12]*this.m[11],d=this.m[8]*this.m[14]-this.m[12]*this.m[10],g=this.m[8]*this.m[13]-this.m[12]*this.m[9],f=this.m[6]*this.m[15]-this.m[14]*this.m[7],p=this.m[5]*this.m[15]-this.m[13]*this.m[7],w=this.m[5]*this.m[14]-this.m[13]*this.m[6],M=this.m[4]*this.m[15]-this.m[12]*this.m[7],y=this.m[4]*this.m[14]-this.m[12]*this.m[6],k=this.m[5]*this.m[15]-this.m[13]*this.m[7],S=this.m[4]*this.m[13]-this.m[12]*this.m[5],T=this.m[6]*this.m[11]-this.m[10]*this.m[7],A=this.m[5]*this.m[11]-this.m[9]*this.m[7],C=this.m[5]*this.m[10]-this.m[9]*this.m[6],L=this.m[4]*this.m[11]-this.m[8]*this.m[7],F=this.m[4]*this.m[10]-this.m[8]*this.m[6],z=this.m[4]*this.m[9]-this.m[8]*this.m[5];t[0]=this.m[5]*i-this.m[6]*o+this.m[7]*a,t[4]=-(this.m[4]*i-this.m[6]*u+this.m[7]*d),t[8]=this.m[4]*o-this.m[5]*u+this.m[7]*g,t[12]=-(this.m[4]*a-this.m[5]*d+this.m[6]*g),t[1]=-(this.m[1]*i-this.m[2]*o+this.m[3]*a),t[5]=this.m[0]*i-this.m[2]*u+this.m[3]*d,t[9]=-(this.m[0]*o-this.m[1]*u+this.m[3]*g),t[13]=this.m[0]*a-this.m[1]*d+this.m[2]*g,t[2]=this.m[1]*f-this.m[2]*p+this.m[3]*w,t[6]=-(this.m[0]*f-this.m[2]*M+this.m[3]*y),t[10]=this.m[0]*k-this.m[1]*M+this.m[3]*S,t[14]=-(this.m[0]*w-this.m[1]*y+this.m[2]*S),t[3]=-(this.m[1]*T-this.m[2]*A+this.m[3]*C),t[7]=this.m[0]*T-this.m[2]*L+this.m[3]*F,t[11]=-(this.m[0]*A-this.m[1]*L+this.m[3]*z),t[15]=this.m[0]*C-this.m[1]*F+this.m[2]*z;let N=this.m[0]*t[0]+this.m[1]*t[4]+this.m[2]*t[8]+this.m[3]*t[12];for(let E=0;E<4;E++)for(let R=0;R<4;R++)t[E*4+R]*=1/N;return new Wt(t)}clone(){return new Wt([...this.m])}toString(){return this.m.toString()}},m(Wt,"Mat4"),Wt);function id(r,t,i,o=a=>-Math.cos(a)){return r+(o(i)+1)/2*(t-r)}m(id,"wave");var mx=1103515245,gx=12345,Zp=2147483648,ss,Cm=(ss=class{constructor(t){H(this,"seed");this.seed=t}gen(){return this.seed=(mx*this.seed+gx)%Zp,this.seed/Zp}genNumber(t,i){return t+this.gen()*(i-t)}genVec2(t,i){return new $(this.genNumber(t.x,i.x),this.genNumber(t.y,i.y))}genColor(t,i){return new be(this.genNumber(t.r,i.r),this.genNumber(t.g,i.g),this.genNumber(t.b,i.b))}genAny(...t){if(t.length===0)return this.gen();if(t.length===1){if(typeof t[0]=="number")return this.genNumber(0,t[0]);if(t[0]instanceof $)return this.genVec2(Q(0,0),t[0]);if(t[0]instanceof be)return this.genColor(Oe(0,0,0),t[0])}else if(t.length===2){if(typeof t[0]=="number"&&typeof t[1]=="number")return this.genNumber(t[0],t[1]);if(t[0]instanceof $&&t[1]instanceof $)return this.genVec2(t[0],t[1]);if(t[0]instanceof be&&t[1]instanceof be)return this.genColor(t[0],t[1])}throw new Error("More than 2 arguments not supported")}},m(ss,"RNG"),ss),qc=new Cm(Date.now());function Mm(r){return r!=null&&(qc.seed=r),qc.seed}m(Mm,"randSeed");function wt(...r){return qc.genAny(...r)}m(wt,"rand");function sd(...r){return Math.floor(wt(...r.length>0?r:[2]))}m(sd,"randi");function Rm(r){return wt()<=r}m(Rm,"chance");function od(r){for(let t=r.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1));[r[t],r[i]]=[r[i],r[t]]}return r}m(od,"shuffle");function Pm(r,t){return r.length<=t?r.slice():od(r.slice()).slice(0,t)}m(Pm,"chooseMultiple");function Tm(r){return r[sd(r.length)]}m(Tm,"choose");function ad(r,t){return r.pos.x+r.width>t.pos.x&&r.pos.x<t.pos.x+t.width&&r.pos.y+r.height>t.pos.y&&r.pos.y<t.pos.y+t.height}m(ad,"testRectRect");function Im(r,t){if(r.p1.x===r.p2.x&&r.p1.y===r.p2.y||t.p1.x===t.p2.x&&t.p1.y===t.p2.y)return null;let i=(t.p2.y-t.p1.y)*(r.p2.x-r.p1.x)-(t.p2.x-t.p1.x)*(r.p2.y-r.p1.y);if(i===0)return null;let o=((t.p2.x-t.p1.x)*(r.p1.y-t.p1.y)-(t.p2.y-t.p1.y)*(r.p1.x-t.p1.x))/i,a=((r.p2.x-r.p1.x)*(r.p1.y-t.p1.y)-(r.p2.y-r.p1.y)*(r.p1.x-t.p1.x))/i;return o<0||o>1||a<0||a>1?null:o}m(Im,"testLineLineT");function Il(r,t){let i=Im(r,t);return i?Q(r.p1.x+i*(r.p2.x-r.p1.x),r.p1.y+i*(r.p2.y-r.p1.y)):null}m(Il,"testLineLine");function bl(r,t){let i=t.p2.sub(t.p1),o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;if(i.x!=0){let u=(r.pos.x-t.p1.x)/i.x,d=(r.pos.x+r.width-t.p1.x)/i.x;o=Math.max(o,Math.min(u,d)),a=Math.min(a,Math.max(u,d))}if(i.y!=0){let u=(r.pos.y-t.p1.y)/i.y,d=(r.pos.y+r.height-t.p1.y)/i.y;o=Math.max(o,Math.min(u,d)),a=Math.min(a,Math.max(u,d))}return a>=o&&a>=0&&o<=1}m(bl,"testRectLine");function qo(r,t){return t.x>r.pos.x&&t.x<r.pos.x+r.width&&t.y>r.pos.y&&t.y<r.pos.y+r.height}m(qo,"testRectPoint");function ld(r,t){let i=Math.max(r.pos.x,Math.min(t.center.x,r.pos.x+r.width)),o=Math.max(r.pos.y,Math.min(t.center.y,r.pos.y+r.height));return Q(i,o).sdist(t.center)<=t.radius*t.radius}m(ld,"testRectCircle");function ud(r,t){return cd(t,new Xt(r.points()))}m(ud,"testRectPolygon");function Fl(r,t){let i=t.sub(r.p1),o=r.p2.sub(r.p1);if(Math.abs(i.cross(o))>Number.EPSILON)return!1;let a=i.dot(o)/o.dot(o);return a>=0&&a<=1}m(Fl,"testLinePoint");function bs(r,t){let i=r.p2.sub(r.p1),o=i.dot(i),a=r.p1.sub(t.center),u=2*i.dot(a),d=a.dot(a)-t.radius*t.radius,g=u*u-4*o*d;if(o<=Number.EPSILON||g<0)return!1;if(g==0){let f=-u/(2*o);if(f>=0&&f<=1)return!0}else{let f=(-u+Math.sqrt(g))/(2*o),p=(-u-Math.sqrt(g))/(2*o);if(f>=0&&f<=1||p>=0&&p<=1)return!0}return _o(t,r.p1)}m(bs,"testLineCircle");function Nl(r,t){if(or(t,r.p1)||or(t,r.p2))return!0;for(let i=0;i<t.pts.length;i++){let o=t.pts[i],a=t.pts[(i+1)%t.pts.length];if(Il(r,new ln(o,a)))return!0}return!1}m(Nl,"testLinePolygon");function _o(r,t){return r.center.sdist(t)<r.radius*r.radius}m(_o,"testCirclePoint");function bm(r,t){return r.center.sdist(t.center)<(r.radius+t.radius)*(r.radius+t.radius)}m(bm,"testCircleCircle");function zo(r,t){let i=t.pts[t.pts.length-1];for(let o of t.pts){if(bs(new ln(i,o),r))return!0;i=o}return _o(r,t.pts[0])?!0:or(t,r.center)}m(zo,"testCirclePolygon");function cd(r,t){for(let i=0;i<r.pts.length;i++)if(Nl(new ln(r.pts[i],r.pts[(i+1)%r.pts.length]),t))return!0;return!!(r.pts.some(i=>or(t,i))||t.pts.some(i=>or(r,i)))}m(cd,"testPolygonPolygon");function or(r,t){let i=!1,o=r.pts;for(let a=0,u=o.length-1;a<o.length;u=a++)o[a].y>t.y!=o[u].y>t.y&&t.x<(o[u].x-o[a].x)*(t.y-o[a].y)/(o[u].y-o[a].y)+o[a].x&&(i=!i);return i}m(or,"testPolygonPoint");function Dl(r,t){t=t.sub(r.center);let i=ft(r.angle),o=Math.cos(i),a=Math.sin(i),u=t.x*o+t.y*a,d=-t.x*a+t.y*o;return u*u/(r.radiusX*r.radiusX)+d*d/(r.radiusY*r.radiusY)<1}m(Dl,"testEllipsePoint");function Ro(r,t){let i=t.center.sub(r.center),o=ft(r.angle),a=Math.cos(o),u=Math.sin(o),d=i.x*a+i.y*u,g=-i.x*u+i.y*a;return Dl(new lr(Q(),r.radiusX+t.radius,r.radiusY+t.radius,0),Q(d,g))}m(Ro,"testEllipseCircle");function dd(r,t){let i=r.toMat2().inverse;return t=new ln(i.transform(t.p1.sub(r.center)),i.transform(t.p2.sub(r.center))),bs(t,new on(Q(),1))}m(dd,"testEllipseLine");function Fm(r,t){if(r.radiusX===r.radiusY)return Ro(t,new on(r.center,r.radiusX));if(t.radiusX===t.radiusY)return Ro(r,new on(t.center,t.radiusX));let i=new Ao(1/r.radiusX**2,0,0,0,1/r.radiusY**2,0,0,0,-1),o=new Ao(1/t.radiusX**2,0,0,0,1/t.radiusY**2,0,0,0,-1),a=r.center.x,u=r.center.y,d=t.center.x,g=t.center.y,f=ft(r.angle),p=ft(t.angle),w=new Ao(Math.cos(f),-Math.sin(f),a,Math.sin(f),Math.cos(f),u,0,0,1),M=new Ao(Math.cos(p),-Math.sin(p),d,Math.sin(p),Math.cos(p),g,0,0,1),y=w.inverse,k=M.inverse,S=y.transpose.mul(i).mul(y),T=k.transpose.mul(o).mul(k),A=S.m11,C=S.m12,L=S.m13,F=S.m21,z=S.m22,N=S.m23,E=S.m31,R=S.m32,I=S.m33,K=T.m11,Y=T.m12,Z=T.m13,oe=T.m21,ue=T.m22,ve=T.m23,Ce=T.m31,ge=T.m32,he=T.m33,te=A*z*I-A*N*R-C*F*I+C*N*E+L*F*R-L*z*E,ae=(A*z*he-A*N*ge-A*R*ve+A*I*ue-C*F*he+C*N*Ce+C*E*ve-C*I*oe+L*F*ge-L*z*Ce-L*E*ue+L*R*oe+F*R*Z-F*I*Y-z*E*Z+z*I*K+N*E*Y-N*R*K)/te,re=(A*ue*he-A*ve*ge-C*oe*he+C*ve*Ce+L*oe*ge-L*ue*Ce-F*Y*he+F*Z*ge+z*K*he-z*Z*Ce-N*K*ge+N*Y*Ce+E*Y*ve-E*Z*ue-R*K*ve+R*Z*oe+I*K*ue-I*Y*oe)/te,q=(K*ue*he-K*ve*ge-Y*oe*he+Y*ve*Ce+Z*oe*ge-Z*ue*Ce)/te;if(ae>=0){let V=-3*re+ae**2,Ae=3*ae*q+re*ae**2-4*re**2,ke=-27*q**2+18*q*ae*re+ae**2*re**2-4*ae**3*q-4*re**3;return!(V>0&&Ae<0&&ke>0)}else{let V=-3*re+ae**2,Ae=-27*q**2+18*q*ae*re+ae**2*re**2-4*ae**3*q-4*re**3;return!(V>0&&Ae>0)}}m(Fm,"testEllipseEllipse");function fd(r,t){return jl(r,new Xt(t.points()))}m(fd,"testEllipseRect");function jl(r,t){let i=r.toMat2().inverse;return t=new Xt(t.pts.map(o=>i.transform(o.sub(r.center)))),zo(new on(Q(),1),t)}m(jl,"testEllipsePolygon");function Nm(r,t){return r.x===t.x&&r.y===t.y}m(Nm,"testPointPoint");function Dm(r,t){return t instanceof $?Nm(t,r.pt):t instanceof on?_o(t,r.pt):t instanceof ln?Fl(t,r.pt):t instanceof Ze?qo(t,r.pt):t instanceof Xt?or(t,r.pt):t instanceof lr?Dl(t,r.pt):!1}m(Dm,"testPointShape");function jm(r,t){return t instanceof $?Fl(r,t):t instanceof on?bs(r,t):t instanceof ln?Il(r,t)!=null:t instanceof Ze?bl(t,r):t instanceof Xt?Nl(r,t):t instanceof lr?dd(t,r):!1}m(jm,"testLineShape");function Bm(r,t){return t instanceof $?_o(r,t):t instanceof on?bm(r,t):t instanceof ln?bs(t,r):t instanceof Ze?ld(t,r):t instanceof Xt?zo(r,t):t instanceof lr?Ro(t,r):!1}m(Bm,"testCircleShape");function Lm(r,t){return t instanceof $?qo(r,t):t instanceof on?ld(r,t):t instanceof ln?bl(r,t):t instanceof Ze?ad(r,t):t instanceof Xt?ud(r,t):t instanceof lr?fd(t,r):!1}m(Lm,"testRectShape");function Om(r,t){return t instanceof $?or(r,t):t instanceof on?zo(t,r):t instanceof ln?Nl(t,r):t instanceof Ze?ud(t,r):t instanceof Xt?cd(t,r):t instanceof lr?jl(t,r):!1}m(Om,"testPolygonShape");function qm(r,t){return t instanceof $?Dl(r,t):t instanceof on?Ro(r,t):t instanceof ln?dd(r,t):t instanceof Ze?fd(r,t):t instanceof Xt?jl(r,t):t instanceof lr?Fm(t,r):!1}m(qm,"testEllipseShape");function hd(r,t,i){let o=r,a=i.p1,u=i.p2,d=t,g=u.sub(a),f=d.cross(g);if(Math.abs(f)<Number.EPSILON)return null;let p=a.sub(o),w=p.cross(g)/f;if(w<=0||w>=1)return null;let M=p.cross(d)/f;if(M<=0||M>=1)return null;let y=g.normal().unit();return t.dot(y)>0&&(y.x*=-1,y.y*=-1),{point:o.add(d.scale(w)),normal:y,fraction:w}}m(hd,"raycastLine");function _m(r,t,i){let o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,u;if(r.x!=0){let d=(i.pos.x-r.x)/t.x,g=(i.pos.x+i.width-r.x)/t.x;u=Q(-Math.sign(t.x),0),o=Math.max(o,Math.min(d,g)),a=Math.min(a,Math.max(d,g))}if(r.y!=0){let d=(i.pos.y-r.y)/t.y,g=(i.pos.y+i.height-r.y)/t.y;Math.min(d,g)>o&&(u=Q(0,-Math.sign(t.y))),o=Math.max(o,Math.min(d,g)),a=Math.min(a,Math.max(d,g))}return a>=o&&o>=0&&o<=1?{point:r.add(t.scale(o)),normal:u,fraction:o}:null}m(_m,"raycastRect");function pd(r,t,i){let o=r,a=i.center,u=t,d=u.dot(u),g=o.sub(a),f=2*u.dot(g),p=g.dot(g)-i.radius*i.radius,w=f*f-4*d*p;if(d<=Number.EPSILON||w<0)return null;if(w==0){let M=-f/(2*d);if(M>=0&&M<=1){let y=o.add(u.scale(M));return{point:y,normal:y.sub(a),fraction:M}}}else{let M=(-f+Math.sqrt(w))/(2*d),y=(-f-Math.sqrt(w))/(2*d),k=null;if(M>=0&&M<=1&&(k=M),y>=0&&y<=1&&(k=Math.min(y,k??y)),k!=null){let S=o.add(u.scale(k));return{point:S,normal:S.sub(a).unit(),fraction:k}}}return null}m(pd,"raycastCircle");function zm(r,t,i){let o=i.pts,a=null,u=o[o.length-1];for(let d=0;d<o.length;d++){let g=o[d],f=hd(r,t,new ln(u,g));f&&(!a||a.fraction>f.fraction)&&(a=f),u=g}return a}m(zm,"raycastPolygon");function Um(r,t,i){let o=i.toMat2(),a=o.inverse,u=a.transform(r.sub(i.center)),d=a.transform(t),g=pd(u,d,new on(Q(),1));if(g){let f=hl.rotation(ft(-i.angle)),p=hl.scale(i.radiusX,i.radiusY).transform(g.point),w=o.transform(g.point).add(i.center),M=w.dist(r)/t.len();return{point:w,normal:f.transform(Q(i.radiusY**2*p.x,i.radiusX**2*p.y)).unit(),fraction:M}}return g}m(Um,"raycastEllipse");function Hm(r,t,i,o=64){let a=r,u=t.len(),d=t.scale(1/u),g=0,f=Q(Math.floor(r.x),Math.floor(r.y)),p=Q(d.x>0?1:-1,d.y>0?1:-1),w=Q(Math.abs(1/d.x),Math.abs(1/d.y)),M=Q(p.x>0?f.x+1-r.x:r.x-f.x,p.y>0?f.y+1-r.y:r.y-f.y),y=Q(w.x<1/0?w.x*M.x:1/0,w.y<1/0?w.y*M.y:1/0),k=-1;for(;g<=o;){let S=i(f);if(S===!0)return{point:a.add(d.scale(g)),normal:Q(k===0?-p.x:0,k===1?-p.y:0),fraction:g/u,gridPos:f};if(S)return S;y.x<y.y?(f.x+=p.x,g=y.x,y.x+=w.x,k=0):(f.y+=p.y,g=y.y,y.y+=w.y,k=1)}return null}m(Hm,"raycastGrid");var Lr,yx=(Lr=class{constructor(t){H(this,"pt");this.pt=t.clone()}transform(t){return new Lr(t.multVec2(this.pt))}bbox(){return new Ze(this.pt,0,0)}area(){return 0}clone(){return new Lr(this.pt)}collides(t){return Dm(this,t)}contains(t){return this.pt.eq(t)}raycast(t,i){return null}random(){return this.pt.clone()}},m(Lr,"Point"),Lr),Or,ln=(Or=class{constructor(t,i){H(this,"p1");H(this,"p2");this.p1=t.clone(),this.p2=i.clone()}transform(t){return new Or(t.multVec2(this.p1),t.multVec2(this.p2))}bbox(){return Ze.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new Or(this.p1,this.p2)}collides(t){return jm(this,t)}contains(t){return this.collides(t)}raycast(t,i){return hd(t,i,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(wt(1)))}},m(Or,"Line"),Or),qr,Ze=(qr=class{constructor(t,i,o){H(this,"pos");H(this,"width");H(this,"height");this.pos=t.clone(),this.width=i,this.height=o}static fromPoints(t,i){return new qr(t.clone(),i.x-t.x,i.y-t.y)}center(){return new $(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(t){return new Xt(this.points().map(i=>t.multVec2(i)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new qr(this.pos.clone(),this.width,this.height)}distToPoint(t){return Math.sqrt(this.sdistToPoint(t))}sdistToPoint(t){let i=this.pos,o=this.pos.add(this.width,this.height),a=Math.max(i.x-t.x,0,t.x-o.x),u=Math.max(i.y-t.y,0,t.y-o.y);return a*a+u*u}collides(t){return Lm(this,t)}contains(t){return this.collides(t)}raycast(t,i){return _m(t,i,this)}random(){return this.pos.add(wt(this.width),wt(this.height))}},m(qr,"Rect"),qr),mi,on=(mi=class{constructor(t,i){H(this,"center");H(this,"radius");this.center=t.clone(),this.radius=i}transform(t){return new lr(this.center,this.radius,this.radius).transform(t)}bbox(){return Ze.fromPoints(this.center.sub(Q(this.radius)),this.center.add(Q(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new mi(this.center,this.radius)}collides(t){return Bm(this,t)}contains(t){return this.collides(t)}raycast(t,i){return pd(t,i,this)}random(){return this.center.add($.fromAngle(wt(360)).scale(wt(this.radius)))}},m(mi,"Circle"),mi),Tn,lr=(Tn=class{constructor(t,i,o,a=0){H(this,"center");H(this,"radiusX");H(this,"radiusY");H(this,"angle");this.center=t.clone(),this.radiusX=i,this.radiusY=o,this.angle=a}static fromMat2(t){let i=t.inverse,o=i.transpose.mul(i),[a,u]=o.eigenvalues,[d,g]=o.eigenvectors(a,u),[f,p]=[1/Math.sqrt(a),1/Math.sqrt(u)];return f>p?new Tn(Q(),f,p,zr(Math.atan2(-d[1],d[0]))):new Tn(Q(),p,f,zr(Math.atan2(-g[1],g[0])))}toMat2(){let t=ft(this.angle),i=Math.cos(t),o=Math.sin(t);return new hl(i*this.radiusX,-o*this.radiusY,o*this.radiusX,i*this.radiusY)}transform(t){if(this.angle==0&&t.getRotation()==0)return new Tn(t.multVec2(this.center),t.m[0]*this.radiusX,t.m[5]*this.radiusY);{let i=this.toMat2(),o=t.getRotation(),a=t.getScale();i=Ao.fromMat2(i).scale(a.x,a.y).rotate(o).toMat2();let u=Tn.fromMat2(i);return u.center=t.multVec2(this.center),u}}bbox(){if(this.angle==0)return Ze.fromPoints(this.center.sub(Q(this.radiusX,this.radiusY)),this.center.add(Q(this.radiusX,this.radiusY)));{let t=ft(this.angle),i=Math.cos(t),o=Math.sin(t),a=this.radiusX*i,u=this.radiusX*o,d=this.radiusY*o,g=this.radiusY*i,f=Math.sqrt(a*a+d*d),p=Math.sqrt(u*u+g*g);return Ze.fromPoints(this.center.sub(Q(f,p)),this.center.add(Q(f,p)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new Tn(this.center,this.radiusX,this.radiusY,this.angle)}collides(t){return qm(this,t)}contains(t){t=t.sub(this.center);let i=ft(this.angle),o=Math.cos(i),a=Math.sin(i),u=t.x*o+t.y*a,d=-t.x*a+t.y*o;return u*u/(this.radiusX*this.radiusX)+d*d/(this.radiusY*this.radiusY)<1}raycast(t,i){return Um(t,i,this)}random(){return this.center}},m(Tn,"Ellipse"),Tn);function Gm(r,t,i,o){let a=t.sub(r),u=o.sub(i),d=a.cross(u);return d<1e-5&&d>-1e-5||(d=i.sub(r).cross(u)/d,d<0||d>1)?null:r.add(a.scale(d))}m(Gm,"segmentLineIntersection");var _n,Xt=(_n=class{constructor(t){H(this,"pts");if(t.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=t}transform(t){return new _n(this.pts.map(i=>t.multVec2(i)))}bbox(){let t=Q(Number.MAX_VALUE),i=Q(-Number.MAX_VALUE);for(let o of this.pts)t.x=Math.min(t.x,o.x),i.x=Math.max(i.x,o.x),t.y=Math.min(t.y,o.y),i.y=Math.max(i.y,o.y);return Ze.fromPoints(t,i)}area(){let t=0,i=this.pts.length;for(let o=0;o<i;o++){let a=this.pts[o],u=this.pts[(o+1)%i];t+=a.x*u.y*.5,t-=u.x*a.y*.5}return Math.abs(t)}clone(){return new _n(this.pts.map(t=>t.clone()))}collides(t){return Om(this,t)}contains(t){return this.collides(t)}raycast(t,i){return zm(t,i,this)}random(){return Q()}cut(t,i){new ln(t,i);let o=[],a=[],u=i.sub(t),d=this.pts[this.pts.length-1],g=d.sub(t),f=u.cross(g)>0;return this.pts.forEach(p=>{g=p.sub(t);let w=u.cross(g)>0;if(f!=w){let M=Gm(d,p,t,i);o.push(M),a.push(M),f=w}(w?o:a).push(p),d=p}),[o.length?new _n(o):null,a.length?new _n(a):null]}},m(_n,"Polygon"),_n);function Vm(r,t,i,o){let a=o*o,u=1-o,d=u*u;return r.scale(d).add(t.scale(2*u*o)).add(i.scale(a))}m(Vm,"evaluateQuadratic");function Wm(r,t,i,o){let a=1-o;return t.sub(r).scale(2*a).add(i.sub(t).scale(2*o))}m(Wm,"evaluateQuadraticFirstDerivative");function Qm(r,t,i,o){return i.sub(t.scale(2)).add(r).scale(2)}m(Qm,"evaluateQuadraticSecondDerivative");function Bl(r,t,i,o,a){let u=a*a,d=u*a,g=1-a,f=g*g,p=f*g;return r.scale(p).add(t.scale(3*f*a)).add(i.scale(3*g*u)).add(o.scale(d))}m(Bl,"evaluateBezier");function Km(r,t,i,o,a){let u=a*a,d=1-a,g=d*d;return t.sub(r).scale(3*g).add(i.sub(t).scale(6*d*a)).add(o.sub(i).scale(3*u))}m(Km,"evaluateBezierFirstDerivative");function Ym(r,t,i,o,a){let u=1-a;return i.sub(t.scale(2)).add(r).scale(6*u).add(o.sub(i.scale(2)).add(t).scale(6*a))}m(Ym,"evaluateBezierSecondDerivative");function Xm(r,t,i,o,a){let u=.5*(((-a+2)*a-1)*a),d=.5*((3*a-5)*a*a+2),g=.5*(((-3*a+4)*a+1)*a),f=.5*((a-1)*a*a);return r.scale(u).add(t.scale(d)).add(i.scale(g)).add(o.scale(f))}m(Xm,"evaluateCatmullRom");function $m(r,t,i,o,a){let u=.5*((-3*a+4)*a-1),d=.5*((9*a-10)*a),g=.5*((-9*a+8)*a+1),f=.5*((3*a-2)*a);return r.scale(u).add(t.scale(d)).add(i.scale(g)).add(o.scale(f))}m($m,"evaluateCatmullRomFirstDerivative");function Jm(r){let t=md(r),i=t(1);return o=>{let a=o*i,u=t(a,!0);return r(u)}}m(Jm,"normalizedCurve");function md(r,t=10,i=10){let o=[0],a=[0],u=1/(t-1)/i,d=0,g=r(0),f=0;for(let p=1;p<t;p++){for(let w=0;w<i;w++){f+=u;let M=r(f),y=M.dist(g);d+=y,g=M}o[p]=d,a[p]=f}return a[t-1]=1,(p,w=!1)=>{if(w){let M=p;if(M<=0)return 0;if(M>=d)return 1;let y=0;for(;o[y+1]<M;)y++;let k=a[y],S=a[y+1],T=o[y],A=o[y+1],C=(M-T)/(A-T);return k+(S-k)*C}else{if(p<=0)return 0;if(p>=1)return o[t-1];let M=0;for(;a[M+1]<p;)M++;let y=a[M],k=a[M+1],S=o[M],T=o[M+1],A=(p-y)/(k-y);return S+(T-S)*A}}}m(md,"curveLengthApproximation");function Fs(r,t,i,o){let a=2*r+t-2*o+i,u=-3*r+3*o-2*t-i,d=t,g=r;return f=>{let p=f*f,w=p*f;return a*w+u*p+d*f+g}}m(Fs,"hermite");function gd(r,t,i,o,a,u=Fs){let d=u(t.x,(1-a)*(i.x-r.x),(1-a)*(o.x-t.x),i.x),g=u(t.y,(1-a)*(i.y-r.y),(1-a)*(o.y-t.y),i.y);return f=>new $(d(f),g(f))}m(gd,"cardinal");function Po(r,t,i,o,a=Fs){return gd(r,t,i,o,.5,a)}m(Po,"catmullRom");function Zm(r,t,i,o,a=Fs){return Po(o.add(r.sub(t).scale(6)),r,o,r.add(o.sub(i).scale(6)),a)}m(Zm,"bezier");function eg(r,t,i,o,a,u,d,g=Fs){let f=g(t.x,.5*(1-a)*(1+d)*(1+u)*(t.x-r.x)+.5*(1-a)*(1-d)*(1-u)*(i.x-t.x),.5*(1-a)*(1+d)*(1-u)*(i.x-t.x)+.5*(1-a)*(1-d)*(1+u)*(o.x-i.x),i.x),p=g(t.y,.5*(1-a)*(1+d)*(1+u)*(t.y-r.y)+.5*(1-a)*(1-d)*(1-u)*(i.y-t.y),.5*(1-a)*(1+d)*(1-u)*(i.y-t.y)+.5*(1-a)*(1-d)*(1+u)*(o.y-i.y),i.y);return w=>new $(f(w),p(w))}m(eg,"kochanekBartels");function tg(r,t,i,o){let a=2*r+t-2*o+i,u=-3*r+3*o-2*t+i,d=t;return g=>{let f=g*g;return 3*a*f+2*u*g+d}}m(tg,"hermiteFirstDerivative");function Ji(r){return 0<=r&&r<=1}m(Ji,"inZeroOneDomain");function ll(r,t){return Math.abs(r-t)<=Number.EPSILON}m(ll,"approximately");function Zi(r){return r<0?-Math.pow(-r,1/3):Math.pow(r,1/3)}m(Zi,"cubeRoot");function ng(r,t,i,o){let a=3*r-6*t+3*i,u=-3*r+3*t,d=r,g=-r+3*t-3*i+o;if(ll(g,0)){if(ll(a,0))return ll(u,0)?[]:[-d/u].filter(Ji);let A=Math.sqrt(u*u-4*a*d),C=2*a;return[(A-u)/C,(-u-A)/C].filter(Ji)}a/=g,u/=g,d/=g;let f=(3*u-a*a)/3,p=f/3,w=(2*a*a*a-9*a*u+27*d)/27,M=w/2,y=M*M+p*p*p;if(y<0){let A=-f/3,C=A*A*A,L=Math.sqrt(C),F=-w/(2*L),z=F<-1?-1:F>1?1:F,N=Math.acos(z),E=2*Zi(L),R=E*Math.cos(N/3)-a/3,I=E*Math.cos((N+2*Math.PI)/3)-a/3,K=E*Math.cos((N+4*Math.PI)/3)-a/3;return[R,I,K].filter(Ji)}if(y===0){let A=M<0?Zi(-M):-Zi(M),C=2*A-a/3,L=-A-a/3;return[C,L].filter(Ji)}let k=Math.sqrt(y),S=Zi(k-M),T=Zi(k+M);return[S-T-a/3].filter(Ji)}m(ng,"getCubicRoots");function rg(r,t,i,o,a){let u=ng(r.x-a,t.x-a,i.x-a,o.x-a);return u.length>0?Bl(r,t,i,o,u[0]).y:NaN}m(rg,"cubicBezierYforX");function ig(r){if(!r||r.length==0)throw new Error("Need at least one point for easingLinear.");let t=r.length;return i=>{if(i<=0||r.length==1||i<=r[0].x)return r[0].y;for(let o=0;o<t;o++)if(r[o].x>=i)return In(i,r[o-1].x,r[o].x,r[o-1].y,r[o].y);return r[r.length-1].y}}m(ig,"easingLinear");function sg(r,t){return i=>rg(Q(0,0),r,t,Q(1,1),i)}m(sg,"easingCubicBezier");function og(r,t="jump-end"){let i=1/r,o=t=="jump-start"||t=="jump-both",a=t=="jump-end"||t=="jump-both",u=1/(r+(a?1:0)),d=o?u:0;return g=>{let f=Math.floor(g/i);return d+f*u}}m(og,"easingSteps");function ag(r,t){let i=Number.MAX_VALUE,o={normal:Q(0),distance:0};for(let a of[r,t])for(let u=0;u<a.pts.length;u++){let d=a.pts[u],g=a.pts[(u+1)%a.pts.length].sub(d).normal().unit(),f=Number.MAX_VALUE,p=-Number.MAX_VALUE;for(let k=0;k<r.pts.length;k++){let S=r.pts[k].dot(g);f=Math.min(f,S),p=Math.max(p,S)}let w=Number.MAX_VALUE,M=-Number.MAX_VALUE;for(let k=0;k<t.pts.length;k++){let S=t.pts[k].dot(g);w=Math.min(w,S),M=Math.max(M,S)}let y=Math.min(p,M)-Math.max(f,w);if(y<0)return null;if(y<Math.abs(i)){let k=M-f,S=w-p;i=Math.abs(k)<Math.abs(S)?k:S,o.normal=g,o.distance=i}}return o}m(ag,"sat");function yd(r,t,i){return(t.x-r.x)*(i.y-r.y)-(t.y-r.y)*(i.x-r.x)>=0}m(yd,"isOrientedCcw");function lg(r){let t=0,i=r[r.length-1];for(let o=0;o<r.length;o++)t+=(r[o].x-i.x)*(r[o].y+i.y),i=r[o];return t<0}m(lg,"isOrientedCcwPolygon");function ul(r,t,i,o){let a=o.x-i.x,u=o.y-i.y,d=a*(r.y-i.y)-u*(r.x-i.x),g=a*(t.y-i.y)-u*(t.x-i.x);return d*g>=0}m(ul,"onSameSide");function ug(r,t,i,o){return ul(r,t,i,o)&&ul(r,i,t,o)&&ul(r,o,t,i)}m(ug,"pointInTriangle");function cg(r,t,i,o){for(let a of r)if(a!==t&&a!==i&&a!==o&&ug(a,t,i,o))return!0;return!1}m(cg,"someInTriangle");function dg(r,t,i,o){return yd(r,t,i)&&!cg(o,r,t,i)}m(dg,"isEar");function vd(r){if(r.length<3)return[];if(r.length==3)return[r];let t=[],i=[],o=0;for(let M=0;M<r.length;M++){let y=r[o],k=r[M];(k.x<y.x||k.x==y.x&&k.y<y.y)&&(o=o),t[M]=M+1,i[M]=M-1}t[t.length-1]=0,i[0]=i.length-1,lg(r)||([t,i]=[i,t]);let a=[];for(let M=0;M<r.length;++M)yd(r[i[M]],r[M],r[t[M]])||a.push(r[M]);let u=[],d=r.length,g=1,f=0,p,w;for(;d>3;){p=t[g],w=i[g];let M=r[w],y=r[g],k=r[p];if(dg(M,y,k,a))u.push([M,y,k]),t[w]=p,i[p]=w,a.splice(a.indexOf(y),1),--d,f=0;else if(++f>d)return[];g=p}return p=t[g],w=i[g],u.push([r[w],r[g],r[p]]),u}m(vd,"triangulate");function fg(r){if(r.length<3)return!1;let t=r.length-2,i=r.length-1,o=0,a=r[i].sub(r[t]),u=r[o].sub(r[i]),d=a.cross(u);for(;o+1<r.length;)if(t=i,i=o,o++,a=r[i].sub(r[t]),u=r[o].sub(r[i]),a.cross(u)*d<0)return!1;return!0}m(fg,"isConvex");var hg=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",Ll="topleft",vx="monospace",pl="monospace",_c="linear",wd=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],wx=wd.reduce((r,t)=>r+t.size,0),pg=2048,xx=pg*4*wx,Ax=pg*6,Sx=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,Ex=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	vec4 texColor = texture2D(u_tex, v_uv);
	return vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,zc=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,Uc=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,kx=new Set(["id","require"]),Cx=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),Mx=200,Rx=640,Px=65536,mg=Symbol.for("kaplay.cancel"),os,gg=(os=class extends Map{constructor(){super(...arguments);H(this,"lastID",0)}push(i){let o=this.lastID;return this.set(o,i),this.lastID++,o}pushd(i){let o=this.push(i);return()=>this.delete(o)}},m(os,"Registry"),os),gi,xi=(gi=class{constructor(t){H(this,"paused",!1);H(this,"cancel");this.cancel=t}static join(t){let i=new gi(()=>t.forEach(o=>o.cancel()));return Object.defineProperty(i,"paused",{get:m(()=>t[0].paused,"get"),set:m(o=>t.forEach(a=>a.paused=o),"set")}),i.paused=!1,i}static replace(t,i){return t.cancel=()=>i.cancel(),i.paused=t.paused,Object.defineProperty(t,"paused",{get:m(()=>i.paused,"get"),set:m(o=>i.paused=o,"set")}),t}},m(gi,"KEventController"),gi),as,Qt=(as=class{constructor(){H(this,"cancellers",new WeakMap);H(this,"handlers",new gg)}add(t){function i(...u){if(!a.paused)return t(...u)}m(i,"handler");let o=this.handlers.pushd(i),a=new xi(o);return this.cancellers.set(i,o),a}addOnce(t){let i=this.add((...o)=>{i.cancel(),t(...o)});return i}next(){return new Promise(t=>this.addOnce(t))}trigger(...t){this.handlers.forEach(i=>{let o=i(...t),a;o===mg&&(a=this.cancellers.get(i))&&a()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},m(as,"KEvent"),as),ls,To=(ls=class{constructor(){H(this,"handlers",{});H(this,"registers",{})}on(t,i){return this.handlers[t]||(this.handlers[t]=new Qt),this.handlers[t].add(i)}onOnce(t,i){let o=this.on(t,(...a)=>{o.cancel(),i(...a)});return o}next(t){return new Promise(i=>{this.onOnce(t,(...o)=>i(o[0]))})}trigger(t,...i){this.handlers[t]&&this.handlers[t].trigger(...i)}remove(t){delete this.handlers[t]}clear(){this.handlers={}}numListeners(t){var i;return((i=this.handlers[t])==null?void 0:i.numListeners())??0}},m(ls,"KEventHandler"),ls),Tx=m(r=>r[0]instanceof be,"arrayIsColor"),Ix=m(r=>r[0]instanceof $,"arrayIsVec2"),bx=m(r=>typeof r[0]=="number","arrayIsNumber"),us,yg=(us=class{constructor(t=(i,o)=>i<o){H(this,"_items");H(this,"_compareFn");this._compareFn=t,this._items=[]}insert(t){this._items.push(t),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let t=this._items[0],i=this._items.pop();return this._items.length!==0&&(this._items[0]=i,this.moveDown(0)),t}clear(){this._items.splice(0,this._items.length)}moveUp(t){for(;t>0;){let i=Math.floor((t-1)/2);if(!this._compareFn(this._items[t],this._items[i])&&this._items[t]>=this._items[i])break;this.swap(t,i),t=i}}moveDown(t){for(;t<Math.floor(this._items.length/2);){let i=2*t+1;if(i<this._items.length-1&&!this._compareFn(this._items[i],this._items[i+1])&&++i,this._compareFn(this._items[t],this._items[i]))break;this.swap(t,i),t=i}}swap(t,i){[this._items[t],this._items[i]]=[this._items[i],this._items[t]]}get length(){return this._items.length}},m(us,"BinaryHeap"),us);function vg(r){let t=window.atob(r),i=t.length,o=new Uint8Array(i);for(let a=0;a<i;a++)o[a]=t.charCodeAt(a);return o.buffer}m(vg,"base64ToArrayBuffer");function wg(r){return vg(r.split(",")[1])}m(wg,"dataURLToArrayBuffer");function Ol(r,t){let i=document.createElement("a");i.href=t,i.download=r,i.click()}m(Ol,"download");function xd(r,t){Ol(r,"data:text/plain;charset=utf-8,"+t)}m(xd,"downloadText");function xg(r,t){xd(r,JSON.stringify(t))}m(xg,"downloadJSON");function Hc(r,t){let i=URL.createObjectURL(t);Ol(r,i),URL.revokeObjectURL(i)}m(Hc,"downloadBlob");var Ag=m(r=>r.match(/^data:\w+\/\w+;base64,.+/),"isDataURL"),Fx=m(r=>r.split(".").slice(0,-1).join("."),"getFileName");function ql(r,t){if(r===t)return!0;let i=typeof r,o=typeof t;if(i!==o)return!1;if(i==="object"&&o==="object"&&r!==null&&t!==null){if(Array.isArray(r)!==Array.isArray(t))return!1;let a=Object.keys(r),u=Object.keys(t);if(a.length!==u.length)return!1;for(let d of a){let g=r[d],f=t[d];if(!ql(g,f))return!1}return!0}return!1}m(ql,"deepEq");var em=new Set,Nx=m(r=>r instanceof Error?r.message:String(r),"getErrorMessage");function Sg(r){em.has(r)||(em.add(r),console.warn(r))}m(Sg,"warn");function Ai(r,t){Sg(`${r} is deprecated. Use ${t} instead.`)}m(Ai,"deprecateMsg");function ml(r,t){return Number(r.toFixed(t))}m(ml,"toFixed");function Ye(r,t){return(...i)=>{let o=i.length;if(o===r.length)return r(...i);if(o===t.length)return t(...i)}}m(Ye,"overload2");var Dx=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function Eg(r){if(typeof r!="string")throw new TypeError("string cannot be undefined or null");let t=[],i=0,o=0;for(;i<r.length;){if(o+=kg(i+o,r),bg(r[i+o])&&o++,Pg(r[i+o])&&o++,Tg(r[i+o])&&o++,Fg(r[i+o])){o++;continue}t.push(r.substring(i,i+o)),i+=o,o=0}return t}m(Eg,"runes");function kg(r,t){let i=t[r];if(!Cg(i)||r===t.length-1)return 1;let o=i+t[r+1],a=t.substring(r+2,r+5);return Gc(o)&&Gc(a)?4:Mg(o)&&Ig(a)?t.slice(r).indexOf(String.fromCodePoint(917631))+2:Rg(a)?4:2}m(kg,"nextUnits");function Cg(r){return r&&Kr(r[0].charCodeAt(0),55296,56319)}m(Cg,"isFirstOfSurrogatePair");function Gc(r){return Kr(_l(r),127462,127487)}m(Gc,"isRegionalIndicator");function Mg(r){return Kr(_l(r),127988,127988)}m(Mg,"isSubdivisionFlag");function Rg(r){return Kr(_l(r),127995,127999)}m(Rg,"isFitzpatrickModifier");function Pg(r){return typeof r=="string"&&Kr(r.charCodeAt(0),65024,65039)}m(Pg,"isVariationSelector");function Tg(r){return typeof r=="string"&&Kr(r.charCodeAt(0),8400,8447)}m(Tg,"isDiacriticalMark");function Ig(r){let t=r.codePointAt(0);return typeof r=="string"&&typeof t=="number"&&Kr(t,917504,917631)}m(Ig,"isSupplementarySpecialpurposePlane");function bg(r){return typeof r=="string"&&Dx.includes(r.charCodeAt(0))}m(bg,"isGrapheme");function Fg(r){return typeof r=="string"&&r.charCodeAt(0)===8205}m(Fg,"isZeroWidthJoiner");function _l(r){let t=r.charCodeAt(0)-55296,i=r.charCodeAt(1)-56320;return(t<<10)+i+65536}m(_l,"codePointFromSurrogatePair");function Kr(r,t,i){return r>=t&&r<=i}m(Kr,"betweenInclusive");var gn=m((r,t)=>Array.isArray(r)?r==null?void 0:r.includes(t):r===t,"isEqOrIncludes"),Ln=m((r,t)=>Array.isArray(t)?t.some(i=>r.has(i)):r.has(t),"setHasOrIncludes"),el=m((r,t,i)=>{var o;r.has(t)?(o=r.get(t))==null||o.push(i):r.set(t,[i])},"mapAddOrPush"),jx=(()=>{let r=0;return()=>r++})(),Bx={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}},Lx=m(()=>pi.lastInputDevice,"getLastInputDeviceType"),Ox=m(()=>{let r=pi.buttons;for(let t in r){let i=r[t].keyboard&&[r[t].keyboard].flat(),o=r[t].keyboardCode&&[r[t].keyboardCode].flat(),a=r[t].gamepad&&[r[t].gamepad].flat(),u=r[t].mouse&&[r[t].mouse].flat();i&&i.forEach(d=>{el(pi.buttonsByKey,d,t)}),o&&o.forEach(d=>{el(pi.buttonsByKeyCode,d,t)}),a&&a.forEach(d=>{el(pi.buttonsByGamepad,d,t)}),u&&u.forEach(d=>{el(pi.buttonsByMouse,d,t)})}},"parseButtonBindings"),cs,ko=(cs=class{constructor(){H(this,"pressed",new Set([]));H(this,"pressedRepeat",new Set([]));H(this,"released",new Set([]));H(this,"down",new Set([]))}update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(t){this.pressed.add(t),this.pressedRepeat.add(t),this.down.add(t)}pressRepeat(t){this.pressedRepeat.add(t)}release(t){this.down.delete(t),this.pressed.delete(t),this.released.add(t)}},m(cs,"ButtonState"),cs),ds,qx=(ds=class{constructor(){H(this,"buttonState",new ko);H(this,"stickState",new Map)}},m(ds,"GamepadState"),ds),fs,_x=(fs=class{constructor(){H(this,"dts",[]);H(this,"timer",0);H(this,"fps",0)}tick(t){this.dts.push(t),this.timer+=t,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((i,o)=>i+o)/this.dts.length)),this.dts=[])}},m(fs,"FPSCounter"),fs),pi,tm=Bx,zx=m(r=>{let t=r.buttons??{};return{canvas:r.canvas,buttons:t,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new _x,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new $(0),mouseDeltaPos:new $(0),keyState:new ko,mouseState:new ko,mergedGamepadState:new qx,gamepadStates:new Map,lastInputDevice:null,buttonState:new ko,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:r.canvas.offsetWidth,lastHeight:r.canvas.offsetHeight,events:new To}},"initAppState"),Ux=m(r=>{if(!r.canvas)throw new Error("Please provide a canvas");let t=zx(r);pi=t,Ox();function i(){return t.dt*t.timeScale}m(i,"dt");function o(){return t.fixedDt*t.timeScale}m(o,"fixedDt");function a(){return t.restDt*t.timeScale}m(a,"restDt");function u(){return t.isHidden}m(u,"isHidden");function d(){return t.time}m(d,"time");function g(){return t.fpsCounter.fps}m(g,"fps");function f(){return t.numFrames}m(f,"numFrames");function p(){return t.canvas.toDataURL()}m(p,"screenshot");function w(b){t.canvas.style.cursor=b}m(w,"setCursor");function M(){return t.canvas.style.cursor}m(M,"getCursor");function y(b){if(b)try{let X=t.canvas.requestPointerLock();X.catch&&X.catch(J=>console.error(J))}catch(X){console.error(X)}else document.exitPointerLock()}m(y,"setCursorLocked");function k(){return!!document.pointerLockElement}m(k,"isCursorLocked");function S(b){b.requestFullscreen?b.requestFullscreen():b.webkitRequestFullscreen&&b.webkitRequestFullscreen()}m(S,"enterFullscreen");function T(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}m(T,"exitFullscreen");function A(b=!0){b?S(t.canvas):T()}m(A,"setFullscreen");function C(){return document.fullscreenElement===t.canvas||document.webkitFullscreenElement===t.canvas}m(C,"isFullscreen");function L(){t.stopped=!0;let b=Object.entries(At),X=Object.entries(Zr),J=Object.entries(fr);for(let[le,Se]of b)t.canvas.removeEventListener(le,Se);for(let[le,Se]of X)document.removeEventListener(le,Se);for(let[le,Se]of J)window.removeEventListener(le,Se);Bs.disconnect()}m(L,"quit");function F(b,X){t.loopID!==null&&cancelAnimationFrame(t.loopID);let J=0,le=0,Se=m(Ue=>{if(t.stopped)return;if(document.visibilityState!=="visible"){t.loopID=requestAnimationFrame(Se);return}let tt=Ue/1e3,nt=Math.min(tt-t.realTime,.25),Dt=r.maxFPS?1/r.maxFPS:0;if(t.realTime=tt,le+=nt,le>Dt){if(!t.skipTime){for(J+=le,t.dt=t.fixedDt,t.restDt=0;J>t.fixedDt;)J-=t.fixedDt,J<t.fixedDt&&(t.restDt=J),b();t.restDt=J,t.dt=le,t.time+=i(),t.fpsCounter.tick(t.dt)}le=0,t.skipTime=!1,t.numFrames++,X(dr,Ns)}t.loopID=requestAnimationFrame(Se)},"frame");Se(0)}m(F,"run");function z(){return"ontouchstart"in window||navigator.maxTouchPoints>0}m(z,"isTouchscreen");function N(){return t.mousePos.clone()}m(N,"mousePos");function E(){return t.mouseDeltaPos.clone()}m(E,"mouseDeltaPos");function R(b="left"){return t.mouseState.pressed.has(b)}m(R,"isMousePressed");function I(b="left"){return t.mouseState.down.has(b)}m(I,"isMouseDown");function K(b="left"){return t.mouseState.released.has(b)}m(K,"isMouseReleased");function Y(){return t.isMouseMoved}m(Y,"isMouseMoved");function Z(b){return b===void 0?t.keyState.pressed.size>0:Ln(t.keyState.pressed,b)}m(Z,"isKeyPressed");function oe(b){return b===void 0?t.keyState.pressedRepeat.size>0:Ln(t.keyState.pressedRepeat,b)}m(oe,"isKeyPressedRepeat");function ue(b){return b===void 0?t.keyState.down.size>0:Ln(t.keyState.down,b)}m(ue,"isKeyDown");function ve(b){return b===void 0?t.keyState.released.size>0:Ln(t.keyState.released,b)}m(ve,"isKeyReleased");function Ce(b){return b===void 0?t.mergedGamepadState.buttonState.pressed.size>0:Ln(t.mergedGamepadState.buttonState.pressed,b)}m(Ce,"isGamepadButtonPressed");function ge(b){return b===void 0?t.mergedGamepadState.buttonState.down.size>0:Ln(t.mergedGamepadState.buttonState.down,b)}m(ge,"isGamepadButtonDown");function he(b){return b===void 0?t.mergedGamepadState.buttonState.released.size>0:Ln(t.mergedGamepadState.buttonState.released,b)}m(he,"isGamepadButtonReleased");function te(b){return b===void 0?t.buttonState.pressed.size>0:Ln(t.buttonState.pressed,b)}m(te,"isButtonPressed");function ae(b){return b===void 0?t.buttonState.down.size>0:Ln(t.buttonState.down,b)}m(ae,"isButtonDown");function re(b){return b===void 0?t.buttonState.released.size>0:Ln(t.buttonState.released,b)}m(re,"isButtonReleased");function q(b){var X;return(X=t.buttons)==null?void 0:X[b]}m(q,"getButton");function V(b,X){t.buttons[b]={...t.buttons[b],...X}}m(V,"setButton");function Ae(b){t.buttonState.press(b),t.events.trigger("buttonPress",b)}m(Ae,"pressButton");function ke(b){t.buttonState.release(b),t.events.trigger("buttonRelease",b)}m(ke,"releaseButton");function Pe(b){return t.events.on("resize",b)}m(Pe,"onResize");let Te=Ye(b=>t.events.on("keyDown",b),(b,X)=>t.events.on("keyDown",J=>gn(b,J)&&X(J))),je=Ye(b=>t.events.on("keyPress",X=>b(X)),(b,X)=>t.events.on("keyPress",J=>gn(b,J)&&X(J))),Fe=Ye(b=>t.events.on("keyPressRepeat",b),(b,X)=>t.events.on("keyPressRepeat",J=>gn(b,J)&&X(J))),qe=Ye(b=>t.events.on("keyRelease",b),(b,X)=>t.events.on("keyRelease",J=>gn(b,J)&&X(J))),ut=Ye(b=>t.events.on("mouseDown",X=>b(X)),(b,X)=>t.events.on("mouseDown",J=>gn(b,J)&&X(J))),bt=Ye(b=>t.events.on("mousePress",X=>b(X)),(b,X)=>t.events.on("mousePress",J=>gn(b,J)&&X(J))),Yr=Ye(b=>t.events.on("mouseRelease",X=>b(X)),(b,X)=>t.events.on("mouseRelease",J=>J===b&&X(J)));function un(b){return t.events.on("mouseMove",()=>b(N(),E()))}m(un,"onMouseMove");function ye(b){return t.events.on("charInput",b)}m(ye,"onCharInput");function Me(b){return t.events.on("touchStart",b)}m(Me,"onTouchStart");function Re(b){return t.events.on("touchMove",b)}m(Re,"onTouchMove");function _e(b){return t.events.on("touchEnd",b)}m(_e,"onTouchEnd");function et(b){return t.events.on("scroll",b)}m(et,"onScroll");function Ne(b){return t.events.on("hide",b)}m(Ne,"onHide");function ot(b){return t.events.on("show",b)}m(ot,"onShow");let Ft=Ye(b=>t.events.on("gamepadButtonPress",(X,J)=>b(X,J)),(b,X)=>t.events.on("gamepadButtonPress",(J,le)=>gn(b,J)&&X(J,le))),Xr=Ye(b=>t.events.on("gamepadButtonDown",(X,J)=>b(X,J)),(b,X)=>t.events.on("gamepadButtonDown",(J,le)=>gn(b,J)&&X(J,le))),ki=Ye(b=>t.events.on("gamepadButtonRelease",(X,J)=>b(X,J)),(b,X)=>t.events.on("gamepadButtonRelease",(J,le)=>gn(b,J)&&X(J,le)));function $r(b,X){return t.events.on("gamepadStick",(J,le,Se)=>J===b&&X(le,Se))}m($r,"onGamepadStick");function Jr(b){t.events.on("gamepadConnect",b)}m(Jr,"onGamepadConnect");function cr(b){t.events.on("gamepadDisconnect",b)}m(cr,"onGamepadDisconnect");function Nt(b){return t.mergedGamepadState.stickState.get(b)||new $(0)}m(Nt,"getGamepadStick");function Ot(){return[...t.charInputted]}m(Ot,"charInputted");function Vn(){return[...t.gamepads]}m(Vn,"getGamepads");let mt=Ye(b=>t.events.on("buttonPress",X=>b(X)),(b,X)=>t.events.on("buttonPress",J=>gn(b,J)&&X(J))),wn=Ye(b=>t.events.on("buttonDown",X=>b(X)),(b,X)=>t.events.on("buttonDown",J=>gn(b,J)&&X(J))),xn=Ye(b=>t.events.on("buttonRelease",X=>b(X)),(b,X)=>t.events.on("buttonRelease",J=>gn(b,J)&&X(J)));function dr(){t.events.trigger("input"),t.keyState.down.forEach(b=>t.events.trigger("keyDown",b)),t.mouseState.down.forEach(b=>t.events.trigger("mouseDown",b)),t.buttonState.down.forEach(b=>{t.events.trigger("buttonDown",b)}),Mi()}m(dr,"processInput");function Ns(){t.keyState.update(),t.mouseState.update(),t.buttonState.update(),t.mergedGamepadState.buttonState.update(),t.mergedGamepadState.stickState.forEach((b,X)=>{t.mergedGamepadState.stickState.set(X,new $(0))}),t.charInputted=[],t.isMouseMoved=!1,t.mouseDeltaPos=new $(0),t.gamepadStates.forEach(b=>{b.buttonState.update(),b.stickState.forEach((X,J)=>{b.stickState.set(J,new $(0))})})}m(Ns,"resetInput");function Ds(b){let X={index:b.index,isPressed:m(J=>{var le;return((le=t.gamepadStates.get(b.index))==null?void 0:le.buttonState.pressed.has(J))||!1},"isPressed"),isDown:m(J=>{var le;return((le=t.gamepadStates.get(b.index))==null?void 0:le.buttonState.down.has(J))||!1},"isDown"),isReleased:m(J=>{var le;return((le=t.gamepadStates.get(b.index))==null?void 0:le.buttonState.released.has(J))||!1},"isReleased"),getStick:m(J=>{var le;return((le=t.gamepadStates.get(b.index))==null?void 0:le.stickState.get(J))||Q()},"getStick")};return t.gamepads.push(X),t.gamepadStates.set(b.index,{buttonState:new ko,stickState:new Map([["left",new $(0)],["right",new $(0)]])}),X}m(Ds,"registerGamepad");function Ci(b){t.gamepads=t.gamepads.filter(X=>X.index!==b.index),t.gamepadStates.delete(b.index)}m(Ci,"removeGamepad");function Mi(){var b,X;for(let J of navigator.getGamepads())J&&!t.gamepadStates.has(J.index)&&Ds(J);for(let J of t.gamepads){let le=navigator.getGamepads()[J.index];if(!le)continue;let Se=(r.gamepads??{})[le.id]||tm[le.id]||tm.default,Ue=t.gamepadStates.get(J.index);if(Ue){for(let tt=0;tt<le.buttons.length;tt++){let nt=Se.buttons[tt],Dt=le.buttons[tt],jt=t.buttonsByGamepad.has(nt);if(Dt.pressed){if(Ue.buttonState.down.has(nt)){t.events.trigger("gamepadButtonDown",nt,J);continue}t.lastInputDevice="gamepad",jt&&((b=t.buttonsByGamepad.get(nt))==null||b.forEach(qt=>{t.buttonState.press(qt),t.events.trigger("buttonPress",qt)})),t.mergedGamepadState.buttonState.press(nt),Ue.buttonState.press(nt),t.events.trigger("gamepadButtonPress",nt,J)}else Ue.buttonState.down.has(nt)&&(jt&&((X=t.buttonsByGamepad.get(nt))==null||X.forEach(qt=>{t.buttonState.release(qt),t.events.trigger("buttonRelease",qt)})),t.mergedGamepadState.buttonState.release(nt),Ue.buttonState.release(nt),t.events.trigger("gamepadButtonRelease",nt,J))}for(let tt in Se.sticks){let nt=Se.sticks[tt];if(!nt)continue;let Dt=new $(le.axes[nt.x],le.axes[nt.y]);Ue.stickState.set(tt,Dt),t.mergedGamepadState.stickState.set(tt,Dt),t.events.trigger("gamepadStick",tt,Dt,J)}}}}m(Mi,"processGamepad");let At={},Zr={},fr={},Wn=r.pixelDensity||1;At.mousemove=b=>{let X=new $(b.offsetX,b.offsetY),J=new $(b.movementX,b.movementY);if(C()){let le=t.canvas.width/Wn,Se=t.canvas.height/Wn,Ue=window.innerWidth,tt=window.innerHeight,nt=Ue/tt,Dt=le/Se;if(nt>Dt){let jt=tt/Se,qt=(Ue-le*jt)/2;X.x=In(b.offsetX-qt,0,le*jt,0,le),X.y=In(b.offsetY,0,Se*jt,0,Se)}else{let jt=Ue/le,qt=(tt-Se*jt)/2;X.x=In(b.offsetX,0,le*jt,0,le),X.y=In(b.offsetY-qt,0,Se*jt,0,Se)}}t.events.onOnce("input",()=>{t.isMouseMoved=!0,t.mousePos=X,t.mouseDeltaPos=J,t.events.trigger("mouseMove")})};let Qn=["left","middle","right","back","forward"];At.mousedown=b=>{t.events.onOnce("input",()=>{var J;let X=Qn[b.button];X&&(t.lastInputDevice="mouse",t.buttonsByMouse.has(X)&&((J=t.buttonsByMouse.get(X))==null||J.forEach(le=>{t.buttonState.press(le),t.events.trigger("buttonPress",le)})),t.mouseState.press(X),t.events.trigger("mousePress",X))})},At.mouseup=b=>{t.events.onOnce("input",()=>{var J;let X=Qn[b.button];X&&(t.buttonsByMouse.has(X)&&((J=t.buttonsByMouse.get(X))==null||J.forEach(le=>{t.buttonState.release(le),t.events.trigger("buttonRelease",le)})),t.mouseState.release(X),t.events.trigger("mouseRelease",X))})};let Vo=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),js={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};At.keydown=b=>{Vo.has(b.key)&&b.preventDefault(),t.events.onOnce("input",()=>{var le,Se;let X=js[b.key]||b.key.toLowerCase(),J=b.code;if(X===void 0)throw new Error(`Unknown key: ${b.key}`);X.length===1?(t.events.trigger("charInput",X),t.charInputted.push(X)):X==="space"&&(t.events.trigger("charInput"," "),t.charInputted.push(" ")),b.repeat?(t.keyState.pressRepeat(X),t.events.trigger("keyPressRepeat",X)):(t.lastInputDevice="keyboard",t.buttonsByKey.has(X)&&((le=t.buttonsByKey.get(X))==null||le.forEach(Ue=>{t.buttonState.press(Ue),t.events.trigger("buttonPress",Ue)})),t.buttonsByKeyCode.has(J)&&((Se=t.buttonsByKeyCode.get(J))==null||Se.forEach(Ue=>{t.buttonState.press(Ue),t.events.trigger("buttonPress",Ue)})),t.keyState.press(X),t.events.trigger("keyPressRepeat",X),t.events.trigger("keyPress",X))})},At.keyup=b=>{t.events.onOnce("input",()=>{var le,Se;let X=js[b.key]||b.key.toLowerCase(),J=b.code;t.buttonsByKey.has(X)&&((le=t.buttonsByKey.get(X))==null||le.forEach(Ue=>{t.buttonState.release(Ue),t.events.trigger("buttonRelease",Ue)})),t.buttonsByKeyCode.has(J)&&((Se=t.buttonsByKeyCode.get(J))==null||Se.forEach(Ue=>{t.buttonState.release(Ue),t.events.trigger("buttonRelease",Ue)})),t.keyState.release(X),t.events.trigger("keyRelease",X)})},At.touchstart=b=>{b.preventDefault(),t.events.onOnce("input",()=>{var le;let X=[...b.changedTouches],J=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new $(X[0].clientX-J.x,X[0].clientY-J.y),t.lastInputDevice="mouse",t.buttonsByMouse.has("left")&&((le=t.buttonsByMouse.get("left"))==null||le.forEach(Se=>{t.buttonState.press(Se),t.events.trigger("buttonPress",Se)})),t.mouseState.press("left"),t.events.trigger("mousePress","left")),X.forEach(Se=>{t.events.trigger("touchStart",new $(Se.clientX-J.x,Se.clientY-J.y),Se)})})},At.touchmove=b=>{b.preventDefault(),t.events.onOnce("input",()=>{let X=[...b.changedTouches],J=t.canvas.getBoundingClientRect();if(r.touchToMouse!==!1){let le=t.mousePos;t.mousePos=new $(X[0].clientX-J.x,X[0].clientY-J.y),t.mouseDeltaPos=t.mousePos.sub(le),t.events.trigger("mouseMove")}X.forEach(le=>{t.events.trigger("touchMove",new $(le.clientX-J.x,le.clientY-J.y),le)})})},At.touchend=b=>{t.events.onOnce("input",()=>{var le;let X=[...b.changedTouches],J=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new $(X[0].clientX-J.x,X[0].clientY-J.y),t.mouseDeltaPos=new $(0,0),t.buttonsByMouse.has("left")&&((le=t.buttonsByMouse.get("left"))==null||le.forEach(Se=>{t.buttonState.release(Se),t.events.trigger("buttonRelease",Se)})),t.mouseState.release("left"),t.events.trigger("mouseRelease","left")),X.forEach(Se=>{t.events.trigger("touchEnd",new $(Se.clientX-J.x,Se.clientY-J.y),Se)})})},At.touchcancel=b=>{t.events.onOnce("input",()=>{let X=[...b.changedTouches],J=t.canvas.getBoundingClientRect();r.touchToMouse!==!1&&(t.mousePos=new $(X[0].clientX-J.x,X[0].clientY-J.y),t.mouseState.release("left"),t.events.trigger("mouseRelease","left")),X.forEach(le=>{t.events.trigger("touchEnd",new $(le.clientX-J.x,le.clientY-J.y),le)})})},At.wheel=b=>{b.preventDefault(),t.events.onOnce("input",()=>{t.events.trigger("scroll",new $(b.deltaX,b.deltaY))})},At.contextmenu=b=>b.preventDefault(),Zr.visibilitychange=()=>{document.visibilityState==="visible"?(t.skipTime=!0,t.isHidden=!1,t.events.trigger("show")):(t.isHidden=!0,t.events.trigger("hide"))},fr.gamepadconnected=b=>{let X=Ds(b.gamepad);t.events.onOnce("input",()=>{t.events.trigger("gamepadConnect",X)})},fr.gamepaddisconnected=b=>{let X=Vn().filter(J=>J.index===b.gamepad.index)[0];Ci(b.gamepad),t.events.onOnce("input",()=>{t.events.trigger("gamepadDisconnect",X)})};for(let[b,X]of Object.entries(At))t.canvas.addEventListener(b,X);for(let[b,X]of Object.entries(Zr))document.addEventListener(b,X);for(let[b,X]of Object.entries(fr))window.addEventListener(b,X);let Bs=new ResizeObserver(b=>{for(let X of b)if(X.target===t.canvas){if(t.lastWidth===t.canvas.offsetWidth&&t.lastHeight===t.canvas.offsetHeight)return;t.lastWidth=t.canvas.offsetWidth,t.lastHeight=t.canvas.offsetHeight,t.events.onOnce("input",()=>{t.events.trigger("resize")})}});return Bs.observe(t.canvas),{state:t,dt:i,fixedDt:o,restDt:a,time:d,run:F,canvas:t.canvas,fps:g,numFrames:f,quit:L,isHidden:u,setFullscreen:A,isFullscreen:C,setCursor:w,screenshot:p,getGamepads:Vn,getCursor:M,setCursorLocked:y,isCursorLocked:k,isTouchscreen:z,mousePos:N,mouseDeltaPos:E,isKeyDown:ue,isKeyPressed:Z,isKeyPressedRepeat:oe,isKeyReleased:ve,isMouseDown:I,isMousePressed:R,isMouseReleased:K,isMouseMoved:Y,isGamepadButtonPressed:Ce,isGamepadButtonDown:ge,isGamepadButtonReleased:he,getGamepadStick:Nt,isButtonPressed:te,isButtonDown:ae,isButtonReleased:re,setButton:V,getButton:q,pressButton:Ae,releaseButton:ke,charInputted:Ot,onResize:Pe,onKeyDown:Te,onKeyPress:je,onKeyPressRepeat:Fe,onKeyRelease:qe,onMouseDown:ut,onMousePress:bt,onMouseRelease:Yr,onMouseMove:un,onCharInput:ye,onTouchStart:Me,onTouchMove:Re,onTouchEnd:_e,onScroll:et,onHide:Ne,onShow:ot,onGamepadButtonDown:Xr,onGamepadButtonPress:Ft,onGamepadButtonRelease:ki,onGamepadStick:$r,onGamepadConnect:Jr,onGamepadDisconnect:cr,onButtonPress:mt,onButtonDown:wn,onButtonRelease:xn,getLastInputDeviceType:Lx,events:t.events}},"initApp");function xt(){return x.app.dt()}m(xt,"dt");function gl(){return x.app.fixedDt()}m(gl,"fixedDt");function yl(){return x.app.restDt()}m(yl,"restDt");var Hx=new $(-1,-1),Gx=new $(0,-1),Vx=new $(1,-1),Wx=new $(-1,0),Qx=new $(0,0),Kx=new $(1,0),Yx=new $(-1,1),Xx=new $(0,1),$x=new $(1,1);function Si(r){switch(r){case"topleft":return Hx;case"top":return Gx;case"topright":return Vx;case"left":return Wx;case"center":return Qx;case"right":return Kx;case"botleft":return Yx;case"bot":return Xx;case"botright":return $x;default:return r}}m(Si,"anchorPt");function Ng(r){switch(r){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}m(Ng,"alignPt");function Dg(r){return r.createBuffer(1,1,44100)}m(Dg,"createEmptyAudioBuffer");var tl=2.5949095,nm=1.70158+1,rm=2*Math.PI/3,im=2*Math.PI/4.5,cl={linear:m(r=>r,"linear"),easeInSine:m(r=>1-Math.cos(r*Math.PI/2),"easeInSine"),easeOutSine:m(r=>Math.sin(r*Math.PI/2),"easeOutSine"),easeInOutSine:m(r=>-(Math.cos(Math.PI*r)-1)/2,"easeInOutSine"),easeInQuad:m(r=>r*r,"easeInQuad"),easeOutQuad:m(r=>1-(1-r)*(1-r),"easeOutQuad"),easeInOutQuad:m(r=>r<.5?2*r*r:1-Math.pow(-2*r+2,2)/2,"easeInOutQuad"),easeInCubic:m(r=>r*r*r,"easeInCubic"),easeOutCubic:m(r=>1-Math.pow(1-r,3),"easeOutCubic"),easeInOutCubic:m(r=>r<.5?4*r*r*r:1-Math.pow(-2*r+2,3)/2,"easeInOutCubic"),easeInQuart:m(r=>r*r*r*r,"easeInQuart"),easeOutQuart:m(r=>1-Math.pow(1-r,4),"easeOutQuart"),easeInOutQuart:m(r=>r<.5?8*r*r*r*r:1-Math.pow(-2*r+2,4)/2,"easeInOutQuart"),easeInQuint:m(r=>r*r*r*r*r,"easeInQuint"),easeOutQuint:m(r=>1-Math.pow(1-r,5),"easeOutQuint"),easeInOutQuint:m(r=>r<.5?16*r*r*r*r*r:1-Math.pow(-2*r+2,5)/2,"easeInOutQuint"),easeInExpo:m(r=>r===0?0:Math.pow(2,10*r-10),"easeInExpo"),easeOutExpo:m(r=>r===1?1:1-Math.pow(2,-10*r),"easeOutExpo"),easeInOutExpo:m(r=>r===0?0:r===1?1:r<.5?Math.pow(2,20*r-10)/2:(2-Math.pow(2,-20*r+10))/2,"easeInOutExpo"),easeInCirc:m(r=>1-Math.sqrt(1-Math.pow(r,2)),"easeInCirc"),easeOutCirc:m(r=>Math.sqrt(1-Math.pow(r-1,2)),"easeOutCirc"),easeInOutCirc:m(r=>r<.5?(1-Math.sqrt(1-Math.pow(2*r,2)))/2:(Math.sqrt(1-Math.pow(-2*r+2,2))+1)/2,"easeInOutCirc"),easeInBack:m(r=>nm*r*r*r-1.70158*r*r,"easeInBack"),easeOutBack:m(r=>1+nm*Math.pow(r-1,3)+1.70158*Math.pow(r-1,2),"easeOutBack"),easeInOutBack:m(r=>r<.5?Math.pow(2*r,2)*((tl+1)*2*r-tl)/2:(Math.pow(2*r-2,2)*((tl+1)*(r*2-2)+tl)+2)/2,"easeInOutBack"),easeInElastic:m(r=>r===0?0:r===1?1:-Math.pow(2,10*r-10)*Math.sin((r*10-10.75)*rm),"easeInElastic"),easeOutElastic:m(r=>r===0?0:r===1?1:Math.pow(2,-10*r)*Math.sin((r*10-.75)*rm)+1,"easeOutElastic"),easeInOutElastic:m(r=>r===0?0:r===1?1:r<.5?-(Math.pow(2,20*r-10)*Math.sin((20*r-11.125)*im))/2:Math.pow(2,-20*r+10)*Math.sin((20*r-11.125)*im)/2+1,"easeInOutElastic"),easeInBounce:m(r=>1-cl.easeOutBounce(1-r),"easeInBounce"),easeOutBounce:m(r=>r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375,"easeOutBounce"),easeInOutBounce:m(r=>r<.5?(1-cl.easeOutBounce(1-2*r))/2:(1+cl.easeOutBounce(2*r-1))/2,"easeInOutBounce")},Io=cl;function jg(r,t,i){let o=[],a=t;for(o.push(a);a!==r;){if(a=i.get(a),a==null)return null;o.push(a)}return o.reverse()}m(jg,"buildPath");function Bg(r,t,i){var d;let o=new yg((g,f)=>g.cost<f.cost);o.insert({cost:0,node:t});let a=new Map;a.set(t,t);let u=new Map;for(u.set(t,0);o.length!==0;){let g=(d=o.remove())==null?void 0:d.node;if(g===i)break;let f=r.getNeighbours(g);for(let p of f){let w=(u.get(g)||0)+r.getCost(g,p)+r.getHeuristic(p,i);(!u.has(p)||w<u.get(p))&&(u.set(p,w),o.insert({cost:w,node:p}),a.set(p,g))}}return jg(t,i,a)}m(Bg,"aStarSearch");var hs,Jx=(hs=class{constructor(t,i,o){H(this,"a");H(this,"b");H(this,"polygon");this.a=t,this.b=i,this.polygon=new WeakRef(o)}isLeft(t,i){return(this.b.x-this.a.x)*(i-this.a.y)-(t-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},m(hs,"NavEdge"),hs),ps,Zx=(ps=class{constructor(t){H(this,"_edges");H(this,"_centroid");H(this,"_id");this._id=t}get id(){return this._id}set edges(t){this._edges=t;let i=0,o=0,a=0;for(let u of this._edges){u.polygon=new WeakRef(this);let d=u.a.x*u.b.y-u.a.y*u.b.x;i+=(u.a.x+u.b.x)*d,o+=(u.a.y+u.b.y)*d,a+=d}a/=2,this._centroid=Q(i/(6*a),o/(6*a))}get edges(){return this._edges}get centroid(){return this._centroid}contains(t){let i=!1;for(let o of this.edges)o.b.y>t.y!=o.a.y>t.y&&t.x<(o.a.x-o.b.x)*(t.y-o.b.y)/(o.a.y-o.b.y)+o.b.x&&(i=!i);return i}},m(ps,"NavPolygon"),ps),ms,eA=(ms=class{constructor(){H(this,"_polygons");H(this,"_pointCache");H(this,"_edgeCache");this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(t){let i=this._pointCache[`${t.x}_${t.y}`];return i||(i=t.clone(),this._pointCache[`${t.x}_${t.y}`]=i,i)}_addEdge(t){let i=`${t.a.x}_${t.a.y}-${t.b.x}_${t.b.y}`;return this._edgeCache[i]=t,t}_findEdge(t,i){let o=`${t.x}_${t.y}-${i.x}_${i.y}`;return this._edgeCache[o]}_findCommonEdge(t,i){for(let o of t.edges){let a=this._findEdge(o.b,o.a);if(a&&a.polygon.deref().id===i.id)return a}return null}addPolygon(t){let i=new Zx(this._polygons.length),o=t.map((a,u)=>new Jx(a,t[(u+1)%t.length],i));i.edges=o,this._polygons.push(i);for(let a of i.edges)this._addEdge(a);return i}addRect(t,i){let o=this._addPoint(t),a=this._addPoint(t.add(i.x,0)),u=this._addPoint(t.add(i)),d=this._addPoint(t.add(0,i.y));return this.addPolygon([o,a,u,d])}_getLocation(t){for(let i of this._polygons)if(i.contains(t))return i;return null}getNeighbours(t){let i=[];for(let o of this._polygons[t].edges){let a=this._findEdge(o.b,o.a);if(a){let u=a.polygon.deref();u&&i.push(u.id)}}return i}getCost(t,i){return 1}getHeuristic(t,i){let o=this._polygons[t],a=this._polygons[i],u=o.centroid.x-a.centroid.x,d=o.centroid.y-a.centroid.y;return Math.sqrt(u*u+d*d)}getPath(t,i){return t===void 0||i===void 0?[]:t===i?[t,i]:Bg(this,t,i)}getWaypointPath(t,i,o){let a=(o==null?void 0:o.type)||"centroids",u=this._getLocation(t),d=this._getLocation(i);if(u===void 0||d===void 0)return[];let g=this.getPath(u.id,d.id);if(!g)return[];if(a==="edges"){let f=[];for(let p=1;p<g.length;p++){let w=this._polygons[g[p-1]],M=this._polygons[g[p]],y=this._findCommonEdge(w,M);f.push(y.middle.add(M.centroid.sub(y.middle).unit().scale(4)))}return[t,...f,i]}else return[t,...g.slice(1,-1).map(f=>this._polygons[f].centroid),i]}},m(ms,"NavMesh"),ms);function ns(r){let t=new Un;return r.pos&&t.translate(r.pos),r.scale&&t.scale(r.scale),r.angle&&t.rotate(r.angle),r.parent?t.mult(r.parent.transform):t}m(ns,"calcTransform");function Lg(r){return new $(r.x/Ct()*2-1,-r.y/It()*2+1)}m(Lg,"screen2ndc");function es(r,t,i,o,a,u=1){o=ft(o%360),a=ft(a%360),a<=o&&(a+=Math.PI*2);let d=[],g=Math.ceil((a-o)/ft(8)*u),f=(a-o)/g,p=Q(Math.cos(o),Math.sin(o)),w=Q(Math.cos(f),Math.sin(f));for(let M=0;M<=g;M++)d.push(r.add(t*p.x,i*p.y)),p=Q(p.x*w.x-p.y*w.y,p.x*w.y+p.y*w.x);return d}m(es,"getArcPts");function Og(...r){let t=Oe(...r),i=r[3]??1;x.gfx.bgColor=t,x.gfx.bgAlpha=i,x.gfx.ggl.gl.clearColor(t.r/255,t.g/255,t.b/255,i)}m(Og,"setBackground");function qg(){var r,t;return((t=(r=x.gfx.bgColor)==null?void 0:r.clone)==null?void 0:t.call(r))??null}m(qg,"getBackground");function it(...r){if(r[0]===void 0)return;let t=Q(...r);t.x===0&&t.y===0||x.gfx.transform.translate(t)}m(it,"pushTranslate");function nn(){x.gfx.transformStack.push(x.gfx.transform.clone())}m(nn,"pushTransform");function _g(r){x.gfx.transform=r.clone()}m(_g,"pushMatrix");function Rs(...r){if(r[0]===void 0)return;let t=Q(...r);t.x===1&&t.y===1||x.gfx.transform.scale(t)}m(Rs,"pushScale");function wi(r){r&&x.gfx.transform.rotate(r)}m(wi,"pushRotate");function Kt(){x.gfx.transformStack.length>0&&(x.gfx.transform=x.gfx.transformStack.pop())}m(Kt,"popTransform");function rn(){x.gfx.renderer.flush()}m(rn,"flush");function Ct(){return x.gfx.width}m(Ct,"width");function It(){return x.gfx.height}m(It,"height");function Ad(){return(x.gfx.viewport.width+x.gfx.viewport.height)/(x.gfx.width+x.gfx.height)}m(Ad,"getViewportScale");function zg(r){return new $(r.x*x.gfx.viewport.width/x.gfx.width,r.y*x.gfx.viewport.height/x.gfx.height)}m(zg,"contentToView");function Ug(r){return new $((r.x-x.gfx.viewport.x)*Ct()/x.gfx.viewport.width,(r.y-x.gfx.viewport.y)*It()/x.gfx.viewport.height)}m(Ug,"windowToContent");function Sd(){return Ug(x.app.mousePos())}m(Sd,"mousePos");function bo(){return Q(Ct()/2,It()/2)}m(bo,"center");var gs,tA=(gs=class{constructor(t,i,o,a){H(this,"lastTextureId",0);H(this,"textures",[]);H(this,"bigTextures",[]);H(this,"texturesPosition",new Map);H(this,"canvas");H(this,"c2d");H(this,"x",0);H(this,"y",0);H(this,"curHeight",0);H(this,"gfx");H(this,"padding");this.gfx=t,this.canvas=document.createElement("canvas"),this.canvas.width=i,this.canvas.height=o,this.textures=[Dr.fromImage(t,this.canvas)],this.bigTextures=[],this.padding=a;let u=this.canvas.getContext("2d");if(!u)throw new Error("Failed to get 2d context");this.c2d=u}add(t){let i=t.width+this.padding*2,o=t.height+this.padding*2;if(i>this.canvas.width||o>this.canvas.height){let d=Dr.fromImage(this.gfx,t);return this.bigTextures.push(d),[d,new st(0,0,1,1),0]}this.x+i>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+o>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Dr.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let a=this.textures[this.textures.length-1],u=new $(this.x+this.padding,this.y+this.padding);return this.x+=i,o>this.curHeight&&(this.curHeight=o),t instanceof ImageData?this.c2d.putImageData(t,u.x,u.y):this.c2d.drawImage(t,u.x,u.y),a.update(this.canvas),this.texturesPosition.set(this.lastTextureId,{position:u,size:new $(t.width,t.height),texture:a}),this.lastTextureId++,[a,new st(u.x/this.canvas.width,u.y/this.canvas.height,t.width/this.canvas.width,t.height/this.canvas.height),this.lastTextureId-1]}free(){for(let t of this.textures)t.free();for(let t of this.bigTextures)t.free()}},m(gs,"TexPacker"),gs);function an(r){return typeof r!="string"||Ag(r)?r:x.assets.urlPrefix+r}m(an,"fixURL");var yi,vn=(yi=class{constructor(t){H(this,"loaded",!1);H(this,"data",null);H(this,"error",null);H(this,"onLoadEvents",new Qt);H(this,"onErrorEvents",new Qt);H(this,"onFinishEvents",new Qt);t.then(i=>{this.loaded=!0,this.data=i,this.onLoadEvents.trigger(i)}).catch(i=>{if(this.error=i,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(i);else throw i}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(t){let i=new yi(Promise.resolve(t));return i.data=t,i.loaded=!0,i}onLoad(t){return this.loaded&&this.data?t(this.data):this.onLoadEvents.add(t),this}onError(t){return this.loaded&&this.error?t(this.error):this.onErrorEvents.add(t),this}onFinish(t){return this.loaded?t():this.onFinishEvents.add(t),this}then(t){return this.onLoad(t)}catch(t){return this.onError(t)}finally(t){return this.onFinish(t)}},m(yi,"Asset"),yi),ys,Yi=(ys=class{constructor(){H(this,"assets",new Map);H(this,"lastUID",0)}add(t,i){let o=t??this.lastUID+++"",a=new vn(i);return this.assets.set(o,a),a}addLoaded(t,i){let o=t??this.lastUID+++"",a=vn.loaded(i);return this.assets.set(o,a),a}get(t){return this.assets.get(t)}progress(){if(this.assets.size===0)return 1;let t=0;return this.assets.forEach(i=>{i.loaded&&t++}),t/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(t=>this.assets.get(t).error!==null).map(t=>[t,this.assets.get(t)])}},m(ys,"AssetBucket"),ys);function zl(r){return fetch(r).then(t=>{if(!t.ok)throw new Error(`Failed to fetch "${r}"`);return t})}m(zl,"fetchURL");function Uo(r){return zl(r).then(t=>t.json())}m(Uo,"fetchJSON");function Hg(r){return zl(r).then(t=>t.text())}m(Hg,"fetchText");function Gg(r){return zl(r).then(t=>t.arrayBuffer())}m(Gg,"fetchArrayBuffer");function Vg(r){return r!==void 0&&(x.assets.urlPrefix=r),x.assets.urlPrefix}m(Vg,"loadRoot");function Wg(r,t){return x.assets.custom.add(r,Uo(an(t)))}m(Wg,"loadJSON");function Ho(r){let t=new Image;return t.crossOrigin="anonymous",t.src=r,new Promise((i,o)=>{t.onload=()=>i(t),t.onerror=()=>o(new Error(`Failed to load image from "${r}"`))})}m(Ho,"loadImg");function Ur(){let r=[x.assets.sprites,x.assets.sounds,x.assets.shaders,x.assets.fonts,x.assets.bitmapFonts,x.assets.custom];return r.reduce((t,i)=>t+i.progress(),0)/r.length}m(Ur,"loadProgress");function Ed(){return[x.assets.sprites,x.assets.sounds,x.assets.shaders,x.assets.fonts,x.assets.bitmapFonts,x.assets.custom].reduce((r,t)=>r.concat(t.getFailedAssets()),[])}m(Ed,"getFailedAssets");function Qg(r){return x.assets.custom.get(r)??null}m(Qg,"getAsset");function vl(r){return x.assets.custom.add(null,r)}m(vl,"load");var nA=m((r,t)=>({urlPrefix:"",sprites:new Yi,fonts:new Yi,bitmapFonts:new Yi,sounds:new Yi,shaders:new Yi,custom:new Yi,music:{},packer:new tA(r,2048,2048,t),loaded:!1}),"initAssets"),rA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",zn,Hr=(zn=class{constructor(t,i,o={},a=null){H(this,"tex");H(this,"frames",[new st(0,0,1,1)]);H(this,"anims",{});H(this,"slice9",null);this.tex=t,i&&(this.frames=i),this.anims=o,this.slice9=a}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(t,i={}){return typeof t=="string"?zn.fromURL(t,i):Promise.resolve(zn.fromImage(t,i))}static fromImage(t,i={}){let[o,a]=x.assets.packer.add(t),u=i.frames?i.frames.map(d=>new st(a.x+d.x*a.w,a.y+d.y*a.h,d.w*a.w,d.h*a.h)):Cd(i.sliceX||1,i.sliceY||1,a.x,a.y,a.w,a.h);return new zn(o,u,i.anims,i.slice9)}static fromURL(t,i={}){return Ho(t).then(o=>zn.fromImage(o,i))}},m(zn,"SpriteData"),zn);function Co(r){if(typeof r=="string"){let t=kd(r);if(t)return t;if(Ur()<1)return null;throw new Error(`Sprite not found: ${r}`)}else{if(r instanceof Hr)return vn.loaded(r);if(r instanceof vn)return r;throw new Error(`Invalid sprite: ${r}`)}}m(Co,"resolveSprite");function kd(r){return x.assets.sprites.get(r)??null}m(kd,"getSprite");function rs(r,t,i={sliceX:1,sliceY:1,anims:{}}){return t=an(t),Array.isArray(t)?t.some(o=>typeof o=="string")?x.assets.sprites.add(r,Promise.all(t.map(o=>typeof o=="string"?Ho(o):Promise.resolve(o))).then(o=>Vc(o,i))):x.assets.sprites.addLoaded(r,Vc(t,i)):typeof t=="string"?x.assets.sprites.add(r,Hr.from(t,i)):x.assets.sprites.addLoaded(r,Hr.fromImage(t,i))}m(rs,"loadSprite");function Cd(r=1,t=1,i=0,o=0,a=1,u=1){let d=[],g=a/r,f=u/t;for(let p=0;p<t;p++)for(let w=0;w<r;w++)d.push(new st(i+w*g,o+p*f,g,f));return d}m(Cd,"slice");function Vc(r,t={}){let i=document.createElement("canvas"),o=r[0].width,a=r[0].height;i.width=o*r.length,i.height=a;let u=i.getContext("2d");if(!u)throw new Error("Failed to create canvas context");r.forEach((g,f)=>{g instanceof ImageData?u.putImageData(g,f*o,0):u.drawImage(g,f*o,0)});let d=u.getImageData(0,0,r.length*o,a);return Hr.fromImage(d,{...t,sliceX:r.length,sliceY:1})}m(Vc,"createSpriteSheet");function Kg(r="bean"){return rs(r,rA)}m(Kg,"loadBean");function Yg(r,t,i){t=an(t),i=an(i),typeof t=="string"&&!i&&(i=Fx(t)+".json");let o=typeof i=="string"?Uo(i):Promise.resolve(i);return x.assets.sprites.add(r,o.then(a=>{let u=a.meta.size,d=a.frames.map(f=>new st(f.frame.x/u.w,f.frame.y/u.h,f.frame.w/u.w,f.frame.h/u.h)),g={};for(let f of a.meta.frameTags)f.from===f.to?g[f.name]=f.from:g[f.name]={from:f.from,to:f.to,speed:10,loop:!0,pingpong:f.direction==="pingpong"};return Hr.from(t,{frames:d,anims:g})}))}m(Yg,"loadAseprite");var vs,dl=(vs=class{constructor(t,i={}){H(this,"fontface");H(this,"filter",_c);H(this,"outline",null);H(this,"size",64);if(this.fontface=t,this.filter=i.filter??_c,this.size=i.size??64,this.size>256)throw new Error("Max font size: 256");i.outline&&(this.outline={width:1,color:Oe(0,0,0)},typeof i.outline=="number"?this.outline.width=i.outline:typeof i.outline=="object"&&(i.outline.width&&(this.outline.width=i.outline.width),i.outline.color&&(this.outline.color=i.outline.color)))}},m(vs,"FontData"),vs);function Md(r){if(!r)return Md(x.globalOpt.font??vx);if(typeof r=="string"){let t=Pd(r),i=Rd(r);if(t)return t.data??t;if(i)return i.data??i;if(document.fonts.check(`64px ${r}`))return r;if(Ur()<1)return null;throw new Error(`Font not found: ${r}`)}else if(r instanceof vn)return r.data?r.data:r;return r}m(Md,"resolveFont");function Rd(r){return x.assets.fonts.get(r)??null}m(Rd,"getFont");function Xg(r,t,i={}){let o=an(t),a=new FontFace(r,typeof t=="string"?`url(${o})`:o);return document.fonts.add(a),x.assets.fonts.add(r,a.load().catch(u=>{throw new Error(`Failed to load font from "${o}": ${u}`)}).then(u=>new dl(u,i)))}m(Xg,"loadFont");function $g(r,t,i,o){let a=r.width/t,u={},d=o.split("").entries();for(let[g,f]of d)u[f]=new st(g%a*t,Math.floor(g/a)*i,t,i);return{tex:r,map:u,size:i}}m($g,"makeFont");function Pd(r){return x.assets.bitmapFonts.get(r)??null}m(Pd,"getBitmapFont");function Jg(r,t,i,o,a={}){let u=an(t);return x.assets.bitmapFonts.add(r,Ho(u).then(d=>$g(Dr.fromImage(x.gfx.ggl,d,a),i,o,a.chars??hg)))}m(Jg,"loadBitmapFont");function Zg(r,t){return t=an(t),x.assets.sprites.add(r,new Promise(async i=>{let o=typeof t=="string"?await Uo(t):t,a=await Promise.all(o.frames.map(Ho)),u=document.createElement("canvas");u.width=o.width,u.height=o.height*o.frames.length;let d=u.getContext("2d");if(!d)throw new Error("Failed to create canvas context");a.forEach((f,p)=>{d.drawImage(f,0,p*o.height)});let g=await rs(null,u,{sliceY:o.frames.length,anims:o.anims});i(g)}))}m(Zg,"loadPedit");var ws,iA=(ws=class{constructor(t,i,o,a){H(this,"ctx");H(this,"glProgram");this.ctx=t,t.onDestroy(()=>this.free());let u=t.gl,d=u.createShader(u.VERTEX_SHADER),g=u.createShader(u.FRAGMENT_SHADER);if(!d||!g)throw new Error("Failed to create shader");u.shaderSource(d,i),u.shaderSource(g,o),u.compileShader(d),u.compileShader(g);let f=u.createProgram();if(this.glProgram=f,u.attachShader(f,d),u.attachShader(f,g),a.forEach((p,w)=>u.bindAttribLocation(f,w,p)),u.linkProgram(f),!u.getProgramParameter(f,u.LINK_STATUS)){let p=u.getShaderInfoLog(d);if(p)throw new Error("VERTEX SHADER "+p);let w=u.getShaderInfoLog(g);if(w)throw new Error("FRAGMENT SHADER "+w)}u.deleteShader(d),u.deleteShader(g)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(t){let i=this.ctx.gl;for(let o in t){let a=t[o],u=i.getUniformLocation(this.glProgram,o);if(typeof a=="number")i.uniform1f(u,a);else if(a instanceof Un)i.uniformMatrix4fv(u,!1,new Float32Array(a.m));else if(a instanceof be)i.uniform3f(u,a.r,a.g,a.b);else if(a instanceof $)i.uniform2f(u,a.x,a.y);else if(Array.isArray(a))a[0],bx(a)?i.uniform1fv(u,a):Ix(a)?i.uniform2fv(u,a.map(d=>[d.x,d.y]).flat()):Tx(a)&&i.uniform3fv(u,a.map(d=>[d.r,d.g,d.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}},m(ws,"Shader"),ws);function Ul(r,t=zc,i=Uc){let o=Sx.replace("{{user}}",t??zc),a=Ex.replace("{{user}}",i??Uc);try{return new iA(r,o,a,wd.map(u=>u.name))}catch(u){let d=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,g=Nx(u).match(d);if(!(g!=null&&g.groups))throw u;let f=Number(g.groups.line)-14,p=g.groups.msg.trim(),w=g.groups.type.toLowerCase();throw new Error(`${w} shader line ${f}: ${p}`)}}m(Ul,"makeShader");function ey(r){if(!r)return x.gfx.defShader;if(typeof r=="string"){let t=Td(r);if(t)return t.data??t;if(Ur()<1)return null;throw new Error(`Shader not found: ${r}`)}else if(r instanceof vn)return r.data?r.data:r;return r}m(ey,"resolveShader");function Td(r){return x.assets.shaders.get(r)??null}m(Td,"getShader");function ty(r,t,i){return x.assets.shaders.addLoaded(r,Ul(x.gfx.ggl,t,i))}m(ty,"loadShader");function ny(r,t,i){t=an(t),i=an(i);let o=m(u=>u?Hg(u):Promise.resolve(null),"resolveUrl"),a=Promise.all([o(t),o(i)]).then(([u,d])=>Ul(x.gfx.ggl,u,d));return x.assets.shaders.add(r,a)}m(ny,"loadShaderURL");var rr,Fo=(rr=class{constructor(t){H(this,"buf");this.buf=t}static fromArrayBuffer(t){return new Promise((i,o)=>x.audio.ctx.decodeAudioData(t,i,o)).then(i=>new rr(i))}static fromURL(t){return Ag(t)?rr.fromArrayBuffer(wg(t)):Gg(t).then(i=>rr.fromArrayBuffer(i))}},m(rr,"SoundData"),rr);function ry(r){if(typeof r=="string"){let t=Id(r);if(t)return t;if(Ur()<1)return null;throw new Error(`Sound not found: ${r}`)}else{if(r instanceof Fo)return vn.loaded(r);if(r instanceof vn)return r;throw new Error(`Invalid sound: ${r}`)}}m(ry,"resolveSound");function Id(r){return x.assets.sounds.get(r)??null}m(Id,"getSound");function iy(r,t){return t=an(t),x.assets.sounds.add(r,typeof t=="string"?Fo.fromURL(t):Fo.fromArrayBuffer(t))}m(iy,"loadSound");function sy(r,t){let i=an(t),o=new Audio(i);return o.preload="auto",x.assets.music[r]=i}m(sy,"loadMusic");function bd(r,t){return r=an(r),vl(typeof t=="string"?new Promise((i,o)=>{Uo(t).then(a=>{bd(r,a).then(i).catch(o)})}):Hr.from(r).then(i=>{let o={};for(let a in t){let u=t[a],d=i.frames[0],g=2048*d.w,f=2048*d.h,p=u.frames?u.frames.map(M=>new st(d.x+(u.x+M.x)/g*d.w,d.y+(u.y+M.y)/f*d.h,M.w/g*d.w,M.h/f*d.h)):Cd(u.sliceX||1,u.sliceY||1,d.x+u.x/g*d.w,d.y+u.y/f*d.h,u.width/g*d.w,u.height/f*d.h),w=new Hr(i.tex,p,u.anims);x.assets.sprites.addLoaded(a,w),o[a]=w}return o}))}m(bd,"loadSpriteAtlas");function ur(r,t,i=!1,o,a,u={}){let d=o??x.gfx.defTex,g=a??x.gfx.defShader,f=ey(g);if(!f||f instanceof vn)return;let p=x.gfx.fixed||i?x.gfx.transform:x.game.cam.transform.mult(x.gfx.transform),w=[];for(let M of r){let y=Lg(p.multVec2(M.pos));w.push(y.x,y.y,M.uv.x,M.uv.y,M.color.r/255,M.color.g/255,M.color.b/255,M.opacity)}x.gfx.renderer.push(x.gfx.ggl.gl.TRIANGLES,w,t,f,d,u)}m(ur,"drawRaw");function sr(r){if(!r.pts)throw new Error('drawPolygon() requires property "pts".');let t=r.pts.length;if(!(t<3)){if(nn(),it(r.pos),Rs(r.scale),wi(r.angle),it(r.offset),r.fill!==!1){let i=r.color??be.WHITE,o=r.pts.map((u,d)=>({pos:new $(u.x,u.y),uv:r.uv?r.uv[d]:new $(0,0),color:r.colors&&r.colors[d]?r.colors[d].mult(i):i,opacity:r.opacity??1})),a;r.triangulate?a=vd(r.pts).map(u=>u.map(d=>r.pts.indexOf(d))).flat():a=[...Array(t-2).keys()].map(u=>[0,u+1,u+2]).flat(),ur(o,r.indices??a,r.fixed,r.uv?r.tex:x.gfx.defTex,r.shader,r.uniform??void 0)}r.outline&&Hl({pts:[...r.pts,r.pts[0]],radius:r.radius,width:r.outline.width,color:r.outline.color,join:r.outline.join,uniform:r.uniform,fixed:r.fixed,opacity:r.opacity??r.outline.opacity}),Kt()}}m(sr,"drawPolygon");function Fd(r){if(r.radiusX===void 0||r.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(r.radiusX===0||r.radiusY===0)return;let t=r.start??0,i=r.end??360,o=Si(r.anchor??"center").scale(new $(-r.radiusX,-r.radiusY)),a=es(o,r.radiusX,r.radiusY,t,i,r.resolution);a.unshift(o);let u=Object.assign({},r,{pts:a,radius:0,...r.gradient?{colors:[r.gradient[0],...Array(a.length-1).fill(r.gradient[1])]}:{}});if(i-t>=360&&r.outline){r.fill!==!1&&sr(Object.assign({},u,{outline:null})),sr(Object.assign({},u,{pts:a.slice(1),fill:!1}));return}sr(u)}m(Fd,"drawEllipse");function Ei(r){if(typeof r.radius!="number")throw new Error('drawCircle() requires property "radius".');r.radius!==0&&Fd(Object.assign({},r,{radiusX:r.radius,radiusY:r.radius,angle:0}))}m(Ei,"drawCircle");function ts(r){let{p1:t,p2:i}=r;if(!t||!i)throw new Error('drawLine() requires properties "p1" and "p2".');let o=r.width||1,a=i.sub(t).unit().normal().scale(o*.5),u=[t.sub(a),t.add(a),i.add(a),i.sub(a)].map(d=>({pos:new $(d.x,d.y),uv:new $(0),color:r.color??be.WHITE,opacity:r.opacity??1}));ur(u,[0,1,3,1,2,3],r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(ts,"drawLine");function oy(r){let t=r.pts,i=[],o=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||Q(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let g=d.len(),f=d.normal().scale(-o/g),p,w=t[0];if(!a)switch(r.cap){case"square":{let S=d.scale(-o/g);i.push(w.add(S).add(f)),i.push(w.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(-1),C=Math.cos(T),L=Math.sin(T);for(let F=0;F<S;F++)i.push(w),i.push(w.sub(A)),A=Q(A.x*C-A.y*L,A.x*L+A.y*C)}}for(let S=1;S<t.length;S++){if(w===t[S]||w.eq(t[S]))continue;p=w,w=t[S];let T=w.sub(p),A=T.len(),C=T.normal().scale(-o/A),L=d.cross(T);if(Math.abs(L)/(g*A)<.05){i.push(p.add(f)),i.push(p.sub(f)),d.dot(T)<0&&(i.push(p.sub(f)),i.push(p.add(f))),d=T,g=A,f=C;continue}let F=C.sub(f).cross(T)/L,z=f.add(d.scale(F));L>0?(i.push(p.add(z)),i.push(p.sub(f)),i.push(p.add(z)),i.push(p.sub(C))):(i.push(p.add(f)),i.push(p.sub(z)),i.push(p.add(C)),i.push(p.sub(z))),d=T,g=A,f=C}if(!a)switch(i.push(w.add(f)),i.push(w.sub(f)),r.cap){case"square":{let S=d.scale(o/g);i.push(w.add(S).add(f)),i.push(w.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(1),C=Math.cos(T),L=Math.sin(T);for(let F=0;F<S;F++)A=Q(A.x*C-A.y*L,A.x*L+A.y*C),i.push(w),i.push(w.sub(A))}}if(i.length<4)return;let M=i.map(S=>({pos:u.add(S),uv:Q(),color:r.color||be.WHITE,opacity:r.opacity??1})),y=[],k=0;for(let S=0;S<i.length-2;S+=2)y[k++]=S+1,y[k++]=S,y[k++]=S+2,y[k++]=S+2,y[k++]=S+3,y[k++]=S+1;a&&(y[k++]=i.length-1,y[k++]=i.length-2,y[k++]=0,y[k++]=0,y[k++]=1,y[k++]=i.length-1),ur(M,y,r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(oy,"_drawLinesBevel");function ay(r){let t=r.pts,i=[],o=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||Q(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let g=d.len(),f=d.normal().scale(-o/g),p,w=t[0];if(!a)switch(r.cap){case"square":{let S=d.scale(-o/g);i.push(w.add(S).add(f)),i.push(w.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(-1),C=Math.cos(T),L=Math.sin(T);for(let F=0;F<S;F++)i.push(w),i.push(w.sub(A)),A=Q(A.x*C-A.y*L,A.x*L+A.y*C)}}for(let S=1;S<t.length;S++){if(w===t[S]||w.eq(t[S]))continue;p=w,w=t[S];let T=w.sub(p),A=T.len(),C=T.normal().scale(-o/A),L=d.cross(T);if(Math.abs(L)/(g*A)<.05){i.push(p.add(f)),i.push(p.sub(f)),d.dot(T)<0&&(i.push(p.sub(f)),i.push(p.add(f))),d=T,g=A,f=C;continue}let F=C.sub(f).cross(T)/L,z=f.add(d.scale(F));if(L>0){let N=p.add(z),E=Math.max(o,10),R=ft(f.angleBetween(C)/E),I=f,K=Math.cos(R),Y=Math.sin(R);for(let Z=0;Z<E;Z++)i.push(N),i.push(p.sub(I)),I=Q(I.x*K-I.y*Y,I.x*Y+I.y*K)}else{let N=p.sub(z),E=Math.max(o,10),R=ft(f.angleBetween(C)/E),I=f,K=Math.cos(R),Y=Math.sin(R);for(let Z=0;Z<E;Z++)i.push(p.add(I)),i.push(N),I=Q(I.x*K-I.y*Y,I.x*Y+I.y*K)}d=T,g=A,f=C}if(!a)switch(i.push(w.add(f)),i.push(w.sub(f)),r.cap){case"square":{let S=d.scale(o/g);i.push(w.add(S).add(f)),i.push(w.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(1),C=Math.cos(T),L=Math.sin(T);for(let F=0;F<S;F++)A=Q(A.x*C-A.y*L,A.x*L+A.y*C),i.push(w),i.push(w.sub(A))}}if(i.length<4)return;let M=i.map(S=>({pos:u.add(S),uv:Q(),color:r.color||be.WHITE,opacity:r.opacity??1})),y=[],k=0;for(let S=0;S<i.length-2;S+=2)y[k++]=S+1,y[k++]=S,y[k++]=S+2,y[k++]=S+2,y[k++]=S+3,y[k++]=S+1;a&&(y[k++]=i.length-1,y[k++]=i.length-2,y[k++]=0,y[k++]=0,y[k++]=1,y[k++]=i.length-1),ur(M,y,r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(ay,"_drawLinesRound");function ly(r){let t=r.pts,i=[],o=(r.width||1)*.5,a=t[0]===t[t.length-1]||t[0].eq(t[t.length-1]),u=r.pos||Q(0,0),d;a?d=t[0].sub(t[t.length-2]):d=t[1].sub(t[0]);let g=d.len(),f=d.normal().scale(-o/g),p,w=t[0];if(!a)switch(r.cap){case"square":{let S=d.scale(-o/g);i.push(w.add(S).add(f)),i.push(w.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(-1),C=Math.cos(T),L=Math.sin(T);for(let F=0;F<S;F++)i.push(w),i.push(w.sub(A)),A=Q(A.x*C-A.y*L,A.x*L+A.y*C)}}for(let S=1;S<t.length;S++){if(w===t[S]||w.eq(t[S]))continue;p=w,w=t[S];let T=w.sub(p),A=T.len(),C=T.normal().scale(-o/A),L=d.cross(T);if(Math.abs(L)/(g*A)<.05){i.push(p.add(f)),i.push(p.sub(f)),d.dot(T)<0&&(i.push(p.sub(f)),i.push(p.add(f))),d=T,g=A,f=C;continue}let F=C.sub(f).cross(T)/L,z=f.add(d.scale(F));i.push(p.add(z)),i.push(p.sub(z)),d=T,g=A,f=C}if(!a)switch(i.push(w.add(f)),i.push(w.sub(f)),r.cap){case"square":{let S=d.scale(o/g);i.push(w.add(S).add(f)),i.push(w.add(S).sub(f));break}case"round":{let S=Math.max(o,10),T=Math.PI/S,A=f.scale(1),C=Math.cos(T),L=Math.sin(T);for(let F=0;F<S;F++)A=Q(A.x*C-A.y*L,A.x*L+A.y*C),i.push(w),i.push(w.sub(A))}}if(i.length<4)return;let M=i.map(S=>({pos:u.add(S),uv:Q(),color:r.color||be.WHITE,opacity:r.opacity??1})),y=[],k=0;for(let S=0;S<i.length-2;S+=2)y[k++]=S+1,y[k++]=S,y[k++]=S+2,y[k++]=S+2,y[k++]=S+3,y[k++]=S+1;a&&(y[k++]=i.length-1,y[k++]=i.length-2,y[k++]=0,y[k++]=0,y[k++]=1,y[k++]=i.length-1),ur(M,y,r.fixed,x.gfx.defTex,r.shader,r.uniform??void 0)}m(ly,"_drawLinesMiter");function Hl(r){let t=r.pts,i=r.width??1;if(!t)throw new Error('drawLines() requires property "pts".');if(!(t.length<2)){if(t.length>2)switch(r.join){case"bevel":return oy(r);case"round":return ay(r);case"miter":return ly(r)}if(r.radius&&t.length>=3){ts(Object.assign({},r,{p1:t[0],p2:t[1]}));for(let o=1;o<t.length-2;o++){let a=t[o],u=t[o+1];ts(Object.assign({},r,{p1:a,p2:u}))}ts(Object.assign({},r,{p1:t[t.length-2],p2:t[t.length-1]}))}else for(let o=0;o<t.length-1;o++)ts(Object.assign({},r,{p1:t[o],p2:t[o+1]})),r.join!=="none"&&Ei(Object.assign({},r,{pos:t[o],radius:i/2}))}}m(Hl,"drawLines");function Nd(r,t){let i=t.segments??16,o=[];for(let a=0;a<=i;a++)o.push(r(a/i));Hl({pts:o,width:t.width||1,pos:t.pos,color:t.color,opacity:t.opacity})}m(Nd,"drawCurve");function uy(r){Nd(t=>Bl(r.pt1,r.pt2,r.pt3,r.pt4,t),r)}m(uy,"drawBezier");var vi,Dr=(vi=class{constructor(t,i,o,a={}){H(this,"ctx");H(this,"src",null);H(this,"glTex");H(this,"width");H(this,"height");this.ctx=t;let u=t.gl,d=t.gl.createTexture();if(!d)throw new Error("Failed to create texture");this.glTex=d,t.onDestroy(()=>this.free()),this.width=i,this.height=o;let g={linear:u.LINEAR,nearest:u.NEAREST}[a.filter??t.opts.texFilter??"nearest"],f={repeat:u.REPEAT,clampToEdge:u.CLAMP_TO_EDGE}[a.wrap??"clampToEdge"];this.bind(),i&&o&&u.texImage2D(u.TEXTURE_2D,0,u.RGBA,i,o,0,u.RGBA,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,g),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,g),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,f),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,f),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(t,i,o={}){let a=new vi(t,i.width,i.height,o);return a.update(i),a.src=i,a}update(t,i=0,o=0){let a=this.ctx.gl;this.bind(),a.texSubImage2D(a.TEXTURE_2D,0,i,o,a.RGBA,a.UNSIGNED_BYTE,t),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},m(vi,"Texture"),vi),xs,wl=(xs=class{constructor(t,i,o,a={}){H(this,"ctx");H(this,"tex");H(this,"glFramebuffer");H(this,"glRenderbuffer");this.ctx=t;let u=t.gl;t.onDestroy(()=>this.free()),this.tex=new Dr(t,i,o,a);let d=u.createFramebuffer(),g=u.createRenderbuffer();if(!d||!g)throw new Error("Failed to create framebuffer");this.glFramebuffer=d,this.glRenderbuffer=g,this.bind(),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,i,o),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,this.tex.glTex,0),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let t=this.ctx.gl,i=new Uint8ClampedArray(this.width*this.height*4);this.bind(),t.readPixels(0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,i),this.unbind();let o=this.width*4,a=new Uint8Array(o);for(let u=0;u<(this.height/2|0);u++){let d=u*o,g=(this.height-u-1)*o;a.set(i.subarray(d,d+o)),i.copyWithin(d,g,g+o),i.set(a,g)}return new ImageData(i,this.width,this.height)}toDataURL(){let t=document.createElement("canvas"),i=t.getContext("2d");if(t.width=this.width,t.height=this.height,!i)throw new Error("Failed to get 2d context");return i.putImageData(this.toImageData(),0,0),t.toDataURL()}clear(){let t=this.ctx.gl;t.clear(t.COLOR_BUFFER_BIT)}draw(t){this.bind(),t(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let t=this.ctx.gl;t.deleteFramebuffer(this.glFramebuffer),t.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},m(xs,"FrameBuffer"),xs),As,sA=(As=class{constructor(t,i,o,a){H(this,"ctx");H(this,"glVBuf");H(this,"glIBuf");H(this,"vqueue",[]);H(this,"iqueue",[]);H(this,"stride");H(this,"maxVertices");H(this,"maxIndices");H(this,"vertexFormat");H(this,"numDraws",0);H(this,"curPrimitive",null);H(this,"curTex",null);H(this,"curShader",null);H(this,"curUniform",{});let u=t.gl;this.vertexFormat=i,this.ctx=t,this.stride=i.reduce((g,f)=>g+f.size,0),this.maxVertices=o,this.maxIndices=a;let d=u.createBuffer();if(!d)throw new Error("Failed to create vertex buffer");this.glVBuf=d,t.pushArrayBuffer(this.glVBuf),u.bufferData(u.ARRAY_BUFFER,o*4,u.DYNAMIC_DRAW),t.popArrayBuffer(),this.glIBuf=u.createBuffer(),t.pushElementArrayBuffer(this.glIBuf),u.bufferData(u.ELEMENT_ARRAY_BUFFER,a*4,u.DYNAMIC_DRAW),t.popElementArrayBuffer()}push(t,i,o,a,u=null,d={}){(t!==this.curPrimitive||u!==this.curTex||a!==this.curShader||!ql(this.curUniform,d)||this.vqueue.length+i.length*this.stride>this.maxVertices||this.iqueue.length+o.length>this.maxIndices)&&this.flush();let g=this.vqueue.length/this.stride;for(let f of i)this.vqueue.push(f);for(let f of o)this.iqueue.push(f+g);this.curPrimitive=t,this.curShader=a,this.curTex=u,this.curUniform=d}flush(){var i,o;if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let t=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),t.bufferSubData(t.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),(i=this.curTex)==null||i.bind(),t.drawElements(this.curPrimitive,this.iqueue.length,t.UNSIGNED_SHORT,0),(o=this.curTex)==null||o.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let t=this.ctx.gl;t.deleteBuffer(this.glVBuf),t.deleteBuffer(this.glIBuf)}},m(As,"BatchRenderer"),As);function Nr(r){let t=[],i=m(u=>{t.push(u),r(u)},"push"),o=m(()=>{t.pop(),r(a()??null)},"pop"),a=m(()=>t[t.length-1],"cur");return[i,o,a]}m(Nr,"genStack");function cy(r,t={}){let i=[];function o(N){i.push(N)}m(o,"onDestroy");function a(){i.forEach(E=>E());let N=r.getExtension("WEBGL_lose_context");N&&N.loseContext()}m(a,"destroy");let u=null;function d(N){if(ql(N,u))return;u=N;let E=N.reduce((R,I)=>R+I.size,0);N.reduce((R,I,K)=>(r.vertexAttribPointer(K,I.size,r.FLOAT,!1,E*4,R),r.enableVertexAttribArray(K),R+I.size*4),0)}m(d,"setVertexFormat");let[g,f]=Nr(N=>r.bindTexture(r.TEXTURE_2D,N)),[p,w]=Nr(N=>r.bindBuffer(r.ARRAY_BUFFER,N)),[M,y]=Nr(N=>r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,N)),[k,S]=Nr(N=>r.bindFramebuffer(r.FRAMEBUFFER,N)),[T,A]=Nr(N=>r.bindRenderbuffer(r.RENDERBUFFER,N)),[C,L]=Nr(N=>{if(!N)return;let{x:E,y:R,w:I,h:K}=N;r.viewport(E,R,I,K)}),[F,z]=Nr(N=>r.useProgram(N));return C({x:0,y:0,w:r.drawingBufferWidth,h:r.drawingBufferHeight}),{gl:r,opts:t,onDestroy:o,destroy:a,pushTexture2D:g,popTexture2D:f,pushArrayBuffer:p,popArrayBuffer:w,pushElementArrayBuffer:M,popElementArrayBuffer:y,pushFramebuffer:k,popFramebuffer:S,pushRenderbuffer:T,popRenderbuffer:A,pushViewport:C,popViewport:L,pushProgram:F,popProgram:z,setVertexFormat:d}}m(cy,"initGfx");var Dc={};function Wc(r,t){if(t.override){Object.assign(r,t);return}t.pos&&(r.pos=r.pos.add(t.pos)),t.scale&&(r.scale=r.scale.scale(Q(t.scale))),t.angle&&(r.angle+=t.angle),t.color&&r.ch.length===1&&(r.color=r.color.mult(t.color)),t.opacity!=null&&(r.opacity*=t.opacity)}m(Wc,"applyCharTransform");function xl(r){let t={},i="",o=[],a=String(r),u=m(d=>{o.length>0&&(t[i.length]=o.slice()),i+=d},"emit");for(;a!=="";){if(a[0]==="\\"){if(a.length===1)throw new Error("Styled text error: \\ at end of string");u(a[1]),a=a.slice(2);continue}if(a[0]==="["){let d=/^\[(\/)?(\w+?)\]/.exec(a);if(!d){u(a[0]),a=a.slice(1);continue}let[g,f,p]=d;if(f!==void 0){let w=o.pop();if(w!==p)throw w!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${w}], got [/${p}]`):new Error(`Styled text error: stray end tag [/${p}]`)}else o.push(p);a=a.slice(g.length);continue}u(a[0]),a=a.slice(1)}if(o.length>0)throw new Error(`Styled text error: unclosed tags ${o}`);return{charStyleMap:t,text:i}}m(xl,"compileStyledText");function Gr(r){var F,z,N;if(r.text===void 0)throw new Error('formatText() requires property "text".');let t=Md(r.font);if(!r.text||r.text===""||t instanceof vn||!t)return{width:0,height:0,chars:[],opt:r,renderedText:""};let{charStyleMap:i,text:o}=xl(r.text+""),a=Eg(o);if(t instanceof dl||typeof t=="string"){let E=t instanceof dl?t.fontface.family:t,R=t instanceof dl?{outline:t.outline,filter:t.filter}:{outline:null,filter:_c},I=Dc[E]??{font:{tex:new Dr(x.gfx.ggl,2048,2048,{filter:R.filter}),map:{},size:64},cursor:new $(0),maxHeight:0,outline:R.outline};Dc[E]||(Dc[E]=I),t=I.font;for(let K of a)if(!I.font.map[K]){let Y=x.fontCacheC2d;if(!Y)throw new Error("fontCacheC2d is not defined.");if(!x.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");Y.clearRect(0,0,x.fontCacheCanvas.width,x.fontCacheCanvas.height),Y.font=`${t.size}px ${E}`,Y.textBaseline="top",Y.textAlign="left",Y.fillStyle="#ffffff";let Z=Y.measureText(K),oe=Math.ceil(Z.width);if(!oe)continue;let ue=Math.ceil(Math.abs(Z.actualBoundingBoxAscent))+Math.ceil(Math.abs(Z.actualBoundingBoxDescent));I.outline&&I.outline.width&&I.outline.color&&(Y.lineJoin="round",Y.lineWidth=I.outline.width*2,Y.strokeStyle=I.outline.color.toHex(),Y.strokeText(K,I.outline.width,I.outline.width),oe+=I.outline.width*2,ue+=I.outline.width*3),Y.fillText(K,((F=I.outline)==null?void 0:F.width)??0,((z=I.outline)==null?void 0:z.width)??0);let ve=Y.getImageData(0,0,oe,ue);if(I.cursor.x+oe>2048&&(I.cursor.x=0,I.cursor.y+=I.maxHeight,I.maxHeight=0,I.cursor.y>2048))throw new Error("Font atlas exceeds character limit");t.tex.update(ve,I.cursor.x,I.cursor.y),t.map[K]=new st(I.cursor.x,I.cursor.y,oe,ue),I.cursor.x+=oe+1,I.maxHeight=Math.max(I.maxHeight,ue)}}let u=r.size||t.size,d=Q(r.scale??1).scale(u/t.size),g=r.lineSpacing??0,f=r.letterSpacing??0,p=0,w=0,M=0,y=[],k=[],S=0,T=null,A=0,C;for(;S<a.length;){let E=a[S];if(E===`
`)M+=u+g,y.push({width:p-f,chars:k}),T=null,A=0,p=0,k=[],C=void 0;else{let R=t.map[E];if(R){let I=R.w*d.x;r.width&&p+I>r.width&&(M+=u+g,T!=null&&(S-=k.length-T,E=a[S],R=t.map[E],I=R.w*d.x,k=k.slice(0,T-1),p=A),T=null,A=0,y.push({width:p-f,chars:k}),p=C??0,k=[]),k.push({tex:t.tex,width:R.w,height:R.h,quad:new st(R.x/t.tex.width,R.y/t.tex.height,R.w/t.tex.width,R.h/t.tex.height),ch:E,pos:new $(p,M),opacity:r.opacity??1,color:r.color??be.WHITE,scale:Q(d),angle:0}),E===" "&&(T=k.length,A=p),r.indentAll&&C===void 0&&/\S/.test(E)&&(C=p),p+=I,w=Math.max(w,p),p+=f}}S++}y.push({width:p-f,chars:k}),M+=u,r.width&&(w=r.width);let L=[];for(let E=0;E<y.length;E++){let R=(w-y[E].width)*Ng(r.align??"left");for(let I of y[E].chars){let K=t.map[I.ch],Y=L.length+E;if(I.pos=I.pos.add(R,0).add(K.w*d.x*.5,K.h*d.y*.5),r.transform){let Z=typeof r.transform=="function"?r.transform(Y,I.ch):r.transform;Z&&Wc(I,Z)}if(i[Y]){let Z=i[Y];for(let oe of Z){let ue=(N=r.styles)==null?void 0:N[oe],ve=typeof ue=="function"?ue(Y,I.ch):ue;ve&&Wc(I,ve)}}L.push(I)}}return{width:w,height:M,chars:L,opt:r,renderedText:o}}m(Gr,"formatText");function Ps(r){if(r.width===void 0||r.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(r.width<=0||r.height<=0)return;let t=r.width,i=r.height,o=Si(r.anchor||Ll).scale(new $(t,i).scale(-.5)),a=r.quad||new st(0,0,1,1),u=r.color||Oe(255,255,255),d=r.opacity??1,g=r.tex?.1/r.tex.width:0,f=r.tex?.1/r.tex.height:0,p=a.x+g,w=a.y+f,M=a.w-g*2,y=a.h-f*2;nn(),it(r.pos),wi(r.angle),Rs(r.scale),it(o),ur([{pos:new $(-t/2,i/2),uv:new $(r.flipX?p+M:p,r.flipY?w:w+y),color:u,opacity:d},{pos:new $(-t/2,-i/2),uv:new $(r.flipX?p+M:p,r.flipY?w+y:w),color:u,opacity:d},{pos:new $(t/2,-i/2),uv:new $(r.flipX?p:p+M,r.flipY?w+y:w),color:u,opacity:d},{pos:new $(t/2,i/2),uv:new $(r.flipX?p:p+M,r.flipY?w:w+y),color:u,opacity:d}],[0,1,3,1,2,3],r.fixed,r.tex,r.shader,r.uniform??void 0),Kt()}m(Ps,"drawUVQuad");function Vr(r){nn(),it(r.opt.pos),wi(r.opt.angle),it(Si(r.opt.anchor??"topleft").add(1,1).scale(r.width,r.height).scale(-.5)),r.chars.forEach(t=>{Ps({tex:t.tex,width:t.width,height:t.height,pos:t.pos,scale:t.scale,angle:t.angle,color:t.color,opacity:t.opacity,quad:t.quad,anchor:"center",uniform:r.opt.uniform,shader:r.opt.shader,fixed:r.opt.fixed})}),Kt()}m(Vr,"drawFormattedText");function sn(r){if(r.width===void 0||r.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(r.width<=0||r.height<=0)return;let t=r.width,i=r.height,o=Si(r.anchor||Ll).add(1,1).scale(new $(t,i).scale(-.5)),a=[new $(0,0),new $(t,0),new $(t,i),new $(0,i)];if(r.radius){let u=Math.min(t,i)/2,d=Array.isArray(r.radius)?r.radius.map(g=>Math.min(u,g)):new Array(4).fill(Math.min(u,r.radius));a=[new $(d[0],0),...d[1]?es(new $(t-d[1],d[1]),d[1],d[1],270,360):[Q(t,0)],...d[2]?es(new $(t-d[2],i-d[2]),d[2],d[2],0,90):[Q(t,i)],...d[3]?es(new $(d[3],i-d[3]),d[3],d[3],90,180):[Q(0,i)],...d[0]?es(new $(d[0],d[0]),d[0],d[0],180,270):[]]}sr(Object.assign({},r,{offset:o,pts:a,...r.gradient?{colors:r.horizontal?[r.gradient[0],r.gradient[1],r.gradient[1],r.gradient[0]]:[r.gradient[0],r.gradient[0],r.gradient[1],r.gradient[1]]}:{}}))}m(sn,"drawRect");function nr(r){rn();let t=x.gfx.width,i=x.gfx.height;x.gfx.width=x.gfx.viewport.width,x.gfx.height=x.gfx.viewport.height,r(),rn(),x.gfx.width=t,x.gfx.height=i}m(nr,"drawUnscaled");function Qc(r,t){nr(()=>{let i=Q(8);nn(),it(r);let o=Gr({text:t,font:pl,size:16,pos:i,color:Oe(255,255,255),fixed:!0}),a=o.width+i.x*2,u=o.height+i.x*2;r.x+a>=Ct()&&it(Q(-a,0)),r.y+u>=It()&&it(Q(0,-u)),sn({width:a,height:u,color:Oe(0,0,0),radius:4,opacity:.8,fixed:!0}),Vr(o),Kt()})}m(Qc,"drawInspectText");function Dd(r){if(!r.p1||!r.p2||!r.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return sr(Object.assign({},r,{pts:[r.p1,r.p2,r.p3]}))}m(Dd,"drawTriangle");function dy(){if(x.debug.inspect){let r=null;for(let t of x.game.root.get("*",{recursive:!0}))if(t.c("area")&&t.isHovering()){r=t;break}if(x.game.root.drawInspect(),r){let t=[],i=r.inspect();for(let o in i)i[o]?t.push(`${i[o]}`):t.push(`${o}`);Qc(zg(Sd()),t.join(`
`))}Qc(Q(8),`FPS: ${x.debug.fps()}`)}x.debug.paused&&nr(()=>{nn(),it(Ct(),0),it(-8,8);let r=32;sn({width:r,height:r,anchor:"topright",color:Oe(0,0,0),opacity:.8,radius:4,fixed:!0});for(let t=1;t<=2;t++)sn({width:4,height:r*.6,anchor:"center",pos:Q(-32/3*t,r*.5),color:Oe(255,255,255),radius:2,fixed:!0});Kt()}),x.debug.timeScale!==1&&nr(()=>{nn(),it(Ct(),It()),it(-8,-8);let r=8,t=Gr({text:x.debug.timeScale.toFixed(1),font:pl,size:16,color:Oe(255,255,255),pos:Q(-8),anchor:"botright",fixed:!0});sn({width:t.width+r*2+r*4,height:t.height+r*2,anchor:"botright",color:Oe(0,0,0),opacity:.8,radius:4,fixed:!0});for(let i=0;i<2;i++){let o=x.debug.timeScale<1;Dd({p1:Q(-t.width-r*(o?2:3.5),-8),p2:Q(-t.width-r*(o?2:3.5),-8-t.height),p3:Q(-t.width-r*(o?3.5:2),-8-t.height/2),pos:Q(-i*r*1+(o?-8*.5:0),0),color:Oe(255,255,255),fixed:!0})}Vr(t),Kt()}),x.debug.curRecording&&nr(()=>{nn(),it(0,It()),it(24,-24),Ei({radius:12,color:Oe(255,0,0),opacity:id(0,1,x.app.time()*4),fixed:!0}),Kt()}),x.debug.showLog&&x.game.logs.length>0&&nr(()=>{nn(),it(0,It()),it(8,-8);let r=8,t=[];for(let o of x.game.logs){let a="",u=o.msg instanceof Error?"error":"info";a+=`[time]${o.time.toFixed(2)}[/time]`,a+=" ",a+=`[${u}]${Al(o.msg)}[/${u}]`,t.push(a)}x.game.logs=x.game.logs.filter(o=>x.app.time()-o.time<(x.globalOpt.logTime||4));let i=Gr({text:t.join(`
`),font:pl,pos:Q(r,-8),anchor:"botleft",size:16,width:Ct()*.6,lineSpacing:r/2,fixed:!0,styles:{time:{color:Oe(127,127,127)},info:{color:Oe(255,255,255)},error:{color:Oe(255,0,127)}}});sn({width:i.width+r*2,height:i.height+r*2,anchor:"botleft",color:Oe(0,0,0),radius:4,opacity:.8,fixed:!0}),Vr(i),Kt()})}m(dy,"drawDebug");function Al(r,t=!1,i=new Set){if(i.has(r))return"<recursive>";var o="",a;return t&&typeof r=="string"&&(r=JSON.stringify(r)),Array.isArray(r)&&(o=["[",r.map(u=>Al(u,!0,i.union(new Set([r])))).join(", "),"]"].join(""),r=o),r===null?"null":(typeof r=="object"&&r.toString===Object.prototype.toString&&(r.constructor!==Object&&(o+=r.constructor.name+" "),o+=["{",(a=Object.getOwnPropertyNames(r).map(u=>`${/^\w+$/.test(u)?u:JSON.stringify(u)}: ${Al(r[u],!0,i.union(new Set([r])))}`).join(", "))?` ${a} `:"","}"].join(""),r=o),String(r).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}m(Al,"prettyDebug");function fy(){let r=x.game.cam,t=$.fromAngle(wt(0,360)).scale(r.shake);r.shake=Yt(r.shake,0,5*xt()),r.transform=new Un().translate(bo()).scale(r.scale).rotate(r.angle).translate((r.pos??bo()).scale(-1).add(t)),x.game.root.draw(),rn()}m(fy,"drawFrame");function hy(){let r=Ur();x.game.events.numListeners("loading")>0?x.game.events.trigger("loading",r):nr(()=>{let t=Ct()/2,i=24,o=Q(Ct()/2,It()/2).sub(Q(t/2,i/2));sn({pos:Q(0),width:Ct(),height:It(),color:Oe(0,0,0)}),sn({pos:o,width:t,height:i,fill:!1,outline:{width:4}}),sn({pos:o,width:t*r,height:i})})}m(hy,"drawLoadScreen");function jd(r,t,i){let o=x.gfx.ggl.gl;rn(),o.clear(o.STENCIL_BUFFER_BIT),o.enable(o.STENCIL_TEST),o.stencilFunc(o.NEVER,1,255),o.stencilOp(o.REPLACE,o.REPLACE,o.REPLACE),t(),rn(),o.stencilFunc(i,1,255),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),r(),rn(),o.disable(o.STENCIL_TEST)}m(jd,"drawStenciled");function py(r,t){let i=x.gfx.ggl.gl;jd(r,t,i.EQUAL)}m(py,"drawMasked");function No(r){var u,d;if(!r.tex)throw new Error('drawTexture() requires property "tex".');let t=r.quad??new st(0,0,1,1),i=r.tex.width*t.w,o=r.tex.height*t.h,a=new $(1);if(r.tiled){let g=Si(r.anchor||Ll);(((u=r.pos)==null?void 0:u.x)||0)-(g.x+1)*.5*(r.width||i),(((d=r.pos)==null?void 0:d.y)||0)-(g.y+1)*.5*(r.height||o);let f=(r.width||i)/i,p=(r.height||o)/o,w=Math.floor(f),M=Math.floor(p),y=f-w,k=p-M,S=(w+y?1:0)*(M+k?1:0),T=new Array(S*6),A=new Array(S*4),C=0,L=m((F,z,N,E,R)=>{T[C*6+0]=C*4+0,T[C*6+1]=C*4+1,T[C*6+2]=C*4+3,T[C*6+3]=C*4+1,T[C*6+4]=C*4+2,T[C*6+5]=C*4+3,A[C*4+0]={pos:new $(F-g.x,z-g.y),uv:new $(R.x,R.y),color:r.color||be.WHITE,opacity:r.opacity||1},A[C*4+1]={pos:new $(F+N-g.x,z-g.y),uv:new $(R.x+R.w,R.y),color:r.color||be.WHITE,opacity:r.opacity||1},A[C*4+2]={pos:new $(F+N-g.x,z+E-g.y),uv:new $(R.x+R.w,R.y+R.h),color:r.color||be.WHITE,opacity:r.opacity||1},A[C*4+3]={pos:new $(F-g.x,z+E-g.y),uv:new $(R.x,R.y+R.h),color:r.color||be.WHITE,opacity:r.opacity||1},C++},"addQuad");for(let F=0;F<M;F++){for(let z=0;z<w;z++)L(z*i,F*o,i,o,t);y&&L(w*i,F*o,i*y,o,new st(t.x,t.y,t.w*y,t.h))}if(k){for(let F=0;F<w;F++)L(F*i,M*o,i,o*k,new st(t.x,t.y,t.w,t.h*k));y&&L(w*i,M*o,i*y,o*k,new st(t.x,t.y,t.w*y,t.h*k))}ur(A,T,r.fixed,r.tex,r.shader,r.uniform??void 0)}else r.width&&r.height?(a.x=r.width/i,a.y=r.height/o):r.width?(a.x=r.width/i,a.y=a.x):r.height&&(a.y=r.height/o,a.x=a.y),Ps(Object.assign({},r,{scale:a.scale(r.scale||new $(1)),tex:r.tex,quad:t,width:i,height:o}))}m(No,"drawTexture");function my(r){if(!r.sprite)throw new Error('drawSprite() requires property "sprite"');let t=Co(r.sprite);if(!t||!t.data)return;let i=t.data.frames[r.frame??0];if(!i)throw new Error(`Frame not found: ${r.frame??0}`);No(Object.assign({},r,{tex:t.data.tex,quad:i.scale(r.quad??new st(0,0,1,1))}))}m(my,"drawSprite");function gy(r,t){let i=x.gfx.ggl.gl;jd(r,t,i.NOTEQUAL)}m(gy,"drawSubtracted");function Kc(r){Vr(Gr(r))}m(Kc,"drawText");var oA=m((r,t)=>{let i=Ul(t,zc,Uc),o=r.pixelDensity??1,a=r.scale??1,{gl:u}=t,d=Dr.fromImage(t,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),g=r.width&&r.height?new wl(t,r.width*o*a,r.height*o*a):new wl(t,u.drawingBufferWidth,u.drawingBufferHeight),f=null,p=1;r.background&&(typeof r.background=="string"?f=Oe(r.background):(f=Oe(...r.background),p=r.background[3]??1),u.clearColor(f.r/255,f.g/255,f.b/255,p??1)),u.enable(u.BLEND),u.blendFuncSeparate(u.ONE,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA);let w=new sA(t,wd,xx,Ax),M=Dr.fromImage(t,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:t,defShader:i,defTex:d,frameBuffer:g,postShader:null,postShaderUniform:null,renderer:w,transform:new Un,transformStack:[],bgTex:M,bgColor:f,bgAlpha:p,width:r.width??u.drawingBufferWidth/o/a,height:r.height??u.drawingBufferHeight/o/a,viewport:{x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},fixed:!1}},"initAppGfx");function Bd(){let r=x.pixelDensity,t=x.gfx.ggl.gl.drawingBufferWidth/r,i=x.gfx.ggl.gl.drawingBufferHeight/r;if(x.globalOpt.letterbox){if(!x.globalOpt.width||!x.globalOpt.height)throw new Error("Letterboxing requires width and height defined.");let o=t/i,a=x.globalOpt.width/x.globalOpt.height;if(o>a){let u=i*a,d=(t-u)/2;x.gfx.viewport={x:d,y:0,width:u,height:i}}else{let u=t/a,d=(i-u)/2;x.gfx.viewport={x:0,y:d,width:t,height:u}}return}if(x.globalOpt.stretch&&(!x.globalOpt.width||!x.globalOpt.height))throw new Error("Stretching requires width and height defined.");x.gfx.viewport={x:0,y:0,width:t,height:i}}m(Bd,"updateViewport");function jr(r){return r.fixed?!0:r.parent?jr(r.parent):!1}m(jr,"isFixed");function Wr(r){return{color:r.color,opacity:r.opacity,anchor:r.anchor,outline:r.outline,shader:r.shader,uniform:r.uniform}}m(Wr,"getRenderProps");function yy(r,t={}){return{id:"circle",radius:r,draw(){Ei(Object.assign(Wr(this),{radius:this.radius,fill:t.fill}))},renderArea(){return new Ze(new $(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}m(yy,"circle");function Ld(...r){return{id:"color",color:Oe(...r),inspect(){return`color: ${this.color.toString()}`}}}m(Ld,"color");function vy(r){return{add(){this.canvas=r}}}m(vy,"drawon");function wy(r=1){let t,i=0,o=!1;return{require:["opacity"],add(){t=this.opacity,this.opacity=0},update(){o||(i+=xt(),this.opacity=In(i,0,r,0,t),i>=r&&(this.opacity=t,o=!0))}}}m(wy,"fadeIn");function xy(r="intersect"){return{id:"mask",mask:r}}m(xy,"mask");function Od(r){return{id:"opacity",opacity:r??1,fadeIn(t=1,i=x.k.easings.linear){return x.game.root.tween(0,this.opacity,t,o=>this.opacity=o,i)},fadeOut(t=1,i=x.k.easings.linear){return x.game.root.tween(this.opacity,0,t,o=>this.opacity=o,i)},inspect(){return`opacity: ${ml(this.opacity,1)}`}}}m(Od,"opacity");function Ay(r=1,t=Oe(0,0,0),i=1,o="miter",a=10,u="butt"){return{id:"outline",outline:{width:r,color:t,opacity:i,join:o,miterLimit:a,cap:u},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}m(Ay,"outline");var Ss,aA=(Ss=class{constructor(){H(this,"pos",Q(0));H(this,"vel",Q(0));H(this,"acc",Q(0));H(this,"angle",0);H(this,"angularVelocity",0);H(this,"damping",0);H(this,"t");H(this,"lt",null);H(this,"gc");this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}},m(Ss,"Particle"),Ss);function Sy(r,t){let i=t.lifetime,o=[],a=r.colors||[be.WHITE],u=r.opacities||[1],d=r.quads||[new st(0,0,1,1)],g=r.scales||[1],f=r.lifeTime,p=t.direction,w=t.spread,M=r.speed||[0,0],y=r.angle||[0,0],k=r.angularVelocity||[0,0],S=r.acceleration||[Q(0),Q(0)],T=r.damping||[0,0],A=[],C=new Array(r.max),L=0,F=0;for(let E=0;E<r.max;E++){A[E*6+0]=E*4+0,A[E*6+1]=E*4+1,A[E*6+2]=E*4+3,A[E*6+3]=E*4+1,A[E*6+4]=E*4+2,A[E*6+5]=E*4+3;for(let R=0;R<4;R++)C[E*4+R]={pos:new $(0,0),uv:new $(0,0),color:Oe(255,255,255),opacity:1};o[E]=new aA}let z=new Qt;function N(E=0){for(;E<r.max;){if(o[E].gc)return E;E++}return null}return m(N,"nextFree"),{id:"particles",emit(E){let R=0;for(let I=0;I<E;I++){if(R=N(R),R==null)return;let K=wt(p-w,p+w),Y=$.fromAngle(K).scale(wt(M[0],M[1])),Z=wt(y[0],y[1]),oe=wt(k[0],k[1]),ue=Q(wt(S[0].x,S[1].x),wt(S[0].y,S[1].y)),ve=wt(T[0],T[1]),Ce=f?wt(f[0],f[1]):null,ge=t.shape?t.shape.random():Q(),he=o[R];he.lt=Ce,he.pos=ge,he.vel=Y,he.acc=ue,he.angle=Z,he.angularVelocity=oe,he.damping=ve,he.angularVelocity=oe,he.gc=!1}L+=E},update(){if(i!==void 0&&i<=0)return;let E=xt();for(let R of o)if(!R.gc){if(R.t+=E,R.lt&&R.t>=R.lt){R.gc=!0,L--;continue}R.vel=R.vel.add(R.acc.scale(E)).scale(1-R.damping*E),R.pos=R.pos.add(R.vel.scale(E)),R.angle+=R.angularVelocity*E}for(i!==void 0&&(i-=E,i<=0&&z.trigger()),F+=E;L<r.max&&t.rate&&F>t.rate;)this.emit(1),L++,F-=t.rate},draw(){if(!(i!==void 0&&i<=0)){for(let E=0;E<o.length;E++){let R=o[E];if(R.gc)continue;let I=R.progress,K=Math.floor(R.progress*a.length),Y=K<a.length-1?Yt(a[K],a[K+1],In(I,K/a.length,(K+1)/a.length,0,1)):a[K],Z=Math.floor(R.progress*u.length),oe=Z<u.length-1?Yt(u[Z],u[Z+1],In(I,Z/u.length,(Z+1)/u.length,0,1)):u[Z],ue=Math.floor(R.progress*d.length),ve=d[ue],Ce=Math.floor(R.progress*g.length),ge=g[Ce],he=Math.cos(R.angle*Math.PI/180),te=Math.sin(R.angle*Math.PI/180),ae=(r.texture?r.texture.width:10)*ve.w/2,re=(r.texture?r.texture.height:10)*ve.h/2,q=E*4,V=C[q];V.pos.x=R.pos.x+-ae*ge*he- -re*ge*te,V.pos.y=R.pos.y+-ae*ge*te+-re*ge*he,V.uv.x=ve.x,V.uv.y=ve.y,V.color.r=Y.r,V.color.g=Y.g,V.color.b=Y.b,V.opacity=oe,V=C[q+1],V.pos.x=R.pos.x+ae*ge*he- -re*ge*te,V.pos.y=R.pos.y+ae*ge*te+-re*ge*he,V.uv.x=ve.x+ve.w,V.uv.y=ve.y,V.color.r=Y.r,V.color.g=Y.g,V.color.b=Y.b,V.opacity=oe,V=C[q+2],V.pos.x=R.pos.x+ae*ge*he-re*ge*te,V.pos.y=R.pos.y+ae*ge*te+re*ge*he,V.uv.x=ve.x+ve.w,V.uv.y=ve.y+ve.h,V.color.r=Y.r,V.color.g=Y.g,V.color.b=Y.b,V.opacity=oe,V=C[q+3],V.pos.x=R.pos.x+-ae*ge*he-re*ge*te,V.pos.y=R.pos.y+-ae*ge*te+re*ge*he,V.uv.x=ve.x,V.uv.y=ve.y+ve.h,V.color.r=Y.r,V.color.g=Y.g,V.color.b=Y.b,V.opacity=oe}ur(C,A,this.fixed,r.texture,this.shader,this.uniform)}},onEnd(E){return z.add(E)},inspect(){return`count: ${L}/${r.max}`}}}m(Sy,"particles");function Ey(r,t={}){if(r.length<3)throw new Error(`Polygon's need more than two points, ${r.length} points provided`);return{id:"polygon",pts:r,colors:t.colors,uv:t.uv,tex:t.tex,radius:t.radius,draw(){sr(Object.assign(Wr(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:t.fill,triangulate:t.triangulate}))},renderArea(){return new Xt(this.pts)},inspect(){return`polygon: ${this.pts.map(i=>`[${i.x},${i.y}]`).join(",")}`}}}m(Ey,"polygon");function qd(r,t,i){let o;return x.game.root.get("area").forEach(a=>{if(i&&i.some(d=>a.is(d)))return;let u=a.worldArea().raycast(r,t);u&&(o?u.fraction<o.fraction&&(o=u,o.object=a):(o=u,o.object=a))}),o}m(qd,"raycast");function _d(r,t,i={}){return{id:"rect",width:r,height:t,radius:i.radius||0,draw(){sn(Object.assign(Wr(this),{width:this.width,height:this.height,radius:this.radius,fill:i.fill}))},renderArea(){return new Ze(Q(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}m(_d,"rect");function ky(r,t){return{id:"shader",shader:r,...typeof t=="function"?{uniform:t(),update(){this.uniform=t()}}:{uniform:t},inspect(){return`shader: ${r}`}}}m(ky,"shader");function Cy(r,t){if(!t.tileWidth||!t.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let i=x.game.root.add([Do(t.pos??Q(0))]),o=r.length,a=0,u=null,d=null,g=null,f=null,p=m(E=>E.x+E.y*a,"tile2Hash"),w=m(E=>Q(Math.floor(E%a),Math.floor(E/a)),"hash2Tile"),M=m(()=>{u=[];for(let E of i.children)y(E)},"createSpatialMap"),y=m(E=>{let R=p(E.tilePos);u[R]?u[R].push(E):u[R]=[E]},"insertIntoSpatialMap"),k=m(E=>{let R=p(E.tilePos);if(u[R]){let I=u[R].indexOf(E);I>=0&&u[R].splice(I,1)}},"removeFromSpatialMap"),S=m(()=>{let E=!1;for(let R of i.children){let I=i.pos2Tile(R.pos);(R.tilePos.x!=I.x||R.tilePos.y!=I.y)&&(E=!0,k(R),R.tilePos.x=I.x,R.tilePos.y=I.y,y(R))}E&&i.trigger("spatialMapChanged")},"updateSpatialMap"),T=m(()=>{let E=i.getSpatialMap(),R=i.numRows()*i.numColumns();d?d.length=R:d=new Array(R),d.fill(1,0,R);for(let I=0;I<E.length;I++){let K=E[I];if(K){let Y=0;for(let Z of K)if(Z.isObstacle){Y=1/0;break}else Y+=Z.cost;d[I]=Y||1}}},"createCostMap"),A=m(()=>{let E=i.getSpatialMap(),R=i.numRows()*i.numColumns();g?g.length=R:g=new Array(R),g.fill(15,0,R);for(let I=0;I<E.length;I++){let K=E[I];if(K){let Y=K.length,Z=15;for(let oe=0;oe<Y;oe++)Z|=K[oe].edgeMask;g[I]=Z}}},"createEdgeMap"),C=m(()=>{let E=i.numRows()*i.numColumns(),R=m((K,Y)=>{let Z=[];for(Z.push(K);Z.length>0;){let oe=Z.pop();z(oe).forEach(ue=>{f[ue]<0&&(f[ue]=Y,Z.push(ue))})}},"traverse");f?f.length=E:f=new Array(E),f.fill(-1,0,E);let I=0;for(let K=0;K<d.length;K++){if(f[K]>=0){I++;continue}R(K,I),I++}},"createConnectivityMap"),L=m((E,R)=>d[R],"getCost"),F=m((E,R)=>{let I=w(E),K=w(R);return I.dist(K)},"getHeuristic"),z=m((E,R)=>{let I=[],K=Math.floor(E%a),Y=K>0&&g[E]&1&&d[E-1]!==1/0,Z=E>=a&&g[E]&2&&d[E-a]!==1/0,oe=K<a-1&&g[E]&4&&d[E+1]!==1/0,ue=E<a*o-a-1&&g[E]&8&&d[E+a]!==1/0;return R?(Y&&(Z&&I.push(E-a-1),I.push(E-1),ue&&I.push(E+a-1)),Z&&I.push(E-a),oe&&(Z&&I.push(E-a+1),I.push(E+1),ue&&I.push(E+a+1)),ue&&I.push(E+a)):(Y&&I.push(E-1),Z&&I.push(E-a),oe&&I.push(E+1),ue&&I.push(E+a)),I},"getNeighbours"),N={id:"level",tileWidth(){return t.tileWidth},tileHeight(){return t.tileHeight},spawn(E,...R){let I=Q(...R),K=(()=>{if(typeof E=="string"){if(t.tiles[E]){if(typeof t.tiles[E]!="function")throw new Error("Level symbol def must be a function returning a component list");return t.tiles[E](I)}else if(t.wildcardTile)return t.wildcardTile(E,I)}else{if(Array.isArray(E))return E;throw new Error("Expected a symbol or a component list")}})();if(!K)return null;let Y=!1,Z=!1;for(let ue of K)ue.id==="tile"&&(Z=!0),ue.id==="pos"&&(Y=!0);Y||K.push(Do(this.tile2Pos(I))),Z||K.push(tf());let oe=i.add(K);return Y&&(oe.tilePosOffset=oe.pos.clone()),oe.tilePos=I,oe.transform=ns(oe),u&&(y(oe),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),oe},numColumns(){return a},numRows(){return o},levelWidth(){return a*this.tileWidth()},levelHeight(){return o*this.tileHeight()},tile2Pos(...E){return Q(...E).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...E){let R=Q(...E);return Q(Math.floor(R.x/this.tileWidth()),Math.floor(R.y/this.tileHeight()))},getSpatialMap(){return u||M(),u},removeFromSpatialMap:k,insertIntoSpatialMap:y,onSpatialMapChanged(E){return this.on("spatialMapChanged",E)},onNavigationMapInvalid(E){return this.on("navigationMapInvalid",E)},getAt(E){u||M();let R=p(E);return u[R]||[]},raycast(E,R){let I=this.toWorld(E),K=this.toWorld(E.add(R)).sub(I),Y=1/this.tileWidth(),Z=E.scale(Y),oe=Hm(Z,R,ue=>{let ve=this.getAt(ue);if(ve.some(ge=>ge.isObstacle))return!0;let Ce=null;for(let ge of ve)if(ge.has("area")){let he=ge.worldArea().raycast(I,K);he&&(Ce?he.fraction<Ce.fraction&&(Ce=he,Ce.object=ge):(Ce=he,Ce.object=ge))}return Ce&&(Ce.point=this.fromWorld(Ce.point).scale(Y)),Ce||!1},64);return oe&&(oe.point=oe.point.scale(this.tileWidth())),oe},update(){u&&S()},invalidateNavigationMap(){d=null,g=null,f=null},onNavigationMapChanged(E){return this.on("navigationMapChanged",E)},getTilePath(E,R,I={}){var he;if(d||T(),g||A(),f||C(),E.x<0||E.x>=a||E.y<0||E.y>=o||R.x<0||R.x>=a||R.y<0||R.y>=o)return null;let K=p(E),Y=p(R);if(d[Y]===1/0)return null;if(K===Y)return[];if(f[K]!=-1&&f[K]!==f[Y])return null;let Z=new yg((te,ae)=>te.cost<ae.cost);Z.insert({cost:0,node:K});let oe=new Map;oe.set(K,K);let ue=new Map;for(ue.set(K,0);Z.length!==0;){let te=(he=Z.remove())==null?void 0:he.node;if(te===Y)break;let ae=z(te,I.allowDiagonals);for(let re of ae){let q=(ue.get(te)||0)+L(te,re)+F(re,Y);(!ue.has(re)||q<ue.get(re))&&(ue.set(re,q),Z.insert({cost:q,node:re}),oe.set(re,te))}}let ve=[],Ce=Y,ge=w(Ce);for(ve.push(ge);Ce!==K;){let te=oe.get(Ce);if(te===void 0)throw new Error("Bug in pathfinding algorithm");Ce=te;let ae=w(Ce);ve.push(ae)}return ve.reverse()},getPath(E,R,I={}){let K=this.tileWidth(),Y=this.tileHeight(),Z=this.getTilePath(this.pos2Tile(E),this.pos2Tile(R),I);return Z?[E,...Z.slice(1,-1).map(oe=>oe.scale(K,Y).add(K/2,Y/2)),R]:null}};return i.use(N),i.onNavigationMapInvalid(()=>{i.invalidateNavigationMap(),i.trigger("navigationMapChanged")}),r.forEach((E,R)=>{let I=E.split("");a=Math.max(I.length,a),I.forEach((K,Y)=>{i.spawn(K,Q(Y,R))})}),i}m(Cy,"addLevel");function $t(r,t,i){return x.game.objEvents.registers[r]||(x.game.objEvents.registers[r]=new gg),x.game.objEvents.on(r,(o,...a)=>{o.is(t)&&i(o,...a)})}m($t,"on");var lA=m((r,t,...i)=>{for(let o of x.game.root.children)o.is(t)&&o.trigger(r)},"trigger"),uA=Ye(r=>{let t=x.game.root.add([{fixedUpdate:r}]);return{get paused(){return t.paused},set paused(i){t.paused=i},cancel:m(()=>t.destroy(),"cancel")}},(r,t)=>$t("fixedUpdate",r,t)),cA=Ye(r=>{let t=x.game.root.add([{update:r}]);return{get paused(){return t.paused},set paused(i){t.paused=i},cancel:m(()=>t.destroy(),"cancel")}},(r,t)=>$t("update",r,t)),dA=Ye(r=>{let t=x.game.root.add([{draw:r}]);return{get paused(){return t.hidden},set paused(i){t.hidden=i},cancel:m(()=>t.destroy(),"cancel")}},(r,t)=>$t("draw",r,t)),My=Ye(r=>x.game.events.on("add",r),(r,t)=>$t("add",r,t)),fA=Ye(r=>x.game.events.on("destroy",r),(r,t)=>$t("destroy",r,t)),hA=Ye(r=>x.game.events.on("use",r),(r,t)=>$t("use",r,t)),pA=Ye(r=>x.game.events.on("unuse",r),(r,t)=>$t("unuse",r,t)),Ry=Ye(r=>x.game.events.on("tag",r),(r,t)=>$t("tag",r,t)),mA=Ye(r=>x.game.events.on("untag",r),(r,t)=>$t("untag",r,t));function Py(r,t,i){return $t("collide",r,(o,a,u)=>a.is(t)&&i(o,a,u))}m(Py,"onCollide");function Ty(r,t,i){return $t("collideUpdate",r,(o,a,u)=>a.is(t)&&i(o,a,u))}m(Ty,"onCollideUpdate");function Iy(r,t,i){return $t("collideEnd",r,(o,a,u)=>a.is(t)&&i(o,a,u))}m(Iy,"onCollideEnd");function Go(r,t){x.game.root.get(r,{recursive:!0}).forEach(t),My(r,t),Ry((i,o)=>{o===r&&t(i)})}m(Go,"forAllCurrentAndFuture");var gA=Ye(r=>x.app.onMousePress(r),(r,t)=>{let i=[];return Go(r,o=>{if(!o.area)throw new Error("onClick() requires the object to have area() component");i.push(o.onClick(()=>t(o)))}),xi.join(i)});function by(r,t){let i=[];return Go(r,o=>{if(!o.area)throw new Error("onHover() requires the object to have area() component");i.push(o.onHover(()=>t(o)))}),xi.join(i)}m(by,"onHover");function Fy(r,t){let i=[];return Go(r,o=>{if(!o.area)throw new Error("onHoverUpdate() requires the object to have area() component");i.push(o.onHoverUpdate(()=>t(o)))}),xi.join(i)}m(Fy,"onHoverUpdate");function Ny(r,t){let i=[];return Go(r,o=>{if(!o.area)throw new Error("onHoverEnd() requires the object to have area() component");i.push(o.onHoverEnd(()=>t(o)))}),xi.join(i)}m(Ny,"onHoverEnd");function Dy(r){x.game.events.on("loading",r)}m(Dy,"onLoading");function jy(r){x.app.onResize(r)}m(jy,"onResize");function By(r){x.game.events.on("error",r)}m(By,"onError");function Gl(r){x.assets.loaded?r():x.game.events.on("load",r)}m(Gl,"onLoad");function Ly(r){if(x.assets.loaded)Ed().forEach(t=>r(...t));else return x.game.events.on("loadError",r)}m(Ly,"onLoadError");function zd(...r){x.game.cam.pos=Q(...r)}m(zd,"setCamPos");function Ud(){return x.game.cam.pos?x.game.cam.pos.clone():bo()}m(Ud,"getCamPos");function Hd(...r){x.game.cam.scale=Q(...r)}m(Hd,"setCamScale");function Gd(){return x.game.cam.scale.clone()}m(Gd,"getCamScale");function Vd(r){x.game.cam.angle=r}m(Vd,"setCamRot");function Wd(){return x.game.cam.angle}m(Wd,"getCamRot");function Oy(){return x.game.cam.transform.clone()}m(Oy,"getCamTransform");function Qd(r=Oe(255,255,255),t=1){let i=x.game.root.add([_d(Ct(),It()),Ld(r),Od(1),of()]),o=i.fadeOut(t);return o.onEnd(()=>ef(i)),o}m(Qd,"flash");function qy(){return x.game.cam.transform.clone()}m(qy,"camTransform");function _y(r=12){x.game.cam.shake+=r}m(_y,"shake");function Sl(r){return x.game.cam.transform.multVec2(r)}m(Sl,"toScreen");function Kd(r){return x.game.cam.transform.invert().multVec2(r)}m(Kd,"toWorld");function zy(...r){return Ai("camPos","setCamPos / getCamPos"),r.length>0&&zd(...r),Ud()}m(zy,"camPos");function Uy(...r){return Ai("camScale","setCamScale / getCamScale"),r.length>0&&Hd(...r),Gd()}m(Uy,"camScale");function Hy(r){return Ai("camRot","setCamRot / getCamRot"),r!==void 0&&Vd(r),Wd()}m(Hy,"camRot");function Gy(r=Oe(255,255,255),t=1){return Ai("camFlash","flash"),Qd(r,t)}m(Gy,"camFlash");function Vl(r=[]){let t=new Map,i=[],o={},a=new To,u=[],d=new Set("*"),g=x.globalOpt.tagsAsComponents,f=null,p=!1,w={id:jx(),hidden:!1,transform:new Un,children:[],parent:null,set paused(y){if(y!==p){p=y;for(let k of u)k.paused=y}},get paused(){return p},get tags(){return Array.from(d)},add(y){let k=Array.isArray(y)?Vl(y):y;if(k.parent)throw new Error("Cannot add a game obj that already has a parent.");return k.parent=this,k.transform=ns(k),this.children.push(k),k.trigger("add",k),x.game.events.trigger("add",k),k},readd(y){let k=this.children.indexOf(y);return k!==-1&&(this.children.splice(k,1),this.children.push(y)),y},remove(y){let k=this.children.indexOf(y);if(k!==-1){y.parent=null,this.children.splice(k,1);let S=m(T=>{T.trigger("destroy"),x.game.events.trigger("destroy",T),T.children.forEach(A=>S(A))},"trigger");S(y)}},removeAll(y){if(y)this.get(y).forEach(k=>this.remove(k));else for(let k of[...this.children])this.remove(k)},fixedUpdate(){this.paused||(this.children.forEach(y=>y.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(y=>y.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(rn(),this.canvas.bind());let y=x.gfx.fixed;this.fixed&&(x.gfx.fixed=!0),nn(),it(this.pos),Rs(this.scale),wi(this.angle);let k=this.children.sort((S,T)=>{let A=S.layerIndex??x.game.defaultLayerIndex,C=T.layerIndex??x.game.defaultLayerIndex;return A-C||(S.z??0)-(T.z??0)});if(this.mask){let S={intersect:x.k.drawMasked,subtract:x.k.drawSubtracted}[this.mask];if(!S)throw new Error(`Invalid mask func: "${this.mask}"`);S(()=>{k.forEach(T=>T.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),k.forEach(S=>S.draw());Kt(),x.gfx.fixed=y,this.canvas&&(rn(),this.canvas.unbind())},drawInspect(){this.hidden||(nn(),it(this.pos),Rs(this.scale),wi(this.angle),this.children.forEach(y=>y.drawInspect()),this.trigger("drawInspect"),Kt())},use(y){var T;if(typeof y=="string")return d.add(y);if(!y||typeof y!="object")throw new Error(`You can only pass a component or a string to .use(), you passed a "${typeof y}"`);let k=[];y.id?(this.unuse(y.id),o[y.id]=[],k=o[y.id],t.set(y.id,y),g&&d.add(y.id)):i.push(y);for(let A in y){if(kx.has(A))continue;let C=Object.getOwnPropertyDescriptor(y,A);if(C)if(typeof C.value=="function"&&(y[A]=y[A].bind(this)),C.set&&Object.defineProperty(y,A,{set:C.set.bind(this)}),C.get&&Object.defineProperty(y,A,{get:C.get.bind(this)}),Cx.has(A)){let L=A==="add"?()=>{var F;f=m(z=>k.push(z),"onCurCompCleanup"),(F=y[A])==null||F.call(y),f=null}:y[A];k.push(this.on(A,L).cancel)}else if(this[A]===void 0)Object.defineProperty(this,A,{get:m(()=>y[A],"get"),set:m(L=>y[A]=L,"set"),configurable:!0,enumerable:!0}),k.push(()=>delete this[A]);else{let L=(T=t.values().find(F=>F[A]!==void 0))==null?void 0:T.id;throw new Error(`Duplicate component property: "${A}" while adding component "${y.id}"`+(L?` (originally added by "${L}")`:""))}}let S=m(()=>{if(y.require){for(let A of y.require)if(!this.c(A))throw new Error(`Component "${y.id}" requires component "${A}"`)}},"checkDeps");y.destroy&&k.push(y.destroy.bind(this)),this.exists()?(S(),y.add&&(f=m(A=>k.push(A),"onCurCompCleanup"),y.add.call(this),f=null),y.id&&(this.trigger("use",y.id),x.game.events.trigger("use",this,y.id))):y.require&&k.push(this.on("add",S).cancel)},unuse(y){if(t.has(y)){for(let k of t.values())if(k.require&&k.require.includes(y))throw new Error(`Can't unuse. Component "${k.id}" requires component "${y}"`);t.delete(y),this.trigger("unuse",y),x.game.events.trigger("unuse",this,y)}else g&&d.has(y)&&d.delete(y);o[y]&&(o[y].forEach(k=>k()),delete o[y])},c(y){return t.get(y)??null},get(y,k={}){let S=m((A,C)=>k.only==="comps"?A.has(C):k.only==="tags"?A.is(C):A.is(C)||A.has(C),"checkTagsOrComps"),T=k.recursive?this.children.flatMap(m(function A(C){return[C,...C.children.flatMap(A)]},"recurse")):this.children;if(T=T.filter(A=>y?S(A,y):!0),k.liveUpdate){let A=m(L=>k.recursive?this.isAncestorOf(L):L.parent===this,"isChild"),C=[];C.push(x.k.onAdd(L=>{A(L)&&S(L,y)&&T.push(L)})),C.push(x.k.onDestroy(L=>{if(A(L)&&S(L,y)){let F=T.findIndex(z=>z.id===L.id);F!==-1&&T.splice(F,1)}})),this.onDestroy(()=>{for(let L of C)L.cancel()})}return T},query(y){let k=y.hierarchy||"children",S=y.include,T=y.exclude,A=[];switch(k){case"children":A=this.children;break;case"siblings":A=this.parent?this.parent.children.filter(L=>L!==this):[];break;case"ancestors":let C=this.parent;for(;C;)A.push(C),C=C.parent;break;case"descendants":A=this.children.flatMap(m(function L(F){return[F,...F.children.flatMap(L)]},"recurse"));break}if(S&&((y.includeOp||"and")==="and"||!Array.isArray(y.include)?A=A.filter(C=>C.is(S)):A=A.filter(C=>y.include.some(L=>C.is(L)))),T&&((y.includeOp||"and")==="and"||!Array.isArray(y.include)?A=A.filter(C=>!C.is(T)):A=A.filter(C=>!y.exclude.some(L=>C.is(L)))),y.visible===!0&&(A=A.filter(C=>C.visible)),y.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let C=y.distanceOp||"near",L=y.distance*y.distance;C==="near"?A=A.filter(F=>F.pos&&this.pos.sdist(F.pos)<=L):A=A.filter(F=>F.pos&&this.pos.sdist(F.pos)>L)}return y.name&&(A=A.filter(C=>C.name===y.name)),A},isAncestorOf(y){return y.parent?y.parent===this||this.isAncestorOf(y.parent):!1},exists(){return x.game.root.isAncestorOf(this)},is(y,k="and"){return Array.isArray(y)?k==="and"?y.every(S=>d.has(S)):y.some(S=>d.has(S)):d.has(y)},tag(y){if(Array.isArray(y))for(let k of y)d.add(k),this.trigger("tag",k),x.game.events.trigger("tag",this,k);else d.add(y),this.trigger("tag",y),x.game.events.trigger("tag",this,y)},untag(y){if(Array.isArray(y))for(let k of y)d.delete(k),this.trigger("untag",k),x.game.events.trigger("untag",this,k);else d.delete(y),this.trigger("untag",y),x.game.events.trigger("untag",this,y)},has(y,k="and"){return Array.isArray(y)?k==="and"?y.every(S=>t.has(S)):y.some(S=>t.has(S)):t.has(y)},on(y,k){let S=a.on(y,k.bind(this));return f&&f(()=>S.cancel()),S},trigger(y,...k){a.trigger(y,...k),x.game.objEvents.trigger(y,this,...k)},destroy(){this.parent&&this.parent.remove(this)},inspect(){var k;let y={};for(let[S,T]of t)y[S]=((k=T.inspect)==null?void 0:k.call(T))??null;for(let[S,T]of i.entries()){if(T.inspect){y[S]=T.inspect();continue}for(let[A,C]of Object.entries(T))typeof C!="function"&&(y[A]=`${A}: ${C}`)}return y},onAdd(y){return this.on("add",y)},onFixedUpdate(y){return this.on("fixedUpdate",y)},onUpdate(y){return this.on("update",y)},onDraw(y){return this.on("draw",y)},onDestroy(y){return this.on("destroy",y)},onUse(y){return this.on("use",y)},onUnuse(y){return this.on("unuse",y)},clearEvents(){a.clear()}},M=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let y of M)w[y]=(...k)=>{var T,A;let S=(A=(T=x.app)[y])==null?void 0:A.call(T,...k);return u.push(S),w.onDestroy(()=>S.cancel()),w.on("sceneEnter",()=>{var L,F;u.splice(u.indexOf(S),1);let C=(F=(L=x.app)[y])==null?void 0:F.call(L,...k);xi.replace(S,C),u.push(S)}),S};for(let y of r)w.use(y);return w}m(Vl,"make");var yA=m(()=>({events:new To,objEvents:new To,root:Vl([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new $(1),angle:0,shake:0,transform:new Un}}),"initGame");function Vy(r){x.game.gravity=r?(x.game.gravity||Q(0,1)).unit().scale(r):null}m(Vy,"setGravity");function Wy(){return x.game.gravity?x.game.gravity.len():0}m(Wy,"getGravity");function Qy(r){x.game.gravity=r.unit().scale(x.game.gravity?x.game.gravity.len():1)}m(Qy,"setGravityDirection");function is(){return x.game.gravity?x.game.gravity.unit():Q(0,1)}m(is,"getGravityDirection");var vA=hx("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),wA=m(()=>(()=>{let r=new(window.AudioContext||window.webkitAudioContext),t=r.createGain();t.connect(r.destination);let i=new Fo(Dg(r));return r.decodeAudioData(vA.buffer.slice(0)).then(o=>{i.buf=o}).catch(o=>{console.error("Failed to load burp: ",o)}),{ctx:r,masterNode:t,burpSnd:i}})(),"initAudio");function Ky(r,t={}){let i=new Qt,o=new Audio(r);o.crossOrigin="anonymous",o.loop=!!t.loop,x.audio.ctx.createMediaElementSource(o).connect(x.audio.masterNode);function a(){x.debug.paused||x.app.isHidden()&&!x.globalOpt.backgroundAudio||x.audio.ctx.resume()}m(a,"resumeAudioCtx");function u(){a(),o.play()}return m(u,"play"),t.paused||u(),o.onended=()=>i.trigger(),{play(){u()},seek(d){o.currentTime=d},stop(){o.pause(),this.seek(0)},set loop(d){o.loop=d},get loop(){return o.loop},set paused(d){d?o.pause():u()},get paused(){return o.paused},time(){return o.currentTime},duration(){return o.duration},set volume(d){o.volume=bn(d,0,1)},get volume(){return o.volume},set speed(d){o.playbackRate=Math.max(d,0)},get speed(){return o.playbackRate},set detune(d){},get detune(){return 0},onEnd(d){return i.add(d)},then(d){return this.onEnd(d)}}}m(Ky,"playMusic");function Yy(r,t={}){if(typeof r=="string"&&x.assets.music[r])return Ky(x.assets.music[r],t);let i=x.audio.ctx,o=t.paused??!1,a=i.createBufferSource(),u=new Qt,d=i.createGain(),g=i.createStereoPanner(),f=t.seek??0,p=0,w=0,M=!1;a.loop=!!t.loop,a.detune.value=t.detune??0,a.playbackRate.value=t.speed??1,a.connect(g),a.onended=()=>{var A;S()>=(((A=a.buffer)==null?void 0:A.duration)??Number.POSITIVE_INFINITY)&&u.trigger()},g.pan.value=t.pan??0,g.connect(d),d.connect(x.audio.masterNode),d.gain.value=t.volume??1;let y=m(A=>{a.buffer=A.buf,o||(p=i.currentTime,a.start(0,f),M=!0)},"start"),k=ry(r);k instanceof vn&&k.onLoad(y);let S=m(()=>{if(!a.buffer)return 0;let A=o?w-p:i.currentTime-p,C=a.buffer.duration;return a.loop?A%C:Math.min(A,C)},"getTime"),T=m(A=>{let C=i.createBufferSource();return C.buffer=A.buffer,C.loop=A.loop,C.playbackRate.value=A.playbackRate.value,C.detune.value=A.detune.value,C.onended=A.onended,C.connect(g),C},"cloneNode");return{stop(){this.paused=!0,this.seek(0)},set paused(A){if(o!==A)if(o=A,A)M&&(a.stop(),M=!1),w=i.currentTime;else{a=T(a);let C=w-p;a.start(0,C),M=!0,p=i.currentTime-C,w=0}},get paused(){return o},play(A=0){this.seek(A),this.paused=!1},seek(A){var C;(C=a.buffer)!=null&&C.duration&&(A>a.buffer.duration||(o?(a=T(a),p=w-A):(a.stop(),a=T(a),p=i.currentTime-A,a.start(0,A),M=!0,w=0)))},set speed(A){a.playbackRate.value=A},get speed(){return a.playbackRate.value},set detune(A){a.detune.value=A},get detune(){return a.detune.value},set volume(A){d.gain.value=Math.max(A,0)},get volume(){return d.gain.value},set pan(A){g.pan.value=A},get pan(){return g.pan.value},set loop(A){a.loop=A},get loop(){return a.loop},duration(){var A;return((A=a.buffer)==null?void 0:A.duration)??0},time(){return S()%this.duration()},onEnd(A){return u.add(A)},then(A){return this.onEnd(A)}}}m(Yy,"play");function Yd(r){return x.k.play(x.audio.burpSnd,r)}m(Yd,"burp");function Xd(r){x.audio.masterNode.gain.value=r}m(Xd,"setVolume");function $d(){return x.audio.masterNode.gain.value}m($d,"getVolume");function Xy(r){return Ai("volume","setVolume / getVolume"),r!==void 0&&Xd(r),$d()}m(Xy,"volume");function Jd(){x.app.onHide(()=>{x.globalOpt.backgroundAudio||x.audio.ctx.suspend()}),x.app.onShow(()=>{!x.globalOpt.backgroundAudio&&!x.debug.paused&&x.audio.ctx.resume()}),x.app.onResize(()=>{if(x.app.isFullscreen())return;let r=x.globalOpt.width&&x.globalOpt.height;r&&!x.globalOpt.stretch&&!x.globalOpt.letterbox||(x.canvas.width=x.canvas.offsetWidth*x.pixelDensity,x.canvas.height=x.canvas.offsetHeight*x.pixelDensity,Bd(),r||(x.gfx.frameBuffer.free(),x.gfx.frameBuffer=new wl(x.gfx.ggl,x.gfx.ggl.gl.drawingBufferWidth,x.gfx.ggl.gl.drawingBufferHeight),x.gfx.width=x.gfx.ggl.gl.drawingBufferWidth/x.pixelDensity/x.gscale,x.gfx.height=x.gfx.ggl.gl.drawingBufferHeight/x.pixelDensity/x.gscale))}),x.globalOpt.debug!==!1&&(x.app.onKeyPress(x.globalOpt.debugKey??"f1",()=>x.debug.inspect=!x.debug.inspect),x.app.onKeyPress("f2",()=>x.debug.clearLog()),x.app.onKeyPress("f8",()=>x.debug.paused=!x.debug.paused),x.app.onKeyPress("f7",()=>{x.debug.timeScale=ml(bn(x.debug.timeScale-.2,0,2),1)}),x.app.onKeyPress("f9",()=>{x.debug.timeScale=ml(bn(x.debug.timeScale+.2,0,2),1)}),x.app.onKeyPress("f10",()=>x.debug.stepFrame())),x.globalOpt.burp&&x.app.onKeyPress("b",()=>Yd())}m(Jd,"initEvents");function $y(r,t={}){let i=x.game.root.add([Do(r),sf()]),o=(t.speed||1)*5,a=t.scale||1;i.add([El(x.boomSprite),jo(0),Cl("center"),Xc(o,a),...t.comps??[]]);let u=i.add([El(x.kaSprite),jo(0),Cl("center"),kl(),...t.comps??[]]);return u.wait(.4/o,()=>u.use(Xc(o,a))),u.onDestroy(()=>i.destroy()),i}m($y,"addKaboom");function Zd(r,t){if(x.game.layers)throw Error("Layers can only be assigned once.");let i=r.indexOf(t);if(i==-1)throw Error("The default layer name should be present in the layers list.");x.game.layers=r,x.game.defaultLayerIndex=i}m(Zd,"setLayers");function Jy(){return x.game.layers}m(Jy,"getLayers");function Zy(){var r;return((r=x.game.layers)==null?void 0:r[x.game.defaultLayerIndex])??null}m(Zy,"getDefaultLayer");function e0(r,t){Ai("layers","setLayers"),Zd(r,t)}m(e0,"layers");function ef(r){r.destroy()}m(ef,"destroy");function t0(){return x.game.root}m(t0,"getTreeRoot");function n0(r,t){x.game.scenes[r]=t}m(n0,"scene");function r0(r,...t){if(!x.game.scenes[r])throw new Error(`Scene not found: ${r}`);x.game.events.onOnce("frameEnd",()=>{x.game.events.trigger("sceneLeave",r),x.app.events.clear(),x.game.events.clear(),x.game.objEvents.clear(),[...x.game.root.children].forEach(i=>{!i.stay||i.scenesToStay&&!i.scenesToStay.includes(r)?x.game.root.remove(i):i.trigger("sceneEnter",r)}),x.game.root.clearEvents(),Jd(),x.game.cam={pos:null,scale:Q(1),angle:0,shake:0,transform:new Un},x.game.scenes[r](...t)}),x.game.currentScene=r}m(r0,"go");function i0(r){return x.game.events.on("sceneLeave",r)}m(i0,"onSceneLeave");function s0(){return x.game.currentScene}m(s0,"getSceneName");function El(r,t={}){let i=null,o=null,a=null,u=new Qt;if(!r)throw new Error("Please pass the resource name or data to sprite()");let d=m((f,p,w,M)=>{let y=Q(1,1);return w&&M?(y.x=w/(f.width*p.w),y.y=M/(f.height*p.h)):w?(y.x=w/(f.width*p.w),y.y=y.x):M&&(y.y=M/(f.height*p.h),y.x=y.y),y},"calcTexScale"),g=m((f,p)=>{if(!p)return;let w=p.frames[0].clone();t.quad&&(w=w.scale(t.quad));let M=d(p.tex,w,t.width,t.height);f.width=p.tex.width*w.w*M.x,f.height=p.tex.height*w.h*M.y,t.anim&&f.play(t.anim),i=p,u.trigger(i)},"setSpriteData");return{id:"sprite",width:0,height:0,frame:t.frame||0,quad:t.quad||new st(0,0,1,1),animSpeed:t.animSpeed??1,flipX:t.flipX??!1,flipY:t.flipY??!1,get sprite(){return r.toString()},set sprite(f){let p=Co(f);p&&p.onLoad(w=>g(this,w))},get animFrame(){if(!i||!o||a===null)return this.frame;let f=i.anims[o.name];return typeof f=="number"?f:this.frame-Math.min(f.from,f.to)},draw(){if(!i)return;let f=i.frames[this.frame??0];if(!f)throw new Error(`Frame not found: ${this.frame??0}`);if(i.slice9){let{left:p,right:w,top:M,bottom:y}=i.slice9,k=i.tex.width*f.w,S=i.tex.height*f.h,T=this.width-p-w,A=this.height-M-y,C=p/k,L=w/k,F=1-C-L,z=M/S,N=y/S,E=1-z-N,R=[dt(0,0,C,z),dt(C,0,F,z),dt(C+F,0,L,z),dt(0,z,C,E),dt(C,z,F,E),dt(C+F,z,L,E),dt(0,z+E,C,N),dt(C,z+E,F,N),dt(C+F,z+E,L,N),dt(0,0,p,M),dt(p,0,T,M),dt(p+T,0,w,M),dt(0,M,p,A),dt(p,M,T,A),dt(p+T,M,w,A),dt(0,M+A,p,y),dt(p,M+A,T,y),dt(p+T,M+A,w,y)];for(let I=0;I<9;I++){let K=R[I],Y=R[I+9];No(Object.assign(Wr(this),{pos:Y.pos(),tex:i.tex,quad:f.scale(K),flipX:this.flipX,flipY:this.flipY,tiled:t.tiled,width:Y.w,height:Y.h}))}}else No(Object.assign(Wr(this),{tex:i.tex,quad:f.scale(this.quad??new st(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:t.tiled,width:this.width,height:this.height}))},add(){let f=Co(r);f?f.onLoad(p=>g(this,p)):Gl(()=>g(this,Co(r).data))},update(){if(!i||!o||a===null)return;let f=i.anims[o.name];if(typeof f=="number"){this.frame=f;return}if(f.speed===0)throw new Error("Sprite anim speed cannot be 0");o.timer+=xt()*this.animSpeed,o.timer>=1/o.speed&&(o.timer=0,this.frame+=a,(this.frame<Math.min(f.from,f.to)||this.frame>Math.max(f.from,f.to))&&(o.loop?o.pingpong?(this.frame-=a,a*=-1,this.frame+=a):this.frame=f.from:o.pingpong?a===Math.sign(f.to-f.from)?(this.frame=f.to,a*=-1,this.frame+=a):(this.frame=f.from,o.onEnd(),this.stop()):(this.frame=f.to,o.onEnd(),this.stop())))},play(f,p={}){if(!i){u.add(()=>this.play(f,p));return}let w=i.anims[f];if(w===void 0)throw new Error(`Anim not found: ${f}`);o&&this.stop(),o=typeof w=="number"?{name:f,timer:0,loop:!1,pingpong:!1,speed:0,onEnd:m(()=>{},"onEnd")}:{name:f,timer:0,loop:p.loop??w.loop??!1,pingpong:p.pingpong??w.pingpong??!1,speed:p.speed??w.speed??10,onEnd:p.onEnd??(()=>{})},a=typeof w=="number"?null:w.from<w.to?1:-1,this.frame=typeof w=="number"?w:w.from,this.trigger("animStart",f)},stop(){if(!o)return;let f=o.name;o=null,this.trigger("animEnd",f)},numFrames(){return(i==null?void 0:i.frames.length)??0},getCurAnim(){return o},curAnim(){return o==null?void 0:o.name},getAnim(f){return(i==null?void 0:i.anims[f])??null},hasAnim(f){return!!this.getAnim(f)},onAnimEnd(f){return this.on("animEnd",f)},onAnimStart(f){return this.on("animStart",f)},renderArea(){return new Ze(Q(0),this.width,this.height)},inspect(){return typeof r=="string"?`sprite: "${r}"`:null}}}m(El,"sprite");function o0(r,t={}){function i(a){var d,g;let u=Gr(Object.assign(Wr(a),{text:a.text+"",size:a.textSize,font:a.font,width:t.width&&a.width,align:a.align,letterSpacing:a.letterSpacing,lineSpacing:a.lineSpacing,transform:a.textTransform,styles:a.textStyles,indentAll:t.indentAll}));return t.width||(a.width=u.width/(((d=a.scale)==null?void 0:d.x)||1)),a.height=u.height/(((g=a.scale)==null?void 0:g.y)||1),u}m(i,"update");let o={id:"text",set text(a){r=a,i(this),this.renderedText=xl(r).text},get text(){return r},textSize:t.size??36,font:t.font,width:t.width??0,height:0,align:t.align,lineSpacing:t.lineSpacing,letterSpacing:t.letterSpacing,textTransform:t.transform,textStyles:t.styles,renderedText:r?xl(r).text:"",add(){Gl(()=>i(this))},draw(){Vr(i(this))},renderArea(){return new Ze(Q(0),this.width,this.height)}};return i(o),o}m(o0,"text");function a0(r,t){return{id:"rect",width:r,height:t,draw(){Ps(Object.assign(Wr(this),{width:this.width,height:this.height}))},renderArea(){return new Ze(Q(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}m(a0,"uvquad");function l0(r={}){let t=null,i=null,o=null,a=null;return{id:"agent",require:["pos","tile"],agentSpeed:r.speed??100,allowDiagonals:r.allowDiagonals??!0,getDistanceToTarget(){return t?this.pos.dist(t):0},getNextLocation(){return i&&o?i[o]:null},getPath(){return i?i.slice():null},getTarget(){return t},isNavigationFinished(){return i?o===null:!0},isTargetReachable(){return i!==null},isTargetReached(){return t?this.pos.eq(t):!0},setTarget(u){t=u,i=this.getLevel().getPath(this.pos,t,{allowDiagonals:this.allowDiagonals}),o=i?0:null,i&&o!==null?(a||(a=this.getLevel().onNavigationMapChanged(()=>{t&&i&&o!==null&&(i=this.getLevel().getPath(this.pos,t,{allowDiagonals:this.allowDiagonals}),i?(o=0,this.trigger("navigationNext",this,i[o])):(o=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>a==null?void 0:a.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,i[o])):this.trigger("navigationEnded",this)},update(){if(t&&i&&o!==null){if(this.pos.sdist(i[o])<2)if(o===i.length-1){this.pos=t.clone(),o=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else o++,this.trigger("navigationNext",this,i[o]);this.moveTo(i[o],this.agentSpeed)}},onNavigationStarted(u){return this.on("navigationStarted",u)},onNavigationNext(u){return this.on("navigationNext",u)},onNavigationEnded(u){return this.on("navigationEnded",u)},onTargetReached(u){return this.on("targetReached",u)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(t),path:JSON.stringify(i)})}}}m(l0,"agent");function u0(r){let t=r.graph;return{id:"pathfinder",require:["pos"],navigateTo(i){var o;return(o=this.graph)==null?void 0:o.getWaypointPath(this.pos,i,r.navigationOpt)},get graph(){if(t)return t;let i=this.parent;for(;i;){if(i.has("pathfinderMap"))return i.graph;i=i.parent}},set graph(i){t=i}}}m(u0,"pathfinder");function c0(r={}){let t=r.waypoints,i=r.speed||100,o=r.endBehavior||"stop",a=0,u=t!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return i},set patrolSpeed(d){i=d},get waypoints(){return t},set waypoints(d){t=d,a=0,u=!1},get nextLocation(){return t?t[a]:void 0},update(){let d=this.nextLocation;if(!(!t||!d||u)&&(this.moveTo(d,i),this.pos.sdist(d)<9))switch(o){case"loop":a=(a+1)%t.length;break;case"ping-pong":a=a+1,a==t.length&&(t.reverse(),a=0);break;case"stop":a=Math.min(a+1,t.length-1),a==t.length-1&&(u=!0,this.trigger("patrolFinished"));break}},onPatrolFinished(d){return this.on("patrolFinished",d)}}}m(c0,"patrol");function d0(r,t={}){let i=typeof r=="function"?r:()=>x.game.root.query(r),o=t.checkFrequency||1,a=typeof t.direction=="number"?$.fromAngle(t.direction):t.direction,u=0;return{id:"sentry",require:["pos"],direction:typeof t.direction=="number"?$.fromAngle(t.direction):t.direction,spotted:[],set directionAngle(d){this.direction=d!==void 0?$.fromAngle(d):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:t.fieldOfView||200,isWithinFieldOfView(d,g,f){let p=(typeof g=="number"?$.fromAngle(g):g)||a,w=f||t.fieldOfView;if(!p||!w||w>=360)return!0;let M=w/2;return d.pos&&p.angleBetween(d.pos.sub(this.pos))<=M},hasLineOfSight(d){let g=qd(this.pos,d.pos.sub(this.pos),t.raycastExclude);return g!=null&&g.object===d},update(){if(u+=xt(),u>o){u-=o;let d=i();if(d.length&&a&&this.fieldOfView&&this.fieldOfView<360){let g=this.fieldOfView/2;d=d.filter(f=>f.pos&&a.angleBetween(f.pos.sub(this.pos))<=g)}d.length&&t.lineOfSight&&(d=d.filter(g=>g.pos&&this.hasLineOfSight(g))),d.length>0&&(this.spotted=d,this.trigger("objectSpotted",d))}},onObjectsSpotted(d){return this.on("objectSpotted",d)}}}m(d0,"sentry");function tf(r={}){let t=Q(0),i=r.isObstacle??!1,o=r.cost??0,a=r.edges??[],u=m(()=>{let g={left:1,top:2,right:4,bottom:8};return a.map(f=>g[f]||0).reduce((f,p)=>f|p,0)},"getEdgeMask"),d=u();return{id:"tile",tilePosOffset:r.offset??Q(0),set tilePos(g){let f=this.getLevel();t=g.clone(),this.pos=Q(this.tilePos.x*f.tileWidth(),this.tilePos.y*f.tileHeight()).add(this.tilePosOffset)},get tilePos(){return t},set isObstacle(g){i!==g&&(i=g,this.getLevel().invalidateNavigationMap())},get isObstacle(){return i},set cost(g){o!==g&&(o=g,this.getLevel().invalidateNavigationMap())},get cost(){return o},set edges(g){a=g,d=u(),this.getLevel().invalidateNavigationMap()},get edges(){return a},get edgeMask(){return d},getLevel(){return this.parent},tileMove(g){let f=this.getLevel();f.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(g),f.insertIntoSpatialMap(this),f.trigger("spatialMapChanged")},moveLeft(){this.tileMove(Q(-1,0))},moveRight(){this.tileMove(Q(1,0))},moveUp(){this.tileMove(Q(0,-1))},moveDown(){this.tileMove(Q(0,1))}}}m(tf,"tile");var Es,nf=(Es=class{constructor(t,i,o){H(this,"name");H(this,"duration");H(this,"loops");H(this,"direction");H(this,"easing");H(this,"interpolation");H(this,"isFinished");H(this,"timing");H(this,"easings");H(this,"relative");this.name=t,this.duration=i.duration,this.loops=i.loops||0,this.direction=i.direction||"forward",this.easing=i.easing||Io.linear,this.interpolation=i.interpolation||"linear",this.isFinished=!1,this.timing=i.timing,this.easings=i.easings,this.relative=o}update(t,i){return!0}getLowerKeyIndexAndRelativeTime(t,i,o){let a=i-1,u=t/this.duration;if(this.loops!==0&&u>=this.loops)return[a,0,!0];let d=Math.trunc(u);if(u-=d,(this.direction=="reverse"||this.direction=="ping-pong"&&d&1)&&(u=1-u),o){let g=0;for(;o[g+1]!==void 0&&o[g+1]<u;)g++;return g>=a?[a,0,!0]:[g,(u-o[g])/(o[g+1]-o[g]),!1]}else{let g=Math.floor((i-1)*u);return[g,(u-g/a)*a,!1]}}setValue(t,i,o){if(this.relative)switch(i){case"pos":t.pos=t.base.pos.add(o);break;case"angle":t.angle=t.base.angle+o;break;case"scale":t.scale=t.base.scale.scale(o);break;case"opacity":t.opacity=t.base.opacity*o;break;default:t[i]=o}else t[i]=o}serialize(){let t={duration:this.duration,keys:[]};return this.loops&&(t.loops=this.loops),this.direction!=="forward"&&(t.direction=this.direction),this.easing!=Io.linear&&(t.easing=this.easing.name),this.interpolation!=="linear"&&(t.interpolation=this.interpolation),this.timing&&(t.timing=this.timing),this.easings&&(t.easings=this.easings.map(i=>this.easing.name)),t}},m(Es,"AnimateChannel"),Es);function Yc(r,t){return t.add(t.sub(r))}m(Yc,"reflect");var ks,xA=(ks=class extends nf{constructor(i,o,a,u){super(i,a,u);H(this,"keys");this.keys=o}update(i,o){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(i,this.name,this.keys[a]);else{let g=this.easings?this.easings[a]:this.easing;this.setValue(i,this.name,Yt(this.keys[a],this.keys[a+1],g(u)))}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},m(ks,"AnimateChannelNumber"),ks),Cs,AA=(Cs=class extends nf{constructor(i,o,a,u,d){var g;super(i,a,u);H(this,"keys");H(this,"curves");H(this,"dcurves");if(this.keys=o,this.interpolation==="spline"){this.curves=[],d&&(this.dcurves=[]);for(let f=0;f<this.keys.length-1;f++){let p=this.keys[f],w=f+1,M=this.keys[w],y=f>0?this.keys[f-1]:Yc(M,p),k=w<this.keys.length-1?this.keys[w+1]:Yc(p,M);this.curves.push(Po(y,p,M,k)),d&&((g=this.dcurves)==null||g.push(Po(y,p,M,k,tg)))}}}update(i,o){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation==="none")this.setValue(i,this.name,this.keys[a]);else{let g=this.easings?this.easings[a]:this.easing;switch(this.interpolation){case"linear":this.setValue(i,this.name,this.keys[a].lerp(this.keys[a+1],g(u)));break;case"slerp":this.setValue(i,this.name,this.keys[a].slerp(this.keys[a+1],g(u)));break;case"spline":if(this.curves){this.setValue(i,this.name,this.curves[a](g(u))),this.dcurves&&this.setValue(i,"angle",this.dcurves[a](g(u)).angle());break}}}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(i=>[i.x,i.y])})}},m(Cs,"AnimateChannelVec2"),Cs),Ms,SA=(Ms=class extends nf{constructor(i,o,a,u){super(i,a,u);H(this,"keys");this.keys=o}update(i,o){let[a,u,d]=this.getLowerKeyIndexAndRelativeTime(o,this.keys.length,this.timing);if(u==0||this.interpolation=="none")this.setValue(i,this.name,this.keys[a]);else{let g=this.easings?this.easings[a]:this.easing;this.setValue(i,this.name,this.keys[a].lerp(this.keys[a+1],g(u)))}return d}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},m(Ms,"AnimateChannelColor"),Ms);function f0(r={}){let t=[],i=0,o=!1;return{id:"animate",require:r.followMotion?["rotate"]:void 0,base:{pos:Q(0,0),angle:0,scale:Q(1,1),opacity:1},animation:{paused:!1,seek(a){i=bn(a,0,this.duration),t.forEach(u=>{u.isFinished=!1}),o=!1},get duration(){return t.reduce((a,u)=>Math.max(u.duration,a),0)}},add(){r.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let a=!0,u;i+=xt();for(let d of t)u=d.update(this,i),u&&!d.isFinished&&(d.isFinished=!0,this.trigger("animateChannelFinished",d.name)),a&&(a=u);a&&!o&&(o=!0,this.trigger("animateFinished"))},animate(a,u,d){o=!1,this.unanimate(a),typeof u[0]=="number"?t.push(new xA(a,u,d,r.relative||!1)):u[0]instanceof $?t.push(new AA(a,u,d,r.relative||!1,a==="pos"&&(r.followMotion||!1))):u[0]instanceof be&&t.push(new SA(a,u,d,r.relative||!1))},unanimate(a){let u=t.findIndex(d=>d.name===a);u>=0&&t.splice(u,1)},unanimateAll(){t.splice(0,t.length)},onAnimateFinished(a){return this.on("animateFinished",a)},onAnimateChannelFinished(a){return this.on("animateChannelFinished",a)},serializeAnimationChannels(){return t.reduce((a,u)=>(a[u.name]=u.serialize(),a),{})},serializeAnimationOptions(){let a={};return r.followMotion&&(a.followMotion=!0),r.relative&&(a.relative=!0),a}}}m(f0,"animate");function rf(r,t){let i={name:r.name};return r.has("animate")&&(i.channels=r.serializeAnimationChannels(),Object.assign(i,r.serializeAnimationOptions())),r.children.length>0&&(i.children=r.children.filter(o=>o.has("named")).map(o=>rf(o,o.name))),i}m(rf,"serializeAnimation");function Xc(r=2,t=1){let i=0;return{require:["scale"],update(){let o=Math.sin(i*r)*t;o<0&&this.destroy(),this.scale=Q(o),i+=xt()}}}m(Xc,"boom");function h0(r,t){if(r==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(i=1){this.setHP(r-i),this.trigger("hurt",i)},heal(i=1){let o=r;this.setHP(r+i),this.trigger("heal",r-o)},hp(){return r},maxHP(){return t??null},setMaxHP(i){t=i},setHP(i){r=t?Math.min(t,i):i,r<=0&&this.trigger("death")},onHurt(i){return this.on("hurt",i)},onHeal(i){return this.on("heal",i)},onDeath(i){return this.on("death",i)},inspect(){return`health: ${r}`}}}m(h0,"health");function p0(r,t={}){if(r==null)throw new Error("lifespan() requires time");let i=t.fade??0;return{id:"lifespan",require:["opacity"],add(){x.game.root.wait(r,()=>{this.opacity=this.opacity??1,i>0?x.game.root.tween(this.opacity,0,i,o=>this.opacity=o,Io.linear).onEnd(()=>{this.destroy()}):this.destroy()})}}}m(p0,"lifespan");function m0(r){return{id:"named",name:r}}m(m0,"named");function g0(r,t,i){if(!r)throw new Error("state() requires an initial state");let o={};function a(f){o[f]||(o[f]={enter:new Qt,end:new Qt,update:new Qt,draw:new Qt})}m(a,"initStateEvents");function u(f,p,w){return a(p),o[p][f].add(w)}m(u,"on");function d(f,p,...w){a(p),o[p][f].trigger(...w)}m(d,"trigger");let g=!1;return{id:"state",state:r,enterState(f,...p){if(g=!0,t&&!t.includes(f))throw new Error(`State not found: ${f}`);let w=this.state;if(i){if(!(i!=null&&i[w]))return;let M=typeof i[w]=="string"?[i[w]]:i[w];if(!M.includes(f))throw new Error(`Cannot transition state from "${w}" to "${f}". Available transitions: ${M.map(y=>`"${y}"`).join(", ")}`)}d("end",w,...p),this.state=f,d("enter",f,...p),d("enter",`${w} -> ${f}`,...p)},onStateTransition(f,p,w){return u("enter",`${f} -> ${p}`,w)},onStateEnter(f,p){return u("enter",f,p)},onStateUpdate(f,p){return u("update",f,p)},onStateDraw(f,p){return u("draw",f,p)},onStateEnd(f,p){return u("end",f,p)},update(){g||(d("enter",r),g=!0),d("update",this.state)},draw(){d("draw",this.state)},inspect(){return`state: ${this.state}`}}}m(g0,"state");function sf(r){return{id:"stay",stay:!0,scenesToStay:r}}m(sf,"stay");function y0(r=!0,t){let i,o;return{id:"textInput",hasFocus:r,require:["text"],typedText:"",add(){let a=m(()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")},"flip");i=x.k.onCharInput(u=>{this.hasFocus&&(!t||this.typedText.length<t)&&(x.k.isKeyDown("shift")?this.typedText+=u.toUpperCase():this.typedText+=u,a())}),o=x.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1)),a()})},destroy(){i.cancel(),o.cancel()}}}m(y0,"textInput");function kl(r=1e3){return{id:"timer",maxLoopsPerFrame:r,loop(t,i,o=-1,a=!1){let u=a?0:t,d=new Qt,g=this.onUpdate(()=>{u+=x.app.state.dt;for(let f=0;u>=t&&f<this.maxLoopsPerFrame;f++){if(o!=-1&&(o--,o<0)){g.cancel(),d.trigger();return}i(),u-=t}});return{get paused(){return g.paused},set paused(f){g.paused=f},cancel:g.cancel,onEnd:d.add,then(f){return d.add(f),this}}},wait(t,i){return this.loop(t,i??(()=>{}),1,!0)},tween(t,i,o,a,u=Io.linear){let d=0,g=[],f=this.onUpdate(()=>{d+=x.app.state.dt;let p=Math.min(d/o,1);a(Yt(t,i,u(p))),p===1&&(f.cancel(),a(i),g.forEach(w=>w()))});return{get paused(){return f.paused},set paused(p){f.paused=p},onEnd(p){g.push(p)},then(p){return this.onEnd(p),this},cancel(){f.cancel()},finish(){f.cancel(),a(i),g.forEach(p=>p())}}}}}m(kl,"timer");var $c=0;function v0(){return $c>0}m(v0,"usesArea");function w0(r={}){let t={},i=new Set,o=[];return{id:"area",collisionIgnore:r.collisionIgnore??[],add(){$c++,this.area.cursor&&o.push(this.onHover(()=>x.app.setCursor(this.area.cursor))),o.push(this.onCollideUpdate((a,u)=>{if(!a.id)throw new Error("area() requires the object to have an id");t[a.id]||this.trigger("collide",a,u),u&&(t[a.id]=u,i.add(a.id))}))},destroy(){$c--;for(let a of o)a.cancel()},fixedUpdate(){for(let a in t)i.has(Number(a))||(this.trigger("collideEnd",t[a].target),delete t[a]);i.clear()},drawInspect(){let a=this.localArea();nn(),it(this.area.offset);let u={outline:{width:4/Ad(),color:Oe(0,0,255)},anchor:this.anchor,fill:!1,fixed:jr(this)};a instanceof Ze?sn({...u,pos:a.pos,width:a.width*this.area.scale.x,height:a.height*this.area.scale.y}):a instanceof Xt?sr({...u,pts:a.pts,scale:this.area.scale}):a instanceof on&&Ei({...u,pos:a.center,radius:a.radius}),Kt()},area:{shape:r.shape??null,scale:r.scale?Q(r.scale):Q(1),offset:r.offset??Q(0),cursor:r.cursor??null},isClicked(){return x.app.isMousePressed()&&this.isHovering()},isHovering(){let a=jr(this)?x.k.mousePos():x.k.toWorld(x.k.mousePos());return this.hasPoint(a)},checkCollision(a){if(!a.id)throw new Error("checkCollision() requires the object to have an id");return t[a.id]??null},getCollisions(){return Object.values(t)},isColliding(a){if(!a.id)throw new Error("isColliding() requires the object to have an id");return!!t[a.id]},isOverlapping(a){if(!a.id)throw new Error("isOverlapping() requires the object to have an id");let u=t[a.id];return u&&u.hasOverlap()},onClick(a,u="left"){let d=x.app.onMousePress(u,()=>{this.isHovering()&&a()});return o.push(d),d},onHover(a){let u=!1;return this.onUpdate(()=>{u?u=this.isHovering():this.isHovering()&&(u=!0,a())})},onHoverUpdate(a){return this.onUpdate(()=>{this.isHovering()&&a()})},onHoverEnd(a){let u=!1;return this.onUpdate(()=>{u?this.isHovering()||(u=!1,a()):u=this.isHovering()})},onCollide(a,u){if(typeof a=="function"&&u===void 0)return this.on("collide",a);if(typeof a=="string")return this.onCollide((d,g)=>{d.is(a)&&(u==null||u(d,g))});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(a,u){if(typeof a=="function"&&u===void 0)return this.on("collideUpdate",a);if(typeof a=="string")return this.on("collideUpdate",(d,g)=>d.is(a)&&(u==null?void 0:u(d,g)));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(a,u){if(typeof a=="function"&&u===void 0)return this.on("collideEnd",a);if(typeof a=="string")return this.on("collideEnd",d=>d.is(a)&&(u==null?void 0:u(d)));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(a){return or(this.worldArea(),a)},resolveCollision(a){let u=this.checkCollision(a);u&&!u.resolved&&(this.pos=this.pos.add(u.displacement),u.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let a=this.localArea();if(!(a instanceof Xt||a instanceof Ze))throw new Error("Only support polygon and rect shapes for now");let u=this.transform.clone().translate(this.area.offset).scale(Q(this.area.scale??1));if(a instanceof Ze){let d=Si(this.anchor||Ll).add(1,1).scale(-.5).scale(a.width,a.height);u.translate(d)}return a.transform(u)},screenArea(){let a=this.worldArea();return jr(this)?a:a.transform(x.game.cam.transform)},inspect(){var a,u,d,g,f,p,w;return((a=this.area.scale)==null?void 0:a.x)==((u=this.area.scale)==null?void 0:u.y)?`area: ${(g=(d=this.area.scale)==null?void 0:d.x)==null?void 0:g.toFixed(1)}x`:`area: (${(p=(f=this.area.scale)==null?void 0:f.x)==null?void 0:p.toFixed(1)}x, ${(w=this.area.scale.y)==null?void 0:w.toFixed(1)}y)`}}}m(w0,"area");function x0(r={}){let t=null,i=null,o=!1,a=Q(0),u=null,d=null,g;return{id:"body",require:["pos"],vel:Q(0),drag:r.drag??0,jumpForce:r.jumpForce??Rx,gravityScale:r.gravityScale??1,isStatic:r.isStatic??!1,mass:r.mass??1,add(){if(u=this.pos.clone(),d=this.pos.clone(),g=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((f,p)=>{if(!p||!f.has("body")||p.resolved)return;this.trigger("beforePhysicsResolve",p);let w=p.reverse();if(f.trigger("beforePhysicsResolve",w),!(p.resolved||w.resolved)&&!(this.isStatic&&f.isStatic)){if(!this.isStatic&&!f.isStatic){let M=this.mass+f.mass;this.pos=this.pos.add(p.displacement.scale(f.mass/M)),f.pos=f.pos.add(p.displacement.scale(-this.mass/M)),this.transform=ns(this),f.transform=ns(f)}else{let M=!this.isStatic&&f.isStatic?p:p.reverse();M.source.pos=M.source.pos.add(M.displacement),M.source.transform=ns(M.source)}p.resolved=!0,this.trigger("physicsResolve",p),f.trigger("physicsResolve",p.reverse())}}),this.onPhysicsResolve(f=>{if(x.game.gravity)if(f.isBottom()&&this.isFalling()){this.vel=this.vel.reject(x.game.gravity.unit());let p=t;t=f.target,p!=t&&(i=f.target.pos),o?o=!1:p||(this.trigger("ground",t),f.target.trigger("land",this))}else f.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(x.game.gravity.unit()),this.trigger("headbutt",f.target),f.target.trigger("headbutted",this))}))},update(){t&&this.isColliding(t)&&t.exists()&&t.has("body")&&(i&&!t.pos.eq(i)&&r.stickToPlatform!==!1&&this.moveBy(t.pos.sub(i)),i=t.pos);let f=yl();f&&(this.pos.x==g.x&&(this.pos.x=Yt(u.x,d.x,f/gl()),g.x=this.pos.x),this.pos.y==g.y&&(this.pos.y=Yt(u.y,d.y,f/gl()),g.y=this.pos.y))},fixedUpdate(){if(u&&(this.pos.x==g.x&&(this.pos.x=u.x),this.pos.y==g.y&&(this.pos.y=u.y),u=null),x.game.gravity&&!this.isStatic){o&&(t=null,i=null,this.trigger("fallOff"),o=!1),t&&(!this.isColliding(t)||!t.exists()||!t.has("body"))&&(o=!0);let f=this.vel.clone();this.vel=this.vel.add(x.game.gravity.scale(this.gravityScale*xt()));let p=r.maxVelocity??Px;this.vel.slen()>p*p&&(this.vel=this.vel.unit().scale(p)),f.dot(x.game.gravity)<0&&this.vel.dot(x.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=a.x*xt(),this.vel.y+=a.y*xt(),this.vel.x*=1-this.drag*xt(),this.vel.y*=1-this.drag*xt(),this.move(this.vel),yl()){u=this.pos.clone();let f=this.vel.add(a.scale(xt()));d=this.pos.add(f.scale(xt())),g=this.pos.clone()}a.x=0,a.y=0},onPhysicsResolve(f){return this.on("physicsResolve",f)},onBeforePhysicsResolve(f){return this.on("beforePhysicsResolve",f)},curPlatform(){return t},isGrounded(){return t!==null},isFalling(){return this.vel.dot(is())>0},isJumping(){return this.vel.dot(is())<0},applyImpulse(f){this.isStatic||(this.vel=this.vel.add(f))},addForce(f){this.isStatic||(a.x+=f.x/this.mass,a.y+=f.y/this.mass)},jump(f){this.isStatic||(t=null,i=null,this.vel=is().scale(-f||-this.jumpForce))},onGround(f){return this.on("ground",f)},onFall(f){return this.on("fall",f)},onFallOff(f){return this.on("fallOff",f)},onHeadbutt(f){return this.on("headbutt",f)},onLand(f){return this.on("land",f)},onHeadbutted(f){return this.on("headbutted",f)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}m(x0,"body");function A0(r=2){let t=r;return{id:"doubleJump",require:["body"],numJumps:r,add(){this.onGround(()=>{t=this.numJumps})},doubleJump(i){t<=0||(t<this.numJumps&&this.trigger("doubleJump"),t--,this.jump(i))},onDoubleJump(i){return this.on("doubleJump",i)},inspect(){return`jumpsLeft: ${t}`}}}m(A0,"doubleJump");function S0(r){return{id:"surfaceEffector",require:["area"],speed:r.speed,speedVariation:r.speedVariation??0,forceScale:r.speedVariation??.9,add(){this.onCollideUpdate("body",(t,i)=>{var d;let o=i==null?void 0:i.normal.normal(),a=t.vel.project(o),u=(d=o==null?void 0:o.scale(this.speed))==null?void 0:d.sub(a);t.addForce(u==null?void 0:u.scale(t.mass*this.forceScale))})}}}m(S0,"surfaceEffector");function E0(r){return{id:"areaEffector",require:["area"],useGlobalAngle:r.useGlobalAngle||!1,forceAngle:r.forceAngle,forceMagnitude:r.forceMagnitude,forceVariation:r.forceVariation??0,linearDrag:r.linearDrag??0,add(){this.onCollideUpdate("body",(t,i)=>{if(!t.has("body"))return;let o=$.fromAngle(this.forceAngle).scale(this.forceMagnitude);t.addForce(o),this.linearDrag&&t.addForce(t.vel.scale(-this.linearDrag))})}}}m(E0,"areaEffector");function k0(r){return{id:"pointEffector",require:["area","pos"],forceMagnitude:r.forceMagnitude,forceVariation:r.forceVariation??0,distanceScale:r.distanceScale??1,forceMode:r.forceMode||"inverseLinear",linearDrag:r.linearDrag??0,add(){this.onCollideUpdate("body",(t,i)=>{let o=this.pos.sub(t.pos),a=o.len(),u=a*this.distanceScale/10,d=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/u:1/u**2,g=o.scale(this.forceMagnitude*d/a);t.addForce(g),this.linearDrag&&t.addForce(t.vel.scale(-this.linearDrag))})}}}m(k0,"pointEffector");function C0(r){return{id:"constantForce",require:["body"],force:r.force,update(){this.force&&this.addForce(this.force)}}}m(C0,"constantForce");function M0(r){return{id:"platformEffector",require:["area","body"],surfaceArc:r.surfaceArc??180,useOneWay:r.useOneWay??!1,add(){this.onBeforePhysicsResolve(t=>{let i=t.target.vel,o=is().scale(-1).angleBetween(i);Math.abs(o)>this.surfaceArc/2&&t.preventResolution()})}}}m(M0,"platformEffector");function R0(r){return{id:"buoyancyEffector",require:["area"],surfaceLevel:r.surfaceLevel,density:r.density??1,linearDrag:r.linearDrag??1,angularDrag:r.angularDrag??.2,flowAngle:r.flowAngle??0,flowMagnitude:r.flowMagnitude??0,flowVariation:r.flowVariation??0,add(){this.onCollideUpdate("body",(t,i)=>{let o=t,a=o.worldArea(),[u,d]=a.cut(Q(-100,this.surfaceLevel),Q(100,this.surfaceLevel));u&&(this.applyBuoyancy(o,u),this.applyDrag(o,u)),this.flowMagnitude&&o.addForce($.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(t,i){let o=this.density*i.area(),a=Q(0,1).scale(-o);t.addForce(a)},applyDrag(t,i){let o=t.vel,a=this.density*this.linearDrag,u=o.scale(-a);t.addForce(u)}}}m(R0,"buoyancyEffector");function Cl(r){if(!r)throw new Error("Please define an anchor");return{id:"anchor",anchor:r,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}m(Cl,"anchor");function of(){return{id:"fixed",fixed:!0}}m(of,"fixed");function P0(r,t){return{id:"follow",require:["pos"],follow:{obj:r,offset:t??Q(0)},add(){r.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){r.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}m(P0,"follow");function T0(r){var i;let t=(i=x.game.layers)==null?void 0:i.indexOf(r);return{id:"layer",get layerIndex(){return t??null},get layer(){var o;return t?((o=x.game.layers)==null?void 0:o[t])??null:null},set layer(o){var a;if(t=(a=x.game.layers)==null?void 0:a.indexOf(o),t==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}m(T0,"layer");function I0(r,t){let i=typeof r=="number"?$.fromAngle(r):r.unit();return{id:"move",require:["pos"],update(){this.move(i.scale(t))}}}m(I0,"move");function b0(r={}){let t=r.distance??Mx,i=!1;return{id:"offscreen",require:["pos"],isOffScreen(){let o=this.screenPos();if(!o)return!1;let a=new Ze(Q(0),Ct(),It());return!qo(a,o)&&a.sdistToPoint(o)>t*t},onExitScreen(o){return this.on("exitView",o)},onEnterScreen(o){return this.on("enterView",o)},update(){this.isOffScreen()?(i||(this.trigger("exitView"),i=!0),r.hide&&(this.hidden=!0),r.pause&&(this.paused=!0),r.destroy&&this.destroy()):(i&&(this.trigger("enterView"),i=!1),r.hide&&(this.hidden=!1),r.pause&&(this.paused=!1))}}}m(b0,"offscreen");function Do(...r){return{id:"pos",pos:Q(...r),moveBy(...t){this.pos=this.pos.add(Q(...t))},move(...t){this.moveBy(Q(...t).scale(xt()))},moveTo(...t){if(typeof t[0]=="number"&&typeof t[1]=="number")return this.moveTo(Q(t[0],t[1]),t[2]);let i=t[0],o=t[1];if(o===void 0){this.pos=Q(i);return}let a=i.sub(this.pos);if(a.len()<=o*xt()){this.pos=Q(i);return}this.move(a.unit().scale(o))},worldPos(t=null){return t?(this.pos=this.pos.add(this.fromWorld(t)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(t){return this.parent?this.parent.transform.multVec2(this.pos.add(t)):this.pos.add(t)},fromWorld(t){return this.parent?this.parent.transform.invert().multVec2(t).sub(this.pos):t.sub(this.pos)},screenPos(t=null){if(t)return this.pos=this.pos.add(this.fromScreen(t)),null;{let i=this.worldPos();return i?jr(this)?i:Sl(i):null}},toScreen(t){let i=this.toWorld(t);return jr(this)?i:Sl(i)},fromScreen(t){return jr(this)?this.fromWorld(t):this.fromWorld(Kd(t))},toOther(t,i){return t.fromWorld(this.toWorld(i))},fromOther(t,i){return t.toOther(this,i)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){Ei({color:Oe(255,0,0),radius:4/Ad()})}}}m(Do,"pos");function F0(r){return{id:"rotate",angle:r??0,rotateBy(t){this.angle+=t},rotateTo(t){this.angle=t},inspect(){return`angle: ${Math.round(this.angle)}`}}}m(F0,"rotate");function jo(...r){if(r.length===0)return jo(1);let t=Q(...r);return{id:"scale",set scale(i){if(!(i instanceof $))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");t=Q(i)},get scale(){return t},scaleTo(...i){t=Q(...i)},scaleBy(...i){t=t.scale(Q(...i))},inspect(){return t.x==t.y?`scale: ${t.x.toFixed(1)}x`:`scale: (${t.x.toFixed(1)}x, ${t.y.toFixed(1)}y)`}}}m(jo,"scale");function N0(r){return{id:"z",z:r,inspect(){return`z: ${this.z}`}}}m(N0,"z");var EA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",kA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",CA="3001.0.0",x={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},MA=m((r={tagsAsComponents:!0})=>{x.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),x.k.quit()),x.globalOpt=r;let t=r.root??document.body;t===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let i=r.canvas??t.appendChild(document.createElement("canvas"));x.canvas=i;let o=r.scale??1;x.gscale=o;let a=r.width&&r.height&&!r.stretch&&!r.letterbox;a?(i.width=r.width*o,i.height=r.height*o):(i.width=i.parentElement.offsetWidth,i.height=i.parentElement.offsetHeight);let u=["outline: none","cursor: default"];if(a){let ye=i.width,Me=i.height;u.push(`width: ${ye}px`),u.push(`height: ${Me}px`)}else u.push("width: 100%"),u.push("height: 100%");r.crisp&&(u.push("image-rendering: pixelated"),u.push("image-rendering: crisp-edges")),i.style.cssText=u.join(";");let d=r.pixelDensity||1;x.pixelDensity=d,i.width*=d,i.height*=d,i.tabIndex=0;let g=document.createElement("canvas");g.width=256,g.height=256,x.fontCacheCanvas=g;let f=g.getContext("2d",{willReadFrequently:!0});x.fontCacheC2d=f;let p=Ux({canvas:i,touchToMouse:r.touchToMouse,gamepads:r.gamepads,pixelDensity:r.pixelDensity,maxFPS:r.maxFPS,buttons:r.buttons});x.app=p;let w=[],M=p.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!M)throw new Error("WebGL not supported");let y=M,k=cy(y,{texFilter:r.texFilter}),S=oA(r,k);x.gfx=S;let T=wA();x.audio=T;let A=nA(k,r.spriteAtlasPadding??0);x.assets=A;let C=yA();x.game=C,C.root.use(kl());function L(ye,Me){let Re=new wl(k,ye,Me);return{clear:m(()=>Re.clear(),"clear"),free:m(()=>Re.free(),"free"),toDataURL:m(()=>Re.toDataURL(),"toDataURL"),toImageData:m(()=>Re.toImageData(),"toImageData"),width:Re.width,height:Re.height,draw:m(_e=>{rn(),Re.bind(),_e(),rn(),Re.unbind()},"draw"),get fb(){return Re}}}m(L,"makeCanvas");function F(){y.clear(y.COLOR_BUFFER_BIT),S.frameBuffer.bind(),y.clear(y.COLOR_BUFFER_BIT),S.bgColor||nr(()=>{Ps({width:Ct(),height:It(),quad:new st(0,0,Ct()/64,It()/64),tex:S.bgTex,fixed:!0})}),S.renderer.numDraws=0,S.fixed=!1,S.transformStack.length=0,S.transform=new Un}m(F,"frameStart");function z(ye,Me){S.postShader=ye,S.postShaderUniform=Me??null}m(z,"usePostEffect");function N(){rn(),S.lastDrawCalls=S.renderer.numDraws,S.frameBuffer.unbind(),y.viewport(0,0,y.drawingBufferWidth,y.drawingBufferHeight);let ye=S.width,Me=S.height;S.width=y.drawingBufferWidth/d,S.height=y.drawingBufferHeight/d,No({flipY:!0,tex:S.frameBuffer.tex,pos:new $(S.viewport.x,S.viewport.y),width:S.viewport.width,height:S.viewport.height,shader:S.postShader,uniform:typeof S.postShaderUniform=="function"?S.postShaderUniform():S.postShaderUniform,fixed:!0}),rn(),S.width=ye,S.height=Me}m(N,"frameEnd");let E=!1,R={inspect:!1,timeScale:1,showLog:!0,fps:m(()=>p.fps(),"fps"),numFrames:m(()=>p.numFrames(),"numFrames"),stepFrame:ke,drawCalls:m(()=>S.lastDrawCalls,"drawCalls"),clearLog:m(()=>C.logs=[],"clearLog"),log:m((...ye)=>{let Me=r.logMax??8,Re=ye.length>1?ye.concat(" ").join(" "):ye[0];C.logs.unshift({msg:Re,time:p.time()}),C.logs.length>Me&&(C.logs=C.logs.slice(0,Me))},"log"),error:m(ye=>R.log(new Error(ye.toString?ye.toString():ye)),"error"),curRecording:null,numObjects:m(()=>ge("*",{recursive:!0}).length,"numObjects"),get paused(){return E},set paused(ye){E=ye,ye?T.ctx.suspend():T.ctx.resume()}};x.debug=R;function I(ye,Me){try{return JSON.parse(window.localStorage[ye])}catch{return Me?(K(ye,Me),Me):null}}m(I,"getData");function K(ye,Me){window.localStorage[ye]=JSON.stringify(Me)}m(K,"setData");function Y(ye,...Me){let Re=ye(bt),_e;typeof Re=="function"?_e=Re(...Me)(bt):_e=Re;for(let et in _e)bt[et]=_e[et],r.global!==!1&&(window[et]=_e[et]);return bt}m(Y,"plug");function Z(ye){let Me=p.canvas.captureStream(ye),Re=T.ctx.createMediaStreamDestination();T.masterNode.connect(Re);let _e=new MediaRecorder(Me),et=[];return _e.ondataavailable=Ne=>{Ne.data.size>0&&et.push(Ne.data)},_e.onerror=()=>{T.masterNode.disconnect(Re),Me.getTracks().forEach(Ne=>Ne.stop())},_e.start(),{resume(){_e.resume()},pause(){_e.pause()},stop(){return _e.stop(),T.masterNode.disconnect(Re),Me.getTracks().forEach(Ne=>Ne.stop()),new Promise(Ne=>{_e.onstop=()=>{Ne(new Blob(et,{type:"video/mp4"}))}})},download(Ne="kaboom.mp4"){this.stop().then(ot=>Hc(Ne,ot))}}}m(Z,"record");function oe(){return document.activeElement===p.canvas}m(oe,"isFocused");let ue=C.root.add.bind(C.root),ve=C.root.readd.bind(C.root),Ce=C.root.removeAll.bind(C.root),ge=C.root.get.bind(C.root),he=C.root.wait.bind(C.root),te=C.root.loop.bind(C.root),ae=C.root.query.bind(C.root),re=C.root.tween.bind(C.root),q=rs(null,kA),V=rs(null,EA);x.kaSprite=q,x.boomSprite=V;function Ae(){C.root.fixedUpdate()}m(Ae,"fixedUpdateFrame");function ke(){C.root.update()}m(ke,"updateFrame");const un=class un{constructor(Me,Re,_e,et,Ne=!1){H(this,"source");H(this,"target");H(this,"normal");H(this,"distance");H(this,"resolved",!1);this.source=Me,this.target=Re,this.normal=_e,this.distance=et,this.resolved=Ne}get displacement(){return this.normal.scale(this.distance)}reverse(){return new un(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(C.gravity||Q(0,1))>0}isRight(){return this.displacement.cross(C.gravity||Q(0,1))<0}isTop(){return this.displacement.dot(C.gravity||Q(0,1))>0}isBottom(){return this.displacement.dot(C.gravity||Q(0,1))<0}preventResolution(){this.resolved=!0}};m(un,"Collision");let Pe=un;function Te(){if(!v0())return;let ye={},Me=r.hashGridSize||64,Re=new Un,_e=[];function et(Ne){if(_e.push(Re.clone()),Ne.pos&&Re.translate(Ne.pos),Ne.scale&&Re.scale(Ne.scale),Ne.angle&&Re.rotate(Ne.angle),Ne.transform=Re.clone(),Ne.c("area")&&!Ne.paused){let ot=Ne,Ft=ot.worldArea().bbox(),Xr=Math.floor(Ft.pos.x/Me),ki=Math.floor(Ft.pos.y/Me),$r=Math.ceil((Ft.pos.x+Ft.width)/Me),Jr=Math.ceil((Ft.pos.y+Ft.height)/Me),cr=new Set;for(let Nt=Xr;Nt<=$r;Nt++)for(let Ot=ki;Ot<=Jr;Ot++)if(!ye[Nt])ye[Nt]={},ye[Nt][Ot]=[ot];else if(!ye[Nt][Ot])ye[Nt][Ot]=[ot];else{let Vn=ye[Nt][Ot];e:for(let mt of Vn){if(mt.paused||!mt.exists()||cr.has(mt.id))continue;for(let xn of ot.collisionIgnore)if(mt.is(xn))continue e;for(let xn of mt.collisionIgnore)if(ot.is(xn))continue e;let wn=ag(ot.worldArea(),mt.worldArea());if(wn){let xn=new Pe(ot,mt,wn.normal,wn.distance);ot.trigger("collideUpdate",mt,xn);let dr=xn.reverse();dr.resolved=xn.resolved,mt.trigger("collideUpdate",ot,dr)}cr.add(mt.id)}Vn.push(ot)}}Ne.children.forEach(et),Re=_e.pop()}m(et,"checkObj"),et(C.root)}m(Te,"checkFrame");function je(ye){console.error(ye),T.ctx.suspend();let Me=ye.message??String(ye)??"Unknown error, check console for more info";p.run(()=>{},()=>{F(),nr(()=>{let Re=Ct(),_e=It(),et={size:36,width:Re-32*2,letterSpacing:4,lineSpacing:4,font:pl,fixed:!0};sn({width:Re,height:_e,color:Oe(0,0,255),fixed:!0});let Ne=Gr({...et,text:"Error",pos:Q(32),color:Oe(255,128,0),fixed:!0});Vr(Ne),Kc({...et,text:Me,pos:Q(32,32+Ne.height+16),fixed:!0}),Kt(),C.events.trigger("error",ye)}),N()})}m(je,"handleErr");function Fe(ye){w.push(ye)}m(Fe,"onCleanup");function qe(){C.events.onOnce("frameEnd",()=>{p.quit(),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT);let ye=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS);for(let Me=0;Me<ye;Me++)y.activeTexture(y.TEXTURE0+Me),y.bindTexture(y.TEXTURE_2D,null),y.bindTexture(y.TEXTURE_CUBE_MAP,null);y.bindBuffer(y.ARRAY_BUFFER,null),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,null),y.bindRenderbuffer(y.RENDERBUFFER,null),y.bindFramebuffer(y.FRAMEBUFFER,null),k.destroy(),w.forEach(Me=>Me())})}m(qe,"quit");let ut=!0;p.run(()=>{try{A.loaded&&(R.paused||Ae(),Te())}catch(ye){je(ye)}},(ye,Me)=>{try{ye(),A.loaded||Ur()===1&&!ut&&(A.loaded=!0,Ed().forEach(Re=>C.events.trigger("loadError",...Re)),C.events.trigger("load")),!A.loaded&&r.loadingScreen!==!1||ut?(F(),hy(),N()):(R.paused||ke(),Te(),F(),fy(),r.debug!==!1&&dy(),N()),ut&&(ut=!1),C.events.trigger("frameEnd"),Me()}catch(Re){je(Re)}}),Bd(),Jd();let bt={_k:x,VERSION:CA,loadRoot:Vg,loadProgress:Ur,loadSprite:rs,loadSpriteAtlas:bd,loadSound:iy,loadMusic:sy,loadBitmapFont:Jg,loadFont:Xg,loadShader:ty,loadShaderURL:ny,loadAseprite:Yg,loadPedit:Zg,loadBean:Kg,loadJSON:Wg,load:vl,getSound:Id,getFont:Rd,getBitmapFont:Pd,getSprite:kd,getShader:Td,getAsset:Qg,Asset:vn,SpriteData:Hr,SoundData:Fo,width:Ct,height:It,center:bo,dt:xt,fixedDt:gl,restDt:yl,time:p.time,screenshot:p.screenshot,record:Z,isFocused:oe,setCursor:p.setCursor,getCursor:p.getCursor,setCursorLocked:p.setCursorLocked,isCursorLocked:p.isCursorLocked,setFullscreen:p.setFullscreen,isFullscreen:p.isFullscreen,isTouchscreen:p.isTouchscreen,onLoad:Gl,onLoadError:Ly,onLoading:Dy,onResize:jy,onGamepadConnect:p.onGamepadConnect,onGamepadDisconnect:p.onGamepadDisconnect,onError:By,onCleanup:Fe,flash:Qd,setCamPos:zd,getCamPos:Ud,setCamRot:Vd,getCamRot:Wd,setCamScale:Hd,getCamScale:Gd,getCamTransform:Oy,camPos:zy,camScale:Uy,camFlash:Gy,camRot:Hy,camTransform:qy,shake:_y,toScreen:Sl,toWorld:Kd,setGravity:Vy,getGravity:Wy,setGravityDirection:Qy,getGravityDirection:is,setBackground:Og,getBackground:qg,getGamepads:p.getGamepads,getTreeRoot:t0,add:ue,make:Vl,destroy:ef,destroyAll:Ce,get:ge,query:ae,readd:ve,pos:Do,scale:jo,rotate:F0,color:Ld,opacity:Od,anchor:Cl,area:w0,sprite:El,text:o0,polygon:Ey,rect:_d,circle:yy,uvquad:a0,outline:Ay,particles:Sy,body:x0,platformEffector:M0,surfaceEffector:S0,areaEffector:E0,pointEffector:k0,buoyancyEffector:R0,constantForce:C0,doubleJump:A0,shader:ky,textInput:y0,timer:kl,fixed:of,stay:sf,health:h0,lifespan:p0,named:m0,state:g0,z:N0,layer:T0,move:I0,offscreen:b0,follow:P0,fadeIn:wy,mask:xy,drawon:vy,raycast:qd,tile:tf,animate:f0,serializeAnimation:rf,agent:l0,sentry:d0,patrol:c0,pathfinder:u0,trigger:lA,on:$t,onFixedUpdate:uA,onUpdate:cA,onDraw:dA,onAdd:My,onDestroy:fA,onTag:Ry,onUntag:mA,onUse:hA,onUnuse:pA,onClick:gA,onCollide:Py,onCollideUpdate:Ty,onCollideEnd:Iy,onHover:by,onHoverUpdate:Fy,onHoverEnd:Ny,onKeyDown:p.onKeyDown,onKeyPress:p.onKeyPress,onKeyPressRepeat:p.onKeyPressRepeat,onKeyRelease:p.onKeyRelease,onMouseDown:p.onMouseDown,onMousePress:p.onMousePress,onMouseRelease:p.onMouseRelease,onMouseMove:p.onMouseMove,onCharInput:p.onCharInput,onTouchStart:p.onTouchStart,onTouchMove:p.onTouchMove,onTouchEnd:p.onTouchEnd,onScroll:p.onScroll,onHide:p.onHide,onShow:p.onShow,onGamepadButtonDown:p.onGamepadButtonDown,onGamepadButtonPress:p.onGamepadButtonPress,onGamepadButtonRelease:p.onGamepadButtonRelease,onGamepadStick:p.onGamepadStick,onButtonPress:p.onButtonPress,onButtonDown:p.onButtonDown,onButtonRelease:p.onButtonRelease,mousePos:Sd,mouseDeltaPos:p.mouseDeltaPos,isKeyDown:p.isKeyDown,isKeyPressed:p.isKeyPressed,isKeyPressedRepeat:p.isKeyPressedRepeat,isKeyReleased:p.isKeyReleased,isMouseDown:p.isMouseDown,isMousePressed:p.isMousePressed,isMouseReleased:p.isMouseReleased,isMouseMoved:p.isMouseMoved,isGamepadButtonPressed:p.isGamepadButtonPressed,isGamepadButtonDown:p.isGamepadButtonDown,isGamepadButtonReleased:p.isGamepadButtonReleased,getGamepadStick:p.getGamepadStick,isButtonPressed:p.isButtonPressed,isButtonDown:p.isButtonDown,isButtonReleased:p.isButtonReleased,setButton:p.setButton,getButton:p.getButton,pressButton:p.pressButton,releaseButton:p.releaseButton,getLastInputDeviceType:p.getLastInputDeviceType,charInputted:p.charInputted,loop:te,wait:he,play:Yy,setVolume:Xd,getVolume:$d,volume:Xy,burp:Yd,audioCtx:T.ctx,Line:ln,Rect:Ze,Circle:on,Ellipse:lr,Point:yx,Polygon:Xt,Vec2:$,Color:be,Mat4:Un,Quad:st,RNG:Cm,rand:wt,randi:sd,randSeed:Mm,vec2:Q,rgb:Oe,hsl2rgb:px,quad:dt,choose:Tm,chooseMultiple:Pm,shuffle:od,chance:Rm,lerp:Yt,tween:re,easings:Io,map:In,mapc:km,wave:id,deg2rad:ft,rad2deg:zr,clamp:bn,evaluateQuadratic:Vm,evaluateQuadraticFirstDerivative:Wm,evaluateQuadraticSecondDerivative:Qm,evaluateBezier:Bl,evaluateBezierFirstDerivative:Km,evaluateBezierSecondDerivative:Ym,evaluateCatmullRom:Xm,evaluateCatmullRomFirstDerivative:$m,curveLengthApproximation:md,normalizedCurve:Jm,hermite:Fs,cardinal:gd,catmullRom:Po,bezier:Zm,kochanekBartels:eg,easingSteps:og,easingLinear:ig,easingCubicBezier:sg,testLineLine:Il,testRectRect:ad,testRectLine:bl,testRectPoint:qo,testCirclePolygon:zo,testLinePoint:Fl,testLineCircle:bs,isConvex:fg,triangulate:vd,NavMesh:eA,drawSprite:my,drawText:Kc,formatText:Gr,drawRect:sn,drawLine:ts,drawLines:Hl,drawTriangle:Dd,drawCircle:Ei,drawEllipse:Fd,drawUVQuad:Ps,drawPolygon:sr,drawCurve:Nd,drawBezier:uy,drawFormattedText:Vr,drawMasked:py,drawSubtracted:gy,pushTransform:nn,popTransform:Kt,pushTranslate:it,pushScale:Rs,pushRotate:wi,pushMatrix:_g,usePostEffect:z,makeCanvas:L,debug:R,scene:n0,getSceneName:s0,go:r0,onSceneLeave:i0,layers:e0,getLayers:Jy,setLayers:Zd,getDefaultLayer:Zy,addLevel:Cy,getData:I,setData:K,download:Ol,downloadJSON:xg,downloadText:xd,downloadBlob:Hc,plug:Y,ASCII_CHARS:hg,canvas:p.canvas,addKaboom:$y,LEFT:$.LEFT,RIGHT:$.RIGHT,UP:$.UP,DOWN:$.DOWN,RED:be.RED,GREEN:be.GREEN,BLUE:be.BLUE,YELLOW:be.YELLOW,MAGENTA:be.MAGENTA,CYAN:be.CYAN,WHITE:be.WHITE,BLACK:be.BLACK,quit:qe,KEvent:Qt,KEventHandler:To,KEventController:xi,cancel:m(()=>mg,"cancel")};x.k=bt;let Yr=r.plugins;if(Yr&&Yr.forEach(Y),r.global!==!1)for(let ye in bt)window[ye]=bt[ye];return r.focus!==!1&&p.canvas.focus(),bt},"kaplay"),RA=MA;const B=RA({width:1920,height:1080,letterbox:!0,background:[0,0,0],global:!1,buttons:{jump:{keyboard:["space"],mouse:"left"}},touchToMouse:!0,debug:!1});function PA(){B.add([B.text(`
        InfiniteRunnerGame
      `,{font:"mania",size:32})]),B.add([B.text("Press Space/Click/Touch to Start The Game",{font:"mania",size:64}),B.anchor("center"),B.pos(B.center())]),B.onButtonPress("jump",()=>B.go("main-menu"))}function D0(r){const t=B.add([B.sprite("sonic",{anim:"run"}),B.scale(4),B.area(),B.anchor("center"),B.pos(r),B.body({jumpForce:1700}),{ringCollectUI:null,setControls(){B.onButtonPress("jump",()=>{this.isGrounded()&&(this.play("jump"),this.jump(),B.play("jump",{volume:.5}))})},setEvents(){this.onGround(()=>{this.play("run")})}}]);return t.ringCollectUI=t.add([B.text("",{font:"mania",size:24}),B.color(255,255,0),B.anchor("center"),B.pos(30,-10)]),t}function TA(){B.getData("best-score")||B.setData("best-score",0),B.onButtonPress("jump",()=>B.go("game"));const r=1920,t=[B.add([B.sprite("chemical-bg"),B.pos(0,0),B.scale(2),B.opacity(.8)]),B.add([B.sprite("chemical-bg"),B.pos(1920,0),B.scale(2),B.opacity(.8)])],i=[B.add([B.sprite("platforms"),B.pos(0,450),B.scale(4)]),B.add([B.sprite("platforms"),B.pos(384,450),B.scale(4)])];B.add([B.text("SONIC RING RUN",{font:"mania",size:96}),B.anchor("center"),B.pos(B.center().x,200)]),B.add([B.text("Press Space/Click/Touch to Play",{font:"mania",size:32}),B.anchor("center"),B.pos(B.center().x,B.center().y-200)]),D0(B.vec2(200,745)),B.onUpdate(()=>{t[1].pos.x<0&&(t[0].moveTo(t[1].pos.x+r*2,0),t.push(t.shift())),t[0].move(-100,0),t[1].moveTo(t[0].pos.x+r*2,0),i[1].pos.x<0&&(i[0].moveTo(i[1].pos.x+i[1].width*4,450),i.push(i.shift())),i[0].move(-4e3,0),i[1].moveTo(i[0].pos.x+i[1].width*4,450)})}function IA(r){return B.add([B.sprite("motobug",{anim:"run"}),B.area({shape:new B.Rect(B.vec2(-5,0),32,32)}),B.scale(4),B.anchor("center"),B.pos(r),B.offscreen(),"enemy"])}function bA(r){return B.add([B.sprite("ring",{anim:"spin"}),B.area(),B.scale(4),B.anchor("center"),B.pos(r),B.offscreen(),"ring"])}function FA(){const r=B.play("city",{volume:.2,loop:!0});B.setGravity(3100);const t=1920,i=[B.add([B.sprite("chemical-bg"),B.pos(0,0),B.scale(2),B.opacity(.8)]),B.add([B.sprite("chemical-bg"),B.pos(t,0),B.scale(2),B.opacity(.8)])],o=[B.add([B.sprite("platforms"),B.pos(0,450),B.scale(4)]),B.add([B.sprite("platforms"),B.pos(384,450),B.scale(4)])],a=D0(B.vec2(200,745));a.setControls(),a.setEvents();const u=B.add([B.text("Press Space/Click/Touch to Jump!",{font:"mania",size:64}),B.anchor("center"),B.pos(B.center())]),d=B.onButtonPress("jump",()=>{B.destroy(u),d.cancel()}),g=B.add([B.text("SCORE : 0",{font:"mania",size:72}),B.pos(20,20)]);let f=0,p=0;a.onCollide("ring",k=>{B.play("ring",{volume:.5}),B.destroy(k),f++,g.text=`SCORE : ${f}`,a.ringCollectUI.text="+1",B.wait(1,()=>{a.ringCollectUI.text=""})}),a.onCollide("enemy",k=>{if(!a.isGrounded()){B.play("destroy",{volume:.5}),B.play("hyper-ring",{volume:.5}),B.destroy(k),a.play("jump"),a.jump(),p+=1,f+=10*p,g.text=`SCORE : ${f}`,p===1&&(a.ringCollectUI.text=`+${10*p}`),p>1&&(a.ringCollectUI.text=`x${p}`),B.wait(1,()=>{a.ringCollectUI.text=""});return}B.play("hurt",{volume:.5}),B.setData("current-score",f),B.go("gameover",r)});let w=300;B.loop(1,()=>{w+=50});const M=()=>{const k=IA(B.vec2(1950,773));k.onUpdate(()=>{if(w<3e3){k.move(-(w+300),0);return}k.move(-w,0)}),k.onExitScreen(()=>{k.pos.x<0&&B.destroy(k)});const S=B.rand(.5,2.5);B.wait(S,M)};M();const y=()=>{const k=bA(B.vec2(1950,745));k.onUpdate(()=>{k.move(-w,0)}),k.onExitScreen(()=>{k.pos.x<0&&B.destroy(k)});const S=B.rand(.5,3);B.wait(S,y)};y(),B.add([B.rect(1920,300),B.opacity(0),B.area(),B.pos(0,832),B.body({isStatic:!0}),"platform"]),B.onUpdate(()=>{a.isGrounded()&&(p=0),i[1].pos.x<0&&(i[0].moveTo(i[1].pos.x+t*2,0),i.push(i.shift())),i[0].move(-100,0),i[1].moveTo(i[0].pos.x+t*2,0),i[0].moveTo(i[0].pos.x,-a.pos.y/10-50),i[1].moveTo(i[1].pos.x,-a.pos.y/10-50),o[1].pos.x<0&&(o[0].moveTo(o[1].pos.x+o[1].width*4,450),o.push(o.shift())),o[0].move(-w,0),o[1].moveTo(o[0].pos.x+o[1].width*4,450)})}function NA(r){r.paused=!0;let t=B.getData("best-score");const i=B.getData("current-score"),o=["F","E","D","C","B","A","S"],a=[50,80,100,200,300,400,500];let u="F",d="F";for(let p=0;p<a.length;p++)a[p]<i&&(u=o[p]),a[p]<t&&(d=o[p]);t<i&&(B.setData("best-score",i),t=i,d=u),B.add([B.text("GAME OVER",{font:"mania",size:96}),B.anchor("center"),B.pos(B.center().x,B.center().y-300)]),B.add([B.text(`BEST SCORE : ${t}`,{font:"mania",size:64}),B.anchor("center"),B.pos(B.center().x-400,B.center().y-200)]),B.add([B.text(`CURRENT SCORE : ${i}`,{font:"mania",size:64}),B.anchor("center"),B.pos(B.center().x+400,B.center().y-200)]),B.add([B.rect(400,400,{radius:4}),B.color(0,0,0),B.area(),B.anchor("center"),B.outline(6,B.Color.fromArray([255,255,255])),B.pos(B.center().x-400,B.center().y+50)]).add([B.text(d,{font:"mania",size:100}),B.anchor("center")]),B.add([B.rect(400,400,{radius:4}),B.color(0,0,0),B.area(),B.anchor("center"),B.outline(6,B.Color.fromArray([255,255,255])),B.pos(B.center().x+400,B.center().y+50)]).add([B.text(u,{font:"mania",size:100}),B.anchor("center")]),B.wait(1,()=>{B.add([B.text("Press Space/Click/Touch to Play Again",{font:"mania",size:64}),B.anchor("center"),B.pos(B.center().x,B.center().y+350)]),B.onButtonPress("jump",()=>B.go("game"))})}function j0(){return _.useEffect(()=>(B.width=1920,B.height=1080,B.letterbox=!0,B.loadSprite("chemical-bg","graphics/chemical-bg.png"),B.loadSprite("platforms","graphics/platforms.png"),B.loadSprite("sonic","graphics/sonic.png",{sliceX:8,sliceY:2,anims:{run:{from:0,to:7,loop:!0,speed:30},jump:{from:8,to:15,loop:!0,speed:100}}}),B.loadSprite("ring","graphics/ring.png",{sliceX:16,sliceY:1,anims:{spin:{from:0,to:15,loop:!0,speed:30}}}),B.loadSprite("motobug","graphics/motobug.png",{sliceX:5,sliceY:1,anims:{run:{from:0,to:4,loop:!0,speed:8}}}),B.loadFont("mania","fonts/mania.ttf"),B.loadSound("destroy","sounds/Destroy.wav"),B.loadSound("hurt","sounds/Hurt.wav"),B.loadSound("hyper-ring","sounds/HyperRing.wav"),B.loadSound("jump","sounds/Jump.wav"),B.loadSound("ring","sounds/Ring.wav"),B.loadSound("city","sounds/city.mp3"),B.scene("disclaimer",PA),B.scene("main-menu",TA),B.scene("game",FA),B.scene("gameover",NA),B.go("disclaimer"),()=>{B.destroy()}),[]),j.jsx("div",{children:j.jsx("div",{id:"game1"})})}const sm=[{id:"game1",name:"Infinite Runner",thumbnail:"game1.jpg",component:j0},{id:"game2",name:"Word Hunt Puzzle",thumbnail:"game2.jpg",component:()=>j.jsx("div",{children:"Word Hunt Placeholder"})},{id:"game3",name:"Tower Builder",thumbnail:"game3.jpg",component:()=>j.jsx("div",{children:"Tower Builder Placeholder"})},{id:"game4",name:"Clicker Game",thumbnail:"game4.jpg",component:()=>j.jsx("div",{children:"Clicker Game Placeholder"})},{id:"game5",name:"Memory Flip Game",thumbnail:"game5.jpg",component:()=>j.jsx("div",{children:"Memory Flip Game Placeholder"})},{id:"game6",name:"Quiz Battle",thumbnail:"game6.jpg",component:()=>j.jsx("div",{children:"Quiz Battle Placeholder"})},{id:"game7",name:"Maze Escape",thumbnail:"game7.jpg",component:()=>j.jsx("div",{children:"Maze Escape Placeholder"})},{id:"game8",name:"Bubble Pop",thumbnail:"game8.jpg",component:()=>j.jsx("div",{children:"Bubble Pop Placeholder"})},{id:"game9",name:"Match-3 Game",thumbnail:"game9.jpg",component:()=>j.jsx("div",{children:"Match-3 Game Placeholder"})},{id:"game10",name:"Quick Reaction Game",thumbnail:"game10.jpg",component:()=>j.jsx("div",{children:"Quick Reaction Game Placeholder"})},{id:"game11",name:"Shape Fitter Game",thumbnail:"game11.jpg",component:()=>j.jsx("div",{children:"Shape Fitter Game Placeholder"})},{id:"game12",name:"Fishing Game",thumbnail:"game12.jpg",component:()=>j.jsx("div",{children:"Fishing Game Placeholder"})},{id:"game13",name:"Dodging Game",thumbnail:"game13.jpg",component:()=>j.jsx("div",{children:"Dodging Game Placeholder"})},{id:"game14",name:"Typing Speed Challenge",thumbnail:"game14.jpg",component:()=>j.jsx("div",{children:"Typing Speed Challenge Placeholder"})},{id:"game15",name:"Digital Board Game",thumbnail:"game15.jpg",component:()=>j.jsx("div",{children:"Digital Board Game Placeholder"})},{id:"game16",name:"Stack the Cards",thumbnail:"game16.jpg",component:()=>j.jsx("div",{children:"Stack the Cards Placeholder"})},{id:"game17",name:"Balloon Shooter",thumbnail:"game17.jpg",component:()=>j.jsx("div",{children:"Balloon Shooter Placeholder"})},{id:"game18",name:"Guess the Drawing",thumbnail:"game18.jpg",component:()=>j.jsx("div",{children:"Guess the Drawing Placeholder"})},{id:"game19",name:"Spot the Difference",thumbnail:"game19.jpg",component:()=>j.jsx("div",{children:"Spot the Difference Placeholder"})},{id:"game20",name:"Mini Golf Challenge",thumbnail:"game20.jpg",component:()=>j.jsx("div",{children:"Mini Golf Challenge Placeholder"})}],DA=()=>j.jsx("div",{children:j.jsxs(vm,{children:[j.jsx(Qe,{path:"/",element:j.jsx("div",{className:Za.gameGrid,children:sm.map(r=>j.jsxs(Tl,{to:`/${r.id}`,className:Za.gameCard,children:[j.jsx("div",{className:Za.thumbnail,children:j.jsx("img",{src:r.thumbnail,alt:r.name})}),j.jsx("h3",{className:Za.gameTitle,children:r.name})]},r.id))})}),sm.map(r=>j.jsx(Qe,{path:`/${r.id}`,element:j.jsx(r.component,{})},r.id))]})}),jA=()=>{const r=[{player:"Alice",score:120},{player:"Bob",score:100},{player:"Charlie",score:80}];return j.jsxs("div",{className:"leaderboard-container",children:[j.jsx("h2",{className:"leaderboard-title",children:"Leaderboard"}),j.jsxs("table",{className:"leaderboard-table",children:[j.jsx("thead",{children:j.jsxs("tr",{children:[j.jsx("th",{children:"Player"}),j.jsx("th",{children:"Score"})]})}),j.jsx("tbody",{children:r.map((t,i)=>j.jsxs("tr",{children:[j.jsx("td",{children:t.player}),j.jsx("td",{children:t.score})]},i))})]})]})},BA="_container_1gg2k_25",LA="_puzzle_1gg2k_55",OA="_cell_1gg2k_73",qA="_selected_1gg2k_117",_A="_found_1gg2k_127",zA="_button_1gg2k_137",UA="_words_1gg2k_175",HA="_word_1gg2k_175",On={container:BA,puzzle:LA,cell:OA,selected:qA,found:_A,button:zA,words:UA,word:HA},GA="/assets/wordbg-Chx1hckz.jpg",Xi=["PUZZLE","GAME","FUN","WORD","SEARCH","FIND","PLAY"],Fr=7,VA=()=>{const[r,t]=_.useState([]),[i,o]=_.useState([]),[a,u]=_.useState(new Set),[d,g]=_.useState(!1),[f,p]=_.useState([]);_.useEffect(()=>{M(),w("./src/components/WordHuntPuzzle/welcome.mp3")},[]);const w=N=>{let E;N==="drag"?E=new Audio("./src/components/WordHuntPuzzle/bell.mp3"):N==="correct"?E=new Audio("./src/components/WordHuntPuzzle/right_high.mp3"):N==="wrong"?E=new Audio("./src/components/WordHuntPuzzle/fail.mp3"):N==="welcome"?E=new Audio("./src/components/WordHuntPuzzle/welcome.mp3"):N==="success"&&(E=new Audio("./src/components/WordHuntPuzzle/drag.mp3")),E&&E.play()},M=()=>{let N=Array(Fr).fill().map(()=>Array(Fr).fill(""));p([]),u(new Set);for(const E of Xi)y(E,N);N=T(N),t(N)},y=(N,E)=>{const R=[[0,1],[1,0],[1,1],[-1,1],[0,-1],[-1,0],[-1,-1],[1,-1]];for(let I=0;I<50;I++){const K=R[Math.floor(Math.random()*R.length)],[Y,Z]=[Math.floor(Math.random()*Fr),Math.floor(Math.random()*Fr)];if(k(N,Y,Z,K,E))return E=S(N,Y,Z,K,E),!0}return!1},k=(N,E,R,[I,K],Y)=>{if(E+I*(N.length-1)<0||E+I*(N.length-1)>=Fr||R+K*(N.length-1)<0||R+K*(N.length-1)>=Fr)return!1;for(let Z=0;Z<N.length;Z++){const[oe,ue]=[E+I*Z,R+K*Z];if(Y[ue][oe]!==""&&Y[ue][oe]!==N[Z])return!1}return!0},S=(N,E,R,[I,K],Y)=>{for(let Z=0;Z<N.length;Z++){const[oe,ue]=[E+I*Z,R+K*Z];Y[ue][oe]=N[Z]}return Y},T=N=>{const E="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<Fr;R++)for(let I=0;I<Fr;I++)N[R][I]===""&&(N[R][I]=E[Math.floor(Math.random()*E.length)]);return N},A=N=>{g(!0);const E=parseInt(N.target.dataset.x),R=parseInt(N.target.dataset.y);o([{x:E,y:R}]),w("drag")},C=N=>{if(!d)return;const E=parseInt(N.target.dataset.x),R=parseInt(N.target.dataset.y);if(i.some(K=>K.x===E&&K.y===R))return;const I=i[i.length-1];Math.abs(E-I.x)<=1&&Math.abs(R-I.y)<=1&&(o(K=>[...K,{x:E,y:R}]),w("drag"))},L=()=>{if(!d)return;g(!1);const N=i.map(R=>r[R.y][R.x]).join(""),E=N.split("").reverse().join("");if(Xi.includes(N)||Xi.includes(E)){const R=Xi.includes(N)?N:E;F(R),p(I=>[...I,...i]),w("correct")}else w("wrong");o([]),z()},F=N=>{u(E=>new Set(E.add(N)))},z=()=>{a.size===Xi.length&&(w("success"),alert("Congratulations! You found all the words!"))};return j.jsxs("div",{className:On.container,onMouseUp:L,children:[j.jsx("div",{style:{backgroundImage:`url(${GA})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-1}}),j.jsx("h1",{className:On.title,children:"Modern 7x7 Word Puzzle Game"}),j.jsx("button",{className:On.button,onClick:M,children:"New Puzzle"}),j.jsx("div",{className:On.puzzle,children:r.map((N,E)=>N.map((R,I)=>{const K=i.some(Z=>Z.x===I&&Z.y===E),Y=f.some(Z=>Z.x===I&&Z.y===E);return j.jsx("div",{className:`${On.cell} ${K?On.selected:""} ${Y?On.found:""}`,"data-x":I,"data-y":E,onMouseDown:A,onMouseOver:C,children:R},`${I}-${E}`)}))}),j.jsx("div",{className:On.words,children:Xi.map(N=>j.jsx("div",{className:`${On.word} ${a.has(N)?On.found:""}`,children:N},N))})]})};function WA(){return j.jsx("div",{style:{textAlign:"center"},children:j.jsx("iframe",{title:"My JavaScript Game",src:"/games/tower_game/tower.html",style:{width:"100%",height:"100vh",border:"none"}})})}const QA="_gameContainer_ns8nx_1",KA="_petContainer_ns8nx_17",YA="_pet_ns8nx_17",XA="_upgradeBtn_ns8nx_61",nl={gameContainer:QA,petContainer:KA,pet:YA,upgradeBtn:XA},$A="/assets/point-Bv41BI2A.mp3",JA=()=>{const[r,t]=_.useState(1),[i,o]=_.useState(0),[a,u]=_.useState(1),[d,g]=_.useState(5),f=_.useRef(null);_.useEffect(()=>{f.current=new Audio($A)},[]);const p=()=>{f.current&&(f.current.currentTime=0,f.current.play()),o(M=>M+1),t(M=>M+.1)},w=()=>{i>=d?(o(M=>M-d),u(M=>M+1),g(Math.round(d*1.8))):alert("You don't have enough clicks for upgrade!")};return _.useEffect(()=>{r>=a*10&&(t(1),u(M=>M+1))},[r,a]),j.jsxs("div",{className:nl.gameContainer,children:[j.jsx("h1",{children:"Digital Pet Clicker"}),j.jsxs("div",{className:nl.petContainer,children:[j.jsxs("h2",{children:["Level: ",a]}),j.jsx("div",{className:nl.pet,style:{width:`${r}em`,height:`${r}em`},onClick:p,children:j.jsx("span",{children:""})})]}),j.jsxs("p",{children:["Clicks: ",i]}),j.jsx("div",{children:j.jsxs("button",{className:nl.upgradeBtn,onClick:w,children:["Upgrade (Cost: ",d," clicks)"]})})]})},ZA="_gameContainer_3mbyu_1",e2="_scoreContainer_3mbyu_11",t2="_cardsContainer_3mbyu_23",n2="_card_3mbyu_23",r2="_flipped_3mbyu_65",i2="_cardInner_3mbyu_73",s2="_cardFront_3mbyu_93",o2="_cardBack_3mbyu_93",a2="_matched_3mbyu_129",l2="_successModal_3mbyu_177",u2="_successContent_3mbyu_203",c2="_flyIconsContainer_3mbyu_269",d2="_flyIcon_3mbyu_269",kt={gameContainer:ZA,scoreContainer:e2,cardsContainer:t2,card:n2,flipped:r2,cardInner:i2,cardFront:s2,cardBack:o2,matched:a2,successModal:l2,successContent:u2,flyIconsContainer:c2,flyIcon:d2},rl=["","","","","","","",""],f2=()=>{const[r,t]=_.useState([]),[i,o]=_.useState([]),[a,u]=_.useState([]),[d,g]=_.useState(0),[f,p]=_.useState(0),[w,M]=_.useState(!1),[y,k]=_.useState(!1),[S,T]=_.useState(0);_.useEffect(()=>{const z=[...rl,...rl].sort(()=>Math.random()-.5).map((N,E)=>({id:E,emoji:N,isFlipped:!1,isMatched:!1}));t(z),M(!0)},[]),_.useEffect(()=>{let F;return w&&(F=setInterval(()=>{p(z=>z+1)},1e3)),()=>clearInterval(F)},[w]),_.useEffect(()=>{a.length===r.length&&r.length!==0&&(M(!1),k(!0),A("gameComplete"))},[a,r]);const A=F=>{let z;F==="cardFlip"?z=new Audio("src/components/MemoryFlip/welcome.mp3"):F==="matchFound"?z=new Audio("src/components/MemoryFlip/right_med.mp3"):F==="gameComplete"&&(z=new Audio("src/components/MemoryFlip/cheer.mp3")),z&&z.play()},C=F=>{if(y||i.length===2||F.isFlipped||F.isMatched)return;const z=r.map(N=>N.id===F.id?{...N,isFlipped:!0}:N);t(z),o([...i,F]),g(N=>N+1),A("cardFlip")};_.useEffect(()=>{if(i.length===2){const[F,z]=i;F.emoji===z.emoji?setTimeout(()=>{u(N=>[...N,F,z]),o([]),T(N=>N+10),A("matchFound")},500):setTimeout(()=>{const N=r.map(E=>i.some(R=>R.id===E.id)?{...E,isFlipped:!1}:E);t(N),o([]),A("wrongMatch")},1e3)}},[i,r]);const L=()=>{const z=[...rl,...rl].sort(()=>Math.random()-.5).map((N,E)=>({id:E,emoji:N,isFlipped:!1,isMatched:!1}));t(z),o([]),u([]),g(0),p(0),M(!0),k(!1),T(0)};return j.jsxs("div",{className:kt.gameContainer,children:[j.jsx("h1",{children:"Emoji Memory Game"}),j.jsxs("div",{className:kt.scoreContainer,children:[j.jsxs("p",{children:["Moves: ",d]}),j.jsxs("p",{children:["Score: ",S]})]}),j.jsxs("div",{children:["Time: ",f," sec"]}),y&&j.jsx("div",{className:kt.successModal,children:j.jsxs("div",{className:kt.successContent,children:[j.jsx("h2",{children:"You Won!"}),j.jsxs("p",{children:["Time taken: ",f," sec"]}),j.jsxs("p",{children:["Score: ",S]}),j.jsxs("div",{className:kt.flyIconsContainer,children:[j.jsx("div",{className:kt.flyIcon,children:""}),j.jsx("div",{className:kt.flyIcon,children:""}),j.jsx("div",{className:kt.flyIcon,children:""}),j.jsx("div",{className:kt.flyIcon,children:""}),j.jsx("div",{className:kt.flyIcon,children:""})]}),j.jsx("button",{onClick:L,children:"Play Again"})]})}),!y&&j.jsx("div",{className:kt.cardsContainer,children:r.map(F=>j.jsx("div",{className:`${kt.card} ${F.isFlipped?kt.flipped:""} ${F.isMatched?kt.matched:""}`,onClick:()=>C(F),children:j.jsxs("div",{className:kt.cardInner,children:[j.jsx("div",{className:kt.cardFront,children:F.isFlipped||F.isMatched?F.emoji:""}),j.jsx("div",{className:kt.cardBack,children:""})]})},F.id))})]})},h2="_gameContainer_4h4ly_1",p2="_gameOverContainer_4h4ly_17",m2="_quizContainer_4h4ly_55",g2="_optionsContainer_4h4ly_75",y2="_optionBtn_4h4ly_91",v2="_correct_4h4ly_123",w2="_incorrect_4h4ly_131",hi={gameContainer:h2,gameOverContainer:p2,quizContainer:m2,optionsContainer:g2,optionBtn:y2,correct:v2,incorrect:w2},x2="/assets/right_high-DHwCaLWa.mp3",A2="/assets/neg-BBt6lRwL.mp3",S2="/assets/theme-Dh-IaIkE.mp3",$i=[{question:"What is the capital of France?",options:["Berlin","Paris","Madrid","Rome"],correctAnswer:"Paris"},{question:"What is the largest planet in our solar system?",options:["Mars","Earth","Jupiter","Saturn"],correctAnswer:"Jupiter"},{question:"Who painted the Mona Lisa?",options:["Vincent van Gogh","Pablo Picasso","Leonardo da Vinci","Michelangelo"],correctAnswer:"Leonardo da Vinci"},{question:"What is the chemical symbol for water?",options:["H2O","CO2","NaCl","O2"],correctAnswer:"H2O"},{question:"Which country is known as the Land of the Rising Sun?",options:["China","South Korea","Japan","Vietnam"],correctAnswer:"Japan"}],E2=()=>{var N;const[r,t]=_.useState(0),[i,o]=_.useState(""),[a,u]=_.useState(0),[d,g]=_.useState(10),[f,p]=_.useState(!1),[w,M]=_.useState(!1),[y,k]=_.useState(!1),S=_.useRef(null),T=_.useRef(null),A=_.useRef(null);_.useEffect(()=>{S.current=new Audio(x2),T.current=new Audio(A2),A.current=new Audio(S2)},[]),_.useEffect(()=>{let E;return f&&(d===0&&L(),E=setInterval(()=>{g(R=>R-1)},1e3)),()=>clearInterval(E)},[f,d]),_.useEffect(()=>{r>=$i.length&&(p(!1),M(!0))},[r]),_.useEffect(()=>{w&&A.current.play()},[w]);const C=E=>{w||(o(E),p(!1),E===$i[r].correctAnswer?(u(R=>R+1),k(!0),S.current.play()):(k(!1),T.current.play()),setTimeout(()=>{L()},1500))},L=()=>{w||(g(10),o(""),k(!1),r<$i.length&&(t(r+1),p(!0)))},F=()=>{t(0),o(""),u(0),g(10),p(!0),M(!1)},z=$i[r];return j.jsxs("div",{className:hi.gameContainer,children:[j.jsx("h1",{children:"Quiz Battle"}),w?j.jsxs("div",{className:hi.gameOverContainer,children:[j.jsx("h2",{children:"Game Over"}),j.jsxs("p",{children:["Your Score: ",a," / ",$i.length]}),j.jsx("button",{onClick:F,children:"Play Again"})]}):j.jsxs("div",{className:hi.quizContainer,children:[j.jsx("h2",{children:z==null?void 0:z.question}),j.jsx("div",{className:hi.optionsContainer,children:(N=z==null?void 0:z.options)==null?void 0:N.map(E=>j.jsx("button",{className:`${hi.optionBtn} ${i===E?y?hi.correct:hi.incorrect:""}`,onClick:()=>C(E),disabled:i!=="",children:E},E))}),j.jsxs("p",{children:["Time left: ",d," sec"]}),j.jsxs("p",{children:["Score: ",a," / ",$i.length]})]})]})};function k2(){return j.jsx("div",{style:{textAlign:"center"},children:j.jsx("iframe",{title:"My JavaScript Game",src:"/games/maze-escape/maze.html",style:{width:"100%",height:"100vh",border:"none"}})})}function C2(){return j.jsx("div",{style:{textAlign:"center"},children:j.jsx("iframe",{title:"My JavaScript Game",src:"/games/BubblePops/pop.html",style:{width:"100%",height:"100vh",border:"none"}})})}const M2="_gameContainer_1x8m0_1",R2="_board_1x8m0_17",P2="_emoji_1x8m0_37",T2="_sparkle_1x8m0_73",I2="_button_1x8m0_99",xo={gameContainer:M2,board:R2,emoji:P2,sparkle:T2,button:I2},b2="/assets/right_med-ZlBkOsbh.mp3",F2="/assets/negative-CYQBJcD1.mp3",N2="/assets/succes-D0ZaF_zX.mp3",Ml=["","","","","","","","","",""],So=8,Eo=8,om=()=>{const r=[];for(let t=0;t<So;t++){r[t]=[];for(let i=0;i<Eo;i++)r[t][i]={type:Ml[Math.floor(Math.random()*Ml.length)],sparkle:!1}}return r},D2=()=>{const[r,t]=_.useState(om()),[i,o]=_.useState(0),a=_.useRef(null),u=_.useRef(null),d=_.useRef(null),g=_.useRef(null),f=_.useRef(null);_.useEffect(()=>{d.current=new Audio(b2),g.current=new Audio(F2),f.current=new Audio(N2)},[]),_.useEffect(()=>{T()},[r]),_.useEffect(()=>{i>=10&&f.current.play()},[i]);const p=(z,N,E)=>{u.current={row:N,col:E},z.dataTransfer.setData("emoji",JSON.stringify({row:N,col:E}))},w=(z,N,E)=>{z.preventDefault();const R=JSON.parse(z.dataTransfer.getData("emoji"));S(R.row,R.col,N,E),u.current=null},M=z=>{z.preventDefault()},y=z=>z.map(N=>N.map(E=>({...E}))),k=(z,N,E)=>{const R=E[z][N];if(!R||!R.type)return!1;let I=1,K=N-1;for(;K>=0&&E[z][K].type===R.type;)I++,K--;let Y=N+1;for(;Y<Eo&&E[z][Y].type===R.type;)I++,Y++;if(I>=3)return!0;I=1;let Z=z-1;for(;Z>=0&&E[Z][N].type===R.type;)I++,Z--;let oe=z+1;for(;oe<So&&E[oe][N].type===R.type;)I++,oe++;return I>=3},S=(z,N,E,R)=>{if(z===E&&N===R)return;const I=y(r),K=I[z][N];I[z][N]=I[E][R],I[E][R]=K,k(z,N,I)||k(E,R,I)?t(I):(g.current.play(),t(r))},T=()=>{let z=y(r),N=!1;for(let E=0;E<So;E++)for(let R=0;R<Eo;R++){const I=A(E,R,z),K=C(E,R,z);I.length>=3&&(I.forEach(Y=>{z[Y.row][Y.col].type=null,z[Y.row][Y.col].sparkle=!0}),N=!0),K.length>=3&&(K.forEach(Y=>{z[Y.row][Y.col].type=null,z[Y.row][Y.col].sparkle=!0}),N=!0)}if(N){d.current.play(),o(R=>R+1);const E=L(z);t(E)}},A=(z,N,E)=>{var K,Y,Z,oe;const R=(Y=(K=E[z])==null?void 0:K[N])==null?void 0:Y.type;if(!R)return[];const I=[];for(let ue=N;ue<Eo&&((oe=(Z=E[z])==null?void 0:Z[ue])==null?void 0:oe.type)===R;ue++)I.push({row:z,col:ue});return I},C=(z,N,E)=>{var K,Y,Z,oe;const R=(Y=(K=E[z])==null?void 0:K[N])==null?void 0:Y.type;if(!R)return[];const I=[];for(let ue=z;ue<So&&((oe=(Z=E[ue])==null?void 0:Z[N])==null?void 0:oe.type)===R;ue++)I.push({row:ue,col:N});return I},L=z=>{const N=y(z);for(let E=0;E<Eo;E++)for(let R=So-1;R>=0;R--)if(N[R][E].type===null){for(let I=R-1;I>=0;I--)if(N[I][E].type!==null){N[R][E]={...N[I][E]},N[I][E]={type:null,sparkle:!1};break}N[R][E].type===null&&(N[R][E]={type:Ml[Math.floor(Math.random()*Ml.length)],sparkle:!1})}return N},F=()=>{t(om()),o(0)};return j.jsxs("div",{className:xo.gameContainer,children:[j.jsx("h1",{children:"Match 3 Game"}),j.jsxs("p",{children:["Score: ",i]}),j.jsx("div",{ref:a,className:xo.board,children:r.map((z,N)=>z.map((E,R)=>j.jsx("div",{className:`${xo.emoji} ${E.sparkle?xo.sparkle:""}`,draggable:"true",onDragStart:I=>p(I,N,R),onDrop:I=>w(I,N,R),onDragOver:M,style:{opacity:E.type==null?.1:1},children:E.type},`${N}-${R}`)))}),j.jsx("button",{onClick:F,className:xo.button,children:"Reset Game"})]})};function j2(){return j.jsx("div",{style:{textAlign:"center"},children:j.jsx("iframe",{title:"My JavaScript Game",src:"/games/QuickReaction/quick.html",style:{width:"100%",height:"100vh",border:"none"}})})}const B2="_game_13s3d_1",L2="_gameBoard_13s3d_29",O2="_square_13s3d_43",q2="_gameInfo_13s3d_77",il={game:B2,gameBoard:L2,square:O2,gameInfo:q2},_2="/assets/high-CeQ3nJzL.mp3",z2="/assets/low-B-NS1GAi.mp3",U2=()=>{const[r,t]=_.useState(Array(9).fill(null)),[i,o]=_.useState(!0),[a,u]=_.useState(null),d=_.useRef(new Audio(_2)),g=_.useRef(new Audio(z2));_.useEffect(()=>{const k=(S=>{const T=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let A=0;A<T.length;A++){const[C,L,F]=T[A];if(S[C]&&S[C]===S[L]&&S[C]===S[F])return S[C]}return null})(r);u(k)},[r]);const f=y=>{if(a||r[y])return;const k=[...r];k[y]=i?"X":"O",t(k),i?d.current.play():g.current.play(),o(!i)},p=y=>j.jsx("button",{className:il.square,onClick:()=>f(y),children:r[y]}),w=()=>{t(Array(9).fill(null)),o(!0),u(null)};let M;return a?M=`Winner: ${a}`:r.every(y=>y!==null)?M="It's a draw!":M=`Next player: ${i?"X":"O"}`,j.jsxs("div",{className:il.game,children:[j.jsx("h1",{className:"heading-tic",children:"Tic Tok Game"}),j.jsx("div",{className:il.gameBoard,children:Array(9).fill().map((y,k)=>p(k))}),j.jsxs("div",{className:il.gameInfo,children:[j.jsx("div",{children:M}),a||r.every(y=>y!==null)?j.jsx("button",{onClick:w,children:"Play Again"}):null]})]})};function H2(){return j.jsx("div",{style:{textAlign:"center"},children:j.jsx("iframe",{title:"My JavaScript Game",src:"/games/gone-fishing/fish.html",style:{width:"100%",height:"100vh",border:"none"}})})}function G2(){return j.jsx("div",{style:{textAlign:"center"},children:j.jsx("iframe",{title:"My JavaScript Game",src:"/games/DodgingGame/dodging.html",style:{width:"100%",height:"100vh",border:"none"}})})}const V2="_gameContainer_neecz_3",W2="_title_neecz_29",Q2="_score_neecz_43",K2="_challengeContainer_neecz_55",Y2="_challengeText_neecz_77",X2="_code_neecz_87",$2="_input_neecz_105",J2="_typingSpeed_neecz_137",Z2="_gameOverContainer_neecz_149",eS="_gameOverTitle_neecz_169",tS="_gameOverText_neecz_179",nS="_button_neecz_191",yn={gameContainer:V2,title:W2,score:Q2,challengeContainer:K2,challengeText:Y2,code:X2,input:$2,typingSpeed:J2,gameOverContainer:Z2,gameOverTitle:eS,gameOverText:tS,button:nS},rS="/assets/type-D6IFHkCI.mp3",jc=()=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let i=0;i<10;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t},iS=()=>{const[r,t]=_.useState(jc()),[i,o]=_.useState(""),[a,u]=_.useState(null),[d,g]=_.useState(null),[f,p]=_.useState(0),[w,M]=_.useState(!1),y=_.useRef(null),k=_.useRef(null);_.useEffect(()=>{k.current=new Audio(rS)},[]),_.useEffect(()=>{w?y.current.disabled=!0:y.current.disabled=!1},[w]);const S=C=>{const L=C.target.value;o(L),a||u(performance.now()),k.current&&(k.current.currentTime=0,k.current.play()),L===r&&T()},T=()=>{if(a){const L=(performance.now()-a)/1e3,F=Math.round(r.length/5/L*60);g(F),p(z=>z+1),t(jc()),o(""),u(null)}},A=()=>{M(!1),t(jc()),o(""),g(null),p(0),u(null)};return _.useEffect(()=>{f>=20&&M(!0)},[f]),j.jsxs("div",{className:yn.gameContainer,children:[j.jsx("h1",{className:yn.title,children:"Space Repair Typing Challenge"}),j.jsxs("p",{className:yn.score,children:["Score: ",f]}),j.jsxs("div",{className:yn.challengeContainer,children:[j.jsxs("p",{className:yn.challengeText,children:["Type this code:"," ",j.jsx("span",{className:yn.code,children:r})]}),j.jsx("input",{ref:y,type:"text",className:yn.input,value:i,onChange:S,placeholder:"Type here to repair..."}),d!==null&&j.jsxs("p",{className:yn.typingSpeed,children:["Typing Speed: ",d," words/min"]})]}),w&&j.jsxs("div",{className:yn.gameOverContainer,children:[j.jsx("h2",{className:yn.gameOverTitle,children:"Mission Success!"}),j.jsx("p",{className:yn.gameOverText,children:"Time to go back to base!"}),j.jsx("button",{onClick:A,className:yn.button,children:"Restart Mission"})]})]})};function sS(){return j.jsx("div",{style:{textAlign:"center"},children:j.jsx("iframe",{title:"My JavaScript Game",src:"/games/DigitalBoardGame/Board.html",style:{width:"100%",height:"100vh",border:"none"}})})}function oS(){return j.jsx("div",{style:{textAlign:"center"},children:j.jsx("iframe",{title:"My JavaScript Game",src:"/games/StackCards/stack.html",style:{width:"100%",height:"100vh",border:"none"}})})}function aS(){return j.jsx("div",{style:{textAlign:"center"},children:j.jsx("iframe",{title:"My JavaScript Game",src:"/games/bubble-shooter-game/bubble.html",style:{width:"100%",height:"100vh",border:"none"}})})}const lS="_entorno_7knjt_1",uS="_fondo_7knjt_11",sl={entorno:lS,fondo:uS},cS="/assets/media_win-D4F5D_Qr.mp3",dS="/assets/1-O3YtiZkF.png",fS="/assets/2-DoJaGZJ8.png",hS="/assets/3-D078NseF.png",pS="/assets/4-yxKMMRSB.png",mS="/assets/5-B-qaNmMA.png",gS="/assets/6-CZC93Yp5.png",yS="/assets/7-CWjCtQUp.png",vS="/assets/8-DEu4UPVu.png",wS="/assets/9-Bu2ggcIQ.png",xS=()=>{const[r,t]=_.useState([{id:0,x:0,y:0,width:134,height:163,imageUrl:dS},{id:1,x:0,y:0,width:192,height:134,imageUrl:fS},{id:2,x:0,y:0,width:134,height:163,imageUrl:hS},{id:3,x:0,y:0,width:163,height:134,imageUrl:pS},{id:4,x:0,y:0,width:134,height:192,imageUrl:mS},{id:5,x:0,y:0,width:163,height:134,imageUrl:gS},{id:6,x:0,y:0,width:134,height:163,imageUrl:yS},{id:7,x:0,y:0,width:192,height:134,imageUrl:vS},{id:8,x:0,y:0,width:134,height:163,imageUrl:wS}]),[i,o]=_.useState(null),[a,u]=_.useState(0),[d,g]=_.useState(0),[f,p]=_.useState(!1),w=_.useRef(null),M=_.useRef([{x:200,y:100},{x:304,y:100},{x:466,y:100},{x:200,y:233},{x:333,y:204},{x:437,y:233},{x:200,y:337},{x:304,y:366},{x:466,y:337}]).current;_.useEffect(()=>{t(L=>L.map(F=>({...F,x:Math.floor(Math.random()*10)+1,y:Math.floor(Math.random()*409)+1})))},[]),_.useEffect(()=>{f&&(w.current.play(),p(!1))},[f]);const y=(L,F)=>{o(F),u(L.clientX-F.x),g(L.clientY-F.y)},k=L=>{if(!i)return;const F=L.clientX-a,z=L.clientY-d,N=r.map(E=>E.id===i.id?{...E,x:F,y:z}:E);t(N),T(N,i)},S=()=>{o(null),A()},T=(L,F)=>{const z=L.findIndex(R=>R.id===F.id);if(z===-1)return;const N=L[z],E=M[N.id];if(Math.abs(N.x-E.x)<15&&Math.abs(N.y-E.y)<15){const R=L.map((I,K)=>I.id===F.id?{...I,x:E.x,y:E.y}:I);t(R)}},A=()=>{let L=0;r.forEach(F=>{const z=M[F.id];F.x===z.x&&F.y===z.y&&L++}),L===r.length&&p(!0)},C=L=>{const F=r.filter(z=>z.id!==L.id);t([...F,L])};return j.jsx(j.Fragment,{children:j.jsxs("div",{className:"guess",children:[j.jsx("h1",{className:"drawing",children:"Guess The Drawing"}),j.jsx("audio",{id:"win",src:cS,ref:w}),j.jsxs("svg",{width:"600",height:"600",id:"entorno",className:sl.entorno,onMouseMove:k,onMouseUp:S,children:[j.jsx("g",{id:"fondo",className:sl.fondo,children:j.jsx("image",{xlinkHref:"https://raw.githubusercontent.com/NestorPlasencia/pikachu-puzzle/master//pikachu.png",width:"400",height:"400",x:"200",y:"100"})}),r.map(L=>j.jsx("g",{id:L.id,className:sl.padre,onMouseDown:()=>C(L),children:j.jsx("image",{xlinkHref:L.imageUrl,className:sl.movil,width:L.width,height:L.height,x:L.x,y:L.y,onMouseDown:F=>y(F,L)})},L.id))]})]})})};function AS(){return j.jsx("div",{style:{textAlign:"center"},children:j.jsx("iframe",{title:"My JavaScript Game",src:"/games/Mini-Golf-Game/golf.html",style:{width:"100%",height:"100vh",border:"none"}})})}function SS(){return j.jsx("div",{style:{textAlign:"center"},children:j.jsx("iframe",{title:"My JavaScript Game",src:"/games/spot-the-difference/spot.html",style:{width:"100%",height:"100vh",border:"none"}})})}const ES="_nav_6k5la_1",kS="_navHeader_6k5la_10",CS="_navLink_6k5la_16",Bc={nav:ES,navHeader:kS,navLink:CS},MS=()=>j.jsx(Zw,{children:j.jsx(RS,{})}),RS=()=>{const t=Qr().pathname==="/game1";return j.jsxs("div",{children:[j.jsxs("nav",{className:Bc.nav,children:[j.jsx(Tl,{to:"/",className:Bc.navHeader,children:"Game Hub"}),j.jsx("div",{className:"flex space-x-4",children:j.jsx(Sm,{to:"/leaderboard",className:Bc.navLink,children:"Leaderboard"})})]}),j.jsxs(vm,{children:[j.jsx(Qe,{path:"/",element:j.jsx(DA,{})}),j.jsx(Qe,{path:"/leaderboard",element:j.jsx(jA,{})}),j.jsx(Qe,{path:"/game1",element:j.jsx(j0,{})}),j.jsx(Qe,{path:"/game2",element:j.jsx(VA,{})}),j.jsx(Qe,{path:"/game3",element:j.jsx(WA,{})}),j.jsx(Qe,{path:"/game4",element:j.jsx(JA,{})}),j.jsx(Qe,{path:"/game5",element:j.jsx(f2,{})}),j.jsx(Qe,{path:"/game6",element:j.jsx(E2,{})}),j.jsx(Qe,{path:"/game7",element:j.jsx(k2,{})}),j.jsx(Qe,{path:"/game8",element:j.jsx(C2,{})}),j.jsx(Qe,{path:"/game9",element:j.jsx(D2,{})}),j.jsx(Qe,{path:"/game10",element:j.jsx(j2,{})}),j.jsx(Qe,{path:"/game11",element:j.jsx(U2,{})}),j.jsx(Qe,{path:"/game12",element:j.jsx(H2,{})}),j.jsx(Qe,{path:"/game13",element:j.jsx(G2,{})}),j.jsx(Qe,{path:"/game14",element:j.jsx(iS,{})}),j.jsx(Qe,{path:"/game15",element:j.jsx(sS,{})}),j.jsx(Qe,{path:"/game16",element:j.jsx(oS,{})}),j.jsx(Qe,{path:"/game17",element:j.jsx(aS,{})}),j.jsx(Qe,{path:"/game18",element:j.jsx(xS,{})}),j.jsx(Qe,{path:"/game19",element:j.jsx(SS,{})}),j.jsx(Qe,{path:"/game20",element:j.jsx(AS,{})})]}),j.jsx("style",{children:`
          Canvas
           {
            display: ${t?"block":"none"} !important;
          }
        `})]})};q1.createRoot(document.getElementById("root")).render(j.jsx(_.StrictMode,{children:j.jsx(MS,{})}));
